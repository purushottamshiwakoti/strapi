(self.webpackChunkstrapi_project=self.webpackChunkstrapi_project||[]).push([[1342],{91120:(zo,qi,di)=>{/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(Ki,Li){zo.exports=Li(di(21272),di(33544),di(45427))})(self,(Ki,Li,Yi)=>(()=>{"use strict";var Gi={546:xi=>{xi.exports=Yi},949:xi=>{xi.exports=Li},155:xi=>{xi.exports=Ki}},tn={};function Hi(xi){var Fi=tn[xi];if(Fi!==void 0)return Fi.exports;var sn=tn[xi]={exports:{}};return Gi[xi](sn,sn.exports,Hi),sn.exports}Hi.n=xi=>{var Fi=xi&&xi.__esModule?()=>xi.default:()=>xi;return Hi.d(Fi,{a:Fi}),Fi},Hi.d=(xi,Fi)=>{for(var sn in Fi)Hi.o(Fi,sn)&&!Hi.o(xi,sn)&&Object.defineProperty(xi,sn,{enumerable:!0,get:Fi[sn]})},Hi.o=(xi,Fi)=>Object.prototype.hasOwnProperty.call(xi,Fi),Hi.r=xi=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(xi,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(xi,"__esModule",{value:!0})};var rn={};return(()=>{Hi.r(rn),Hi.d(rn,{CKEditor:()=>Qn,CKEditorContext:()=>dn,useMultiRootEditor:()=>$i});var xi=Hi(155),Fi=Hi.n(xi),sn=Hi(949),en=Hi.n(sn);const Zi=new Array(256).fill("").map((ki,mi)=>("0"+mi.toString(16)).slice(-2));var Ln=Hi(546);const Ri=Fi().createContext("contextWatchdog");class dn extends Fi().Component{constructor(mi,Vi){super(mi,Vi),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(mi){return this._shouldComponentUpdate(mi)}async _shouldComponentUpdate(mi){return mi.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(mi.config)),mi.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(mi.config),!0):this.props.children!==mi.children}render(){return Fi().createElement(Ri.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(mi){this.contextWatchdog=new Ln.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Vi,Ni)=>{this.props.onError(Ni.error,{phase:"runtime",willContextRestart:Ni.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(mi).catch(Vi=>{this.props.onError(Vi,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}dn.defaultProps={isLayoutReady:!0,onError:(ki,mi)=>console.error(ki,mi)},dn.propTypes={id:en().string,isLayoutReady:en().bool,context:en().func,watchdogConfig:en().object,config:en().object,onReady:en().func,onError:en().func};const jn="Lock from React integration (@ckeditor/ckeditor5-react)";class Qn extends Fi().Component{constructor(mi){super(mi),this.editorDestructionInProgress=null,this.domContainer=Fi().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Vi}=window;if(Vi){const[Ni]=Vi.split(".").map(Number);Ni<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(mi){return!!this.editor&&(mi.id!==this.props.id||mi.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(mi)&&this.editor.data.set(mi.data),"disabled"in mi&&(mi.disabled?this.editor.enableReadOnlyMode(jn):this.editor.disableReadOnlyMode(jn)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return Fi().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Ln.ContextWatchdog?this.watchdog=new Po(this.context):this.watchdog=new Qn._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((mi,Vi)=>this._createEditor(mi,Vi)),this.watchdog.on("error",(mi,{error:Vi,causesRestart:Ni})=>{(this.props.onError||console.error)(Vi,{phase:"runtime",willEditorRestart:Ni})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(mi=>{(this.props.onError||console.error)(mi,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(mi,Vi){return this.props.editor.create(mi,Vi).then(Ni=>{"disabled"in this.props&&this.props.disabled&&Ni.enableReadOnlyMode(jn);const Ji=Ni.model.document,Nt=Ni.editing.view.document;return Ji.on("change:data",At=>{this.props.onChange&&this.props.onChange(At,Ni)}),Nt.on("focus",At=>{this.props.onFocus&&this.props.onFocus(At,Ni)}),Nt.on("blur",At=>{this.props.onBlur&&this.props.onBlur(At,Ni)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Ni)}),Ni})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(mi=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,mi()):this.instance?(await this.instance.destroy(),this.instance=null,mi()):void mi())})}_shouldUpdateEditor(mi){return this.props.data!==mi.data&&this.editor.data.get()!==mi.data}_getConfig(){const mi=this.props.config||{};return this.props.data&&mi.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...mi,initialData:mi.initialData||this.props.data||""}}}Qn.contextType=Ri,Qn.propTypes={editor:en().func.isRequired,data:en().string,config:en().object,disableWatchdog:en().bool,watchdogConfig:en().object,onChange:en().func,onReady:en().func,onFocus:en().func,onBlur:en().func,onError:en().func,disabled:en().bool,id:en().any},Qn._EditorWatchdog=Ln.EditorWatchdog;class Po{constructor(mi){this._contextWatchdog=mi,this._id=function(){const Vi=4294967296*Math.random()>>>0,Ni=4294967296*Math.random()>>>0,Ji=4294967296*Math.random()>>>0,Nt=4294967296*Math.random()>>>0;return"e"+Zi[255&Vi]+Zi[Vi>>8&255]+Zi[Vi>>16&255]+Zi[Vi>>24&255]+Zi[255&Ni]+Zi[Ni>>8&255]+Zi[Ni>>16&255]+Zi[Ni>>24&255]+Zi[255&Ji]+Zi[Ji>>8&255]+Zi[Ji>>16&255]+Zi[Ji>>24&255]+Zi[255&Nt]+Zi[Nt>>8&255]+Zi[Nt>>16&255]+Zi[Nt>>24&255]}()}setCreator(mi){this._creator=mi}create(mi,Vi){return this._contextWatchdog.add({sourceElementOrData:mi,config:Vi,creator:this._creator,id:this._id,type:"editor"})}on(mi,Vi){this._contextWatchdog.on("itemError",(Ni,{itemId:Ji,error:Nt})=>{Ji===this._id&&Vi(null,{error:Nt,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Ui="Lock from React integration (@ckeditor/ckeditor5-react)",Qi=({editor:ki})=>{const mi=(0,xi.useRef)(null);return(0,xi.useEffect)(()=>{const Vi=mi.current;if(!ki||!Vi)return;const Ni=ki.ui.view.toolbar.element;return Vi&&Vi.appendChild(Ni),()=>{Vi&&Vi.removeChild(Ni)}},[ki&&ki.id]),Fi().createElement("div",{ref:mi})},$i=ki=>{const mi=(0,xi.useRef)(null),Vi=(0,xi.useRef)(null),Ni=(0,xi.useContext)(Ri),[Ji,Nt]=(0,xi.useState)(null),[At,Q]=(0,xi.useState)(ki.data),[ti,d]=(0,xi.useState)(ki.rootsAttributes||{}),[w,s]=(0,xi.useState)([]),u=(0,xi.useRef)(!0);(0,xi.useEffect)(()=>((async()=>(await Vi.current,ki.isLayoutReady!==!1&&await $()))(),()=>{v().then(()=>{Vi.current=null})}),[ki.isLayoutReady]),(0,xi.useEffect)(()=>{Ji&&(ki.disabled?Ji.enableReadOnlyMode(Ui):Ji.disableReadOnlyMode(Ui))},[ki.disabled]),(0,xi.useEffect)(()=>{if(Ji&&!Vi.current){const ue=Ji.getFullData();Q({...ue}),d({...Ji.getRootsAttributes()}),s([...Object.keys(ue).map(h=>L(Ji,h))])}},[Ji&&Ji.id]);const C=()=>{const ue=ki.config||{};return ki.data&&ue.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...ue,rootsAttributes:ti}},L=(ue,h)=>Fi().createElement("div",{id:h,key:h,ref:p=>{if(p){const g=ue.ui.view.createEditable(h,p);ue.ui.addEditable(g),ue.editing.view.forceRender()}}}),k=(ue,h)=>ki.editor.create(ue,h).then(p=>{ki.disabled&&ki.disabled&&p.enableReadOnlyMode(Ui);const g=p.model.document,_=p.editing.view.document;return g.on("change:data",S=>((I,M)=>{const ee=I.model.document;if(!ki.disableTwoWayDataBinding){const H={},re={};ee.differ.getChanges().forEach(O=>{let W;if(W=O.type=="insert"||O.type=="remove"?O.position.root:O.range.root,!W.isAttached())return;const{rootName:ie}=W;H[ie]=I.getData({rootName:ie})}),ee.differ.getChangedRoots().forEach(O=>{if(O.state)return void(H[O.name]!==void 0&&delete H[O.name]);const W=O.name;re[W]=I.getRootAttributes(W)}),Object.keys(H).length&&Q(O=>({...O,...H})),Object.keys(re).length&&d(O=>({...O,...re}))}ki.onChange&&ki.onChange(M,I)})(p,S)),p.on("addRoot",(S,I)=>((M,ee,H)=>{const re=H.rootName,O=L(M,re);ki.disableTwoWayDataBinding||(Q(W=>({...W,[re]:M.getData({rootName:re})})),d(W=>({...W,[re]:M.getRootAttributes(re)}))),s(W=>[...W,O])})(p,0,I)),p.on("detachRoot",(S,I)=>((M,ee,H)=>{const re=H.rootName;s(O=>O.filter(W=>W.props.id!==re)),ki.disableTwoWayDataBinding||(Q(O=>{const{[re]:W,...ie}=O;return{...ie}}),d(O=>{const{[re]:W,...ie}=O;return{...ie}})),M.detachEditable(H)})(p,0,I)),_.on("focus",S=>{ki.onFocus&&ki.onFocus(S,p)}),_.on("blur",S=>{ki.onBlur&&ki.onBlur(S,p)}),Nt(p),ki.onReady&&ki.onReady(p),p}),v=async()=>{Nt(null),Q({}),d({}),s([]),Vi.current=new Promise(ue=>{setTimeout(async()=>mi.current?(await mi.current.destroy(),mi.current=null,ue()):Ji?(await Ji.destroy(),ue()):void ue())})},$=async()=>{if(ki.disableWatchdog)return void await k(ki.data,C());if(mi.current)return;Ni instanceof Ln.ContextWatchdog?mi.current=new Po(Ni):mi.current=new Ln.EditorWatchdog(ki.editor,ki.watchdogConfig);const ue=mi.current;ue.setCreator((h,p)=>k(h,p)),ue.on("error",(h,{error:p,causesRestart:g})=>{(ki.onError||console.error)(p,{phase:"runtime",willEditorRestart:g})}),await ue.create(At,C()).catch(h=>{(ki.onError||console.error)(h,{phase:"initialization",willEditorRestart:!1})})};(0,xi.useEffect)(()=>{if(Ji&&u.current){u.current=!1;const ue=Object.keys(At),h=Object.keys(ti);if(!ue.every(ee=>h.includes(ee)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const p=Ji.getFullData(),g=Ji.getRootsAttributes(),{addedKeys:_,removedKeys:S}=K(p,At||{}),I=ue.some(ee=>p[ee]!==void 0&&JSON.stringify(p[ee])!==JSON.stringify(At[ee])),M=h.filter(ee=>JSON.stringify(g[ee])!==JSON.stringify(ti[ee]));Ji.model.change(ee=>{R(_),Ee(S),I&&ge(),M.length&&Y(ee,M)})}},[At,ti]);const K=(ue,h)=>{const p=Object.keys(ue),g=Object.keys(h);return{addedKeys:g.filter(_=>!p.includes(_)),removedKeys:p.filter(_=>!g.includes(_))}},R=ue=>{ue.forEach(h=>{Ji.addRoot(h,{data:At[h]||"",attributes:ti?.[h]||{},isUndoable:!0})})},Ee=ue=>{ue.forEach(h=>{Ji.detachRoot(h,!0)})},ge=()=>{Ji.data.set(At,{suppressErrorInCollaboration:!0})},Y=(ue,h)=>{h.forEach(p=>{Object.keys(ti[p]).forEach(g=>{Ji.registerRootAttribute(g)}),ue.clearAttributes(Ji.model.document.getRoot(p)),ue.setAttributes(ti[p],Ji.model.document.getRoot(p))})},J=(0,xi.useCallback)(ue=>{u.current=!0,Q(ue)},[Q]),Ce=(0,xi.useCallback)(ue=>{u.current=!0,d(ue)},[d]);return{editor:Ji,editableElements:w,toolbarElement:Fi().createElement(Qi,{editor:Ji}),data:At,setData:J,attributes:ti,setAttributes:Ce}}})(),rn})())},71342:(zo,qi,di)=>{"use strict";di.r(qi),di.d(qi,{default:()=>Ji});var Ki=di(92132),Li=di(21272),Yi=di(49687),Gi=di(70505),tn=di(79521),Hi=di(33544),rn=di.n(Hi),xi=di(63891);const Fi=(0,xi.css)`
  .ck-word-count {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-block: 0.2rem;
    font-size: 0.875rem;
  }

  .ck-editor__main {
    --ck-font-face: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", "Helvetica", Arial, sans-serif;
    color: var(--ck-color-editor-base-text);
    font-family: var(--ck-font-face);

    * {
      font: revert;
      margin: revert;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0.6em;
      font-weight: 400;
    }

    h2 {
      font-size: 1.68em;
      margin-bottom: 0.4em;
      font-weight: 400;
    }

    h3 {
      font-size: 1.36em;
      margin-bottom: 0.2em;
      font-weight: 400;
    }

    h4 {
      font-size: 1.15em;
      margin-bottom: 0.1em;
      font-weight: 400;
    }

    p {
      font-size: 1em;
      line-height: 1.6em;
      margin-bottom: 0.8em;
    }

    figcaption {
      background-color: var(--ck-color-image-caption-background);
      caption-side: bottom;
      color: var(--ck-color-image-caption-text);
      display: table-caption;
      font-size: .75em;
      outline-offset: -1px;
      padding: 0.6em;
      word-break: break-word;
    }

    blockquote {
    }

    .table {
      margin: 0;
    }

    ul.todo-list {
      list-style: none;
      margin: revert;
      color: revert;
      font-family: revert;
      margin-left: 2rem;
    }

    ul,
    ol {
      list-style: initial;
      margin-left: 2rem;
    }

    ol {
      list-style: decimal;
    }

    sub {
      vertical-align: sub
    }

    sup {
      vertical-align: super
    }

    // higher specificity needed
    .ck.ck-content.ck-editor__editable {
      line-height: initial;
      min-height: 12.5rem;
      border-bottom-left-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;

      // so it's more Strapi alike
      &.ck-focused:not(.ck-editor__nested-editable) {
        border: 1px solid rgb(73, 69, 255);
        box-shadow: rgb(73 69 255) 0 0 0 0.125rem;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        transition-property: border-color, box-shadow;
        transition-duration: 0.2s;
      }
    }
  }
`,sn=(0,xi.css)`
`,en=(0,xi.css)`
  .ck {
    --ck-color-toolbar-background: rgb(24, 24, 38);
    --ck-color-text: rgb(165, 165, 186);
    --ck-color-editor-base-text: rgb(255, 255, 255);
    --ck-color-toolbar-border: rgb(74, 74, 106);
    --ck-color-base-border: rgb(74, 74, 106);
    --ck-color-base-background: rgb(33, 33, 52);
    --ck-color-button-default-background: rgb(33, 33, 52);
    --ck-color-list-button-hover-background: rgb(24, 24, 38);
    --ck-color-button-default-hover-background: rgb(33, 33, 52);
    --ck-color-button-on-background: rgb(33, 33, 52);
    --ck-color-button-on-hover-background: rgb(33, 33, 52);
    --ck-color-button-default-active-background: rgb(33, 33, 52);
  }
  .ck-word-count {
    color: rgb(165, 165, 186)
  }
`,Zi=Nt=>{let At=null;switch(Nt){case"dark":At=en;break;case"light":At=sn;break}return(0,xi.createGlobalStyle)`
    ${Fi}
    ${At}
  `};(function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help",Aquamarine:"Aquamarine","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Dim grey":"Dim grey","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.",Green:"Green",Grey:"Grey","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert image with file manager":"Insert image with file manager","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert with file manager":"Insert with file manager","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={"./node_modules/color-convert/conversions.js":(d,w,s)=>{const u=s("./node_modules/color-name/index.js"),C={};for(const k of Object.keys(u))C[u[k]]=k;const L={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=L;for(const k of Object.keys(L)){if(!("channels"in L[k]))throw new Error("missing channels property: "+k);if(!("labels"in L[k]))throw new Error("missing channel labels property: "+k);if(L[k].labels.length!==L[k].channels)throw new Error("channel and label counts mismatch: "+k);const{channels:v,labels:$}=L[k];delete L[k].channels,delete L[k].labels,Object.defineProperty(L[k],"channels",{value:v}),Object.defineProperty(L[k],"labels",{value:$})}L.rgb.hsl=function(k){const v=k[0]/255,$=k[1]/255,K=k[2]/255,R=Math.min(v,$,K),Ee=Math.max(v,$,K),ge=Ee-R;let Y,J;Ee===R?Y=0:v===Ee?Y=($-K)/ge:$===Ee?Y=2+(K-v)/ge:K===Ee&&(Y=4+(v-$)/ge),Y=Math.min(60*Y,360),Y<0&&(Y+=360);const Ce=(R+Ee)/2;return J=Ee===R?0:Ce<=.5?ge/(Ee+R):ge/(2-Ee-R),[Y,100*J,100*Ce]},L.rgb.hsv=function(k){let v,$,K,R,Ee;const ge=k[0]/255,Y=k[1]/255,J=k[2]/255,Ce=Math.max(ge,Y,J),ue=Ce-Math.min(ge,Y,J),h=function(p){return(Ce-p)/6/ue+.5};return ue===0?(R=0,Ee=0):(Ee=ue/Ce,v=h(ge),$=h(Y),K=h(J),ge===Ce?R=K-$:Y===Ce?R=.3333333333333333+v-K:J===Ce&&(R=.6666666666666666+$-v),R<0?R+=1:R>1&&(R-=1)),[360*R,100*Ee,100*Ce]},L.rgb.hwb=function(k){const v=k[0],$=k[1];let K=k[2];const R=L.rgb.hsl(k)[0],Ee=1/255*Math.min(v,Math.min($,K));return K=1-.00392156862745098*Math.max(v,Math.max($,K)),[R,100*Ee,100*K]},L.rgb.cmyk=function(k){const v=k[0]/255,$=k[1]/255,K=k[2]/255,R=Math.min(1-v,1-$,1-K);return[100*((1-v-R)/(1-R)||0),100*((1-$-R)/(1-R)||0),100*((1-K-R)/(1-R)||0),100*R]},L.rgb.keyword=function(k){const v=C[k];if(v)return v;let $,K=1/0;for(const ge of Object.keys(u)){const Y=u[ge],J=(Ee=Y,((R=k)[0]-Ee[0])**2+(R[1]-Ee[1])**2+(R[2]-Ee[2])**2);J<K&&(K=J,$=ge)}var R,Ee;return $},L.keyword.rgb=function(k){return u[k]},L.rgb.xyz=function(k){let v=k[0]/255,$=k[1]/255,K=k[2]/255;return v=v>.04045?((v+.055)/1.055)**2.4:v/12.92,$=$>.04045?(($+.055)/1.055)**2.4:$/12.92,K=K>.04045?((K+.055)/1.055)**2.4:K/12.92,[100*(.4124*v+.3576*$+.1805*K),100*(.2126*v+.7152*$+.0722*K),100*(.0193*v+.1192*$+.9505*K)]},L.rgb.lab=function(k){const v=L.rgb.xyz(k);let $=v[0],K=v[1],R=v[2];return $/=95.047,K/=100,R/=108.883,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,K=K>.008856?K**.3333333333333333:7.787*K+.13793103448275862,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,[116*K-16,500*($-K),200*(K-R)]},L.hsl.rgb=function(k){const v=k[0]/360,$=k[1]/100,K=k[2]/100;let R,Ee,ge;if($===0)return ge=255*K,[ge,ge,ge];R=K<.5?K*(1+$):K+$-K*$;const Y=2*K-R,J=[0,0,0];for(let Ce=0;Ce<3;Ce++)Ee=v+.3333333333333333*-(Ce-1),Ee<0&&Ee++,Ee>1&&Ee--,ge=6*Ee<1?Y+6*(R-Y)*Ee:2*Ee<1?R:3*Ee<2?Y+(R-Y)*(.6666666666666666-Ee)*6:Y,J[Ce]=255*ge;return J},L.hsl.hsv=function(k){const v=k[0];let $=k[1]/100,K=k[2]/100,R=$;const Ee=Math.max(K,.01);return K*=2,$*=K<=1?K:2-K,R*=Ee<=1?Ee:2-Ee,[v,100*(K===0?2*R/(Ee+R):2*$/(K+$)),100*((K+$)/2)]},L.hsv.rgb=function(k){const v=k[0]/60,$=k[1]/100;let K=k[2]/100;const R=Math.floor(v)%6,Ee=v-Math.floor(v),ge=255*K*(1-$),Y=255*K*(1-$*Ee),J=255*K*(1-$*(1-Ee));switch(K*=255,R){case 0:return[K,J,ge];case 1:return[Y,K,ge];case 2:return[ge,K,J];case 3:return[ge,Y,K];case 4:return[J,ge,K];case 5:return[K,ge,Y]}},L.hsv.hsl=function(k){const v=k[0],$=k[1]/100,K=k[2]/100,R=Math.max(K,.01);let Ee,ge;ge=(2-$)*K;const Y=(2-$)*R;return Ee=$*R,Ee/=Y<=1?Y:2-Y,Ee=Ee||0,ge/=2,[v,100*Ee,100*ge]},L.hwb.rgb=function(k){const v=k[0]/360;let $=k[1]/100,K=k[2]/100;const R=$+K;let Ee;R>1&&($/=R,K/=R);const ge=Math.floor(6*v),Y=1-K;Ee=6*v-ge,1&ge&&(Ee=1-Ee);const J=$+Ee*(Y-$);let Ce,ue,h;switch(ge){default:case 6:case 0:Ce=Y,ue=J,h=$;break;case 1:Ce=J,ue=Y,h=$;break;case 2:Ce=$,ue=Y,h=J;break;case 3:Ce=$,ue=J,h=Y;break;case 4:Ce=J,ue=$,h=Y;break;case 5:Ce=Y,ue=$,h=J}return[255*Ce,255*ue,255*h]},L.cmyk.rgb=function(k){const v=k[0]/100,$=k[1]/100,K=k[2]/100,R=k[3]/100;return[255*(1-Math.min(1,v*(1-R)+R)),255*(1-Math.min(1,$*(1-R)+R)),255*(1-Math.min(1,K*(1-R)+R))]},L.xyz.rgb=function(k){const v=k[0]/100,$=k[1]/100,K=k[2]/100;let R,Ee,ge;return R=3.2406*v+-1.5372*$+-.4986*K,Ee=-.9689*v+1.8758*$+.0415*K,ge=.0557*v+-.204*$+1.057*K,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,Ee=Ee>.0031308?1.055*Ee**.4166666666666667-.055:12.92*Ee,ge=ge>.0031308?1.055*ge**.4166666666666667-.055:12.92*ge,R=Math.min(Math.max(0,R),1),Ee=Math.min(Math.max(0,Ee),1),ge=Math.min(Math.max(0,ge),1),[255*R,255*Ee,255*ge]},L.xyz.lab=function(k){let v=k[0],$=k[1],K=k[2];return v/=95.047,$/=100,K/=108.883,v=v>.008856?v**.3333333333333333:7.787*v+.13793103448275862,$=$>.008856?$**.3333333333333333:7.787*$+.13793103448275862,K=K>.008856?K**.3333333333333333:7.787*K+.13793103448275862,[116*$-16,500*(v-$),200*($-K)]},L.lab.xyz=function(k){let v,$,K;$=(k[0]+16)/116,v=k[1]/500+$,K=$-k[2]/200;const R=$**3,Ee=v**3,ge=K**3;return $=R>.008856?R:($-.13793103448275862)/7.787,v=Ee>.008856?Ee:(v-.13793103448275862)/7.787,K=ge>.008856?ge:(K-.13793103448275862)/7.787,v*=95.047,$*=100,K*=108.883,[v,$,K]},L.lab.lch=function(k){const v=k[0],$=k[1],K=k[2];let R;return R=360*Math.atan2(K,$)/2/Math.PI,R<0&&(R+=360),[v,Math.sqrt($*$+K*K),R]},L.lch.lab=function(k){const v=k[0],$=k[1],K=k[2]/360*2*Math.PI;return[v,$*Math.cos(K),$*Math.sin(K)]},L.rgb.ansi16=function(k,v=null){const[$,K,R]=k;let Ee=v===null?L.rgb.hsv(k)[2]:v;if(Ee=Math.round(Ee/50),Ee===0)return 30;let ge=30+(Math.round(R/255)<<2|Math.round(K/255)<<1|Math.round($/255));return Ee===2&&(ge+=60),ge},L.hsv.ansi16=function(k){return L.rgb.ansi16(L.hsv.rgb(k),k[2])},L.rgb.ansi256=function(k){const v=k[0],$=k[1],K=k[2];return v===$&&$===K?v<8?16:v>248?231:Math.round((v-8)/247*24)+232:16+36*Math.round(v/255*5)+6*Math.round($/255*5)+Math.round(K/255*5)},L.ansi16.rgb=function(k){let v=k%10;if(v===0||v===7)return k>50&&(v+=3.5),v=v/10.5*255,[v,v,v];const $=.5*(1+~~(k>50));return[(1&v)*$*255,(v>>1&1)*$*255,(v>>2&1)*$*255]},L.ansi256.rgb=function(k){if(k>=232){const $=10*(k-232)+8;return[$,$,$]}let v;return k-=16,[Math.floor(k/36)/5*255,Math.floor((v=k%36)/6)/5*255,v%6/5*255]},L.rgb.hex=function(k){const v=(((255&Math.round(k[0]))<<16)+((255&Math.round(k[1]))<<8)+(255&Math.round(k[2]))).toString(16).toUpperCase();return"000000".substring(v.length)+v},L.hex.rgb=function(k){const v=k.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!v)return[0,0,0];let $=v[0];v[0].length===3&&($=$.split("").map(R=>R+R).join(""));const K=parseInt($,16);return[K>>16&255,K>>8&255,255&K]},L.rgb.hcg=function(k){const v=k[0]/255,$=k[1]/255,K=k[2]/255,R=Math.max(Math.max(v,$),K),Ee=Math.min(Math.min(v,$),K),ge=R-Ee;let Y,J;return Y=ge<1?Ee/(1-ge):0,J=ge<=0?0:R===v?($-K)/ge%6:R===$?2+(K-v)/ge:4+(v-$)/ge,J/=6,J%=1,[360*J,100*ge,100*Y]},L.hsl.hcg=function(k){const v=k[1]/100,$=k[2]/100,K=$<.5?2*v*$:2*v*(1-$);let R=0;return K<1&&(R=($-.5*K)/(1-K)),[k[0],100*K,100*R]},L.hsv.hcg=function(k){const v=k[1]/100,$=k[2]/100,K=v*$;let R=0;return K<1&&(R=($-K)/(1-K)),[k[0],100*K,100*R]},L.hcg.rgb=function(k){const v=k[0]/360,$=k[1]/100,K=k[2]/100;if($===0)return[255*K,255*K,255*K];const R=[0,0,0],Ee=v%1*6,ge=Ee%1,Y=1-ge;let J=0;switch(Math.floor(Ee)){case 0:R[0]=1,R[1]=ge,R[2]=0;break;case 1:R[0]=Y,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=ge;break;case 3:R[0]=0,R[1]=Y,R[2]=1;break;case 4:R[0]=ge,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=Y}return J=(1-$)*K,[255*($*R[0]+J),255*($*R[1]+J),255*($*R[2]+J)]},L.hcg.hsv=function(k){const v=k[1]/100,$=v+k[2]/100*(1-v);let K=0;return $>0&&(K=v/$),[k[0],100*K,100*$]},L.hcg.hsl=function(k){const v=k[1]/100,$=k[2]/100*(1-v)+.5*v;let K=0;return $>0&&$<.5?K=v/(2*$):$>=.5&&$<1&&(K=v/(2*(1-$))),[k[0],100*K,100*$]},L.hcg.hwb=function(k){const v=k[1]/100,$=v+k[2]/100*(1-v);return[k[0],100*($-v),100*(1-$)]},L.hwb.hcg=function(k){const v=k[1]/100,$=1-k[2]/100,K=$-v;let R=0;return K<1&&(R=($-K)/(1-K)),[k[0],100*K,100*R]},L.apple.rgb=function(k){return[k[0]/65535*255,k[1]/65535*255,k[2]/65535*255]},L.rgb.apple=function(k){return[k[0]/255*65535,k[1]/255*65535,k[2]/255*65535]},L.gray.rgb=function(k){return[k[0]/100*255,k[0]/100*255,k[0]/100*255]},L.gray.hsl=function(k){return[0,0,k[0]]},L.gray.hsv=L.gray.hsl,L.gray.hwb=function(k){return[0,100,k[0]]},L.gray.cmyk=function(k){return[0,0,0,k[0]]},L.gray.lab=function(k){return[k[0],0,0]},L.gray.hex=function(k){const v=255&Math.round(k[0]/100*255),$=((v<<16)+(v<<8)+v).toString(16).toUpperCase();return"000000".substring($.length)+$},L.rgb.gray=function(k){return[(k[0]+k[1]+k[2])/3/255*100]}},"./node_modules/color-convert/index.js":(d,w,s)=>{const u=s("./node_modules/color-convert/conversions.js"),C=s("./node_modules/color-convert/route.js"),L={};Object.keys(u).forEach(k=>{L[k]={},Object.defineProperty(L[k],"channels",{value:u[k].channels}),Object.defineProperty(L[k],"labels",{value:u[k].labels});const v=C(k);Object.keys(v).forEach($=>{const K=v[$];L[k][$]=function(R){const Ee=function(...ge){const Y=ge[0];if(Y==null)return Y;Y.length>1&&(ge=Y);const J=R(ge);if(typeof J=="object")for(let Ce=J.length,ue=0;ue<Ce;ue++)J[ue]=Math.round(J[ue]);return J};return"conversion"in R&&(Ee.conversion=R.conversion),Ee}(K),L[k][$].raw=function(R){const Ee=function(...ge){const Y=ge[0];return Y==null?Y:(Y.length>1&&(ge=Y),R(ge))};return"conversion"in R&&(Ee.conversion=R.conversion),Ee}(K)})}),d.exports=L},"./node_modules/color-convert/route.js":(d,w,s)=>{const u=s("./node_modules/color-convert/conversions.js");function C(v){const $=function(){const R={},Ee=Object.keys(u);for(let ge=Ee.length,Y=0;Y<ge;Y++)R[Ee[Y]]={distance:-1,parent:null};return R}(),K=[v];for($[v].distance=0;K.length;){const R=K.pop(),Ee=Object.keys(u[R]);for(let ge=Ee.length,Y=0;Y<ge;Y++){const J=Ee[Y],Ce=$[J];Ce.distance===-1&&(Ce.distance=$[R].distance+1,Ce.parent=R,K.unshift(J))}}return $}function L(v,$){return function(K){return $(v(K))}}function k(v,$){const K=[$[v].parent,v];let R=u[$[v].parent][v],Ee=$[v].parent;for(;$[Ee].parent;)K.unshift($[Ee].parent),R=L(u[$[Ee].parent][Ee],R),Ee=$[Ee].parent;return R.conversion=K,R}d.exports=function(v){const $=C(v),K={},R=Object.keys($);for(let Ee=R.length,ge=0;ge<Ee;ge++){const Y=R[ge];$[Y].parent!==null&&(K[Y]=k(Y,$))}return K}},"./node_modules/color-name/index.js":d=>{"use strict";d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialog.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialogactions.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/accessibilityhelp.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubar.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenu.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenubutton.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitem.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitembutton.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenupanel.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-textarea{overflow-x:hidden}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const L=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/css-loader/dist/runtime/api.js"),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const L=C},"./node_modules/css-loader/dist/runtime/api.js":d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},"./packages/ckeditor5-core/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{uB:()=>k,ob:()=>Y,HY:()=>J,CC:()=>it,KE:()=>we,mJ:()=>ne,fE:()=>$,TS:()=>Se,k_:()=>C,JF:()=>He,Pt:()=>Re,Jl:()=>de});var u=s("./packages/ckeditor5-utils/src/index.ts");class C extends(0,u.VM)(){constructor(G){super(),this._disableStack=new Set,this.editor=G,this.set("isEnabled",!0)}forceDisabled(G){this._disableStack.add(G),this._disableStack.size==1&&(this.on("set:isEnabled",L,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(G){this._disableStack.delete(G),this._disableStack.size==0&&(this.off("set:isEnabled",L),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function L(Oe){Oe.return=!1,Oe.stop()}class k extends(0,u.VM)(){constructor(G){super(),this.editor=G,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(G,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",Ie=>{if(!this.affectsData)return;const Ue=G.model.document.selection,nt=Ue.getFirstPosition().root.rootName!="$graveyard"&&G.model.canEditAt(Ue);(G.isReadOnly||this._isEnabledBasedOnSelection&&!nt)&&(Ie.return=!1,Ie.stop())},{priority:"highest"}),this.on("execute",Ie=>{this.isEnabled||Ie.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(G){this._affectsData=G}refresh(){this.isEnabled=!0}forceDisabled(G){this._disableStack.add(G),this._disableStack.size==1&&(this.on("set:isEnabled",v,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(G){this._disableStack.delete(G),this._disableStack.size==0&&(this.off("set:isEnabled",v),this.refresh())}execute(...G){}destroy(){this.stopListening()}}function v(Oe){Oe.return=!1,Oe.stop()}class $ extends k{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...G){const Ie=this._getFirstEnabledCommand();return!!Ie&&Ie.execute(G)}registerChildCommand(G,Ie={}){(0,u.Yy)(this._childCommandsDefinitions,{command:G,priority:Ie.priority||"normal"}),G.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const G=this._childCommandsDefinitions.find(({command:Ie})=>Ie.isEnabled);return G&&G.command}}class K extends(0,u.Mm)(){constructor(G,Ie=[],Ue=[]){super(),this._plugins=new Map,this._context=G,this._availablePlugins=new Map;for(const nt of Ie)nt.pluginName&&this._availablePlugins.set(nt.pluginName,nt);this._contextPlugins=new Map;for(const[nt,xe]of Ue)this._contextPlugins.set(nt,xe),this._contextPlugins.set(xe,nt),nt.pluginName&&this._availablePlugins.set(nt.pluginName,nt)}*[Symbol.iterator](){for(const G of this._plugins)typeof G[0]=="function"&&(yield G)}get(G){const Ie=this._plugins.get(G);if(!Ie){let Ue=G;throw typeof G=="function"&&(Ue=G.pluginName||G.name),new u.Yb("plugincollection-plugin-not-loaded",this._context,{plugin:Ue})}return Ie}has(G){return this._plugins.has(G)}init(G,Ie=[],Ue=[]){const nt=this,xe=this._context;(function St(qt,wt=new Set){qt.forEach(tt=>{Ze(tt)&&(wt.has(tt)||(wt.add(tt),tt.pluginName&&!nt._availablePlugins.has(tt.pluginName)&&nt._availablePlugins.set(tt.pluginName,tt),tt.requires&&St(tt.requires,wt)))})})(G),Ut(G);const pe=[...function St(qt,wt=new Set){return qt.map(tt=>Ze(tt)?tt:nt._availablePlugins.get(tt)).reduce((tt,gt)=>wt.has(gt)?tt:(wt.add(gt),gt.requires&&(Ut(gt.requires,gt),St(gt.requires,wt).forEach(gi=>tt.add(gi))),tt.add(gt)),new Set)}(G.filter(St=>!at(St,Ie)))];(function(St,qt){for(const wt of qt){if(typeof wt!="function")throw new u.Yb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:wt});const tt=wt.pluginName;if(!tt)throw new u.Yb("plugincollection-replace-plugin-missing-name",null,{pluginItem:wt});if(wt.requires&&wt.requires.length)throw new u.Yb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:tt});const gt=nt._availablePlugins.get(tt);if(!gt)throw new u.Yb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:tt});const gi=St.indexOf(gt);if(gi===-1){if(nt._contextPlugins.has(gt))return;throw new u.Yb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:tt})}if(gt.requires&&gt.requires.length)throw new u.Yb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:tt});St.splice(gi,1,wt),nt._availablePlugins.set(tt,wt)}})(pe,Ue);const ye=pe.map(St=>{let qt=nt._contextPlugins.get(St);return qt=qt||new St(xe),nt._add(St,qt),qt});return $t(ye,"init").then(()=>$t(ye,"afterInit")).then(()=>ye);function Ze(St){return typeof St=="function"}function ot(St){return Ze(St)&&!!St.isContextPlugin}function at(St,qt){return qt.some(wt=>wt===St||mt(St)===wt||mt(wt)===St)}function mt(St){return Ze(St)?St.pluginName||St.name:St}function Ut(St,qt=null){St.map(wt=>Ze(wt)?wt:nt._availablePlugins.get(wt)||wt).forEach(wt=>{(function(tt,gt){if(!Ze(tt))throw gt?new u.Yb("plugincollection-soft-required",xe,{missingPlugin:tt,requiredBy:mt(gt)}):new u.Yb("plugincollection-plugin-not-found",xe,{plugin:tt})})(wt,qt),function(tt,gt){if(ot(gt)&&!ot(tt))throw new u.Yb("plugincollection-context-required",xe,{plugin:mt(tt),requiredBy:mt(gt)})}(wt,qt),function(tt,gt){if(gt&&at(tt,Ie))throw new u.Yb("plugincollection-required",xe,{plugin:mt(tt),requiredBy:mt(gt)})}(wt,qt)})}function $t(St,qt){return St.reduce((wt,tt)=>tt[qt]?nt._contextPlugins.has(tt)?wt:wt.then(tt[qt].bind(tt)):wt,Promise.resolve())}}destroy(){const G=[];for(const[,Ie]of this)typeof Ie.destroy!="function"||this._contextPlugins.has(Ie)||G.push(Ie.destroy());return Promise.all(G)}_add(G,Ie){this._plugins.set(G,Ie);const Ue=G.pluginName;if(Ue){if(this._plugins.has(Ue))throw new u.Yb("plugincollection-plugin-name-conflict",null,{pluginName:Ue,plugin1:this._plugins.get(Ue).constructor,plugin2:G});this._plugins.set(Ue,Ie)}}}var R=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;class Y{constructor(G){this._contextOwner=null;const Ie=G||{},{translations:Ue}=Ie,nt=((ye,Ze)=>{var ot={};for(var at in ye)Ee.call(ye,at)&&Ze.indexOf(at)<0&&(ot[at]=ye[at]);if(ye!=null&&R)for(var at of R(ye))Ze.indexOf(at)<0&&ge.call(ye,at)&&(ot[at]=ye[at]);return ot})(Ie,["translations"]);this.config=new u.TS(nt,this.constructor.defaultConfig);const xe=this.constructor.builtinPlugins;this.config.define("plugins",xe),this.plugins=new K(this,xe);const pe=this.config.get("language")||{};this.locale=new u.hT({uiLanguage:typeof pe=="string"?pe:pe.ui,contentLanguage:this.config.get("language.content"),translations:Ue}),this.t=this.locale.t,this.editors=new u.pM}initPlugins(){const G=this.config.get("plugins")||[],Ie=this.config.get("substitutePlugins")||[];for(const Ue of G.concat(Ie)){if(typeof Ue!="function")throw new u.Yb("context-initplugins-constructor-only",null,{Plugin:Ue});if(Ue.isContextPlugin!==!0)throw new u.Yb("context-initplugins-invalid-plugin",null,{Plugin:Ue})}return this.plugins.init(G,[],Ie)}destroy(){return Promise.all(Array.from(this.editors,G=>G.destroy())).then(()=>this.plugins.destroy())}_addEditor(G,Ie){if(this._contextOwner)throw new u.Yb("context-addeditor-private-context");this.editors.add(G),Ie&&(this._contextOwner=G)}_removeEditor(G){return this.editors.has(G)&&this.editors.remove(G),this._contextOwner===G?this.destroy():Promise.resolve()}_getEditorConfig(){const G={};for(const Ie of this.config.names())["plugins","removePlugins","extraPlugins"].includes(Ie)||(G[Ie]=this.config.get(Ie));return G}static create(G){return new Promise(Ie=>{const Ue=new this(G);Ie(Ue.initPlugins().then(()=>Ue))})}}class J extends(0,u.VM)(){constructor(G){super(),this.context=G}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Ce extends u.EP{constructor(G){super(),this.editor=G}set(G,Ie,Ue={}){if(typeof Ie=="string"){const nt=Ie;Ie=(xe,pe)=>{this.editor.execute(nt),pe()}}super.set(G,Ie,Ue)}}var ue=s("./packages/ckeditor5-engine/src/index.ts");class h{constructor(){this._commands=new Map}add(G,Ie){this._commands.set(G,Ie)}get(G){return this._commands.get(G)}execute(G,...Ie){const Ue=this.get(G);if(!Ue)throw new u.Yb("commandcollection-command-not-found",this,{commandName:G});return Ue.execute(...Ie)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const G of this.commands())G.destroy()}}var p=Object.defineProperty,g=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,I=(Oe,G,Ie)=>G in Oe?p(Oe,G,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):Oe[G]=Ie;const M="contentEditing",ee="common";class H{constructor(G){this.keystrokeInfos=new Map,this._editor=G;const Ie=G.config.get("menuBar.isVisible"),Ue=G.locale.t;this.addKeystrokeInfoCategory({id:M,label:Ue("Content editing keystrokes"),description:Ue("These keyboard shortcuts allow for quick access to content editing features.")});const nt=[{label:Ue("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:Ue("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:Ue("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:Ue("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:Ue("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:Ue("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];Ie&&nt.push({label:Ue("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:Ue("User interface and content navigation keystrokes"),description:Ue("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:nt}]})}addKeystrokeInfoCategory({id:G,label:Ie,description:Ue,groups:nt}){this.keystrokeInfos.set(G,{id:G,label:Ie,description:Ue,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:G,id:ee}),nt&&nt.forEach(xe=>{this.addKeystrokeInfoGroup(((pe,ye)=>{for(var Ze in ye||(ye={}))_.call(ye,Ze)&&I(pe,Ze,ye[Ze]);if(g)for(var Ze of g(ye))S.call(ye,Ze)&&I(pe,Ze,ye[Ze]);return pe})({categoryId:G},xe))})}addKeystrokeInfoGroup({categoryId:G=M,id:Ie,label:Ue,keystrokes:nt}){const xe=this.keystrokeInfos.get(G);if(!xe)throw new u.Yb("accessibility-unknown-keystroke-info-category",this._editor,{groupId:Ie,categoryId:G});xe.groups.set(Ie,{id:Ie,label:Ue,keystrokes:nt||[]})}addKeystrokeInfos({categoryId:G=M,groupId:Ie=ee,keystrokes:Ue}){if(!this.keystrokeInfos.has(G))throw new u.Yb("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:G,keystrokes:Ue});const nt=this.keystrokeInfos.get(G);if(!nt.groups.has(Ie))throw new u.Yb("accessibility-unknown-keystroke-info-group",this._editor,{groupId:Ie,categoryId:G,keystrokes:Ue});nt.groups.get(Ie).keystrokes.push(...Ue)}}var re=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,ie=(Oe,G)=>{var Ie={};for(var Ue in Oe)O.call(Oe,Ue)&&G.indexOf(Ue)<0&&(Ie[Ue]=Oe[Ue]);if(Oe!=null&&re)for(var Ue of re(Oe))G.indexOf(Ue)<0&&W.call(Oe,Ue)&&(Ie[Ue]=Oe[Ue]);return Ie};class we extends(0,u.VM)(){constructor(G={}){super();const Ie=this.constructor,Ue=Ie.defaultConfig||{},{translations:nt}=Ue,xe=ie(Ue,["translations"]),pe=G,{translations:ye=nt}=pe,Ze=ie(pe,["translations"]),ot=G.language||xe.language;this._context=G.context||new Y({language:ot,translations:ye}),this._context._addEditor(this,!G.context);const at=Array.from(Ie.builtinPlugins||[]);this.config=new u.TS(Ze,xe),this.config.define("plugins",at),this.config.define(this._context._getEditorConfig()),this.plugins=new K(this,at,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new h,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ue.Kx,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const mt=new ue.tG;this.data=new ue.P3(this.model,mt),this.editing=new ue.L_(this.model,mt),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ue.dY([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ce(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new H(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(G){throw new u.Yb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(G){if(typeof G!="string"&&typeof G!="symbol")throw new u.Yb("editor-read-only-lock-id-invalid",null,{lockId:G});this._readOnlyLocks.has(G)||(this._readOnlyLocks.add(G),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(G){if(typeof G!="string"&&typeof G!="symbol")throw new u.Yb("editor-read-only-lock-id-invalid",null,{lockId:G});this._readOnlyLocks.has(G)&&(this._readOnlyLocks.delete(G),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(G){this.data.set(G)}getData(G){return this.data.get(G)}initPlugins(){const G=this.config,Ie=G.get("plugins"),Ue=G.get("removePlugins")||[],nt=G.get("extraPlugins")||[],xe=G.get("substitutePlugins")||[];return this.plugins.init(Ie.concat(nt),Ue,xe)}destroy(){let G=Promise.resolve();return this.state=="initializing"&&(G=new Promise(Ie=>this.once("ready",Ie))),G.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(G,...Ie){try{return this.commands.execute(G,...Ie)}catch(Ue){u.Yb.rethrowUnexpectedError(Ue,this)}}focus(){this.editing.view.focus()}static create(...G){throw new Error("This is an abstract method.")}}var Ae=s("./node_modules/lodash-es/isFunction.js");function He(Oe){if(!(0,Ae.A)(Oe.updateSourceElement))throw new u.Yb("attachtoform-missing-elementapi-interface",Oe);const G=Oe.sourceElement;if(function(Ie){return!!Ie&&Ie.tagName.toLowerCase()==="textarea"}(G)&&G.form){let Ie;const Ue=G.form,nt=()=>Oe.updateSourceElement();(0,Ae.A)(Ue.submit)&&(Ie=Ue.submit,Ue.submit=()=>{nt(),Ie.apply(Ue)}),Ue.addEventListener("submit",nt),Oe.on("destroy",()=>{Ue.removeEventListener("submit",nt),Ie&&(Ue.submit=Ie)})}}function it(Oe){return Oe}function ne(Oe){return class extends Oe{updateSourceElement(G){if(!this.sourceElement)throw new u.Yb("editor-missing-sourceelement",this);const Ie=this.config.get("updateSourceElementOnDestroy"),Ue=this.sourceElement instanceof HTMLTextAreaElement;if(!Ie&&!Ue)return void(0,u.C_)(this.sourceElement,"");const nt=typeof G=="string"?G:this.data.get();(0,u.C_)(this.sourceElement,nt)}}}function de(Oe,G){if(G.ckeditorInstance)throw new u.Yb("editor-source-element-already-used",Oe);G.ckeditorInstance=Oe,Oe.once("destroy",()=>{delete G.ckeditorInstance})}ne.updateSourceElement=ne(Object).prototype.updateSourceElement;class Se extends J{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new u.pM({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(G){if(typeof G!="string")throw new u.Yb("pendingactions-add-invalid-message",this);const Ie=new((0,u.VM)());return Ie.set("message",G),this._actions.add(Ie),this.hasAny=!0,Ie}remove(G){this._actions.remove(G),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Re={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{Zq:()=>Be,ML:()=>Mn,cJ:()=>Di,Re:()=>Mr,dY:()=>Ms,P3:()=>Zs,_v:()=>wo,kB:()=>vi,oi:()=>Mi,P$:()=>In,FY:()=>hn,$A:()=>Sn,zN:()=>Ci,L_:()=>Es,gK:()=>fo,Hg:()=>ji,vp:()=>Fn,BZ:()=>Ir,q6:()=>ds,ZG:()=>Nn,m8:()=>$n,Oo:()=>Qt,m4:()=>Gn,PN:()=>H,GY:()=>kn,Kx:()=>Yr,q$:()=>ea,hW:()=>an,fS:()=>xn,nu:()=>eo,cr:()=>Io,yX:()=>Xt,Q6:()=>Lt,EZ:()=>Dn,A4:()=>ri,gf:()=>vo,at:()=>Zn,_A:()=>pn,DG:()=>xe,tG:()=>pe,Yi:()=>To,EY:()=>un,Qo:()=>Un,rU:()=>mn,Wq:()=>ca,UJ:()=>Be,xQ:()=>mt,Vg:()=>Le,f5:()=>pi,OQ:()=>$t,m2:()=>ot,Vt:()=>_t,aZ:()=>si,Un:()=>qt,HQ:()=>I,u$:()=>wt,cw:()=>zt,XI:()=>Ea,vQ:()=>xa,IG:()=>La,kF:()=>Ta,je:()=>Sa,JV:()=>Ca,aU:()=>Ma,_$:()=>Aa,D0:()=>Wt,v7:()=>Ht,vt:()=>wr,mC:()=>va,Kc:()=>Ee,JT:()=>R,qE:()=>st,rC:()=>Fe,QS:()=>ve,SH:()=>Ut,gz:()=>ft,M1:()=>Rt,YU:()=>Y,s5:()=>P,_o:()=>ia,Vq:()=>E,ew:()=>$s,fp:()=>o,E:()=>b,Cd:()=>c,mv:()=>te,$0:()=>J,Zu:()=>ge,_j:()=>js});var u=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),C=s.n(u),L=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),k={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(L.A,k),L.A.locals;var v=s("./packages/ckeditor5-utils/src/index.ts");const $=new WeakMap;let K=!1;function R({view:a,element:e,text:t,isDirectHost:i=!0,keepOnFocus:r=!1}){const m=a.document;function x(z){$.get(m).set(e,{text:z,isDirectHost:i,keepOnFocus:r,hostElement:i?e:null}),a.change(ae=>Ce(m,ae))}$.has(m)||($.set(m,new Map),m.registerPostFixer(z=>Ce(m,z)),m.on("change:isComposing",()=>{a.change(z=>Ce(m,z))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(z,ae,be)=>{x(be)}),e.placeholder?x(e.placeholder):t&&x(t),t&&function(){K||(0,v.FF)("enableplaceholder-deprecated-text-option"),K=!0}()}function Ee(a,e){const t=e.document;$.has(t)&&a.change(i=>{const r=$.get(t),m=r.get(e);i.removeAttribute("data-placeholder",m.hostElement),Y(i,m.hostElement),r.delete(e)})}function ge(a,e){return!e.hasClass("ck-placeholder")&&(a.addClass("ck-placeholder",e),!0)}function Y(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function J(a,e){if(!a.isAttached()||Array.from(a.getChildren()).some(r=>!r.is("uiElement")))return!1;const t=a.document,i=t.selection.anchor;return(!t.isComposing||!i||i.parent!==a)&&(!!e||!t.isFocused||!!i&&i.parent!==a)}function Ce(a,e){const t=$.get(a),i=[];let r=!1;for(const[m,x]of t)x.isDirectHost&&(i.push(m),ue(e,m,x)&&(r=!0));for(const[m,x]of t){if(x.isDirectHost)continue;const z=h(m);z&&(i.includes(z)||(x.hostElement=z,ue(e,m,x)&&(r=!0)))}return r}function ue(a,e,t){const{text:i,isDirectHost:r,hostElement:m}=t;let x=!1;return m.getAttribute("data-placeholder")!==i&&(a.setAttribute("data-placeholder",i,m),x=!0),(r||e.childCount==1)&&J(m,t.keepOnFocus)?ge(a,m)&&(x=!0):Y(a,m)&&(x=!0),x}function h(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class p{is(){throw new Error("is() method is abstract")}}var g=s("./node_modules/lodash-es/_baseClone.js");const _=function(a){return(0,g.A)(a,4)};class S extends(0,v.Mm)(p){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new v.Yb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let m=0;for(;i[m]==r[m]&&i[m];)m++;return m===0?null:i[m-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=(0,v.ww)(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=_(this);return delete e.parent,e}}S.prototype.is=function(a){return a==="node"||a==="view:node"};class I extends S{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof I&&(this===e||this.data===e.data)}_clone(){return new I(this.document,this.data)}}I.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class M extends p{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new v.Yb("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new v.Yb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}M.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};var ee=s("./node_modules/lodash-es/isPlainObject.js");class H{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const r=re(t,i);if(r)return{element:t,pattern:i,match:r}}return null}matchAll(...e){const t=[];for(const i of e)for(const r of this._patterns){const m=re(i,r);m&&t.push({element:i,pattern:r,match:m})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function re(a,e){if(typeof e=="function")return e(a);const t={};return e.name&&(t.name=function(i,r){return i instanceof RegExp?!!r.match(i):i===r}(e.name,a.name),!t.name)||e.attributes&&(t.attributes=function(i,r){const m=new Set(r.getAttributeKeys());return(0,ee.A)(i)?(i.style!==void 0&&(0,v.FF)("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&(0,v.FF)("matcher-pattern-deprecated-attributes-class-key",i)):(m.delete("style"),m.delete("class")),O(i,m,x=>r.getAttribute(x))}(e.attributes,a),!t.attributes)||e.classes&&(t.classes=function(i,r){return O(i,r.getClassNames(),()=>{})}(e.classes,a),!t.classes)||e.styles&&(t.styles=function(i,r){return O(i,r.getStyleNames(!0),m=>r.getStyle(m))}(e.styles,a),!t.styles)?null:t}function O(a,e,t){const i=function(x){return Array.isArray(x)?x.map(z=>(0,ee.A)(z)?(z.key!==void 0&&z.value!==void 0||(0,v.FF)("matcher-pattern-missing-key-or-value",z),[z.key,z.value]):[z,!0]):(0,ee.A)(x)?Object.entries(x):[[x,!0]]}(a),r=Array.from(e),m=[];if(i.forEach(([x,z])=>{r.forEach(ae=>{(function(be,De){return be===!0||be===De||be instanceof RegExp&&De.match(be)})(x,ae)&&function(be,De,Xe){if(be===!0)return!0;const lt=Xe(De);return be===lt||be instanceof RegExp&&!!String(lt).match(be)}(z,ae,t)&&m.push(ae)})}),i.length&&!(m.length<i.length))return m}var W=s("./node_modules/lodash-es/isObject.js"),ie=s("./node_modules/lodash-es/_castPath.js");const we=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0};var Ae=s("./node_modules/lodash-es/_baseGet.js");const He=function(a,e,t){var i=-1,r=a.length;e<0&&(e=-e>r?0:r+e),(t=t>r?r:t)<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var m=Array(r);++i<r;)m[i]=a[i+e];return m},it=function(a,e){return e.length<2?a:(0,Ae.A)(a,He(e,0,-1))};var ne=s("./node_modules/lodash-es/_toKey.js");const de=function(a,e){return e=(0,ie.A)(e,a),(a=it(a,e))==null||delete a[(0,ne.A)(we(e))]},Se=function(a,e){return a==null||de(a,e)};var Re=s("./node_modules/lodash-es/get.js"),Oe=s("./node_modules/lodash-es/merge.js"),G=s("./node_modules/lodash-es/_assignValue.js"),Ie=s("./node_modules/lodash-es/_isIndex.js");const Ue=function(a,e,t,i){if(!(0,W.A)(a))return a;for(var r=-1,m=(e=(0,ie.A)(e,a)).length,x=m-1,z=a;z!=null&&++r<m;){var ae=(0,ne.A)(e[r]),be=t;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return a;if(r!=x){var De=z[ae];(be=i?i(De,ae,z):void 0)===void 0&&(be=(0,W.A)(De)?De:(0,Ie.A)(e[r+1])?[]:{})}(0,G.A)(z,ae,be),z=z[ae]}return a},nt=function(a,e,t){return a==null?a:Ue(a,e,t)};class xe{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(i){let r=null,m=0,x=0,z=null;const ae=new Map;if(i==="")return ae;i.charAt(i.length-1)!=";"&&(i+=";");for(let be=0;be<i.length;be++){const De=i.charAt(be);if(r===null)switch(De){case":":z||(z=i.substr(m,be-m),x=be+1);break;case'"':case"'":r=De;break;case";":{const Xe=i.substr(x,be-x);z&&ae.set(z.trim(),Xe.trim()),z=null,m=be+1;break}}else De===r&&(r=null)}return ae}(e);for(const[i,r]of t)this._styleProcessor.toNormalizedForm(i,r,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if((0,W.A)(e))for(const[i,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ye(e);Se(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,W.A)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),r=(0,Re.A)(this._styles,i);r&&!Object.keys(r).length&&this.remove(i)}}class pe{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if((0,W.A)(t))Ze(i,ye(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:m,value:x}=r(t);Ze(i,m,x)}else Ze(i,e,t)}getNormalized(e,t){if(!e)return(0,Oe.A)({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return(0,Re.A)(t,i);const r=i(e,t);if(r)return r}return(0,Re.A)(t,ye(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(r=>{const m=this.getNormalized(r,e);return m&&typeof m=="object"?Object.keys(m).length:m}),i=new Set([...t,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ye(a){return a.replace("-",".")}function Ze(a,e,t){let i=t;(0,W.A)(t)&&(i=(0,Oe.A)({},(0,Re.A)(a,e),t)),nt(a,e,i)}class ot extends S{constructor(e,t,i,r){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(m){const x=(0,v.av)(m);for(const[z,ae]of x)ae===null?x.delete(z):typeof ae!="string"&&x.set(z,String(ae));return x}(i),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const m=this._attrs.get("class");at(this._classes,m),this._attrs.delete("class")}this._styles=new xe(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ot))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new H(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const r=function(m,x){return typeof x=="string"?[new I(m,x)]:((0,v.xZ)(x)||(x=[x]),Array.from(x).map(z=>typeof z=="string"?new I(m,z):z instanceof M?new I(m,z.data):z))}(this.document,t);for(const m of r)m.parent!==null&&m._remove(),m.parent=this,m.document=this.document,this._children.splice(e,0,m),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?at(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,v.$r)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,v.$r)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,v.$r)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function at(a,e){const t=e.split(/\s+/);a.clear(),t.forEach(i=>a.add(i))}ot.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class mt extends ot{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=Ut}}function Ut(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of a)if(!t.is("uiElement"))return null;return this.childCount}mt.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class $t extends(0,v.VM)(mt){constructor(e,t,i,r){super(e,t,i,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",m=>m&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}$t.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const St=Symbol("rootName");class qt extends $t{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(St)}set rootName(e){this._setCustomProperty(St,e)}set _name(e){this.name=e}}qt.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class wt{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new v.Yb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new v.Yb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=tt._createAt(e.startPosition):this._position=tt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(i instanceof I){if(e.isAtEnd)return this._position=tt._createAfter(i),this._next();r=i.data[e.offset]}else r=i.getChild(e.offset);if(r instanceof ot){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new tt(r,0);return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r instanceof I){if(this.singleCharacters)return e=new tt(r,0),this._position=e,this._next();let m,x=r.data.length;return r==this._boundaryEndParent?(x=this.boundaries.end.offset,m=new M(r,0,x),e=tt._createAfter(m)):(m=new M(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",m,t,e,x)}if(typeof r=="string"){let m;this.singleCharacters?m=1:m=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const x=new M(i,e.offset,m);return e.offset+=m,this._position=e,this._formatReturnValue("text",x,t,e,m)}return e=tt._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(i instanceof I){if(e.isAtStart)return this._position=tt._createBefore(i),this._previous();r=i.data[e.offset-1]}else r=i.getChild(e.offset-1);if(r instanceof ot)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new tt(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof I){if(this.singleCharacters)return e=new tt(r,r.data.length),this._position=e,this._previous();let m,x=r.data.length;if(r==this._boundaryStartParent){const z=this.boundaries.start.offset;m=new M(r,z,r.data.length-z),x=m.data.length,e=tt._createBefore(m)}else m=new M(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",m,t,e,x)}if(typeof r=="string"){let m;if(this.singleCharacters)m=1;else{const z=i===this._boundaryStartParent?this.boundaries.start.offset:0;m=e.offset-z}e.offset-=m;const x=new M(i,e.offset,m);return this._position=e,this._formatReturnValue("text",x,t,e,m)}return e=tt._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,r,m){return t instanceof M&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=tt._createAfter(t.textNode):(r=tt._createAfter(t.textNode),this._position=r)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=tt._createBefore(t.textNode):(r=tt._createBefore(t.textNode),this._position=r))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:r,length:m}}}}class tt extends p{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof $t);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=tt._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new wt(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const r=(0,v.ww)(t,i);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<i[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new wt(e)}clone(){return new tt(this.parent,this.offset)}static _createAt(e,t){if(e instanceof tt)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new v.Yb("view-createpositionat-offset-required",i)}return new tt(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new tt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new v.Yb("view-position-after-root",e,{root:e});return new tt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new tt(e.textNode,e.offsetInText);if(!e.parent)throw new v.Yb("view-position-before-root",e,{root:e});return new tt(e.parent,e.index)}}tt.prototype.is=function(a){return a==="position"||a==="view:position"};class gt extends p{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new wt({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(gi,{direction:"backward"}),t=this.end.getLastMatchingPosition(gi);return e.parent.is("$text")&&e.isAtStart&&(e=tt._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=tt._createAfter(t.parent)),new gt(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(gi);if(e.isAfter(this.end)||e.isEqual(this.end))return new gt(e,e);let t=this.end.getLastMatchingPosition(gi,{direction:"backward"});const i=e.nodeAfter,r=t.nodeBefore;return i&&i.is("$text")&&(e=new tt(i,0)),r&&r.is("$text")&&(t=new tt(r,r.data.length)),new gt(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new gt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new gt(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new gt(t,i)}return null}getWalker(e={}){return e.boundaries=this,new wt(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new gt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new wt(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new wt(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,r){return new this(new tt(e,t),new tt(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(tt._createBefore(e),t)}}function gi(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}gt.prototype.is=function(a){return a==="range"||a==="view:range"};class Ti extends(0,v.Mm)(p){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,v.U9)(this.getRanges());if(t!=(0,v.U9)(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let r=!1;for(let m of e.getRanges())if(m=m.getTrimmed(),i.start.isEqual(m.start)&&i.end.isEqual(m.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(r);else if(t instanceof Ti||t instanceof Pi)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof gt)this._setRanges([t],r&&r.backward),this._setFakeOptions(r);else if(t instanceof tt)this._setRanges([new gt(t)]),this._setFakeOptions(r);else if(t instanceof S){const m=!!r&&!!r.backward;let x;if(i===void 0)throw new v.Yb("view-selection-setto-required-second-parameter",this);x=i=="in"?gt._createIn(t):i=="on"?gt._createOn(t):new gt(tt._createAt(t,i)),this._setRanges([x],m),this._setFakeOptions(r)}else{if(!(0,v.xZ)(t))throw new v.Yb("view-selection-setto-not-selectable",this);this._setRanges(t,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new v.Yb("view-selection-setfocus-no-ranges",this);const i=tt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),i.compareWith(r)=="before"?this._addRange(new gt(i,r),!0):this._addRange(new gt(r,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof gt))throw new v.Yb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new v.Yb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new gt(e.start,e.end))}}Ti.prototype.is=function(a){return a==="selection"||a==="view:selection"};class Pi extends(0,v.Mm)(p){constructor(...e){super(),this._selection=new Ti,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Pi.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class Di extends v.vY{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Oi=Symbol("bubbling contexts");function Wi(a){return class extends a{fire(e,...t){try{const i=e instanceof v.vY?e:new v.vY(this,e),r=le(this);if(!r.size)return;if(Gt(i,"capturing",this),xt(r,"$capture",i,...t))return i.return;const m=i.startRange||this.selection.getFirstRange(),x=m?m.getContainedElement():null,z=!!x&&Boolean(Ke(r,x));let ae=x||function(be){if(!be)return null;const De=be.start.parent,Xe=be.end.parent,lt=De.getPath(),Vt=Xe.getPath();return lt.length>Vt.length?De:Xe}(m);if(Gt(i,"atTarget",ae),!z){if(xt(r,"$text",i,...t))return i.return;Gt(i,"bubbling",ae)}for(;ae;){if(ae.is("rootElement")){if(xt(r,"$root",i,...t))return i.return}else if(ae.is("element")&&xt(r,ae.name,i,...t))return i.return;if(xt(r,ae,i,...t))return i.return;ae=ae.parent,Gt(i,"bubbling",ae)}return Gt(i,"bubbling",this),xt(r,"$document",i,...t),i.return}catch(i){v.Yb.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const r=(0,v.$r)(i.context||"$document"),m=le(this);for(const x of r){let z=m.get(x);z||(z=new((0,v.Mm)()),m.set(x,z)),this.listenTo(z,e,t,i)}}_removeEventListener(e,t){const i=le(this);for(const r of i.values())this.stopListening(r,e,t)}}}{const a=Wi(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Wi[e]=a.prototype[e]})}function Gt(a,e,t){a instanceof Di&&(a._eventPhase=e,a._currentTarget=t)}function xt(a,e,t,...i){const r=typeof e=="string"?a.get(e):Ke(a,e);return!!r&&(r.fire(t,...i),t.stop.called)}function Ke(a,e){for(const[t,i]of a)if(typeof t=="function"&&t(e))return i;return null}function le(a){return a[Oi]||(a[Oi]=new Map),a[Oi]}class Le extends Wi((0,v.VM)()){constructor(e){super(),this._postFixers=new Set,this.selection=new Pi,this.roots=new v.pM({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class Be extends ot{constructor(e,t,i,r){super(e,t,i,r),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=dt}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new v.Yb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function dt(){if(ht(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(ht(a)>1)return null;a=a.parent}return!a||ht(a)>1?null:this.childCount}function ht(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Be.DEFAULT_PRIORITY=10,Be.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class _t extends ot{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=It}_insertChild(e,t){if(t&&(t instanceof S||Array.from(t).length>0))throw new v.Yb("view-emptyelement-cannot-add",[this,t]);return 0}}function It(){return null}_t.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class zt extends ot{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=ai}_insertChild(e,t){if(t&&(t instanceof S||Array.from(t).length>0))throw new v.Yb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function Jt(a){a.document.on("arrowKey",(e,t)=>function(i,r,m){if(r.keyCode==v.uP.arrowright){const x=r.domTarget.ownerDocument.defaultView.getSelection(),z=x.rangeCount==1&&x.getRangeAt(0).collapsed;if(z||r.shiftKey){const ae=x.focusNode,be=x.focusOffset,De=m.domPositionToView(ae,be);if(De===null)return;let Xe=!1;const lt=De.getLastMatchingPosition(Vt=>(Vt.item.is("uiElement")&&(Xe=!0),!(!Vt.item.is("uiElement")&&!Vt.item.is("attributeElement"))));if(Xe){const Vt=m.viewPositionToDom(lt);z?x.collapse(Vt.parent,Vt.offset):x.extend(Vt.parent,Vt.offset)}}}}(0,t,a.domConverter),{priority:"low"})}function ai(){return null}zt.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class si extends ot{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=Bi}_insertChild(e,t){if(t&&(t instanceof S||Array.from(t).length>0))throw new v.Yb("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function Bi(){return null}si.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class pi extends(0,v.Mm)(p){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const r=function(m,x){return typeof x=="string"?[new I(m,x)]:((0,v.xZ)(x)||(x=[x]),Array.from(x).map(z=>typeof z=="string"?new I(m,z):z instanceof M?new I(m,z.data):z))}(this.document,t);for(const m of r)m.parent!==null&&m._remove(),m.parent=this,this._children.splice(e,0,m),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}pi.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class Ci{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new pi(this.document,e)}createText(e){return new I(this.document,e)}createAttributeElement(e,t,i={}){const r=new Be(this.document,e,t);return typeof i.priority=="number"&&(r._priority=i.priority),i.id&&(r._id=i.id),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createContainerElement(e,t,i={},r={}){let m=null;(0,ee.A)(i)?r=i:m=i;const x=new mt(this.document,e,t,m);return r.renderUnsafeAttributes&&x._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),x}createEditableElement(e,t,i={}){const r=new $t(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEmptyElement(e,t,i={}){const r=new _t(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createUIElement(e,t,i){const r=new zt(this.document,e,t);return i&&(r.render=i),r}createRawElement(e,t,i,r={}){const m=new si(this.document,e,t);return i&&(m.render=i),r.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),m}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,ee.A)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof tt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new v.Yb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new v.Yb("view-writer-break-root",this.document);if(e.isAtStart)return tt._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(tt._createAfter(t),i);const r=new gt(e,tt._createAt(t,"end")),m=new tt(i,0);this.move(r,m)}return tt._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const x=i.parent,z=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new tt(x,z))}const r=i.getChild(t-1),m=i.getChild(t);if(!r||!m)return e;if(r.is("$text")&&m.is("$text"))return yt(r,m);if(r.is("attributeElement")&&m.is("attributeElement")&&r.isSimilar(m)){const x=r.childCount;return r._appendChild(m.getChildren()),m._remove(),this._removeFromClonedElementsGroup(m),this.mergeAttributes(new tt(r,x))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new v.Yb("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),m=r instanceof I?tt._createAt(r,"end"):tt._createAt(t,"end");return this.move(gt._createIn(i),tt._createAt(t,"end")),this.remove(gt._createOn(i)),m}insert(e,t){Mt(t=(0,v.xZ)(t)?[...t]:[t],this.document);const i=t.reduce((x,z)=>{const ae=x[x.length-1],be=!z.is("uiElement");return ae&&ae.breakAttributes==be?ae.nodes.push(z):x.push({breakAttributes:be,nodes:[z]}),x},[]);let r=null,m=e;for(const{nodes:x,breakAttributes:z}of i){const ae=this._insertNodes(m,x,z);r||(r=ae.start),m=ae.end}return r?new gt(r,m):new gt(e)}remove(e){const t=e instanceof gt?e:gt._createOn(e);if(Te(t,this.document),t.isCollapsed)return new pi(this.document);const{start:i,end:r}=this._breakAttributesRange(t,!0),m=i.parent,x=r.offset-i.offset,z=m._removeChildren(i.offset,x);for(const be of z)this._removeFromClonedElementsGroup(be);const ae=this.mergeAttributes(i);return t.start=ae,t.end=ae.clone(),new pi(this.document,z)}clear(e,t){Te(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of i){const m=r.item;let x;if(m.is("element")&&t.isSimilar(m))x=gt._createOn(m);else if(!r.nextPosition.isAfter(e.start)&&m.is("$textProxy")){const z=m.getAncestors().find(ae=>ae.is("element")&&t.isSimilar(ae));z&&(x=gt._createIn(z))}x&&(x.end.isAfter(e.end)&&(x.end=e.end),x.start.isBefore(e.start)&&(x.start=e.start),this.remove(x))}}move(e,t){let i;if(t.isAfter(e.end)){const r=(t=this._breakAttributes(t,!0)).parent,m=r.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=r.childCount-m}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Be))throw new v.Yb("view-writer-wrap-invalid-attribute",this.document);if(Te(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&(i=r.parent,!Array.from(i.getChildren()).some(x=>!x.is("uiElement")))&&(r=r.getLastMatchingPosition(x=>x.item.is("uiElement"))),r=this._wrapPosition(r,t);const m=this.document.selection;return m.isCollapsed&&m.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new gt(r)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof Be))throw new v.Yb("view-writer-unwrap-invalid-attribute",this.document);if(Te(e,this.document),e.isCollapsed)return e;const{start:i,end:r}=this._breakAttributesRange(e,!0),m=i.parent,x=this._unwrapChildren(m,i.offset,r.offset,t),z=this.mergeAttributes(x.start);z.isEqual(x.start)||x.end.offset--;const ae=this.mergeAttributes(x.end);return new gt(z,ae)}rename(e,t){const i=new mt(this.document,e,t.getAttributes());return this.insert(tt._createAfter(t),i),this.move(gt._createIn(t),tt._createAt(i,0)),this.remove(gt._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return tt._createAt(e,t)}createPositionAfter(e){return tt._createAfter(e)}createPositionBefore(e){return tt._createBefore(e)}createRange(e,t){return new gt(e,t)}createRangeOn(e){return gt._createOn(e)}createRangeIn(e){return gt._createIn(e)}createSelection(...e){return new Ti(...e)}createSlot(e="children"){if(!this._slotFactory)throw new v.Yb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let r,m;if(r=i?vt(e):e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new v.Yb("view-writer-invalid-position-container",this.document);m=i?this._breakAttributes(e,!0):e.parent.is("$text")?qe(e):e;const x=r._insertChild(m.offset,t);for(const De of t)this._addToClonedElementsGroup(De);const z=m.getShiftedBy(x),ae=this.mergeAttributes(m);ae.isEqual(m)||z.offset--;const be=this.mergeAttributes(z);return new gt(ae,be)}_wrapChildren(e,t,i,r){let m=t;const x=[];for(;m<i;){const ae=e.getChild(m),be=ae.is("$text"),De=ae.is("attributeElement");if(De&&this._wrapAttributeElement(r,ae))x.push(new tt(e,m));else if(be||!De||Ye(r,ae)){const Xe=r._clone();ae._remove(),Xe._appendChild(ae),e._insertChild(m,Xe),this._addToClonedElementsGroup(Xe),x.push(new tt(e,m))}else this._wrapChildren(ae,0,ae.childCount,r);m++}let z=0;for(const ae of x)ae.offset-=z,ae.offset!=t&&(this.mergeAttributes(ae).isEqual(ae)||(z++,i--));return gt._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,r){let m=t;const x=[];for(;m<i;){const ae=e.getChild(m);if(ae.is("attributeElement"))if(ae.isSimilar(r)){const be=ae.getChildren(),De=ae.childCount;ae._remove(),e._insertChild(m,be),this._removeFromClonedElementsGroup(ae),x.push(new tt(e,m),new tt(e,m+De)),m+=De,i+=De-1}else this._unwrapAttributeElement(r,ae)?(x.push(new tt(e,m),new tt(e,m+1)),m++):(this._unwrapChildren(ae,0,ae.childCount,r),m++);else m++}let z=0;for(const ae of x)ae.offset-=z,!(ae.offset==t||ae.offset==i)&&(this.mergeAttributes(ae).isEqual(ae)||(z++,i--));return gt._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:r}=this._breakAttributesRange(e,!0),m=i.parent,x=this._wrapChildren(m,i.offset,r.offset,t),z=this.mergeAttributes(x.start);z.isEqual(x.start)||x.end.offset--;const ae=this.mergeAttributes(x.end);return new gt(z,ae)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return ct(e.clone());e.parent.is("$text")&&(e=qe(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const r=new gt(e,e.getShiftedBy(1));this.wrap(r,t);const m=new tt(i.parent,i.index);i._remove();const x=m.nodeBefore,z=m.nodeAfter;return x instanceof I&&z instanceof I?yt(x,z):ct(m)}_wrapAttributeElement(e,t){if(!V(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!V(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,r=e.end;if(Te(e,this.document),e.isCollapsed){const ae=this._breakAttributes(e.start,t);return new gt(ae,ae)}const m=this._breakAttributes(r,t),x=m.parent.childCount,z=this._breakAttributes(i,t);return m.offset+=m.parent.childCount-x,new gt(z,m)}_breakAttributes(e,t=!1){const i=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new v.Yb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new v.Yb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new v.Yb("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&jt(r.parent)||jt(r))return e.clone();if(r.is("$text"))return this._breakAttributes(qe(e),t);if(i==r.childCount){const m=new tt(r.parent,r.index+1);return this._breakAttributes(m,t)}if(i===0){const m=new tt(r.parent,r.index);return this._breakAttributes(m,t)}{const m=r.index+1,x=r._clone();r.parent._insertChild(m,x),this._addToClonedElementsGroup(x);const z=r.childCount-i,ae=r._removeChildren(i,z);x._appendChild(ae);const be=new tt(r.parent,m);return this._breakAttributes(be,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function vt(a){let e=a.parent;for(;!jt(e);){if(!e)return;e=e.parent}return e}function Ye(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function ct(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new tt(e,e.data.length);const t=a.nodeAfter;return t&&t.is("$text")?new tt(t,0):a}function qe(a){if(a.offset==a.parent.data.length)return new tt(a.parent.parent,a.parent.index+1);if(a.offset===0)return new tt(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new I(a.root.document,e)),new tt(a.parent.parent,a.parent.index+1)}function yt(a,e){const t=a.data.length;return a._data+=e.data,e._remove(),new tt(a,t)}const Dt=[I,Be,mt,_t,si,zt];function Mt(a,e){for(const t of a){if(!Dt.some(i=>t instanceof i))throw new v.Yb("view-writer-insert-invalid-node-type",e);t.is("$text")||Mt(t.getChildren(),e)}}function jt(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function Te(a,e){const t=vt(a.start),i=vt(a.end);if(!t||!i||t!==i)throw new v.Yb("view-writer-invalid-range-container",e)}function V(a,e){return a.id===null&&e.id===null}const N=a=>a.createTextNode("\xA0"),X=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},Pe=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},We=7,oe="\u2060".repeat(We);function Me(a){return typeof a=="string"?a.substr(0,We)===oe:(0,v.KH)(a)&&a.data.substr(0,We)===oe}function Je(a){return a.data.length==We&&Me(a)}function Qe(a){const e=typeof a=="string"?a:a.data;return Me(a)?e.slice(We):e}function ut(a,e){if(e.keyCode==v.uP.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset;Me(i)&&r<=We&&t.collapse(i,0)}}}var Ft=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Pt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(Ft.A,Pt),Ft.A.locals;class ri extends(0,v.VM)(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),v._K.isBlink&&!v._K.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new v.Yb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!v._K.isAndroid)return;let e=null;const t=!(v._K.isBlink&&!v._K.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=tt._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),r=i.parent.ownerDocument;Me(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=bi(r,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),m=this._diffNodeLists(i,r),x=this._findUpdateActions(m,i,r,ui);if(x.indexOf("update")!==-1){const z={equal:0,insert:0,delete:0};for(const ae of x)if(ae==="update"){const be=z.equal+z.insert,De=z.equal+z.delete,Xe=e.getChild(be);!Xe||Xe.is("uiElement")||Xe.is("rawElement")||this._updateElementMappings(Xe,i[De]),(0,v.TF)(r[be]),z.equal++}else z[ae]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?tt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,v.KH)(t.parent)&&Me(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Me(e))throw new v.Yb("view-renderer-filler-was-lost",this);Je(e)?e.remove():e.data=e.data.substr(We),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(x){if(x.getAttribute("contenteditable")=="false")return!1;const z=x.findAncestor(ae=>ae.hasAttribute("contenteditable"));return!z||z.getAttribute("contenteditable")=="true"}(t))return!1;const r=e.nodeBefore,m=e.nodeAfter;return!(r instanceof I||m instanceof I)&&!!(i!==t.getFillerOffset()||r&&r.is("element","br"))&&(!v._K.isAndroid||!r&&!m)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const m=t.inlineFillerPosition;m&&m.parent==e.parent&&m.offset==e.index&&(r=oe+r),bn(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(m=>m.name),r=e.getAttributeKeys();for(const m of r)this.domConverter.setDomElementAttribute(t,m,e.getAttribute(m),e);for(const m of i)e.hasAttribute(m)||this.domConverter.removeDomElementAttribute(t,m)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(v._K.isAndroid){let Xe=null;for(const lt of Array.from(i.childNodes)){if(Xe&&(0,v.KH)(Xe)&&(0,v.KH)(lt)){i.normalize();break}Xe=lt}}const r=t.inlineFillerPosition,m=i.childNodes,x=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&bi(i.ownerDocument,x,r.offset);const z=this._diffNodeLists(m,x),ae=this._findUpdateActions(z,m,x,Ei);let be=0;const De=new Set;for(const Xe of ae)Xe==="delete"?(De.add(m[be]),(0,v.TF)(m[be])):Xe!=="equal"&&Xe!=="update"||be++;be=0;for(const Xe of ae)Xe==="insert"?((0,v.PT)(i,be,x[be]),be++):Xe==="update"?(bn(m[be],x[be].data),be++):Xe==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(x[be])),be++);for(const Xe of De)Xe.parentNode||this.domConverter.unbindDomElement(Xe)}_diffNodeLists(e,t){return e=function(i,r){const m=Array.from(i);return m.length==0||!r||m[m.length-1]==r&&m.pop(),m}(e,this._fakeSelectionContainer),(0,v.Ui)(e,t,_i.bind(null,this.domConverter))}_findUpdateActions(e,t,i,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let m=[],x=[],z=[];const ae={equal:0,insert:0,delete:0};for(const be of e)be==="insert"?z.push(i[ae.equal+ae.insert]):be==="delete"?x.push(t[ae.equal+ae.delete]):(m=m.concat((0,v.Ui)(x,z,r).map(De=>De==="equal"?"update":De)),m.push("equal"),x=[],z=[]),ae[be]++;return m.concat((0,v.Ui)(x,z,r).map(be=>be==="equal"?"update":be))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(v._K.isBlink&&!v._K.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&v._K.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(x){const z=x.createElement("div");return z.className="ck-fake-selection-container",Object.assign(z.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),z.textContent="\xA0",z}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";const r=t.getSelection(),m=t.createRange();r.removeAllRanges(),m.selectNodeContents(i),r.addRange(m)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,r.parent,r.offset),v._K.isGecko&&function(m,x){let z=m.parent,ae=m.offset;if((0,v.KH)(z)&&Je(z)&&(ae=(0,v.qh)(z)+1,z=z.parentNode),z.nodeType!=Node.ELEMENT_NODE||ae!=z.childNodes.length-1)return;const be=z.childNodes[ae];be&&be.tagName=="BR"&&x.addRange(x.getRangeAt(0))}(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function bi(a,e,t){const i=e instanceof Array?e:e.childNodes,r=i[t];if((0,v.KH)(r))return r.data=oe+r.data,r;{const m=a.createTextNode(oe);return Array.isArray(e)?i.splice(t,0,m):(0,v.PT)(e,t,m),m}}function ui(a,e){return(0,v.Ll)(a)&&(0,v.Ll)(e)&&!(0,v.KH)(a)&&!(0,v.KH)(e)&&!(0,v.Cn)(a)&&!(0,v.Cn)(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function Ei(a,e){return(0,v.Ll)(a)&&(0,v.Ll)(e)&&(0,v.KH)(a)&&(0,v.KH)(e)}function _i(a,e,t){return e===t||((0,v.KH)(e)&&(0,v.KH)(t)?e.data===t.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(t)))}function bn(a,e){const t=a.data;if(t==e)return;const i=(0,v.Mr)(t,e);for(const r of i)r.type==="insert"?a.insertData(r.index,r.values.join("")):a.deleteData(r.index,r.howMany)}const wn=Pe(v.global.document),yn=N(v.global.document),An=X(v.global.document),gn="data-ck-unsafe-attribute-",Yn="data-ck-unsafe-element";class In{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new H,this._inlineObjectElementMatcher=new H,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?v.global.document:v.global.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Ti(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),r=i.createDocumentFragment(),m=i.body.childNodes;for(;m.length>0;)r.appendChild(m[0]);const x=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),z=[];let ae;for(;ae=x.nextNode();)z.push(ae);for(const be of z){for(const Xe of be.getAttributeNames())this.setDomElementAttribute(be,Xe,be.getAttribute(Xe));const De=be.tagName.toLowerCase();this._shouldRenameElement(De)&&(Co(De),be.replaceWith(this._createReplacementDomElement(De,be)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{const i=e;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let r;if(i.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,i);else{if(i.is("uiElement"))return r=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),t.bind&&this.bindElements(r,i),r;this._shouldRenameElement(i.name)?(Co(i.name),r=this._createReplacementDomElement(i.name)):r=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(r,this),t.bind&&this.bindElements(r,i);for(const m of i.getAttributeKeys())this.setDomElementAttribute(r,m,i.getAttribute(m),i)}if(t.withChildren!==!1)for(const m of this.viewChildrenToDom(i,t))r instanceof HTMLTemplateElement?r.content.appendChild(m):r.appendChild(m);return r}}setDomElementAttribute(e,t,i,r){const m=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);m||(0,v.FF)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),(0,v.i8)(t)?(e.hasAttribute(t)&&!m?e.removeAttribute(t):e.hasAttribute(gn+t)&&m&&e.removeAttribute(gn+t),e.setAttribute(m?t:gn+t,i)):(0,v.FF)("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=Yn&&(e.removeAttribute(t),e.removeAttribute(gn+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const m of e.getChildren()){i===r&&(yield this._getBlockFiller());const x=m.is("element")&&!!m.getCustomProperty("dataPipeline:transparentRendering")&&!(0,v.$1)(m.getAttributes());x&&this.renderingMode=="data"?yield*this.viewChildrenToDom(m,t):(x&&(0,v.FF)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:m}),yield this.viewToDom(m,t)),r++}i===r&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(i.parent,i.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let r=e.offset;return Me(i)&&(r+=We),{parent:i,offset:r}}{let i,r,m;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;m=i.childNodes[0]}else{const x=e.nodeBefore;if(r=x.is("$text")?this.findCorrespondingDomText(x):this.mapViewToDom(x),!r)return null;i=r.parentNode,m=r.nextSibling}return(0,v.KH)(m)&&Me(m)?{parent:m,offset:We}:{parent:i,offset:r?(0,v.qh)(r)+1:0}}}domToView(e,t={}){const i=[],r=this._domToView(e,t,i),m=r.next().value;return m?(r.next(),this._processDomInlineNodes(null,i,t),m.is("$text")&&m.data.length==0?null:m):null}*domChildrenToView(e,t={},i=[]){let r=[];r=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let m=0;m<r.length;m++){const x=r[m],z=this._domToView(x,t,i),ae=z.next().value;ae!==null&&(this._isBlockViewElement(ae)&&this._processDomInlineNodes(e,i,t),yield ae,z.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(function(r){if(!v._K.isGecko||!r.rangeCount)return!1;const m=r.getRangeAt(0).startContainer;try{Object.prototype.toString.call(m)}catch{return!0}return!1}(e))return new Ti([]);if(e.rangeCount===1){let r=e.getRangeAt(0).startContainer;(0,v.KH)(r)&&(r=r.parentNode);const m=this.fakeSelectionToView(r);if(m)return m}const t=this.isDomSelectionBackward(e),i=[];for(let r=0;r<e.rangeCount;r++){const m=e.getRangeAt(r),x=this.domRangeToView(m);x&&i.push(x)}return new Ti(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new gt(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,v.qh)(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return tt._createBefore(i);if((0,v.KH)(e)){if(Je(e))return this.domPositionToView(e.parentNode,(0,v.qh)(e));const r=this.findCorrespondingViewText(e);let m=t;return r?(Me(e)&&(m-=We,m=m<0?0:m),new tt(r,m)):null}if(t===0){const r=this.mapDomToView(e);if(r)return new tt(r,0)}else{const r=e.childNodes[t-1];if((0,v.KH)(r)&&Je(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,(0,v.qh)(r));const m=(0,v.KH)(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(m&&m.parent)return new tt(m.parent,m.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Je(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const r=this.mapDomToView(i);if(r){const m=r.nextSibling;return m instanceof I?m:null}}else{const r=this.mapDomToView(e.parentNode);if(r){const m=r.getChild(0);return m instanceof I?m:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:r}=v.global.window,m=[];xo(t,x=>{const{scrollLeft:z,scrollTop:ae}=x;m.push([z,ae])}),t.focus(),xo(t,x=>{const[z,ae]=m.shift();x.scrollLeft=z,x.scrollTop=ae}),v.global.window.scrollTo(i,r)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(wn):!(e.tagName!=="BR"||!Xn(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(An)||function(t,i){return t.isEqualNode(yn)&&Xn(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=(0,v.DS)(e);for(t.pop();t.length;){const i=t.pop(),r=this._domToViewMapping.get(i);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return N(this._domDocument);case"markedNbsp":return X(this._domDocument);case"br":return Pe(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,v.KH)(e)&&Me(e)&&t<We||this.isElement(e)&&Me(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const r=this.getHostViewElement(e);if(r)return r;if((0,v.Cn)(e)&&t.skipComments)return null;if((0,v.KH)(e)){if(Je(e))return null;{const m=e.data;if(m==="")return null;const x=new I(this.document,m);return i.push(x),x}}{let m=this.mapDomToView(e);if(m)return this._isInlineObjectElement(m)&&i.push(m),m;if(this.isDocumentFragment(e))m=new pi(this.document),t.bind&&this.bindDocumentFragments(e,m);else{m=this._createViewElement(e,t),t.bind&&this.bindElements(e,m);const z=e.attributes;if(z)for(let ae=z.length,be=0;be<ae;be++)m._setAttribute(z[be].name,z[be].value);if(this._isViewElementWithRawContent(m,t))return m._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(m)||i.push(m),m;if((0,v.Cn)(e))return m._setCustomProperty("$rawContent",e.data),m}yield m;const x=[];if(t.withChildren!==!1)for(const z of this.domChildrenToView(e,t,x))m._appendChild(z);if(this._isInlineObjectElement(m))i.push(m);else for(const z of x)i.push(z)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let m=0;m<t.length;m++){const x=t[m];if(!x.is("$text")){r=!1;continue}let z,ae=!1;if(Jn(x,this.preElements))z=Qe(x.data);else{z=x.data.replace(/[ \n\t\r]{1,}/g," "),ae=/[^\S\u00A0]/.test(z.charAt(z.length-1));const be=m>0?t[m-1]:null,De=m+1<t.length?t[m+1]:null,Xe=!be||be.is("element")&&be.name=="br"||r,lt=!De&&!Me(x.data);i.withChildren!==!1&&(Xe&&(z=z.replace(/^ /,"")),lt&&(z=z.replace(/ $/,""))),z=Qe(z),z=z.replace(/ \u00A0/g,"  ");const Vt=De&&De.is("element")&&De.name!="br",Kt=De&&De.is("$text")&&De.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(z)||!De||Vt||Kt)&&(z=z.replace(/\u00A0$/," ")),(Xe||be&&be.is("element")&&be.name!="br")&&(z=z.replace(/^\u00A0/," "))}z.length==0&&x.parent?(x._remove(),t.splice(m,1),m--):(x._data=z,r=ae)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),r=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!r||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new wt({startPosition:t?tt._createAfter(e):tt._createBefore(e),direction:t?"forward":"backward"});for(const r of i){if(r.item.is("element","br"))return null;if(this._isInlineObjectElement(r.item))return r.item;if(r.item.is("containerElement"))return null;if(r.item.is("$textProxy"))return r.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if((0,v.Cn)(e))return new zt(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ot(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(Yn,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const r of t.getAttributeNames())i.setAttribute(r,t.getAttribute(r))}return i}}function Jn(a,e){return a.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function xo(a,e){let t=a;for(;t;)e(t),t=t.parentElement}function Xn(a,e){const t=a.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Co(a){a==="script"&&(0,v.FF)("domconverter-unsafe-script-element-detected"),a==="style"&&(0,v.FF)("domconverter-unsafe-style-element-detected")}class eo extends(0,v.c5)(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Go=s("./node_modules/lodash-es/assignIn.js");class hn{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,Go.A)(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Sn extends eo{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new hn(this.view,t,i))}}class zn extends Sn{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,v.QC)(this)}};this.fire(e.type,e,t)}}var go=s("./node_modules/lodash-es/debounce.js");class ir extends eo{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,go.A)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Ti(t.getRanges(),{backward:t.isBackward,fake:!1});e!=v.uP.arrowleft&&e!=v.uP.arrowup||i.setTo(i.getFirstPosition()),e!=v.uP.arrowright&&e!=v.uP.arrowdown||i.setTo(i.getLastPosition());const r={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}var po=s("./node_modules/lodash-es/_baseIsEqual.js");const Ao=function(a,e,t){var i=(t=typeof t=="function"?t:void 0)?t(a,e):void 0;return i===void 0?(0,po.A)(a,e,void 0,t):!!i};class Mo extends eo{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,r=new Set;for(const x of e){const z=t.mapDomToView(x.target);z&&(z.is("uiElement")||z.is("rawElement")||x.type!=="childList"||this._isBogusBrMutation(x)||r.add(z))}for(const x of e){const z=t.mapDomToView(x.target);if((!z||!z.is("uiElement")&&!z.is("rawElement"))&&x.type==="characterData"){const ae=t.findCorrespondingViewText(x.target);ae&&!r.has(ae.parent)?i.add(ae):!ae&&Me(x.target)&&r.add(t.mapDomToView(x.target.parentNode))}}let m=!1;for(const x of i)m=!0,this.renderer.markToSync("text",x);for(const x of r){const z=t.mapViewToDom(x),ae=Array.from(x.getChildren()),be=Array.from(t.domChildrenToView(z,{withChildren:!1}));Ao(ae,be,Fo)||(m=!0,this.renderer.markToSync("children",x))}m&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Fo(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class Fn extends Sn{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,r)=>{const m=t.selection.editableElement;m!==null&&m!==r.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class to extends eo{constructor(e){super(e),this.mutationObserver=e.getObserver(Mo),this.focusObserver=e.getObserver(Fn),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,go.A)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,go.A)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,m)=>{this.document.isComposing&&!v._K.isAndroid||(this._handleSelectionChange(m,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(i);if(r.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(r)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(r))this.view.forceRender();else{const m={oldSelection:this.selection,newSelection:r,domSelection:i};this.document.fire("selectionChange",m),this._fireSelectionChangeDoneDebounced(m)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Tn extends Sn{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class wo{constructor(e,t={}){this._files=t.cacheFiles?Lo(e):null,this._native=e}get files(){return this._files||(this._files=Lo(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Lo(a){const e=Array.from(a.files||[]),t=Array.from(a.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class Ho extends Sn{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,r=i.document;let m=null,x=null,z=[];if(e.dataTransfer&&(m=new wo(e.dataTransfer)),e.data!==null?x=e.data:m&&(x=m.getData("text/plain")),r.selection.isFake)z=Array.from(r.selection.getRanges());else if(t.length)z=t.map(ae=>{const be=i.domConverter.domPositionToView(ae.startContainer,ae.startOffset),De=i.domConverter.domPositionToView(ae.endContainer,ae.endOffset);return be?i.createRange(be,De):De?i.createRange(De):void 0}).filter(ae=>!!ae);else if(v._K.isAndroid){const ae=e.target.ownerDocument.defaultView.getSelection();z=Array.from(i.domConverter.domSelectionToView(ae).getRanges())}if(v._K.isAndroid&&e.inputType=="insertCompositionText"&&x&&x.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(z[0].end)]});else if(e.inputType=="insertText"&&x&&x.includes(`
`)){const ae=x.split(/\n{1,2}/g);let be=z;for(let De=0;De<ae.length;De++){const Xe=ae[De];Xe!=""&&(this.fire(e.type,e,{data:Xe,dataTransfer:m,targetRanges:be,inputType:e.inputType,isComposing:e.isComposing}),be=[r.selection.getFirstRange()]),De+1<ae.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:be}),be=[r.selection.getFirstRange()])}}else this.fire(e.type,e,{data:x,dataTransfer:m,targetRanges:z,inputType:e.inputType,isComposing:e.isComposing})}}class nr extends eo{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&(0,v.Yt)(i.keyCode)){const r=new Di(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,i),r.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class To extends eo{constructor(e){super(e);const t=this.document;t.on("keydown",(i,r)=>{if(!this.isEnabled||r.keyCode!=v.uP.tab||r.ctrlKey)return;const m=new Di(t,"tab",t.selection.getFirstRange());t.fire(m,r),m.stop.called&&i.stop()})}observe(){}stopObserving(){}}var io=s("./node_modules/lodash-es/cloneDeep.js");class fo extends(0,v.VM)(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Le(e),this.domConverter=new In(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ri(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Ci(this.document),this.addObserver(Mo),this.addObserver(Fn),this.addObserver(to),this.addObserver(zn),this.addObserver(ir),this.addObserver(Tn),this.addObserver(nr),this.addObserver(Ho),this.addObserver(To),this.document.on("arrowKey",ut,{priority:"low"}),Jt(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),v._K.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const r={};for(const{name:x,value:z}of Array.from(e.attributes))r[x]=z,x==="class"?this._writer.addClass(z.split(" "),i):this._writer.setAttribute(x,z,i);this._initialDomRootAttributes.set(e,r);const m=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};m(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(x,z)=>this._renderer.markToSync("children",z)),i.on("change:attributes",(x,z)=>this._renderer.markToSync("attributes",z)),i.on("change:text",(x,z)=>this._renderer.markToSync("text",z)),i.on("change:isReadOnly",()=>this.change(m)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const x of this._observers.values())x.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:r})=>t.removeAttribute(r));const i=this._initialDomRootAttributes.get(t);for(const r in i)t.setAttribute(r,i[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const r of this._observers.values())r.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,r]of this.domRoots)t.observe(r,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:r=20}={}){const m=this.document.selection.getFirstRange();if(!m)return;const x=(0,io.A)({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:r});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const z={target:this.domConverter.viewRangeToDom(m),viewportOffset:i,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",z,x),(0,v.vK)(z)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new v.Yb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){v.Yb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Fn).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return tt._createAt(e,t)}createPositionAfter(e){return tt._createAfter(e)}createPositionBefore(e){return tt._createBefore(e)}createRange(e,t){return new gt(e,t)}createRangeOn(e){return gt._createOn(e)}createRangeIn(e){return gt._createIn(e)}createSelection(...e){return new Ti(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class no{is(){throw new Error("is() method is abstract")}}class Pn extends no{constructor(e){super(),this.parent=null,this._attrs=(0,v.av)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new v.Yb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new v.Yb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let m=0;for(;i[m]==r[m]&&i[m];)m++;return m===0?null:i[m-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=(0,v.ww)(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,v.av)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Pn.prototype.is=function(a){return a==="node"||a==="model:node"};class Hn{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,r)=>i+r.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new v.Yb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new v.Yb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof Pn))throw new v.Yb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,v.eL)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class un extends Pn{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new un(this.data,this.getAttributes())}static fromJSON(e){return new un(e.data,e.attributes)}}un.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class Un extends no{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new v.Yb("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new v.Yb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Un.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class ji extends Pn{constructor(e,t,i){super(t),this._children=new Hn,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new ji(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(r){return typeof r=="string"?[new un(r)]:((0,v.xZ)(r)||(r=[r]),Array.from(r).map(m=>typeof m=="string"?new un(m):m instanceof Un?new un(m.data,m.getAttributes()):m))}(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(ji.fromJSON(i)):t.push(un.fromJSON(i))}return new ji(e.name,e.attributes,t)}}ji.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class mn{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new v.Yb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new v.Yb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Xt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,r,m;do r=this.position,m=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=r,this._visitedParent=m)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=oo(t,i),m=r||uo(t,i,r);if(m instanceof ji){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=m;return this._position=t,co("elementStart",m,e,t,1)}if(m instanceof un){let x;if(this.singleCharacters)x=1;else{let be=m.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<be&&(be=this.boundaries.end.offset),x=be-t.offset}const z=t.offset-m.startOffset,ae=new Un(m,z,x);return t.offset+=x,this._position=t,co("text",ae,e,t,x)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():co("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,m=oo(t,r),x=m||Bn(t,r,m);if(x instanceof ji)return t.offset--,this.shallow?(this._position=t,co("elementStart",x,e,t,1)):(t.path.push(x.maxOffset),this._position=t,this._visitedParent=x,this.ignoreElementEnd?this._previous():co("elementEnd",x,e,t));if(x instanceof un){let z;if(this.singleCharacters)z=1;else{let De=x.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>De&&(De=this.boundaries.start.offset),z=t.offset-De}const ae=t.offset-x.startOffset,be=new Un(x,ae-z,z);return t.offset-=z,this._position=t,co("text",be,e,t,z)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,co("elementStart",i,e,t,1)}}function co(a,e,t,i,r){return{done:!1,value:{type:a,item:e,previousPosition:t,nextPosition:i,length:r}}}class Xt extends no{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new v.Yb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new v.Yb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new v.Yb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new v.Yb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return oo(this,this.parent)}get nodeAfter(){const e=this.parent;return uo(this,e,oo(this,e))}get nodeBefore(){const e=this.parent;return Bn(this,e,oo(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,v.ww)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new mn(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,v.ww)(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const r=this.path[i]-e.path[i];if(r<-1||r>1)return!1;if(r===1)return Uo(e,this,i);if(r===-1)return Uo(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?ho(this.path,t):ho(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return(0,v.ww)(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Xt._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?Xt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,v.ww)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if((0,v.ww)(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;i.path[r]-=t}}return i}_getTransformedByInsertion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,v.ww)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if((0,v.ww)(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(i.path[r]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return Xt._createAt(this);const r=this._getTransformedByDeletion(e,i);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):r._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,r=Xt._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-e.offset,r.path=[...r.path,...this.path.slice(i+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof Xt)return new Xt(e.root,e.path,e.stickiness);{const r=e;if(t=="end")t=r.maxOffset;else{if(t=="before")return this._createBefore(r,i);if(t=="after")return this._createAfter(r,i);if(t!==0&&!t)throw new v.Yb("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new v.Yb("model-position-parent-incorrect",[this,e]);const m=r.getPath();return m.push(t),new this(r.root,m,i)}}static _createAfter(e,t){if(!e.parent)throw new v.Yb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new v.Yb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new Xt(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new v.Yb("model-position-fromjson-no-root",t,{rootName:e.root});return new Xt(t.getRoot(e.root),e.path,e.stickiness)}}function oo(a,e){const t=e.getChild(e.offsetToIndex(a.offset));return t&&t.is("$text")&&t.startOffset<a.offset?t:null}function uo(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset))}function Bn(a,e,t){return t!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function Uo(a,e,t){return t+1!==a.path.length&&!!ho(e.path,t+1)&&!!function(i,r){let m=i.parent,x=i.path.length-1,z=0;for(;x>=r;){if(i.path[x]+z!==m.maxOffset)return!1;z=1,x--,m=m.parent}return!0}(a,t+1)}function ho(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}Xt.prototype.is=function(a){return a==="position"||a==="model:position"};class Lt extends no{constructor(e,t){super(),this.start=Xt._createAt(e),this.end=t?Xt._createAt(t):Xt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new mn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,v.ww)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}containsItem(e){const t=Xt._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Lt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Lt(e.end,this.end))):t.push(new Lt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Lt(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let r=this.start,m=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(m)&&(m=e.end),new Lt(r,m)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=Xt._createAt(this.start);let r=i.parent;for(;i.path.length>t+1;){const m=r.maxOffset-i.offset;m!==0&&e.push(new Lt(i,i.getShiftedBy(m))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){const m=this.end.path[i.path.length-1],x=m-i.offset;x!==0&&e.push(new Lt(i,i.getShiftedBy(x))),i.offset=m,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new mn(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new mn(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new mn(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Lt(this.start,this.end)]}getTransformedByOperations(e){const t=[new Lt(this.start,this.end)];for(const i of e)for(let r=0;r<t.length;r++){const m=t[r].getTransformedByOperation(i);t.splice(r,1,...m),r+=m.length-1}for(let i=0;i<t.length;i++){const r=t[i];for(let m=i+1;m<t.length;m++){const x=t[m];(r.containsRange(x)||x.containsRange(r)||r.isEqual(x))&&t.splice(m,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,r=e.howMany,m=e.targetPosition;return this._getTransformedByMove(i,m,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Lt(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Lt(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Xt._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new Lt(t,i)):new Lt(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new Lt(this.start,e),new Lt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const r=new Lt(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,t),r.end=r.end._getTransformedByInsertion(e,t),[r]}}_getTransformedByMove(e,t,i,r=!1){if(this.isCollapsed){const Xe=this.start._getTransformedByMove(e,t,i);return[new Lt(Xe)]}const m=Lt._createFromPositionAndShift(e,i),x=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!r&&(m.containsPosition(this.start)||m.containsPosition(this.end))){const Xe=this.start._getTransformedByMove(e,t,i),lt=this.end._getTransformedByMove(e,t,i);return[new Lt(Xe,lt)]}let z;const ae=this.getDifference(m);let be=null;const De=this.getIntersection(m);if(ae.length==1?be=new Lt(ae[0].start._getTransformedByDeletion(e,i),ae[0].end._getTransformedByDeletion(e,i)):ae.length==2&&(be=new Lt(this.start,this.end._getTransformedByDeletion(e,i))),z=be?be._getTransformedByInsertion(x,i,De!==null||r):[],De){const Xe=new Lt(De.start._getCombined(m.start,x),De.end._getCombined(m.start,x));z.length==2?z.splice(1,0,Xe):z.push(Xe)}return z}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return i==null&&r==null?null:(i==null&&(i=e),r==null&&(r=e),new Lt(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return new this(Xt._createAt(e,0),Xt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Xt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new v.Yb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((m,x)=>m.start.isAfter(x.start)?1:-1);const i=e.indexOf(t),r=new this(t.start,t.end);if(i>0)for(let m=i-1;e[m].end.isEqual(r.start);m++)r.start=Xt._createAt(e[m].start);for(let m=i+1;m<e.length&&e[m].start.isEqual(r.end);m++)r.end=Xt._createAt(e[m].end);return r}static fromJSON(e,t){return new this(Xt.fromJSON(e.start,t),Xt.fromJSON(e.end,t))}}Lt.prototype.is=function(a){return a==="range"||a==="model:range"};class mo extends(0,v.Mm)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new v.Yb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(i),m=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=Xt._createAt(r,m)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Lt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new gt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const r of t)if(r.is("attributeElement"))for(const m of r.getElementsWithSameId())i.add(m);else i.add(r);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let r=0;for(let m=0;m<t;m++)r+=this.getModelLength(e.getChild(m));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,r=0,m=0,x=0;if(e.is("$text"))return new tt(e,t);for(;m<t;)i=e.getChild(x),r=this.getModelLength(i),m+=r,x++;return m==t?this._moveViewPositionToTextNode(new tt(e,x)):this.findPositionIn(i,t-(m-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof I?new tt(t,t.data.length):i instanceof I?new tt(i,0):e}}class _e{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=B(t),e instanceof Un&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=B(t),e instanceof Un&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=B(t),e instanceof Un&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const r=i.get(t);return r===void 0?null:r}revert(e,t){t=B(t),e instanceof Un&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,r]of this._consumable)for(const[m,x]of r){const z=m.split(":")[0];x&&e==z&&t.push({event:m,item:i.name||i.description})}if(t.length)throw new v.Yb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const r=i.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,r=e.parent,m=Symbol("$textProxy:"+e.data);let x,z;return x=this._textProxyRegistry.get(t),x||(x=new Map,this._textProxyRegistry.set(t,x)),z=x.get(i),z||(z=new Map,x.set(i,z)),z.set(r,m),m}}function B(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}var ce=Object.defineProperty,$e=Object.defineProperties,F=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,se=(a,e,t)=>e in a?ce(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,me=(a,e)=>{for(var t in e||(e={}))j.call(e,t)&&se(a,t,e[t]);if(y)for(var t of y(e))Z.call(e,t)&&se(a,t,e[t]);return a},ke=(a,e)=>$e(a,F(e));class fe extends(0,v.Mm)(){constructor(e){super(),this._conversionApi=me({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const r=this._createConversionApi(i,e.getRefreshedItems());for(const x of e.getMarkersToRemove())this._convertMarkerRemove(x.name,x.range,r);const m=this._reduceChanges(e.getChanges());for(const x of m)x.type==="insert"?this._convertInsert(Lt._createFromPositionAndShift(x.position,x.length),r):x.type==="reinsert"?this._convertReinsert(Lt._createFromPositionAndShift(x.position,x.length),r):x.type==="remove"?this._convertRemove(x.position,x.length,x.name,r):this._convertAttribute(x.range,x.attributeKey,x.attributeOldValue,x.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const x of r.mapper.flushUnboundMarkerNames()){const z=t.get(x).getRange();this._convertMarkerRemove(x,z,r),this._convertMarkerAdd(x,z,r)}for(const x of e.getMarkersToAdd())this._convertMarkerAdd(x.name,x.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,i,r={}){const m=this._createConversionApi(i,void 0,r);this._convertInsert(e,m);for(const[x,z]of t)this._convertMarkerAdd(x,z,m);m.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const r=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},r);const m=e.getFirstPosition().root;if(!r.mapper.toViewElement(m))return;const x=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,x),this.fire("selection",{selection:e},r),e.isCollapsed){for(const z of x)if(r.consumable.test(e,"addMarker:"+z.name)){const ae=z.getRange();if(!je(e.getFirstPosition(),z,r.mapper))continue;const be={item:e,markerName:z.name,markerRange:ae};this.fire(`addMarker:${z.name}`,be,r)}for(const z of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+z)){const ae={item:e,range:e.getFirstRange(),attributeKey:z,attributeOldValue:null,attributeNewValue:e.getAttribute(z)};this.fire(`attribute:${z}:$text`,ae,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const r of Array.from(e.getWalker({shallow:!0})).map(Ne))this._testAndFire("insert",r,t)}_convertRemove(e,t,i,r){this.fire(`remove:${i}`,{position:e,length:t},r)}_convertAttribute(e,t,i,r,m){this._addConsumablesForRange(m.consumable,e,`attribute:${t}`);for(const x of e){const z={item:x.item,range:Lt._createFromPositionAndShift(x.previousPosition,x.length),attributeKey:t,attributeOldValue:i,attributeNewValue:r};this._testAndFire(`attribute:${t}`,z,m)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const r of i.map(Ne))this._testAndFire("insert",ke(me({},r),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(i.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},i),i.consumable.consume(t,r)){this._addConsumablesForRange(i.consumable,t,r);for(const m of t.getItems()){if(!i.consumable.test(m,r))continue;const x={item:m,range:Lt._createOn(m),markerName:e,markerRange:t};this.fire(r,x,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const r=i.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const m of r.getAttributeKeys())e.add(r,"attribute:"+m)}}return e}_addConsumablesForRange(e,t,i){for(const r of t.getItems())e.add(r,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const r of i)e.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,i){const r=function(ae,be){const De=be.item.is("element")?be.item.name:"$text";return`${ae}:${De}`}(e,t),m=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,x=this._firedEventsMap.get(i),z=x.get(m);if(z){if(z.has(r))return;z.add(r)}else x.set(m,new Set([r]));this.fire(r,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:Lt._createOn(e)};for(const r of i.item.getAttributeKeys())i.attributeKey=r,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(r),this._testAndFire(`attribute:${r}`,i,t)}_createConversionApi(e,t=new Set,i={}){const r=ke(me({},this._conversionApi),{consumable:new _e,writer:e,options:i,convertItem:m=>this._convertInsert(Lt._createOn(m),r),convertChildren:m=>this._convertInsert(Lt._createIn(m),r,{doNotAddConsumables:!0}),convertAttributes:m=>this._testAndFireAddAttributes(m,r),canReuseView:m=>!t.has(r.mapper.toModelElement(m))});return this._firedEventsMap.set(r,new Map),r}}function je(a,e,t){const i=e.getRange(),r=Array.from(a.getAncestors());return r.shift(),r.reverse(),!r.some(m=>{if(i.containsItem(m))return!!t.toViewElement(m).getCustomProperty("addHighlight")})}function Ne(a){return{item:a.item,range:Lt._createFromPositionAndShift(a.previousPosition,a.length)}}class et extends(0,v.Mm)(no){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Lt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Lt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Lt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof et)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Lt)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof Xt)this._setRanges([new Lt(t)]);else if(t instanceof Pn){const m=!!r&&!!r.backward;let x;if(i=="in")x=Lt._createIn(t);else if(i=="on")x=Lt._createOn(t);else{if(i===void 0)throw new v.Yb("model-selection-setto-required-second-parameter",[this,t]);x=new Lt(Xt._createAt(t,i))}this._setRanges([x],m)}else{if(!(0,v.xZ)(t))throw new v.Yb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,r&&!!r.backward)}}_setRanges(e,t=!1){const i=Array.from(e),r=i.some(m=>{if(!(m instanceof Lt))throw new v.Yb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(x=>!x.isEqual(m))});(i.length!==this._ranges.length||r)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new v.Yb("model-selection-setfocus-no-ranges",[this,e]);const i=Xt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(r)=="before"?(this._pushRange(new Lt(i,r)),this._lastRangeBackward=!0):(this._pushRange(new Lt(r,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=Et(t.start,e);Tt(i,t)&&(yield i);for(const m of t.getWalker()){const x=m.item;m.type=="elementEnd"&&Ct(x,e,t)&&(yield x)}const r=Et(t.end,e);Yt(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=Xt._createAt(e,0),i=Xt._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Lt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new v.Yb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function rt(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function Ct(a,e,t){return rt(a,e)&&Bt(a,t)}function Et(a,e){const t=a.parent.root.document.model.schema,i=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const m=i.find(x=>!r&&(r=t.isLimit(x),!r&&rt(x,e)));return i.forEach(x=>e.add(x)),m}function Bt(a,e){const t=function(i){const r=i.root.document.model.schema;let m=i.parent;for(;m;){if(r.isBlock(m))return m;m=m.parent}}(a);return t?!e.containsRange(Lt._createOn(t),!0):!0}function Tt(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(Xt._createAt(a,a.maxOffset))&&Bt(a,e))}function Yt(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(Xt._createAt(a,0))&&Bt(a,e))}et.prototype.is=function(a){return a==="selection"||a==="model:selection"};class Qt extends(0,v.Mm)(Lt){constructor(e,t){super(e,t),wi.call(this)}detach(){this.stopListening()}toRange(){return new Lt(this.start,this.end)}static fromRange(e){return new Qt(e.start,e.end)}}function wi(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&Ai.call(this,t)},{priority:"low"})}function Ai(a){const e=this.getTransformedByOperation(a),t=Lt._createFromRanges(e),i=!t.isEqual(this),r=function(x,z){switch(z.type){case"insert":return x.containsPosition(z.position);case"move":case"remove":case"reinsert":case"merge":return x.containsPosition(z.sourcePosition)||x.start.isEqual(z.sourcePosition)||x.containsPosition(z.targetPosition);case"split":return x.containsPosition(z.splitPosition)||x.containsPosition(z.insertionPosition)}return!1}(this,a);let m=null;if(i){t.root.rootName=="$graveyard"&&(m=a.type=="remove"?a.sourcePosition:a.deletionPosition);const x=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",x,{deletionPosition:m})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:m})}Qt.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const Ii="selection:";class Mi extends(0,v.Mm)(no){constructor(e){super(),this._selection=new nn(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Ii+e}static _isStoreAttributeKey(e){return e.startsWith(Ii)}}Mi.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class nn extends et{constructor(e){super(),this.markers=new v.pM({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&r.type!="marker"&&r.type!="rename"&&r.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,r,m)=>{this._updateMarker(i,m)}),this.listenTo(this._document,"change",(t,i)=>{(function(r,m){const x=r.document.differ;for(const z of x.getChanges()){if(z.type!="insert")continue;const ae=z.position.parent;z.length===ae.maxOffset&&r.enqueueChange(m,be=>{const De=Array.from(ae.getAttributeKeys()).filter(Xe=>Xe.startsWith(Ii));for(const Xe of De)be.removeAttribute(Xe,ae)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,v.Ld)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new v.Yb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new v.Yb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Qt.fromRange(e);return t.on("change:range",(i,r,m)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=m.deletionPosition;const x=this._ranges.indexOf(t);this._ranges.splice(x,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const r of this._model.markers){const m=r.name.split(":",1)[0];if(!this._observedMarkers.has(m))continue;const x=r.getRange();for(const z of this.getRanges())x.containsRange(z,!z.isCollapsed)&&e.push(r)}const i=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let r=!1;const m=Array.from(this.markers),x=this.markers.has(e);if(t){let z=!1;for(const ae of this.getRanges())if(t.containsRange(ae,!ae.isCollapsed)){z=!0;break}z&&!x?(this.markers.add(e),r=!0):!z&&x&&(this.markers.remove(e),r=!0)}else x&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:m,directChange:!1})}_updateAttributes(e){const t=(0,v.av)(this._getSurroundingAttributes()),i=(0,v.av)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[m,x]of this._attributePriority)x=="low"&&(this._attrs.delete(m),this._attributePriority.delete(m));this._setAttributesTo(t);const r=[];for(const[m,x]of this.getAttributes())i.has(m)&&i.get(m)===x||r.push(m);for(const[m]of i)this.hasAttribute(m)||r.push(m);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,i=!0){const r=i?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,r]of this.getAttributes())e.get(i)!==r&&this._removeAttribute(i,!1);for(const[i,r]of e)this._setAttribute(i,r,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Ii)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,m=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=_n(r,t)),i||(i=_n(m,t)),!this.isGravityOverridden&&!i){let x=r;for(;x&&!i;)x=x.previousSibling,i=_n(x,t)}if(!i){let x=m;for(;x&&!i;)x=x.nextSibling,i=_n(x,t)}i||(i=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const m of r){if(m.item.is("element")&&t.isObject(m.item)){i=_n(m.item,t);break}if(m.type=="text"){i=m.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function _n(a,e){if(!a)return null;if(a instanceof Un||a instanceof un)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const t=[];for(const[i,r]of a.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,r]);return t}class ro{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class Oo extends ro{elementToElement(e){return this.add(function(t){const i=vn(t.model),r=or(t.view,"container");return i.attributes.length&&(i.children=!0),m=>{m.on(`insert:${i.name}`,vs(r,Eo(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&m.on("reduceChanges",rr(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=vn(t.model),r=or(t.view,"container");return i.children=!0,m=>{if(m._conversionApi.schema.checkChild(i.name,"$text"))throw new v.Yb("conversion-element-to-structure-disallowed-text",m,{elementName:i.name});var x,z;m.on(`insert:${i.name}`,(x=r,z=Eo(i),(ae,be,De)=>{if(!z(be.item,De.consumable,{preflight:!0}))return;const Xe=new Map;De.writer._registerSlotFactory(function(Kt,ei,oi){return(yi,zi)=>{const fn=yi.createContainerElement("$slot");let lo=null;if(zi==="children")lo=Array.from(Kt.getChildren());else{if(typeof zi!="function")throw new v.Yb("conversion-slot-mode-unknown",oi.dispatcher,{modeOrFilter:zi});lo=Array.from(Kt.getChildren()).filter(tr=>zi(tr))}return ei.set(fn,lo),fn}}(be.item,Xe,De));const lt=x(be.item,De,be);if(De.writer._clearSlotFactory(),!lt)return;(function(Kt,ei,oi){const yi=Array.from(ei.values()).flat(),zi=new Set(yi);if(zi.size!=yi.length)throw new v.Yb("conversion-slot-filter-overlap",oi.dispatcher,{element:Kt});if(zi.size!=Kt.childCount)throw new v.Yb("conversion-slot-filter-incomplete",oi.dispatcher,{element:Kt})})(be.item,Xe,De),z(be.item,De.consumable);const Vt=De.mapper.toViewPosition(be.range.start);De.mapper.bindElements(be.item,lt),De.writer.insert(Vt,lt),De.convertAttributes(be.item),function(Kt,ei,oi,yi){oi.mapper.on("modelToViewPosition",lo,{priority:"highest"});let zi=null,fn=null;for([zi,fn]of ei)Jr(Kt,fn,oi,yi),oi.writer.move(oi.writer.createRangeIn(zi),oi.writer.createPositionBefore(zi)),oi.writer.remove(zi);function lo(tr,_a){const za=_a.modelPosition.nodeAfter,Ra=fn.indexOf(za);Ra<0||(_a.viewPosition=_a.mapper.findPositionIn(zi,Ra))}oi.mapper.off("modelToViewPosition",lo)}(lt,Xe,De,{reconversion:be.reconversion})}),{priority:t.converterPriority||"normal"}),m.on("reduceChanges",rr(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=(0,io.A)(t);let i=t.model;typeof i=="string"&&(i={key:i});let r=`attribute:${i.key}`;if(i.name&&(r+=":"+i.name),i.values)for(const x of i.values)t.view[x]=or(t.view[x],"attribute");else t.view=or(t.view,"attribute");const m=Qr(t);return x=>{x.on(r,kr(m),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=(0,io.A)(t);let i=t.model;typeof i=="string"&&(i={key:i});let r=`attribute:${i.key}`;if(i.name&&(r+=":"+i.name),i.values)for(const x of i.values)t.view[x]=Lr(t.view[x]);else t.view=Lr(t.view);const m=Qr(t);return x=>{var z;x.on(r,(z=m,(ae,be,De)=>{if(!De.consumable.test(be.item,ae.name))return;const Xe=z(be.attributeOldValue,De,be),lt=z(be.attributeNewValue,De,be);if(!Xe&&!lt)return;De.consumable.consume(be.item,ae.name);const Vt=De.mapper.toViewElement(be.item),Kt=De.writer;if(!Vt)throw new v.Yb("conversion-attribute-to-attribute-on-text",De.dispatcher,be);if(be.attributeOldValue!==null&&Xe)if(Xe.key=="class"){const ei=typeof Xe.value=="string"?Xe.value.split(/\s+/):Xe.value;for(const oi of ei)Kt.removeClass(oi,Vt)}else if(Xe.key=="style")if(typeof Xe.value=="string"){const ei=new xe(Kt.document.stylesProcessor);ei.setTo(Xe.value);for(const[oi]of ei.getStylesEntries())Kt.removeStyle(oi,Vt)}else{const ei=Object.keys(Xe.value);for(const oi of ei)Kt.removeStyle(oi,Vt)}else Kt.removeAttribute(Xe.key,Vt);if(be.attributeNewValue!==null&&lt)if(lt.key=="class"){const ei=typeof lt.value=="string"?lt.value.split(/\s+/):lt.value;for(const oi of ei)Kt.addClass(oi,Vt)}else if(lt.key=="style")if(typeof lt.value=="string"){const ei=new xe(Kt.document.stylesProcessor);ei.setTo(lt.value);for(const[oi,yi]of ei.getStylesEntries())Kt.setStyle(oi,yi,Vt)}else{const ei=Object.keys(lt.value);for(const oi of ei)Kt.setStyle(oi,lt.value[oi],Vt)}else Kt.setAttribute(lt.key,lt.value,Vt)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=or(t.view,"ui");return r=>{r.on(`addMarker:${t.model}`,Zr(i),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${t.model}`,(m,x,z)=>{const ae=z.mapper.markerNameToElements(x.markerName);if(ae){for(const be of ae)z.mapper.unbindElementFromMarkerName(be,x.markerName),z.writer.clear(z.writer.createRangeOn(be),be);z.writer.clearClonedElementsGroup(x.markerName),m.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var r;i.on(`addMarker:${t.model}`,(r=t.view,(m,x,z)=>{if(!x.item||!(x.item instanceof et||x.item instanceof Mi||x.item.is("$textProxy")))return;const ae=Vo(r,x,z);if(!ae||!z.consumable.consume(x.item,m.name))return;const be=z.writer,De=Gr(be,ae),Xe=be.document.selection;if(x.item instanceof et||x.item instanceof Mi)be.wrap(Xe.getFirstRange(),De);else{const lt=z.mapper.toViewRange(x.range),Vt=be.wrap(lt,De);for(const Kt of Vt.getItems())if(Kt.is("attributeElement")&&Kt.isSimilar(De)){z.mapper.bindElementToMarker(Kt,x.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(m){return(x,z,ae)=>{if(!z.item||!(z.item instanceof ji))return;const be=Vo(m,z,ae);if(!be||!ae.consumable.test(z.item,x.name))return;const De=ae.mapper.toViewElement(z.item);if(De&&De.getCustomProperty("addHighlight")){ae.consumable.consume(z.item,x.name);for(const Xe of Lt._createIn(z.item))ae.consumable.consume(Xe.item,x.name);De.getCustomProperty("addHighlight")(De,be,ae.writer),ae.mapper.bindElementToMarker(De,z.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(m){return(x,z,ae)=>{if(z.markerRange.isCollapsed)return;const be=Vo(m,z,ae);if(!be)return;const De=Gr(ae.writer,be),Xe=ae.mapper.markerNameToElements(z.markerName);if(Xe){for(const lt of Xe)ae.mapper.unbindElementFromMarkerName(lt,z.markerName),lt.is("attributeElement")?ae.writer.unwrap(ae.writer.createRangeOn(lt),De):lt.getCustomProperty("removeHighlight")(lt,be.id,ae.writer);ae.writer.clearClonedElementsGroup(z.markerName),x.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=(0,io.A)(t);const i=t.model;let r=t.view;return r||(r=m=>({group:i,name:m.substr(t.model.length+1)})),m=>{var x;m.on(`addMarker:${i}`,(x=r,(z,ae,be)=>{const De=x(ae.markerName,be);if(!De)return;const Xe=ae.markerRange;be.consumable.consume(Xe,z.name)&&(_r(Xe,!1,be,ae,De),_r(Xe,!0,be,ae,De),z.stop())}),{priority:t.converterPriority||"normal"}),m.on(`removeMarker:${i}`,function(z){return(ae,be,De)=>{const Xe=z(be.markerName,De);if(!Xe)return;const lt=De.mapper.markerNameToElements(be.markerName);if(lt){for(const Kt of lt)De.mapper.unbindElementFromMarkerName(Kt,be.markerName),Kt.is("containerElement")?(Vt(`data-${Xe.group}-start-before`,Kt),Vt(`data-${Xe.group}-start-after`,Kt),Vt(`data-${Xe.group}-end-before`,Kt),Vt(`data-${Xe.group}-end-after`,Kt)):De.writer.clear(De.writer.createRangeOn(Kt),Kt);De.writer.clearClonedElementsGroup(be.markerName),ae.stop()}function Vt(Kt,ei){if(ei.hasAttribute(Kt)){const oi=new Set(ei.getAttribute(Kt).split(","));oi.delete(Xe.name),oi.size==0?De.writer.removeAttribute(Kt,ei):De.writer.setAttribute(Kt,Array.from(oi).join(","),ei)}}}}(r),{priority:t.converterPriority||"normal"})}}(e))}}function Gr(a,e){const t=a.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function kr(a){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const r=a(t.attributeOldValue,i,t),m=a(t.attributeNewValue,i,t);if(!r&&!m)return;i.consumable.consume(t.item,e.name);const x=i.writer,z=x.document.selection;if(t.item instanceof et||t.item instanceof Mi)x.wrap(z.getFirstRange(),m);else{let ae=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&r&&(ae=x.unwrap(ae,r)),t.attributeNewValue!==null&&m&&x.wrap(ae,m)}}}function vs(a,e=ys){return(t,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;const m=a(i.item,r,i);if(!m)return;e(i.item,r.consumable);const x=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,m),r.writer.insert(x,m),r.convertAttributes(i.item),Jr(m,i.item.getChildren(),r,{reconversion:i.reconversion})}}function Zr(a){return(e,t,i)=>{t.isOpening=!0;const r=a(t,i);t.isOpening=!1;const m=a(t,i);if(!r||!m)return;const x=t.markerRange;if(x.isCollapsed&&!i.consumable.consume(x,e.name))return;for(const be of x)if(!i.consumable.consume(be.item,e.name))return;const z=i.mapper,ae=i.writer;ae.insert(z.toViewPosition(x.start),r),i.mapper.bindElementToMarker(r,t.markerName),x.isCollapsed||(ae.insert(z.toViewPosition(x.end),m),i.mapper.bindElementToMarker(m,t.markerName)),e.stop()}}function _r(a,e,t,i,r){const m=e?a.start:a.end,x=m.nodeAfter&&m.nodeAfter.is("element")?m.nodeAfter:null,z=m.nodeBefore&&m.nodeBefore.is("element")?m.nodeBefore:null;if(x||z){let ae,be;e&&x||!e&&!z?(ae=x,be=!0):(ae=z,be=!1);const De=t.mapper.toViewElement(ae);if(De)return void function(Xe,lt,Vt,Kt,ei,oi){const yi=`data-${oi.group}-${lt?"start":"end"}-${Vt?"before":"after"}`,zi=Xe.hasAttribute(yi)?Xe.getAttribute(yi).split(","):[];zi.unshift(oi.name),Kt.writer.setAttribute(yi,zi.join(","),Xe),Kt.mapper.bindElementToMarker(Xe,ei.markerName)}(De,e,be,t,i,r)}(function(ae,be,De,Xe,lt){const Vt=`${lt.group}-${be?"start":"end"}`,Kt=lt.name?{name:lt.name}:null,ei=De.writer.createUIElement(Vt,Kt);De.writer.insert(ae,ei),De.mapper.bindElementToMarker(ei,Xe.markerName)})(t.mapper.toViewPosition(m),e,t,i,r)}function vn(a){return typeof a=="string"&&(a={name:a}),{name:a.name,attributes:a.attributes?(0,v.$r)(a.attributes):[],children:!!a.children}}function or(a,e){return typeof a=="function"?a:(t,i)=>function(r,m,x){typeof r=="string"&&(r={name:r});let z;const ae=m.writer,be=Object.assign({},r.attributes);if(x=="container")z=ae.createContainerElement(r.name,be);else if(x=="attribute"){const De={priority:r.priority||Be.DEFAULT_PRIORITY};z=ae.createAttributeElement(r.name,be,De)}else z=ae.createUIElement(r.name,be);if(r.styles){const De=Object.keys(r.styles);for(const Xe of De)ae.setStyle(Xe,r.styles[Xe],z)}if(r.classes){const De=r.classes;if(typeof De=="string")ae.addClass(De,z);else for(const Xe of De)ae.addClass(Xe,z)}return z}(a,i,e)}function Qr(a){return a.model.values?(e,t,i)=>{const r=a.view[e];return r?r(e,t,i):null}:a.view}function Lr(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function Vo(a,e,t){const i=typeof a=="function"?a(e,t):a;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function rr(a){const e=function(t){return(i,r)=>{if(!i.is("element",t.name))return!1;if(r.type=="attribute"){if(t.attributes.includes(r.attributeKey))return!0}else if(t.children)return!0;return!1}}(a);return(t,i)=>{const r=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const m of i.changes){const x=m.type=="attribute"?m.range.start.nodeAfter:m.position.parent;if(x&&e(x,m)){if(!i.reconvertedElements.has(x)){i.reconvertedElements.add(x);const z=Xt._createBefore(x);let ae=r.length;for(let be=r.length-1;be>=0;be--){const De=r[be],Xe=(De.type=="attribute"?De.range.start:De.position).compareWith(z);if(Xe=="before"||De.type=="remove"&&Xe=="same")break;ae=be}r.splice(ae,0,{type:"remove",name:x.name,position:z,length:1},{type:"reinsert",name:x.name,position:z,length:1})}}else r.push(m)}i.changes=r}}function Eo(a){return(e,t,i={})=>{const r=["insert"];for(const m of a.attributes)e.hasAttribute(m)&&r.push(`attribute:${m}`);return!!r.every(m=>t.test(e,m))&&(i.preflight||r.forEach(m=>t.consume(e,m)),!0)}}function Jr(a,e,t,i){for(const r of e)Xr(a.root,r,t,i)||t.convertItem(r)}function Xr(a,e,t,i){const{writer:r,mapper:m}=t;if(!i.reconversion)return!1;const x=m.toViewElement(e);return!(!x||x.root==a)&&!!t.canReuseView(x)&&(r.move(r.createRangeOn(x),m.toViewPosition(Xt._createBefore(e))),!0)}function ys(a,e,{preflight:t}={}){return t?e.test(a,"insert"):e.consume(a,"insert")}function xs(a){const{schema:e,document:t}=a.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return a.insertElement("paragraph",i),!0;return!1}function Cs(a,e,t){const i=t.createContext(a);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function As(a,e){const t=e.createElement("paragraph");return e.insert(t,a),e.createPositionAt(t,0)}var Ts=Object.defineProperty,qs=Object.defineProperties,bo=Object.getOwnPropertyDescriptors,sr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable,ko=(a,e,t)=>e in a?Ts(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;class es extends ro{elementToElement(e){return this.add(xr(e))}elementToAttribute(e){return this.add(function(t){t=(0,io.A)(t),lr(t);const i=ts(t,!1),r=Wo(t.view),m=r?`element:${r}`:"element";return x=>{x.on(m,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=(0,io.A)(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(m){typeof m.view=="string"&&(m.view={key:m.view});const x=m.view.key,z=m.view.value===void 0?/[\s\S]*/:m.view.value;let ae;return x=="class"||x=="style"?ae={[x=="class"?"classes":"styles"]:z}:ae={attributes:{[x]:z}},m.view.name&&(ae.name=m.view.name),m.view=ae,x}(t)),lr(t,i);const r=ts(t,!0);return m=>{m.on("element",r,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(x){return(z,ae)=>{const be=typeof x=="string"?x:x(z,ae);return ae.writer.createElement("$marker",{"data-name":be})}}(t.model);return xr((r=((x,z)=>{for(var ae in z||(z={}))vr.call(z,ae)&&ko(x,ae,z[ae]);if(sr)for(var ae of sr(z))yr.call(z,ae)&&ko(x,ae,z[ae]);return x})({},t),m={model:i},qs(r,bo(m))));var r,m}(e))}dataToMarker(e){return this.add(function(t){t=(0,io.A)(t),t.model||(t.model=x=>x?t.view+":"+x:t.view);const i={view:t.view,model:t.model},r=ar(is(i,"start")),m=ar(is(i,"end"));return x=>{x.on(`element:${t.view}-start`,r,{priority:t.converterPriority||"normal"}),x.on(`element:${t.view}-end`,m,{priority:t.converterPriority||"normal"});const z=v.vx.low,ae=v.vx.highest,be=v.vx.get(t.converterPriority)/ae;x.on("element",function(De){return(Xe,lt,Vt)=>{const Kt=`data-${De.view}`;function ei(oi,yi){for(const zi of yi){const fn=De.model(zi,Vt),lo=Vt.writer.createElement("$marker",{"data-name":fn});Vt.writer.insert(lo,oi),lt.modelCursor.isEqual(oi)?lt.modelCursor=lt.modelCursor.getShiftedBy(1):lt.modelCursor=lt.modelCursor._getTransformedByInsertion(oi,1),lt.modelRange=lt.modelRange._getTransformedByInsertion(oi,1)[0]}}(Vt.consumable.test(lt.viewItem,{attributes:Kt+"-end-after"})||Vt.consumable.test(lt.viewItem,{attributes:Kt+"-start-after"})||Vt.consumable.test(lt.viewItem,{attributes:Kt+"-end-before"})||Vt.consumable.test(lt.viewItem,{attributes:Kt+"-start-before"}))&&(lt.modelRange||Object.assign(lt,Vt.convertChildren(lt.viewItem,lt.modelCursor)),Vt.consumable.consume(lt.viewItem,{attributes:Kt+"-end-after"})&&ei(lt.modelRange.end,lt.viewItem.getAttribute(Kt+"-end-after").split(",")),Vt.consumable.consume(lt.viewItem,{attributes:Kt+"-start-after"})&&ei(lt.modelRange.end,lt.viewItem.getAttribute(Kt+"-start-after").split(",")),Vt.consumable.consume(lt.viewItem,{attributes:Kt+"-end-before"})&&ei(lt.modelRange.start,lt.viewItem.getAttribute(Kt+"-end-before").split(",")),Vt.consumable.consume(lt.viewItem,{attributes:Kt+"-start-before"})&&ei(lt.modelRange.start,lt.viewItem.getAttribute(Kt+"-start-before").split(",")))}}(i),{priority:z+be})}}(e))}}function xr(a){const e=ar(a=(0,io.A)(a)),t=Wo(a.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:a.converterPriority||"normal"})}}function Wo(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function ar(a){const e=new H(a.view);return(t,i,r)=>{const m=e.match(i.viewItem);if(!m)return;const x=m.match;if(x.name=!0,!r.consumable.test(i.viewItem,x))return;const z=function(ae,be,De){return ae instanceof Function?ae(be,De):De.writer.createElement(ae)}(a.model,i.viewItem,r);z&&r.safeInsert(z,i.modelCursor)&&(r.consumable.consume(i.viewItem,x),r.convertChildren(i.viewItem,z),r.updateConversionResult(z,i))}}function lr(a,e=null){const t=e===null||(m=>m.getAttribute(e)),i=typeof a.model!="object"?a.model:a.model.key,r=typeof a.model!="object"||a.model.value===void 0?t:a.model.value;a.model={key:i,value:r}}function ts(a,e){const t=new H(a.view);return(i,r,m)=>{if(!r.modelRange&&e)return;const x=t.match(r.viewItem);if(!x||(function(De,Xe){const lt=typeof De=="function"?De(Xe):De;return typeof lt=="object"&&!Wo(lt)?!1:!lt.classes&&!lt.attributes&&!lt.styles}(a.view,r.viewItem)?x.match.name=!0:delete x.match.name,!m.consumable.test(r.viewItem,x.match)))return;const z=a.model.key,ae=typeof a.model.value=="function"?a.model.value(r.viewItem,m):a.model.value;if(ae===null)return;r.modelRange||Object.assign(r,m.convertChildren(r.viewItem,r.modelCursor)),function(De,Xe,lt,Vt){let Kt=!1;for(const ei of Array.from(De.getItems({shallow:lt})))Vt.schema.checkAttribute(ei,Xe.key)&&(Kt=!0,ei.hasAttribute(Xe.key)||Vt.writer.setAttribute(Xe.key,Xe.value,ei));return Kt}(r.modelRange,{key:z,value:ae},e,m)&&(m.consumable.test(r.viewItem,{name:!0})&&(x.match.name=!0),m.consumable.consume(r.viewItem,x.match))}}function is(a,e){return{view:`${a.view}-${e}`,model:(t,i)=>{const r=t.getAttribute("name"),m=a.model(r,i);return i.writer.createElement("$marker",{"data-name":m})}}}function Or(a){a.document.registerPostFixer(e=>function(t,i){const r=i.document.selection,m=i.schema,x=[];let z=!1;for(const ae of r.getRanges()){const be=on(ae,m);be&&!be.isEqual(ae)?(x.push(be),z=!0):x.push(ae)}return z&&t.setSelection(function(ae){const be=[...ae],De=new Set;let Xe=1;for(;Xe<be.length;){const lt=be[Xe],Vt=be.slice(0,Xe);for(const[Kt,ei]of Vt.entries())if(!De.has(Kt)){if(lt.isEqual(ei))De.add(Kt);else if(lt.isIntersecting(ei)){De.add(Kt),De.add(Xe);const oi=lt.getJoined(ei);be.push(oi)}}Xe++}return be.filter((lt,Vt)=>!De.has(Vt))}(x),{backward:r.isBackward}),!1}(e,a))}function on(a,e){return a.isCollapsed?function(t,i){const r=t.start,m=i.getNearestSelectionRange(r);if(!m){const z=r.getAncestors().reverse().find(ae=>i.isObject(ae));return z?Lt._createOn(z):null}if(!m.isCollapsed)return m;const x=m.start;return r.isEqual(x)?null:new Lt(x)}(a,e):function(t,i){const{start:r,end:m}=t,x=i.checkChild(r,"$text"),z=i.checkChild(m,"$text"),ae=i.getLimitElement(r),be=i.getLimitElement(m);if(ae===be){if(x&&z)return null;if(function(lt,Vt,Kt){const ei=lt.nodeAfter&&!Kt.isLimit(lt.nodeAfter)||Kt.checkChild(lt,"$text"),oi=Vt.nodeBefore&&!Kt.isLimit(Vt.nodeBefore)||Kt.checkChild(Vt,"$text");return ei||oi}(r,m,i)){const lt=r.nodeAfter&&i.isSelectable(r.nodeAfter)?null:i.getNearestSelectionRange(r,"forward"),Vt=m.nodeBefore&&i.isSelectable(m.nodeBefore)?null:i.getNearestSelectionRange(m,"backward"),Kt=lt?lt.start:r,ei=Vt?Vt.end:m;return new Lt(Kt,ei)}}const De=ae&&!ae.is("rootElement"),Xe=be&&!be.is("rootElement");if(De||Xe){const lt=r.nodeAfter&&m.nodeBefore&&r.nodeAfter.parent===m.nodeBefore.parent,Vt=De&&(!lt||!ns(r.nodeAfter,i)),Kt=Xe&&(!lt||!ns(m.nodeBefore,i));let ei=r,oi=m;return Vt&&(ei=Xt._createBefore(Vr(ae,i))),Kt&&(oi=Xt._createAfter(Vr(be,i))),new Lt(ei,oi)}return null}(a,e)}function Vr(a,e){let t=a,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function ns(a,e){return a&&e.isSelectable(a)}class Es extends(0,v.VM)(){constructor(e,t){super(),this.model=e,this.view=new fo(t),this.mapper=new mo,this.downcastDispatcher=new fe({mapper:this.mapper,schema:e.schema});const i=this.model.document,r=i.selection,m=this.model.markers;var x,z,ae;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(be=>{this.downcastDispatcher.convertChanges(i.differ,m,be),this.downcastDispatcher.convertSelection(r,m,be)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(be,De){return(Xe,lt)=>{const Vt=lt.newSelection,Kt=[];for(const oi of Vt.getRanges())Kt.push(De.toModelRange(oi));const ei=be.createSelection(Kt,{backward:Vt.isBackward});ei.isEqual(be.document.selection)||be.change(oi=>{oi.setSelection(ei)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(x=this.mapper,z=this.model.schema,ae=this.view,(be,De)=>{if(!ae.document.isComposing||v._K.isAndroid)for(let Xe=0;Xe<De.targetRanges.length;Xe++){const lt=De.targetRanges[Xe],Vt=x.toModelRange(lt),Kt=on(Vt,z);Kt&&!Kt.isEqual(Vt)&&(De.targetRanges[Xe]=x.toViewRange(Kt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(be,De,Xe)=>{if(!Xe.consumable.consume(De.item,be.name))return;const lt=Xe.writer,Vt=Xe.mapper.toViewPosition(De.range.start),Kt=lt.createText(De.item.data);lt.insert(Vt,Kt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(be,De,Xe)=>{Xe.convertAttributes(De.item),De.reconversion||!De.item.is("element")||De.item.isEmpty||Xe.convertChildren(De.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(be,De,Xe)=>{const lt=Xe.mapper.toViewPosition(De.position),Vt=De.position.getShiftedBy(De.length),Kt=Xe.mapper.toViewPosition(Vt,{isPhantom:!0}),ei=Xe.writer.createRange(lt,Kt),oi=Xe.writer.remove(ei.getTrimmed());for(const yi of Xe.writer.createRangeIn(oi).getItems())Xe.mapper.unbindViewElement(yi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(be,De,Xe)=>{const lt=Xe.writer,Vt=lt.document.selection;for(const Kt of Vt.getRanges())Kt.isCollapsed&&Kt.end.parent.isAttached()&&Xe.writer.mergeAttributes(Kt.start);lt.setSelection(null)}),this.downcastDispatcher.on("selection",(be,De,Xe)=>{const lt=De.selection;if(lt.isCollapsed||!Xe.consumable.consume(lt,"selection"))return;const Vt=[];for(const Kt of lt.getRanges())Vt.push(Xe.mapper.toViewRange(Kt));Xe.writer.setSelection(Vt,{backward:lt.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(be,De,Xe)=>{const lt=De.selection;if(!lt.isCollapsed||!Xe.consumable.consume(lt,"selection"))return;const Vt=Xe.writer,Kt=lt.getFirstPosition(),ei=Xe.mapper.toViewPosition(Kt),oi=Vt.breakAttributes(ei);Vt.setSelection(oi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(be=>{if(be.rootName=="$graveyard")return null;const De=new qt(this.view.document,be.name);return De.rootName=be.rootName,this.mapper.bindElements(be,De),De})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new v.Yb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class $o{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new os(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const x of i)x!="style"&&x!="class"&&t.attributes.push(x);const r=e.getClassNames();for(const x of r)t.classes.push(x);const m=e.getStyleNames();for(const x of m)t.styles.push(x);return t}static createFrom(e,t){if(t||(t=new $o),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,$o.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=$o.createFrom(i,t);return t}}const Rn=["attributes","classes","styles"];class os{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Rn)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Rn)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Rn)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Rn)t in e&&this._revert(t,e[t])}_add(e,t){const i=(0,v.$r)(t),r=this._consumables[e];for(const m of i){if(e==="attributes"&&(m==="class"||m==="style"))throw new v.Yb("viewconsumable-invalid-attribute",this);if(r.set(m,!0),e==="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(m))r.set(x,!0)}}_test(e,t){const i=(0,v.$r)(t),r=this._consumables[e];for(const m of i)if(e!=="attributes"||m!=="class"&&m!=="style"){const x=r.get(m);if(x===void 0)return null;if(!x)return!1}else{const x=m=="class"?"classes":"styles",z=this._test(x,[...this._consumables[x].keys()]);if(z!==!0)return z}return!0}_consume(e,t){const i=(0,v.$r)(t),r=this._consumables[e];for(const m of i)if(e!=="attributes"||m!=="class"&&m!=="style"){if(r.set(m,!1),e=="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(m))r.set(x,!1)}else{const x=m=="class"?"classes":"styles";this._consume(x,[...this._consumables[x].keys()])}}_revert(e,t){const i=(0,v.$r)(t),r=this._consumables[e];for(const m of i)if(e!=="attributes"||m!=="class"&&m!=="style")r.get(m)===!1&&r.set(m,!0);else{const x=m=="class"?"classes":"styles";this._revert(x,[...this._consumables[x].keys()])}}}class jo extends(0,v.VM)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Ro(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Ro(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new v.Yb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new v.Yb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Xt){const i=e.nodeBefore,r=e.nodeAfter;if(!(i instanceof ji))throw new v.Yb("schema-check-merge-no-element-before",this);if(!(r instanceof ji))throw new v.Yb("schema-check-merge-no-element-after",this);return this.checkMerge(i,r)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,r])=>{if(!r)return;const m=e(i,r);typeof m=="boolean"&&(t.stop(),t.return=m)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,r])=>{const m=e(i,r);typeof m=="boolean"&&(t.stop(),t.return=m)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Xt?t=e.parent:t=(e instanceof Lt?[e]:Array.from(e.getRanges())).reduce((i,r)=>{const m=r.getCommonAncestor();return i?i.getCommonAncestor(m,{includeSelf:!0}):m},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new un("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const r of i)for(const m of r)if(this.checkAttribute(m.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const r of i)yield*r.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Lt(e);let i,r;const m=e.getAncestors().reverse().find(x=>this.isLimit(x))||e.root;t!="both"&&t!="backward"||(i=new mn({boundaries:Lt._createIn(m),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(r=new mn({boundaries:Lt._createIn(m),startPosition:e}));for(const x of function*(z,ae){let be=!1;for(;!be;){if(be=!0,z){const De=z.next();De.done||(be=!1,yield{walker:z,value:De.value})}if(ae){const De=ae.next();De.done||(be=!1,yield{walker:ae,value:De.value})}}}(i,r)){const z=x.walker==i?"elementEnd":"elementStart",ae=x.value;if(ae.type==z&&this.isObject(ae.item))return Lt._createOn(ae.item);if(this.checkChild(ae.nextPosition,"$text"))return new Lt(ae.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const r=i.model;for(const[m,x]of Object.entries(t))r.schema.checkAttribute(e,m)&&i.setAttribute(m,x,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))Ss(this,i,t);else{const r=Lt._createIn(i).getPositions();for(const m of r)Ss(this,m.nodeBefore||m.parent,t)}}getAttributesWithProperty(e,t,i){const r={};for(const[m,x]of e.getAttributes()){const z=this.getAttributeProperties(m);z[t]!==void 0&&(i!==void 0&&i!==z[t]||(r[m]=x))}return r}createContext(e){return new Ro(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const r of i)e[r]=rs(t[r],r);for(const r of i)cr(e,r);for(const r of i)Wn(e,r);for(const r of i)dr(e,r);for(const r of i)ss(e,r),as(e,r);for(const r of i)Ks(e,r),Zo(e,r),Cr(e,r);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const r=t.getItem(i);if(e.allowIn.includes(r.name)){if(i==0)return!0;{const m=this.getDefinition(r);return this._checkContextMatch(m,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,r=e.start;for(const m of e.getItems({shallow:!0}))m.is("element")&&(yield*this._getValidRangesForRange(Lt._createIn(m),t)),this.checkAttribute(m,t)||(i.isEqual(r)||(yield new Lt(i,r)),i=Xt._createAfter(m)),r=Xt._createAfter(m);i.isEqual(r)||(yield new Lt(i,r))}findOptimalInsertionRange(e,t){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return t=="before"||t=="after"?new Lt(Xt._createAt(i,t)):Lt._createOn(i);const r=(0,v.$1)(e.getSelectedBlocks());if(!r)return new Lt(e.focus);if(r.isEmpty)return new Lt(Xt._createAt(r,0));const m=Xt._createAfter(r);return e.focus.isTouching(m)?new Lt(m):new Lt(Xt._createBefore(r))}}class Ro{constructor(e){if(e instanceof Ro)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(jr)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ro([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function rs(a,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,r){for(const m of i){const x=Object.keys(m).filter(z=>z.startsWith("is"));for(const z of x)r[z]=!!m[z]}}(a,t),qo(a,t,"allowIn"),qo(a,t,"allowContentOf"),qo(a,t,"allowWhere"),qo(a,t,"allowAttributes"),qo(a,t,"allowAttributesOf"),qo(a,t,"allowChildren"),qo(a,t,"inheritTypesFrom"),function(i,r){for(const m of i){const x=m.inheritAllFrom;x&&(r.allowContentOf.push(x),r.allowWhere.push(x),r.allowAttributesOf.push(x),r.inheritTypesFrom.push(x))}}(a,t),t}function cr(a,e){const t=a[e];for(const i of t.allowChildren){const r=a[i];r&&r.allowIn.push(e)}t.allowChildren.length=0}function Wn(a,e){for(const t of a[e].allowContentOf)a[t]&&Ys(a,t).forEach(i=>{i.allowIn.push(e)});delete a[e].allowContentOf}function dr(a,e){for(const t of a[e].allowWhere){const i=a[t];if(i){const r=i.allowIn;a[e].allowIn.push(...r)}}delete a[e].allowWhere}function ss(a,e){for(const t of a[e].allowAttributesOf){const i=a[t];if(i){const r=i.allowAttributes;a[e].allowAttributes.push(...r)}}delete a[e].allowAttributesOf}function as(a,e){const t=a[e];for(const i of t.inheritTypesFrom){const r=a[i];if(r){const m=Object.keys(r).filter(x=>x.startsWith("is"));for(const x of m)x in t||(t[x]=r[x])}}delete t.inheritTypesFrom}function Ks(a,e){const t=a[e],i=t.allowIn.filter(r=>a[r]);t.allowIn=Array.from(new Set(i))}function Zo(a,e){const t=a[e];for(const i of t.allowIn)a[i].allowChildren.push(e)}function Cr(a,e){const t=a[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function qo(a,e,t){for(const i of a){const r=i[t];typeof r=="string"?e[t].push(r):Array.isArray(r)&&e[t].push(...r)}}function Ys(a,e){const t=a[e];return(i=a,Object.keys(i).map(r=>i[r])).filter(r=>r.allowIn.includes(t.name));var i}function jr(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function Ss(a,e,t){for(const i of e.getAttributeKeys())a.checkAttribute(e,i)||t.removeAttribute(i,e)}var Is=Object.defineProperty,Ar=Object.defineProperties,Rr=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,Gs=Object.prototype.hasOwnProperty,Ps=Object.prototype.propertyIsEnumerable,No=(a,e,t)=>e in a?Is(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;class Nr extends(0,v.Mm)(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((i,r)=>{for(var m in r||(r={}))Gs.call(r,m)&&No(i,m,r[m]);if(ls)for(var m of ls(r))Ps.call(r,m)&&No(i,m,r[m]);return i})({},e),Ar(t,Rr({consumable:null,writer:null,store:null,convertItem:(i,r)=>this._convertItem(i,r),convertChildren:(i,r)=>this._convertChildren(i,r),safeInsert:(i,r)=>this._safeInsert(i,r),updateConversionResult:(i,r)=>this._updateConversionResult(i,r),splitToAllowedParent:(i,r)=>this._splitToAllowedParent(i,r),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(x,z){let ae;for(const be of new Ro(x)){const De={};for(const lt of be.getAttributeKeys())De[lt]=be.getAttribute(lt);const Xe=z.createElement(be.name,De);ae&&z.insert(Xe,ae),ae=Xt._createAt(Xe,0)}return ae}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=$o.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),m=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const x of Array.from(this._modelCursor.parent.getChildren()))t.append(x,m);m.markers=function(x,z){const ae=new Set,be=new Map,De=Lt._createIn(x).getItems();for(const Xe of De)Xe.is("element","$marker")&&ae.add(Xe);for(const Xe of ae){const lt=Xe.getAttribute("data-name"),Vt=z.createPositionBefore(Xe);be.has(lt)?be.get(lt).end=Vt.clone():be.set(lt,new Lt(Vt.clone())),z.remove(Xe)}return be}(m,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,m}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Lt))throw new v.Yb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:Xt._createAt(t,0);const r=new Lt(i);for(const m of Array.from(e.getChildren())){const x=this._convertItem(m,i);x.modelRange instanceof Lt&&(r.end=x.modelRange.end,i=x.modelCursor)}return{modelRange:r,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(i[i.length-1])));const m=this._cursorParents.get(e);t.modelCursor=m?r.createPositionAt(m,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:r}=this.conversionApi;let m=i.findAllowedParent(t,e);if(m){if(m===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(m)&&(m=null)}if(!m)return Cs(t,e,i)?{position:As(t,r)}:null;const x=this.conversionApi.writer.split(t,m),z=[];for(const be of x.range.getWalker())if(be.type=="elementEnd")z.push(be.item);else{const De=z.pop(),Xe=be.item;this._registerSplitPair(De,Xe)}const ae=x.range.end.parent;return this._cursorParents.set(e,ae),{position:x.position,cursorParent:ae}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class cs{getHtml(e){const t=v.global.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class ds{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new In(e,{renderingMode:"data"}),this.htmlWriter=new cs}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);return i}}class Zs extends(0,v.Mm)(){constructor(e,t){super(),this.model=e,this.mapper=new mo,this.downcastDispatcher=new fe({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,r,m)=>{if(!m.consumable.consume(r.item,i.name))return;const x=m.writer,z=m.mapper.toViewPosition(r.range.start),ae=x.createText(r.item.data);x.insert(z,ae)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,r,m)=>{m.convertAttributes(r.item),r.reconversion||!r.item.is("element")||r.item.isEmpty||m.convertChildren(r.item)},{priority:"lowest"}),this.upcastDispatcher=new Nr({schema:e.schema}),this.viewDocument=new Le(t),this.stylesProcessor=t,this.htmlProcessor=new ds(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Ci(this.viewDocument),this.upcastDispatcher.on("text",(i,r,{schema:m,consumable:x,writer:z})=>{let ae=r.modelCursor;if(!x.test(r.viewItem))return;if(!m.checkChild(ae,"$text")){if(!Cs(ae,"$text",m)||r.viewItem.data.trim().length==0)return;const De=ae.nodeBefore;ae=As(ae,z),De&&De.is("element","$marker")&&(z.move(z.createRangeOn(De),ae),ae=z.createPositionAfter(De))}x.consume(r.viewItem);const be=z.createText(r.viewItem.data);z.insert(be,ae),r.modelRange=z.createRange(ae,ae.getShiftedBy(be.offsetSize)),r.modelCursor=r.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,r,m)=>{if(!r.modelRange&&m.consumable.consume(r.viewItem,{name:!0})){const{modelRange:x,modelCursor:z}=m.convertChildren(r.viewItem,r.modelCursor);r.modelRange=x,r.modelCursor=z}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,r,m)=>{if(!r.modelRange&&m.consumable.consume(r.viewItem,{name:!0})){const{modelRange:x,modelCursor:z}=m.convertChildren(r.viewItem,r.modelCursor);r.modelRange=x,r.modelCursor=z}},{priority:"lowest"}),(0,v.VM)().prototype.decorate.call(this,"init"),(0,v.VM)().prototype.decorate.call(this,"set"),(0,v.VM)().prototype.decorate.call(this,"get"),(0,v.VM)().prototype.decorate.call(this,"toView"),(0,v.VM)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},xs)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new v.Yb("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||(0,v.FF)("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const m=Lt._createIn(e),x=new pi(i);this.mapper.bindElements(e,x);const z=e.is("documentFragment")?e.markers:function(ae){const be=[],De=ae.root.document;if(!De)return new Map;const Xe=Lt._createIn(ae);for(const lt of De.model.markers){const Vt=lt.getRange(),Kt=Vt.isCollapsed,ei=Vt.start.isEqual(Xe.start)||Vt.end.isEqual(Xe.end);if(Kt&&ei)be.push([lt.name,Vt]);else{const oi=Xe.getIntersection(Vt);oi&&be.push([lt.name,oi])}}return be.sort(([lt,Vt],[Kt,ei])=>{if(Vt.end.compareWith(ei.start)!=="after")return 1;if(Vt.start.compareWith(ei.end)!=="before")return-1;switch(Vt.start.compareWith(ei.start)){case"before":return 1;case"after":return-1;default:switch(Vt.end.compareWith(ei.end)){case"before":return 1;case"after":return-1;default:return Kt.localeCompare(lt)}}}),new Map(be)}(e);return this.downcastDispatcher.convert(m,z,r,t),x}init(e){if(this.model.document.version)throw new v.Yb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new v.Yb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const r of Object.keys(t)){const m=this.model.document.getRoot(r);i.insert(this.parse(t[r],m),m,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new v.Yb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const m of Object.keys(i)){const x=this.model.document.getRoot(m);r.remove(r.createRangeIn(x)),r.insert(this.parse(i[m],x),x,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class Ms{constructor(e,t){this._helpers=new Map,this._downcast=(0,v.$r)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,v.$r)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new v.Yb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new v.Yb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of ur(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of ur(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of ur(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new v.Yb("conversion-group-exists",this);const r=i?new Oo(t):new es(t);this._helpers.set(e,r)}}function*ur(a){if(a.model.values)for(const e of a.model.values){const t={key:a.model.key,value:e},i=a.view[e],r=a.upcastAlso?a.upcastAlso[e]:void 0;yield*us(t,i,r)}else yield*us(a.model,a.view,a.upcastAlso)}function*us(a,e,t){if(yield{model:a,view:e},t)for(const i of(0,v.$r)(t))yield{model:a,view:i}}class so{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Ko(a,e){const t=Ls(e),i=t.reduce((x,z)=>x+z.offsetSize,0),r=a.parent;mr(a);const m=a.index;return r._insertChild(m,t),_o(r,m+t.length),_o(r,m),new Lt(a,a.getShiftedBy(i))}function hr(a){if(!a.isFlat)throw new v.Yb("operation-utils-remove-range-not-flat",this);const e=a.start.parent;mr(a.start),mr(a.end);const t=e._removeChildren(a.start.index,a.end.index-a.start.index);return _o(e,a.start.index),t}function So(a,e){if(!a.isFlat)throw new v.Yb("operation-utils-move-range-not-flat",this);const t=hr(a);return Ko(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),t)}function Ls(a){const e=[];(function t(i){if(typeof i=="string")e.push(new un(i));else if(i instanceof Un)e.push(new un(i.data,i.getAttributes()));else if(i instanceof Pn)e.push(i);else if((0,v.xZ)(i))for(const r of i)t(r)})(a);for(let t=1;t<e.length;t++){const i=e[t],r=e[t-1];i instanceof un&&r instanceof un&&Os(i,r)&&(e.splice(t-1,2,new un(r.data+i.data,r.getAttributes())),t--)}return e}function _o(a,e){const t=a.getChild(e-1),i=a.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&Os(t,i)){const r=new un(t.data+i.data,t.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,r)}}function mr(a){const e=a.textNode,t=a.parent;if(e){const i=a.offset-e.startOffset,r=e.index;t._removeChildren(r,1);const m=new un(e.data.substr(0,i),e.getAttributes()),x=new un(e.data.substr(i),e.getAttributes());t._insertChild(r,[m,x])}}function Os(a,e){const t=a.getAttributes(),i=e.getAttributes();for(const r of t){if(r[1]!==e.getAttribute(r[0]))return!1;i.next()}return i.next().done}class an extends so{constructor(e,t,i,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Lt._createFromPositionAndShift(this.sourcePosition,this.howMany),Lt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new an(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new an(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,r=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new v.Yb("move-operation-nodes-do-not-exist",this);if(e===t&&i<r&&r<i+this.howMany)throw new v.Yb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,v.ww)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const m=this.sourcePosition.path.length-1;if(this.targetPosition.path[m]>=i&&this.targetPosition.path[m]<i+this.howMany)throw new v.Yb("move-operation-node-into-itself",this)}}_execute(){So(Lt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),r=Xt.fromJSON(e.targetPosition,t);return new this(i,e.howMany,r,e.baseVersion)}}class Nn extends so{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Hn(Ls(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Hn([...this.nodes].map(i=>i._clone(!0))),t=new Nn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Xt(e,[0]);return new an(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new v.Yb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Hn([...e].map(t=>t._clone(!0))),Ko(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const m of e.nodes)m.name?i.push(ji.fromJSON(m)):i.push(un.fromJSON(m));const r=new Nn(Xt.fromJSON(e.position,t),i,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class pn extends so{constructor(e,t,i,r,m){super(m),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Xt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Lt(this.splitPosition,e)}get affectedSelectable(){const e=[Lt._createFromPositionAndShift(this.splitPosition,0),Lt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Lt._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Xt(e,[0]);return new kn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new v.Yb("split-operation-position-invalid",this);if(!e.parent)throw new v.Yb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new v.Yb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new v.Yb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)So(Lt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Ko(this.insertionPosition,t)}So(new Lt(Xt._createAt(e,this.splitPosition.offset),Xt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Xt(e.root,t,"toPrevious")}static fromJSON(e,t){const i=Xt.fromJSON(e.splitPosition,t),r=Xt.fromJSON(e.insertionPosition,t),m=e.graveyardPosition?Xt.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,r,m,e.baseVersion)}}class kn extends so{constructor(e,t,i,r,m){super(m),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new Xt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Lt(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Lt._createOn(e),Lt._createFromPositionAndShift(this.targetPosition,0),Lt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new Xt(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new pn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new v.Yb("merge-operation-source-position-invalid",this);if(!t.parent)throw new v.Yb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new v.Yb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;So(Lt._createIn(e),this.targetPosition),So(Lt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),r=Xt.fromJSON(e.targetPosition,t),m=Xt.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,r,m,e.baseVersion)}}class Gn extends so{constructor(e,t,i,r,m,x){super(x),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=m,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Gn(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Gn(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Gn(e.name,e.oldRange?Lt.fromJSON(e.oldRange,t):null,e.newRange?Lt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Vs=function(a,e){return(0,po.A)(a,e)};class Mn extends so{constructor(e,t,i,r,m){super(m),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Mn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Mn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new v.Yb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Vs(e.getAttribute(this.key),this.oldValue))throw new v.Yb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new v.Yb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Vs(this.oldValue,this.newValue)||function(e,t,i){mr(e.start),mr(e.end);for(const r of e.getItems({shallow:!0})){const m=r.is("$textProxy")?r.textNode:r;i!==null?m._setAttribute(t,i):m._removeAttribute(t),_o(m.parent,m.index)}_o(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Mn(Lt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xn extends so{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new xn(this.baseVersion)}getReversed(){return new xn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Dn extends so{constructor(e,t,i,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Dn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Dn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ji))throw new v.Yb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new v.Yb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Dn(Xt.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class vo extends so{constructor(e,t,i,r,m){super(m),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new vo(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new vo(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new v.Yb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new v.Yb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new v.Yb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new v.Yb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new vo(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Zn extends so{constructor(e,t,i,r,m){super(m),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=r,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Zn(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Zn(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Zn(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const ao={};ao[Mn.className]=Mn,ao[Nn.className]=Nn,ao[Gn.className]=Gn,ao[an.className]=an,ao[xn.className]=xn,ao[so.className]=so,ao[Dn.className]=Dn,ao[vo.className]=vo,ao[Zn.className]=Zn,ao[pn.className]=pn,ao[kn.className]=kn;class Io{static fromJSON(e,t){return ao[e.__className].fromJSON(e,t)}}const Yo=new Map;function ln(a,e,t){let i=Yo.get(a);i||(i=new Map,Yo.set(a,i)),i.set(e,t)}function Qo(a){return[a]}function gr(a,e,t={}){const i=function(r,m){const x=Yo.get(r);return x&&x.has(m)?x.get(m):Qo}(a.constructor,e.constructor);try{return i(a=a.clone(),e,t)}catch(r){throw r}}function js(a,e,t){a=a.slice(),e=e.slice();const i=new Jo(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(a),i.setOriginalOperations(e);const r=i.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:r};const m=new WeakMap;for(const ae of a)m.set(ae,0);const x={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let z=0;for(;z<a.length;){const ae=a[z],be=m.get(ae);if(be==e.length){z++;continue}const De=e[be],Xe=gr(ae,De,i.getContext(ae,De,!0)),lt=gr(De,ae,i.getContext(De,ae,!1));i.updateRelation(ae,De),i.setOriginalOperations(Xe,ae),i.setOriginalOperations(lt,De);for(const Vt of Xe)m.set(Vt,be+lt.length);a.splice(z,1,...Xe),e.splice(be,1,...lt)}if(t.padWithNoOps){const ae=a.length-x.originalOperationsACount,be=e.length-x.originalOperationsBCount;Rs(a,be-ae),Rs(e,ae-be)}return Tr(a,x.nextBaseVersionB),Tr(e,x.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:r}}class Jo{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,i||r)}updateRelation(e,t){if(e instanceof an)t instanceof kn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof an&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof pn){if(t instanceof kn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof an)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=Lt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const r=i.end.offset-e.splitPosition.offset,m=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:r,offset:m})}}}else if(e instanceof kn)t instanceof kn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof pn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof an&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Gn){const i=e.newRange;if(!i)return;if(t instanceof an){const r=Lt._createFromPositionAndShift(t.sourcePosition,t.howMany),m=r.containsPosition(i.start)||r.start.isEqual(i.start),x=r.containsPosition(i.end)||r.end.isEqual(i.end);!m&&!x||r.containsRange(i)||this._setRelation(e,t,{side:m?"left":"right",path:m?i.start.path.slice():i.end.path.slice()})}else if(t instanceof kn){const r=i.start.isEqual(t.targetPosition),m=i.start.isEqual(t.deletionPosition),x=i.end.isEqual(t.deletionPosition),z=i.end.isEqual(t.sourcePosition);(r||m||x||z)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:m,wasEndBeforeMergedElement:x,wasInRightElement:z})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),r=this._history.getUndoneOperation(i);if(!r)return null;const m=this.originalOperations.get(e),x=this._relations.get(m);return x&&x.get(r)||null}_setRelation(e,t,i){const r=this.originalOperations.get(e),m=this.originalOperations.get(t);let x=this._relations.get(r);x||(x=new Map,this._relations.set(r,x)),x.set(m,i)}}function Tr(a,e){for(const t of a)t.baseVersion=e++}function Rs(a,e){for(let t=0;t<e;t++)a.push(new xn(0))}function Br(a,e,t){const i=a.nodes.getNode(0).getAttribute(e);if(i==t)return null;const r=new Lt(a.position,a.position.getShiftedBy(a.howMany));return new Mn(r,e,i,t,0)}function hs(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Xo(a,e){const t=[];for(let i=0;i<a.length;i++){const r=a[i],m=new an(r.start,r.end.offset-r.start.offset,e,0);t.push(m);for(let x=i+1;x<a.length;x++)a[x]=a[x]._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany)[0];e=e._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany)}return t}ln(Mn,Mn,(a,e,t)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const i=a.range.getDifference(e.range).map(m=>new Mn(m,a.key,a.oldValue,a.newValue,0)),r=a.range.getIntersection(e.range);return r&&t.aIsStrong&&i.push(new Mn(r,e.key,e.newValue,a.newValue,0)),i.length==0?[new xn(0)]:i}return[a]}),ln(Mn,Nn,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const t=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new Mn(i,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const i=Br(e,a.key,a.oldValue);i&&t.unshift(i)}return t}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),ln(Mn,kn,(a,e)=>{const t=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&t.push(Lt._createFromPositionAndShift(e.graveyardPosition,1));const i=a.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(r=>new Mn(r,a.key,a.oldValue,a.newValue,a.baseVersion))}),ln(Mn,an,(a,e)=>function(t,i){const r=Lt._createFromPositionAndShift(i.sourcePosition,i.howMany);let m=null,x=[];r.containsRange(t,!0)?m=t:t.start.hasSameParentAs(r.start)?(x=t.getDifference(r),m=t.getIntersection(r)):x=[t];const z=[];for(let ae of x){ae=ae._getTransformedByDeletion(i.sourcePosition,i.howMany);const be=i.getMovedRangeStart(),De=ae.start.hasSameParentAs(be),Xe=ae._getTransformedByInsertion(be,i.howMany,De);z.push(...Xe)}return m&&z.push(m._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),z}(a.range,e).map(t=>new Mn(t,a.key,a.oldValue,a.newValue,a.baseVersion))),ln(Mn,pn,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const t=a.clone();return t.range=new Lt(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,t]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),ln(Nn,Mn,(a,e)=>{const t=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const i=Br(a,e.key,e.newValue);i&&t.push(i)}return t}),ln(Nn,Nn,(a,e,t)=>(a.position.isEqual(e.position)&&t.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),ln(Nn,an,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),ln(Nn,pn,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),ln(Nn,kn,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),ln(Gn,Nn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),ln(Gn,Gn,(a,e,t)=>{if(a.name==e.name){if(!t.aIsStrong)return[new xn(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),ln(Gn,kn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),ln(Gn,an,(a,e,t)=>{if(a.oldRange&&(a.oldRange=Lt._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(t.abRelation){const i=Lt._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=i.end,a.newRange.start.path=t.abRelation.path,[a];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=i.start,a.newRange.end.path=t.abRelation.path,[a]}a.newRange=Lt._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),ln(Gn,pn,(a,e,t)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(t.abRelation){const i=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?a.newRange.start=Xt._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(a.newRange.start=Xt._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?a.newRange.end=Xt._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?a.newRange.end=Xt._createAt(e.insertionPosition):a.newRange.end=i.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),ln(kn,Nn,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),ln(kn,kn,(a,e,t)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),a.sourcePosition=new Xt(e.graveyardPosition.root,i),a.howMany=0,[a]}return[new xn(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=a.targetPosition.root.rootName=="$graveyard",r=e.targetPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const m=e.targetPosition._getTransformedByMergeOperation(e),x=a.targetPosition._getTransformedByMergeOperation(e);return[new an(m,a.howMany,x,0)]}return[new xn(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),ln(kn,an,(a,e,t)=>{const i=Lt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(a.sourcePosition)?[new xn(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(a.sourcePosition)?a.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(a.sourcePosition)&&t.abRelation=="mergeSourceAffected"?a.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(a.targetPosition)?(a.targetPosition.stickiness="toNone",a.howMany-=e.howMany):e.targetPosition.isEqual(a.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(a.targetPosition.stickiness="toPrevious",a.howMany+=e.howMany):(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany)),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.sourcePosition.stickiness="toPrevious",a.targetPosition.stickiness="toNext",a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),ln(kn,pn,(a,e,t)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,r=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(i||r||t.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(t.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),ln(an,Nn,(a,e)=>{const t=Lt._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=t.start,a.howMany=t.end.offset-t.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),ln(an,an,(a,e,t)=>{const i=Lt._createFromPositionAndShift(a.sourcePosition,a.howMany),r=Lt._createFromPositionAndShift(e.sourcePosition,e.howMany);let m,x=t.aIsStrong,z=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?z=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(z=!1),m=a.targetPosition.isEqual(e.targetPosition)&&z?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),hs(a,e)&&hs(e,a))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xo([i],m);if(r.containsPosition(a.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Xo([i],m);const ae=(0,v.ww)(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(ae=="prefix"||ae=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xo([i],m);a.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?a.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(x=!1):x=!0;const be=[],De=i.getDifference(r);for(const lt of De){lt.start=lt.start._getTransformedByDeletion(e.sourcePosition,e.howMany),lt.end=lt.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const Vt=(0,v.ww)(lt.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",Kt=lt._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,Vt);be.push(...Kt)}const Xe=i.getIntersection(r);return Xe!==null&&x&&(Xe.start=Xe.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),Xe.end=Xe.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),be.length===0?be.push(Xe):be.length==1?r.start.isBefore(i.start)||r.start.isEqual(i.start)?be.unshift(Xe):be.push(Xe):be.splice(1,0,Xe)),be.length===0?[new xn(a.baseVersion)]:Xo(be,m)}),ln(an,pn,(a,e,t)=>{let i=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=a.targetPosition._getTransformedBySplitOperation(e));const r=Lt._createFromPositionAndShift(a.sourcePosition,a.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=i,[a];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let x=new Lt(e.splitPosition,r.end);return x=x._getTransformedBySplitOperation(e),Xo([new Lt(r.start,e.splitPosition),x],i)}a.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=a.targetPosition);const m=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const x=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);a.howMany>1&&x&&!t.aWasUndone&&m.push(Lt._createFromPositionAndShift(e.insertionPosition,1))}return Xo(m,i)}),ln(an,kn,(a,e,t)=>{const i=Lt._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(a.type!="remove"||t.forceWeakRemove){if(a.howMany==1)return t.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new xn(0)]}else if(!t.aWasUndone){const m=[];let x=e.graveyardPosition.clone(),z=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(m.push(new an(a.sourcePosition,a.howMany-1,a.targetPosition,0)),x=x._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),z=z._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const ae=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),be=new an(x,1,ae,0),De=be.getMovedRangeStart().path.slice();De.push(0);const Xe=new Xt(be.targetPosition.root,De);z=z._getTransformedByMove(x,ae,1);const lt=new an(z,e.howMany,Xe,0);return m.push(be),m.push(lt),m}}const r=Lt._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=r.start,a.howMany=r.end.offset-r.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),ln(Dn,Nn,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),ln(Dn,kn,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),ln(Dn,an,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),ln(Dn,Dn,(a,e,t)=>{if(a.position.isEqual(e.position)){if(!t.aIsStrong)return[new xn(0)];a.oldName=e.newName}return[a]}),ln(Dn,pn,(a,e)=>{const t=a.position.path,i=e.splitPosition.getParentPath();if((0,v.ww)(t,i)=="same"&&!e.graveyardPosition){const r=new Dn(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,r]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),ln(vo,vo,(a,e,t)=>{if(a.root===e.root&&a.key===e.key){if(!t.aIsStrong||a.newValue===e.newValue)return[new xn(0)];a.oldValue=e.newValue}return[a]}),ln(Zn,Zn,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new xn(0)]:[a]),ln(pn,Nn,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),ln(pn,kn,(a,e,t)=>{if(!a.graveyardPosition&&!t.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const r=new Xt(e.graveyardPosition.root,i),m=pn.getInsertionPosition(new Xt(e.graveyardPosition.root,i)),x=new pn(r,0,m,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=pn.getInsertionPosition(a.splitPosition),a.graveyardPosition=x.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[x,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=pn.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),ln(pn,an,(a,e,t)=>{const i=Lt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const m=i.start.isEqual(a.graveyardPosition)||i.containsPosition(a.graveyardPosition);if(!t.bWasUndone&&m){const x=a.splitPosition._getTransformedByMoveOperation(e),z=a.graveyardPosition._getTransformedByMoveOperation(e),ae=z.path.slice();ae.push(0);const be=new Xt(z.root,ae);return[new an(x,a.howMany,be,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const r=a.splitPosition.isEqual(e.targetPosition);if(r&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=pn.getInsertionPosition(a.splitPosition),[a];if(r&&t.abRelation&&t.abRelation.howMany){const{howMany:m,offset:x}=t.abRelation;return a.howMany+=m,a.splitPosition=a.splitPosition.getShiftedBy(x),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(a.splitPosition)){const m=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=m,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=pn.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=pn.getInsertionPosition(a.splitPosition),[a]}),ln(pn,pn,(a,e,t)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new xn(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new xn(0)];if(t.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const i=a.splitPosition.root.rootName=="$graveyard",r=e.splitPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const m=[];return e.howMany&&m.push(new an(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&m.push(new an(a.splitPosition,a.howMany,a.moveTargetPosition,0)),m}return[new xn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const r=new Xt(e.insertionPosition.root,i);return[a,new an(a.insertionPosition,1,r,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=pn.getInsertionPosition(a.splitPosition),[a]});class $n extends(0,v.Mm)(Xt){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new v.Yb("model-liveposition-root-not-rootelement",e);Qs.call(this)}detach(){this.stopListening()}toPosition(){return new Xt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Qs(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const t=e[0];t.isDocumentOperation&&Js.call(this,t)},{priority:"low"})}function Js(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}$n.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class Bo{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,v.FF)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:r=!1,isTyping:m=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=r,this.isTyping=m}get type(){return(0,v.FF)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Dr=Object.defineProperty,ms=Object.defineProperties,zr=Object.getOwnPropertyDescriptors,er=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Er=(a,e,t)=>e in a?Dr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,Sr=(a,e)=>{for(var t in e||(e={}))gs.call(e,t)&&Er(a,t,e[t]);if(er)for(var t of er(e))Fr.call(e,t)&&Er(a,t,e[t]);return a};class ps{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),r=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),r||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=Lt._createFromPositionAndShift(t.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(i)){const m=r.getData();this.bufferMarkerChange(r.name,m,m)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const r=t.graveyardPosition.parent;this._markInsert(r,t.graveyardPosition.offset,1);const m=t.targetPosition.parent;this._isInInsertedElement(m)||this._markInsert(m,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=i:(r={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,r)),r.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,r=!e.range&&t.range,m=e.range&&t.range&&!e.range.isEqual(t.range);if(i||r||m)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const r=this._changesInElement.get(i).sort((De,Xe)=>De.offset===Xe.offset?De.type!=Xe.type?De.type=="remove"?-1:1:0:De.offset<Xe.offset?-1:1),m=this._elementSnapshots.get(i),x=Hr(i.getChildren()),z=fs(m.length,r);let ae=0,be=0;for(const De of z)if(De==="i")t.push(this._getInsertDiff(i,ae,x[ae])),ae++;else if(De==="r")t.push(this._getRemoveDiff(i,ae,m[be])),be++;else if(De==="a"){const Xe=x[ae].attributes,lt=m[be].attributes;let Vt;if(x[ae].name=="$text")Vt=new Lt(Xt._createAt(i,ae),Xt._createAt(i,ae+1));else{const Kt=i.offsetToIndex(ae);Vt=new Lt(Xt._createAt(i,ae),Xt._createAt(i.getChild(Kt),0))}t.push(...this._getAttributesDiff(Vt,lt,Xe)),ae++,be++}else ae++,be++}t.sort((i,r)=>i.position.root!=r.position.root?i.position.root.rootName<r.position.root.rootName?-1:1:i.position.isEqual(r.position)?i.changeCount-r.changeCount:i.position.isBefore(r.position)?-1:1);for(let i=1,r=0;i<t.length;i++){const m=t[r],x=t[i],z=m.type=="remove"&&x.type=="remove"&&m.name=="$text"&&x.name=="$text"&&m.position.isEqual(x.position),ae=m.type=="insert"&&x.type=="insert"&&m.name=="$text"&&x.name=="$text"&&m.position.parent==x.position.parent&&m.position.offset+m.length==x.position.offset,be=m.type=="attribute"&&x.type=="attribute"&&m.position.parent==x.position.parent&&m.range.isFlat&&x.range.isFlat&&m.position.offset+m.length==x.position.offset&&m.attributeKey==x.attributeKey&&m.attributeOldValue==x.attributeOldValue&&m.attributeNewValue==x.attributeNewValue;z||ae||be?(m.length++,be&&(m.range.end=m.range.end.getShiftedBy(1)),t[i]=null):r=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Ur),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Sr({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,r){const m=this._changedRoots.get(e)||{name:e},x=m.attributes||{};if(x[t]){const z=x[t];r===z.oldValue?delete x[t]:z.newValue=r}else x[t]={oldValue:i,newValue:r};Object.entries(x).length===0?(delete m.attributes,m.state===void 0&&this._changedRoots.delete(e)):(m.attributes=x,this._changedRoots.set(e,m))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Lt._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const r=i.getData();this.bufferMarkerChange(i.name,r,r)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const i of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,i,null,e.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==e){const r=i.getData();this.bufferMarkerChange(i.name,(t=Sr({},r),ms(t,zr({range:null}))),r)}var t}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let r=0;r<i.length;r++)i[r].howMany<1&&(i.splice(r,1),r--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Hr(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const r=e.offset+e.howMany,m=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<m&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<m){const x=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:r,howMany:x-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(r<=i.offset)i.offset-=e.howMany;else if(r<=m)if(e.offset<i.offset){const x=r-i.offset;i.offset=e.offset,i.howMany-=x,e.nodesToHandle-=x}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<m){const x=m-e.offset;i.howMany-=x,e.nodesToHandle-=x}}if(i.type=="remove"&&(r<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(r<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const x=r-i.offset;i.offset=e.offset,i.howMany-=x}else if(e.offset<m)if(r<=m){const x=i.howMany;i.howMany=e.offset-i.offset;const z=x-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:z,count:this._changeCount++})}else i.howMany-=m-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&r>i.offset){if(r>m){const x={type:"attribute",offset:m,howMany:r-m,count:this._changeCount++};this._handleChange(x,t),t.push(x)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<m&&(r>m?(e.nodesToHandle=r-m,e.offset=m):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&r>i.offset){const x={type:"attribute",offset:i.offset,howMany:r-i.offset,count:this._changeCount++};this._handleChange(x,t),t.push(x),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&r<=m?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&r>=m&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getRemoveDiff(e,t,i){return{type:"remove",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getAttributesDiff(e,t,i){const r=[];i=new Map(i);for(const[m,x]of t){const z=i.has(m)?i.get(m):null;z!==x&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:m,attributeOldValue:x,attributeNewValue:z,changeCount:this._changeCount++}),i.delete(m)}for(const[m,x]of i)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:m,attributeOldValue:null,attributeNewValue:x,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),r=e.startOffset;if(i){for(const m of i)if(m.type=="insert"&&r>=m.offset&&r<m.offset+m.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const r=new Lt(Xt._createAt(e,t),Xt._createAt(e,t+i));for(const m of r.getItems({shallow:!0}))m.is("element")&&(this._elementSnapshots.delete(m),this._changesInElement.delete(m),this._removeAllNestedChanges(m,0,m.maxOffset))}}function Hr(a){const e=[];for(const t of a)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function fs(a,e){const t=[];let i=0,r=0;for(const m of e){if(m.offset>i){for(let x=0;x<m.offset-i;x++)t.push("e");r+=m.offset-i}if(m.type=="insert"){for(let x=0;x<m.howMany;x++)t.push("i");i=m.offset+m.howMany}else if(m.type=="remove"){for(let x=0;x<m.howMany;x++)t.push("r");i=m.offset,r+=m.howMany}else t.push(..."a".repeat(m.howMany).split("")),i=m.offset+m.howMany,r+=m.howMany}if(r<a)for(let m=0;m<a-r-i;m++)t.push("e");return t}function Ur(a){const e="position"in a&&a.position.root.rootName=="$graveyard",t="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!t}class Ir{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new v.Yb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let r=t-1;for(const[z,ae]of this._gaps)e>z&&e<ae&&(e=ae),r>z&&r<ae&&(r=z-1);if(r<i.baseVersion||e>this.lastOperation.baseVersion)return[];let m=this._baseVersionToOperationIndex.get(e);m===void 0&&(m=0);let x=this._baseVersionToOperationIndex.get(r);return x===void 0&&(x=this._operations.length-1),this._operations.slice(m,x+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class pr extends ji{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}pr.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var Ns=Object.defineProperty,Bs=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable,$r=(a,e,t)=>e in a?Ns(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,U=(a,e)=>{for(var t in e||(e={}))Ds.call(e,t)&&$r(a,t,e[t]);if(Wr)for(var t of Wr(e))zs.call(e,t)&&$r(a,t,e[t]);return a},A=(a,e)=>Bs(a,bs(e));const D="$graveyard";class he extends(0,v.Mm)(){constructor(e){super(),this.model=e,this.history=new Ir,this.selection=new Mi(this),this.roots=new v.pM({idProperty:"rootName"}),this.differ=new ps(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",D),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,r,m,x)=>{const z=A(U({},i.getData()),{range:m});this.differ.bufferMarkerChange(i.name,x,z),r===null&&i.on("change",(ae,be)=>{const De=i.getData();this.differ.bufferMarkerChange(i.name,A(U({},De),{range:be}),De)})}),this.registerPostFixer(t=>{let i=!1;for(const r of this.roots)r.isAttached()||r.isEmpty||(t.remove(t.createRangeIn(r)),i=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(t.removeMarker(r),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(D)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new v.Yb("model-document-createroot-name-exists",this,{name:t});const i=new pr(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=_(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,r=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return Ve(e.start)&&Ve(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function Ve(a){const e=a.textNode;if(e){const t=e.data,i=a.offset-e.startOffset;return!(0,v.P5)(t,i)&&!(0,v.Iw)(t,i)}return!0}var ze=Object.defineProperty,Ge=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,pt=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Zt=(a,e,t)=>e in a?ze(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;class li extends(0,v.Mm)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ii?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,r=!1){const m=e instanceof ii?e.name:e;if(m.includes(","))throw new v.Yb("markercollection-incorrect-marker-name",this);const x=this._markers.get(m);if(x){const De=x.getData(),Xe=x.getRange();let lt=!1;return Xe.isEqual(t)||(x._attachLiveRange(Qt.fromRange(t)),lt=!0),i!=x.managedUsingOperations&&(x._managedUsingOperations=i,lt=!0),typeof r=="boolean"&&r!=x.affectsData&&(x._affectsData=r,lt=!0),lt&&this.fire(`update:${m}`,x,Xe,t,De),x}const z=Qt.fromRange(t),ae=new ii(m,z,i,r);var be;return this._markers.set(m,ae),this.fire(`update:${m}`,ae,null,t,(be=((De,Xe)=>{for(var lt in Xe||(Xe={}))kt.call(Xe,lt)&&Zt(De,lt,Xe[lt]);if(pt)for(var lt of pt(Xe))Ot.call(Xe,lt)&&Zt(De,lt,Xe[lt]);return De})({},ae.getData()),Ge(be,bt({range:null})))),ae}_remove(e){const t=e instanceof ii?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof ii?e.name:e,i=this._markers.get(t);if(!i)throw new v.Yb("markercollection-refresh-marker-not-exists",this);const r=i.getRange();this.fire(`update:${t}`,i,r,r,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ii extends(0,v.Mm)(no){constructor(e,t,i,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new v.Yb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new v.Yb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new v.Yb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new v.Yb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new v.Yb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ii.prototype.is=function(a){return a==="marker"||a==="model:marker"};class fi extends so{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new v.Yb("detach-operation-on-document-node",this)}_execute(){hr(Lt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class vi extends no{constructor(e){super(),this.markers=new Map,this._children=new Hn,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(ji.fromJSON(i)):t.push(un.fromJSON(i));return new vi(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(r){return typeof r=="string"?[new un(r)]:((0,v.xZ)(r)||(r=[r]),Array.from(r).map(m=>typeof m=="string"?new un(m):m instanceof Un?new un(m.data,m.getAttributes()):m))}(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}}vi.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class cn{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new un(e,t)}createElement(e,t){return new ji(e,t)}createDocumentFragment(){return new vi}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof un&&e.data=="")return;const r=Xt._createAt(t,i);if(e.parent){if(Pr(e.root,r.root))return void this.move(Lt._createOn(e),r);if(e.root.document)throw new v.Yb("model-writer-insert-forbidden-move",this);this.remove(e)}const m=r.root.document?r.root.document.version:null,x=new Nn(r,e,m);if(e instanceof un&&(x.shouldReceiveAttributes=!0),this.batch.addOperation(x),this.model.applyOperation(x),e instanceof vi)for(const[z,ae]of e.markers){const be=Xt._createAt(ae.root,0),De={range:new Lt(ae.start._getCombined(be,r),ae.end._getCombined(be,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(z)?this.updateMarker(z,De):this.addMarker(z,De)}}insertText(e,t,i,r){t instanceof vi||t instanceof ji||t instanceof Xt?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,r)}insertElement(e,t,i,r){t instanceof vi||t instanceof ji||t instanceof Xt?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof vi||t instanceof ji?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof vi||t instanceof ji?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof Lt){const r=i.getMinimalFlatRanges();for(const m of r)qn(this,e,t,m)}else Vn(this,e,t,i)}setAttributes(e,t){for(const[i,r]of(0,v.av)(e))this.setAttribute(i,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Lt){const i=t.getMinimalFlatRanges();for(const r of i)qn(this,e,null,r)}else Vn(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const r of i.getAttributeKeys())this.removeAttribute(r,i)};if(e instanceof Lt)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Lt))throw new v.Yb("writer-move-invalid-range",this);if(!e.isFlat)throw new v.Yb("writer-move-range-not-flat",this);const r=Xt._createAt(t,i);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Pr(e.root,r.root))throw new v.Yb("writer-move-different-document",this);const m=e.root.document?e.root.document.version:null,x=new an(e.start,e.end.offset-e.start.offset,r,m);this.batch.addOperation(x),this.model.applyOperation(x)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Lt?e:Lt._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),Do(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ji))throw new v.Yb("writer-merge-no-element-before",this);if(!(i instanceof ji))throw new v.Yb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(Lt._createIn(i),Xt._createAt(t,"end")),this.remove(i)}_merge(e){const t=Xt._createAt(e.nodeBefore,"end"),i=Xt._createAt(e.nodeAfter,0),r=e.root.document.graveyard,m=new Xt(r,[0]),x=e.root.document.version,z=new kn(i,e.nodeAfter.maxOffset,t,m,x);this.batch.addOperation(z),this.model.applyOperation(z)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ji))throw new v.Yb("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,r=new Dn(Xt._createBefore(e),e.name,t,i);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let i,r,m=e.parent;if(!m.parent)throw new v.Yb("writer-split-element-no-parent",this);if(t||(t=m.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new v.Yb("writer-split-invalid-limit-element",this);do{const x=m.root.document?m.root.document.version:null,z=m.maxOffset-e.offset,ae=pn.getInsertionPosition(e),be=new pn(e,z,ae,null,x);this.batch.addOperation(be),this.model.applyOperation(be),i||r||(i=m,r=e.parent.nextSibling),m=(e=this.createPositionAfter(e.parent)).parent}while(m!==t);return{position:e,range:new Lt(Xt._createAt(i,"end"),Xt._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new v.Yb("writer-wrap-range-not-flat",this);const i=t instanceof ji?t:new ji(t);if(i.childCount>0)throw new v.Yb("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new v.Yb("writer-wrap-element-attached",this);this.insert(i,e.start);const r=new Lt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,Xt._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new v.Yb("writer-unwrap-element-no-parent",this);this.move(Lt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new v.Yb("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,r=t.range,m=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new v.Yb("writer-addmarker-marker-exists",this);if(!r)throw new v.Yb("writer-addmarker-no-range",this);return i?(Kn(this,e,null,r,m),this.model.markers.get(e)):this.model.markers._set(e,r,i,m)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new v.Yb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,v.FF)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(r);const m=typeof t.usingOperation=="boolean",x=typeof t.affectsData=="boolean",z=x?t.affectsData:r.affectsData;if(!m&&!t.range&&!x)throw new v.Yb("writer-updatemarker-wrong-options",this);const ae=r.getRange(),be=t.range?t.range:ae;m&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?Kn(this,i,null,be,z):(Kn(this,i,ae,null,z),this.model.markers._set(i,be,void 0,z)):r.managedUsingOperations?Kn(this,i,ae,be,z):this.model.markers._set(i,be,void 0,z)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new v.Yb("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);Kn(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new v.Yb("writer-addroot-root-exists",this);const r=this.model.document,m=new Zn(e,t,!0,r,r.version);return this.batch.addOperation(m),this.model.applyOperation(m),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new v.Yb("writer-detachroot-no-root",this);for(const m of this.model.markers)m.getRange().root===t&&this.removeMarker(m);for(const m of t.getAttributeKeys())this.removeAttribute(m,t);this.remove(this.createRangeIn(t));const i=this.model.document,r=new Zn(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,r]of(0,v.av)(e))this._setSelectionAttribute(i,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const r=Mi._getStoreAttributeKey(e);this.setAttribute(r,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=Mi._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new v.Yb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const r=i.getRange();let m=!1;if(e==="move"){const x=t;m=x.containsPosition(r.start)||x.start.isEqual(r.start)||x.containsPosition(r.end)||x.end.isEqual(r.end)}else{const x=t,z=x.nodeBefore,ae=x.nodeAfter,be=r.start.parent==z&&r.start.isAtEnd,De=r.end.parent==ae&&r.end.offset==0,Xe=r.end.nodeAfter==ae,lt=r.start.nodeAfter==ae;m=be||De||Xe||lt}m&&this.updateMarker(i.name,{range:r})}}}function qn(a,e,t,i){const r=a.model,m=r.document;let x,z,ae,be=i.start;for(const Xe of i.getWalker({shallow:!0}))ae=Xe.item.getAttribute(e),x&&z!=ae&&(z!=t&&De(),be=x),x=Xe.nextPosition,z=ae;function De(){const Xe=new Lt(be,x),lt=Xe.root.document?m.version:null,Vt=new Mn(Xe,e,z,t,lt);a.batch.addOperation(Vt),r.applyOperation(Vt)}x instanceof Xt&&x!=be&&z!=t&&De()}function Vn(a,e,t,i){const r=a.model,m=r.document,x=i.getAttribute(e);let z,ae;if(x!=t){if(i.root===i){const be=i.document?m.version:null;ae=new vo(i,e,x,t,be)}else{z=new Lt(Xt._createBefore(i),a.createPositionAfter(i));const be=z.root.document?m.version:null;ae=new Mn(z,e,x,t,be)}a.batch.addOperation(ae),r.applyOperation(ae)}}function Kn(a,e,t,i,r){const m=a.model,x=m.document,z=new Gn(e,t,i,m.markers,!!r,x.version);a.batch.addOperation(z),m.applyOperation(z)}function Do(a,e,t,i){let r;if(a.root.document){const m=i.document,x=new Xt(m.graveyard,[0]);r=new an(a,e,x,m.version)}else r=new fi(a,e);t.addOperation(r),i.applyOperation(r)}function Pr(a,e){return a===e||a instanceof pr&&e instanceof pr}function Fs(a,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const r=a.schema;a.change(m=>{if(!t.doNotResetEntireContent&&function(be,De){const Xe=be.getLimitElement(De);if(!De.containsEntireContent(Xe))return!1;const lt=De.getFirstRange();return lt.start.parent==lt.end.parent?!1:be.checkChild(Xe,"paragraph")}(r,e))return void function(be,De){const Xe=be.model.schema.getLimitElement(De);be.remove(be.createRangeIn(Xe)),ks(be,be.createPositionAt(Xe,0),De)}(m,e);const x={};if(!t.doNotAutoparagraph){const be=e.getSelectedElement();be&&Object.assign(x,r.getAttributesWithProperty(be,"copyOnReplace",!0))}const[z,ae]=function(be){const De=be.root.document.model,Xe=be.start;let lt=be.end;if(De.hasContent(be,{ignoreMarkers:!0})){const Vt=function(Kt){const ei=Kt.parent,oi=ei.root.document.model.schema,yi=ei.getAncestors({parentFirst:!0,includeSelf:!0});for(const zi of yi){if(oi.isLimit(zi))return null;if(oi.isBlock(zi))return zi}}(lt);if(Vt&&lt.isTouching(De.createPositionAt(Vt,0))){const Kt=De.createSelection(be);De.modifySelection(Kt,{direction:"backward"});const ei=Kt.getLastPosition(),oi=De.createRange(ei,lt);De.hasContent(oi,{ignoreMarkers:!0})||(lt=ei)}}return[$n.fromPosition(Xe,"toPrevious"),$n.fromPosition(lt,"toNext")]}(i);z.isTouching(ae)||m.remove(m.createRange(z,ae)),t.leaveUnmerged||(function(be,De,Xe){const lt=be.model;if(!qr(be.model.schema,De,Xe))return;const[Vt,Kt]=function(ei,oi){const yi=ei.getAncestors(),zi=oi.getAncestors();let fn=0;for(;yi[fn]&&yi[fn]==zi[fn];)fn++;return[yi[fn],zi[fn]]}(De,Xe);!Vt||!Kt||(!lt.hasContent(Vt,{ignoreMarkers:!0})&&lt.hasContent(Kt,{ignoreMarkers:!0})?Hs(be,De,Xe,Vt.parent):ws(be,De,Xe,Vt.parent))}(m,z,ae),r.removeDisallowedAttributes(z.parent.getChildren(),m)),Kr(m,e,z),!t.doNotAutoparagraph&&function(be,De){const Xe=be.checkChild(De,"$text"),lt=be.checkChild(De,"paragraph");return!Xe&&lt}(r,z)&&ks(m,z,e,x),z.detach(),ae.detach()})}function ws(a,e,t,i){const r=e.parent,m=t.parent;if(r!=i&&m!=i){for(e=a.createPositionAfter(r),(t=a.createPositionBefore(m)).isEqual(e)||a.insert(m,e),a.merge(e);t.parent.isEmpty;){const x=t.parent;t=a.createPositionBefore(x),a.remove(x)}qr(a.model.schema,e,t)&&ws(a,e,t,i)}}function Hs(a,e,t,i){const r=e.parent,m=t.parent;if(r!=i&&m!=i){for(e=a.createPositionAfter(r),(t=a.createPositionBefore(m)).isEqual(e)||a.insert(r,t);e.parent.isEmpty;){const x=e.parent;e=a.createPositionBefore(x),a.remove(x)}t=a.createPositionBefore(m),function(x,z){const ae=z.nodeBefore,be=z.nodeAfter;ae.name!=be.name&&x.rename(ae,be.name),x.clearAttributes(ae),x.setAttributes(Object.fromEntries(be.getAttributes()),ae),x.merge(z)}(a,t),qr(a.model.schema,e,t)&&Hs(a,e,t,i)}}function qr(a,e,t){const i=e.parent,r=t.parent;return i!=r&&!a.isLimit(i)&&!a.isLimit(r)&&function(m,x,z){const ae=new Lt(m,x);for(const be of ae.getWalker())if(z.isLimit(be.item))return!1;return!0}(e,t,a)}function ks(a,e,t,i={}){const r=a.createElement("paragraph");a.model.schema.setAllowedAttributes(r,i,a),a.insert(r,e),Kr(a,t,a.createPositionAt(r,0))}function Kr(a,e,t){e instanceof Mi?a.setSelection(t):e.setTo(t)}function fr(a,e){const t=[];Array.from(a.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(a.start)||i.start.isEqual(a.start))&&(i.end.isBefore(a.end)||i.end.isEqual(a.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let r=i;for(;r.parent&&r.isEmpty;){const m=e.createRangeOn(r);r=r.parent,e.remove(m)}})}class na{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new v.Yb("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Lt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Lt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=$n.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new v.Yb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=$n.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=$n.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ji)||!this._canMergeLeft(e))return;const t=$n._createBefore(e);t.stickiness="toNext";const i=$n.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=$n._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=$n._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ji)||!this._canMergeRight(e))return;const t=$n._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new v.Yb("insertcontent-invalid-insertion-position",this);this.position=Xt._createAt(t.nodeBefore,"end");const i=$n.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=$n._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=$n._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ji&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ji&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function oa(a,e,t,i={}){if(!a.schema.isObject(e))throw new v.Yb("insertobject-element-not-an-object",a,{object:e});const r=t||a.document.selection;let m=r;i.findOptimalPosition&&a.schema.isBlock(e)&&(m=a.createSelection(a.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));const x=(0,v.$1)(r.getSelectedBlocks()),z={};return x&&Object.assign(z,a.schema.getAttributesWithProperty(x,"copyOnReplace",!0)),a.change(ae=>{m.isCollapsed||a.deleteContent(m,{doNotAutoparagraph:!0});let be=e;const De=m.anchor.parent;!a.schema.checkChild(De,e)&&a.schema.checkChild(De,"paragraph")&&a.schema.checkChild("paragraph",e)&&(be=ae.createElement("paragraph"),ae.insert(e,be)),a.schema.setAllowedAttributes(be,z,ae);const Xe=a.insertContent(be,m);return Xe.isCollapsed||i.setSelection&&function(lt,Vt,Kt,ei){const oi=lt.model;if(Kt=="on")return void lt.setSelection(Vt,"on");if(Kt!="after")throw new v.Yb("insertobject-invalid-place-parameter-value",oi);let yi=Vt.nextSibling;if(oi.schema.isInline(Vt))return void lt.setSelection(Vt,"after");!(yi&&oi.schema.checkChild(yi,"$text"))&&oi.schema.checkChild(Vt.parent,"paragraph")&&(yi=lt.createElement("paragraph"),oi.schema.setAllowedAttributes(yi,ei,lt),oi.insertContent(yi,lt.createPositionAfter(Vt))),yi&&lt.setSelection(yi,0)}(ae,e,i.setSelection,z),Xe})}const ra=' ,.?!:;"-()';function sa(a,e){const{isForward:t,walker:i,unit:r,schema:m,treatEmojiAsSingleUnit:x}=a,{type:z,item:ae,nextPosition:be}=e;if(z=="text")return a.unit==="word"?function(De,Xe){let lt=De.position.textNode;for(lt||(lt=Xe?De.position.nodeAfter:De.position.nodeBefore);lt&&lt.is("$text");){const Vt=De.position.offset-lt.startOffset;if(ga(lt,Vt,Xe))lt=Xe?De.position.nodeAfter:De.position.nodeBefore;else{if(la(lt.data,Vt,Xe))break;De.next()}}return De.position}(i,t):function(De,Xe,lt){const Vt=De.position.textNode;if(Vt){const Kt=Vt.data;let ei=De.position.offset-Vt.startOffset;for(;(0,v.P5)(Kt,ei)||Xe=="character"&&(0,v.Iw)(Kt,ei)||lt&&(0,v.SQ)(Kt,ei);)De.next(),ei=De.position.offset-Vt.startOffset}return De.position}(i,r,x);if(z==(t?"elementStart":"elementEnd")){if(m.isSelectable(ae))return Xt._createAt(ae,t?"after":"before");if(m.checkChild(be,"$text"))return be}else{if(m.isLimit(ae))return void i.skip(()=>!0);if(m.checkChild(be,"$text"))return be}}function aa(a,e){const t=a.root,i=Xt._createAt(t,e?"end":0);return e?new Lt(a,i):new Lt(i,a)}function la(a,e,t){const i=e+(t?0:-1);return ra.includes(a.charAt(i))}function ga(a,e,t){return e===(t?a.offsetSize:0)}class Yr extends(0,v.VM)(){constructor(){super(),this.markers=new li,this.document=new he(this),this.schema=new jo,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),Or(this),this.document.registerPostFixer(xs),this.on("insertContent",(e,[t,i])=>{e.return=function(r,m,x){return r.change(z=>{const ae=x||r.document.selection;ae.isCollapsed||r.deleteContent(ae,{doNotAutoparagraph:!0});const be=new na(r,z,ae.anchor),De=[];let Xe;if(m.is("documentFragment")){if(m.markers.size){const Kt=[];for(const[ei,oi]of m.markers){const{start:yi,end:zi}=oi,fn=yi.isEqual(zi);Kt.push({position:yi,name:ei,isCollapsed:fn},{position:zi,name:ei,isCollapsed:fn})}Kt.sort(({position:ei},{position:oi})=>ei.isBefore(oi)?1:-1);for(const{position:ei,name:oi,isCollapsed:yi}of Kt){let zi=null,fn=null;const lo=ei.parent===m&&ei.isAtStart,tr=ei.parent===m&&ei.isAtEnd;lo||tr?yi&&(fn=lo?"start":"end"):(zi=z.createElement("$marker"),z.insert(zi,ei)),De.push({name:oi,element:zi,collapsed:fn})}}Xe=m.getChildren()}else Xe=[m];be.handleNodes(Xe);let lt=be.getSelectionRange();if(m.is("documentFragment")&&De.length){const Kt=lt?Qt.fromRange(lt):null,ei={};for(let oi=De.length-1;oi>=0;oi--){const{name:yi,element:zi,collapsed:fn}=De[oi],lo=!ei[yi];if(lo&&(ei[yi]=[]),zi){const tr=z.createPositionAt(zi,"before");ei[yi].push(tr),z.remove(zi)}else{const tr=be.getAffectedRange();if(!tr){fn&&ei[yi].push(be.position);continue}fn?ei[yi].push(tr[fn]):ei[yi].push(lo?tr.start:tr.end)}}for(const[oi,[yi,zi]]of Object.entries(ei))yi&&zi&&yi.root===zi.root&&yi.root.document&&!z.model.markers.has(oi)&&z.addMarker(oi,{usingOperation:!0,affectsData:!0,range:new Lt(yi,zi)});Kt&&(lt=Kt.toRange(),Kt.detach())}lt&&(ae instanceof Mi?z.setSelection(lt):ae.setTo(lt));const Vt=be.getAffectedRange()||r.createRange(ae.anchor);return be.destroy(),Vt})}(this,t,i)}),this.on("insertObject",(e,[t,i,r])=>{e.return=oa(this,t,i,r)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Bo,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){v.Yb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Bo):e instanceof Bo||(e=new Bo(e)):e=new Bo,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){v.Yb.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...r){const m=Xs(t,i);return this.fire("insertContent",[e,m,i,...r])}insertObject(e,t,i,r,...m){const x=Xs(t,i);return this.fire("insertObject",[e,x,r,r,...m])}deleteContent(e,t){Fs(this,e,t)}modifySelection(e,t){(function(i,r,m={}){const x=i.schema,z=m.direction!="backward",ae=m.unit?m.unit:"character",be=!!m.treatEmojiAsSingleUnit,De=r.focus,Xe=new mn({boundaries:aa(De,z),singleCharacters:!0,direction:z?"forward":"backward"}),lt={walker:Xe,schema:x,isForward:z,unit:ae,treatEmojiAsSingleUnit:be};let Vt;for(;Vt=Xe.next();){if(Vt.done)return;const Kt=sa(lt,Vt.value);if(Kt)return void(r instanceof Mi?i.change(ei=>{ei.setSelectionFocus(Kt)}):r.setFocus(Kt))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(r=>{const m=r.createDocumentFragment(),x=i.getFirstRange();if(!x||x.isCollapsed)return m;const z=x.start.root,ae=x.start.getCommonPath(x.end),be=z.getNodeByPath(ae);let De;De=x.start.parent==x.end.parent?x:r.createRange(r.createPositionAt(be,x.start.path[ae.length]),r.createPositionAt(be,x.end.path[ae.length]+1));const Xe=De.end.offset-De.start.offset;for(const lt of De.getItems({shallow:!0}))lt.is("$textProxy")?r.appendText(lt.data,lt.getAttributes(),m):r.append(r.cloneElement(lt,!0),m);if(De!=x){const lt=x._getTransformedByMove(De.start,r.createPositionAt(m,0),Xe)[0],Vt=r.createRange(r.createPositionAt(m,0),lt.start);fr(r.createRange(lt.end,r.createPositionAt(m,"end")),r),fr(Vt,r)}return m})}(this,e)}hasContent(e,t={}){const i=e instanceof Lt?e:Lt._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:m=!1}=t;if(!m){for(const x of this.markers.getMarkersIntersectingRange(i))if(x.affectsData)return!0}for(const x of i.getItems())if(this.schema.isContent(x)&&(!x.is("$textProxy")||!r||x.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Xs(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new Xt(e,t,i)}createPositionAt(e,t){return Xt._createAt(e,t)}createPositionAfter(e){return Xt._createAfter(e)}createPositionBefore(e){return Xt._createBefore(e)}createRange(e,t){return new Lt(e,t)}createRangeIn(e){return Lt._createIn(e)}createRangeOn(e){return Lt._createOn(e)}createSelection(...e){return new et(...e)}createBatch(e){return new Bo(e)}createOperationFromJSON(e){return Io.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new cn(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Xs(a,e){if(a)return a instanceof et||a instanceof Mi?a:a instanceof Pn?e||e===0?new et(a,e):a.is("rootElement")?new et(a,"in"):new et(a,"on"):new et(a)}class Mr extends Sn{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class ea extends Sn{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class ca{constructor(e){this.document=e}createDocumentFragment(e){return new pi(this.document,e)}createElement(e,t,i){return new ot(this.document,e,t,i)}createText(e){return new I(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const r=i.getChildIndex(e);return this.removeChildren(r,1,i),this.insertChild(r,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new ot(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,ee.A)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return tt._createAt(e,t)}createPositionAfter(e){return tt._createAfter(e)}createPositionBefore(e){return tt._createBefore(e)}createRange(e,t){return new gt(e,t)}createRangeOn(e){return gt._createOn(e)}createRangeIn(e){return gt._createIn(e)}createSelection(...e){return new Ti(...e)}}const ta=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,br=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Us=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,da=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,pa=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Ws=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,ua=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function ia(a){return a.startsWith("#")?ta.test(a):a.startsWith("rgb")?br.test(a)||Us.test(a):a.startsWith("hsl")?da.test(a)||pa.test(a):ua.has(a.toLowerCase())}const fa=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function $s(a){return fa.includes(a)}const ha=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function E(a){return ha.test(a)}const l=/^[+-]?[0-9]*([.][0-9]+)?%$/;function o(a){return l.test(a)}const n=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function c(a){return n.includes(a)}const f=["center","top","bottom","left","right"];function b(a){return f.includes(a)}const T=["fixed","scroll","local"];function P(a){return T.includes(a)}const q=/^url\(/;function te(a){return q.test(a)}function ve(a=""){if(a==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Rt(a),t=e[0],i=e[2]||t,r=e[1]||t;return{top:t,bottom:i,right:r,left:e[3]||r}}function Fe(a){return e=>{const{top:t,right:i,bottom:r,left:m}=e,x=[];return[t,i,m,r].every(z=>!!z)?x.push([a,st(e)]):(t&&x.push([a+"-top",t]),i&&x.push([a+"-right",i]),r&&x.push([a+"-bottom",r]),m&&x.push([a+"-left",m])),x}}function st({top:a,right:e,bottom:t,left:i}){const r=[];return i!==e?r.push(a,e,t,i):t!==a?r.push(a,e,t):e!==a?r.push(a,e):r.push(a),r.join(" ")}function ft(a){return e=>({path:a,value:ve(e)})}function Rt(a){const e=a.matchAll(Ws);return Array.from(e).map(t=>t[0])}function Wt(a){a.setNormalizer("background",e=>{const t={},i=Rt(e);for(const r of i)c(r)?(t.repeat=t.repeat||[],t.repeat.push(r)):b(r)?(t.position=t.position||[],t.position.push(r)):P(r)?t.attachment=r:ia(r)?t.color=r:te(r)&&(t.image=r);return{path:"background",value:t}}),a.setNormalizer("background-color",e=>({path:"background.color",value:e})),a.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),a.setStyleRelation("background",["background-color"])}function Ht(a){a.setNormalizer("border",e=>{const{color:t,style:i,width:r}=On(e);return{path:"border",value:{color:ve(t),style:ve(i),width:ve(r)}}}),a.setNormalizer("border-top",ni("top")),a.setNormalizer("border-right",ni("right")),a.setNormalizer("border-bottom",ni("bottom")),a.setNormalizer("border-left",ni("left")),a.setNormalizer("border-color",ci("color")),a.setNormalizer("border-width",ci("width")),a.setNormalizer("border-style",ci("style")),a.setNormalizer("border-top-color",Si("color","top")),a.setNormalizer("border-top-style",Si("style","top")),a.setNormalizer("border-top-width",Si("width","top")),a.setNormalizer("border-right-color",Si("color","right")),a.setNormalizer("border-right-style",Si("style","right")),a.setNormalizer("border-right-width",Si("width","right")),a.setNormalizer("border-bottom-color",Si("color","bottom")),a.setNormalizer("border-bottom-style",Si("style","bottom")),a.setNormalizer("border-bottom-width",Si("width","bottom")),a.setNormalizer("border-left-color",Si("color","left")),a.setNormalizer("border-left-style",Si("style","left")),a.setNormalizer("border-left-width",Si("width","left")),a.setExtractor("border-top",Xi("top")),a.setExtractor("border-right",Xi("right")),a.setExtractor("border-bottom",Xi("bottom")),a.setExtractor("border-left",Xi("left")),a.setExtractor("border-top-color","border.color.top"),a.setExtractor("border-right-color","border.color.right"),a.setExtractor("border-bottom-color","border.color.bottom"),a.setExtractor("border-left-color","border.color.left"),a.setExtractor("border-top-width","border.width.top"),a.setExtractor("border-right-width","border.width.right"),a.setExtractor("border-bottom-width","border.width.bottom"),a.setExtractor("border-left-width","border.width.left"),a.setExtractor("border-top-style","border.style.top"),a.setExtractor("border-right-style","border.style.right"),a.setExtractor("border-bottom-style","border.style.bottom"),a.setExtractor("border-left-style","border.style.left"),a.setReducer("border-color",Fe("border-color")),a.setReducer("border-style",Fe("border-style")),a.setReducer("border-width",Fe("border-width")),a.setReducer("border-top",Cn("top")),a.setReducer("border-right",Cn("right")),a.setReducer("border-bottom",Cn("bottom")),a.setReducer("border-left",Cn("left")),a.setReducer("border",function(){return t=>{const i=En(t,"top"),r=En(t,"right"),m=En(t,"bottom"),x=En(t,"left"),z=[i,r,m,x],ae={width:e(z,"width"),style:e(z,"style"),color:e(z,"color")},be=yo(ae,"all");return be.length?be:[...Object.entries(ae).reduce((De,[Xe,lt])=>(lt&&(De.push([`border-${Xe}`,lt]),z.forEach(Vt=>delete Vt[Xe])),De),[]),...yo(i,"top"),...yo(r,"right"),...yo(m,"bottom"),...yo(x,"left")]};function e(t,i){return t.map(r=>r[i]).reduce((r,m)=>r==m?r:null)}}()),a.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),a.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),a.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),a.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),a.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),a.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),a.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),a.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function ni(a){return e=>{const{color:t,style:i,width:r}=On(e),m={};return t!==void 0&&(m.color={[a]:t}),i!==void 0&&(m.style={[a]:i}),r!==void 0&&(m.width={[a]:r}),{path:"border",value:m}}}function ci(a){return e=>({path:"border",value:hi(e,a)})}function hi(a,e){return{[e]:ve(a)}}function Si(a,e){return t=>({path:"border",value:{[a]:{[e]:t}}})}function Xi(a){return(e,t)=>{if(t.border)return En(t.border,a)}}function En(a,e){const t={};return a.width&&a.width[e]&&(t.width=a.width[e]),a.style&&a.style[e]&&(t.style=a.style[e]),a.color&&a.color[e]&&(t.color=a.color[e]),t}function On(a){const e={},t=Rt(a);for(const i of t)E(i)||/thin|medium|thick/.test(i)?e.width=i:$s(i)?e.style=i:e.color=i;return e}function Cn(a){return e=>yo(e,a)}function yo(a,e){const t=[];if(a&&a.width&&t.push("width"),a&&a.style&&t.push("style"),a&&a.color&&t.push("color"),t.length==3){const i=t.map(r=>a[r]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,a[i]])}function wr(a){a.setNormalizer("margin",ft("margin")),a.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),a.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),a.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),a.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),a.setReducer("margin",Fe("margin")),a.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function va(a){a.setNormalizer("padding",ft("padding")),a.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),a.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),a.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),a.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),a.setReducer("padding",Fe("padding")),a.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}class ya{constructor(e,t={}){this.skipComments=!0,this.namespaces=t.namespaces||[],this.domParser=new DOMParser,this.domConverter=new In(e,{renderingMode:"data"}),this.htmlWriter=new cs}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{keepOriginalCase:!0,skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e=`<xml ${this.namespaces.map(x=>`xmlns:${x}="nsp"`).join(" ")}>${e}</xml>`;const t=this.domParser.parseFromString(e,"text/xml"),i=t.querySelector("parsererror");if(i)throw new Error("Parse error - "+i.textContent);const r=t.createDocumentFragment(),m=t.documentElement.childNodes;for(;m.length>0;)r.appendChild(m[0]);return r}}const _s="[",ba="]",ma="{",wa="}",ka={container:mt,attribute:Be,empty:_t,ui:zt,raw:si},Na={setContentOf:(a,e)=>{a.innerHTML=e}};function xa(a,e={}){if(!(a instanceof fo))throw new TypeError("View needs to be an instance of module:engine/view/view~View.");const t=a.document,i=!!e.withoutSelection,r=e.rootName||"main",m=t.getRoot(r),x={showType:e.showType,showPriority:e.showPriority,renderUIElements:e.renderUIElements,renderRawElements:e.renderRawElements,ignoreRoot:!0,domConverter:e.domConverter};return i?xa._stringify(m,null,x):xa._stringify(m,t.selection,x)}function Ca(a,e,t={}){if(!(a instanceof fo))throw new TypeError("View needs to be an instance of module:engine/view/view~View.");const i=a.document,r=t.rootName||"main",m=i.getRoot(r);a.change(x=>{const z=Ca._parse(e,{rootElement:m});z.view&&z.selection&&x.setSelection(z.selection)})}function Aa(a,e=null,t={}){let i;return i=e instanceof tt||e instanceof gt?new Pi(e):e,new Da(a,i,t).stringify()}function Ta(a,e={}){const t=new Le(new pe);e.order=e.order||[];const i=new Ba({sameSelectionCharacters:e.sameSelectionCharacters});let r=new ya(t,{namespaces:Object.keys(ka)}).toView(a);if(r=Pa(r),e.rootElement){const x=e.rootElement,z=r._removeChildren(0,r.childCount);x._removeChildren(0,x.childCount),x._appendChild(z),r=x}const m=i.parse(r,e.order);return r.is("documentFragment")&&r.childCount===1&&(r=r.getChild(0)),m.length?{view:r,selection:new Pi(m,{backward:!!e.lastRangeBackward})}:(r.parent&&r._remove(),r)}xa._stringify=Aa,Ca._parse=Ta;class Ba{constructor(e){this.sameSelectionCharacters=!!e.sameSelectionCharacters}parse(e,t){this._positions=[],this._getPositions(e);let i=this._createRanges();if(t.length){if(t.length!=i.length)throw new Error(`Parse error - there are ${i.length} ranges found, but ranges order array contains ${t.length} elements.`);i=this._sortRanges(i,t)}return i}_getPositions(e){if(e.is("documentFragment")||e.is("element")){const t=[...e.getChildren()];for(const i of t)this._getPositions(i)}if(e.is("$text")){const t=new RegExp(`[${ma}${wa}\\${ba}\\${_s}]`,"g");let i,r=e.data,m=0;const x=[];for(;i=t.exec(r);){const be=i.index,De=i[0];x.push({bracket:De,textOffset:be-m}),m++}r=r.replace(t,""),e._data=r;const z=e.index,ae=e.parent;r||e._remove();for(const be of x)if(r)if(this.sameSelectionCharacters||!this.sameSelectionCharacters&&(be.bracket==ma||be.bracket==wa))this._positions.push({bracket:be.bracket,position:new tt(e,be.textOffset)});else{if(!this.sameSelectionCharacters&&be.textOffset!==0&&be.textOffset!==r.length)throw new Error(`Parse error - range delimiter '${be.bracket}' is placed inside text node.`);const De=be.textOffset===0?z:z+1;this._positions.push({bracket:be.bracket,position:new tt(ae,De)})}else{if(!this.sameSelectionCharacters&&be.bracket==ma||be.bracket==wa)throw new Error(`Parse error - text range delimiter '${be.bracket}' is placed inside empty text node. `);this._positions.push({bracket:be.bracket,position:new tt(ae,z)})}}}_sortRanges(e,t){const i=[];let r=0;for(const m of t){if(e[m-1]===void 0)throw new Error("Parse error - provided ranges order is invalid.");i[m-1]=e[r],r++}return i}_createRanges(){const e=[];let t=null;for(const i of this._positions){if(!t&&(i.bracket==ba||i.bracket==wa))throw new Error(`Parse error - end of range was found '${i.bracket}' but range was not started before.`);if(t&&(i.bracket==_s||i.bracket==ma))throw new Error(`Parse error - start of range was found '${i.bracket}' but one range is already started.`);i.bracket==_s||i.bracket==ma?t=new gt(i.position,i.position):(t.end=i.position,e.push(t),t=null)}if(t!==null)throw new Error("Parse error - range was started but no end delimiter was found.");return e}}class Da{constructor(e,t,i){this.root=e,this.selection=t,this.ranges=[],t&&(this.ranges=[...t.getRanges()]),this.showType=!!i.showType,this.showPriority=!!i.showPriority,this.showAttributeElementId=!!i.showAttributeElementId,this.ignoreRoot=!!i.ignoreRoot,this.sameSelectionCharacters=!!i.sameSelectionCharacters,this.renderUIElements=!!i.renderUIElements,this.renderRawElements=!!i.renderRawElements,this.domConverter=i.domConverter||Na}stringify(){let e="";return this._walkView(this.root,t=>{e+=t}),e}_walkView(e,t){const i=this.ignoreRoot&&this.root===e;if(e.is("element")||e.is("documentFragment")){if(e.is("element")&&!i&&t(this._stringifyElementOpen(e)),this.renderUIElements&&e.is("uiElement"))t(e.render(document,this.domConverter).innerHTML);else if(this.renderRawElements&&e.is("rawElement")){const r=document.createElement("div");e.render(r,this.domConverter),t(r.innerHTML)}else{let r=0;t(this._stringifyElementRanges(e,r));for(const m of e.getChildren())this._walkView(m,t),r++,t(this._stringifyElementRanges(e,r))}e.is("element")&&!i&&t(this._stringifyElementClose(e))}e.is("$text")&&t(this._stringifyTextRanges(e))}_stringifyElementRanges(e,t){let i="",r="",m="";for(const x of this.ranges)x.start.parent==e&&x.start.offset===t&&(x.isCollapsed?m+=_s+ba:i+=_s),x.end.parent!==e||x.end.offset!==t||x.isCollapsed||(r+=ba);return r+m+i}_stringifyTextRanges(e){const t=e.data.length,i=e.data.split("");let r,m;this.sameSelectionCharacters?(r=_s,m=ba):(r=ma,m=wa),i[t]="";const x=i.map(z=>({letter:z,start:"",end:"",collapsed:""}));for(const z of this.ranges){const ae=z.start,be=z.end;ae.parent==e&&ae.offset>=0&&ae.offset<=t&&(z.isCollapsed?x[be.offset].collapsed+=r+m:x[ae.offset].start+=r),be.parent==e&&be.offset>=0&&be.offset<=t&&!z.isCollapsed&&(x[be.offset].end+=m)}return x.map(z=>z.end+z.collapsed+z.start+z.letter).join("")}_stringifyElementOpen(e){const t=this._stringifyElementPriority(e),i=this._stringifyElementId(e);return`<${[[this._stringifyElementType(e),e.name].filter(r=>r!=="").join(":"),t,i,this._stringifyElementAttributes(e)].filter(r=>r!=="").join(" ")}>`}_stringifyElementClose(e){return`</${[this._stringifyElementType(e),e.name].filter(t=>t!=="").join(":")}>`}_stringifyElementType(e){if(this.showType){for(const t in ka)if(e instanceof ka[t])return t}return""}_stringifyElementPriority(e){return this.showPriority&&e.is("attributeElement")?`view-priority="${e.priority}"`:""}_stringifyElementId(e){return this.showAttributeElementId&&e.is("attributeElement")&&e.id?`view-id="${e.id}"`:""}_stringifyElementAttributes(e){const t=[],i=[...e.getAttributeKeys()].sort();for(const r of i){let m;m=r==="class"?[...e.getClassNames()].sort().join(" "):r==="style"?[...e.getStyleNames()].sort().map(x=>`${x}:${e.getStyle(x).replace(/"/g,"&quot;")}`).join(";"):e.getAttribute(r),t.push(`${r}="${m}"`)}return t.join(" ")}}function Pa(a){if(a.is("element")||a.is("documentFragment")){const e=a.is("documentFragment")?new pi(a.document):function(t,i){const r=function(z){const ae=z.name.split(":"),be=function(lt){const Vt=parseInt(lt,10);return isNaN(Vt)?null:Vt}(z.getAttribute("view-priority")),De=z.hasAttribute("view-id")?z.getAttribute("view-id"):null;if(z._removeAttribute("view-priority"),z._removeAttribute("view-id"),ae.length==1)return{name:ae[0],type:be!==null?"attribute":null,priority:be,id:De};const Xe=function(lt){return lt in ka?lt:null}(ae[0]);if(Xe)return{name:ae[1],type:Xe,priority:be,id:De};throw new Error(`Parse error - cannot parse element's name: ${z.name}.`)}(i),m=ka[r.type],x=m?new m(t,r.name):new ot(t,r.name);x.is("attributeElement")&&(r.priority!==null&&(x._priority=r.priority),r.id!==null&&(x._id=r.id));for(const z of i.getAttributeKeys())x._setAttribute(z,i.getAttribute(z));return x}(a.document,a);for(const t of[...a.getChildren()]){if(e.is("emptyElement"))throw new Error("Parse error - cannot parse inside EmptyElement.");if(e.is("uiElement"))throw new Error("Parse error - cannot parse inside UIElement.");if(e.is("rawElement"))throw new Error("Parse error - cannot parse inside RawElement.");e._appendChild(Pa(t))}return e}return a}function Ea(a,e={}){if(!(a instanceof Yr))throw new TypeError("Model needs to be an instance of module:engine/model/model~Model.");const t=e.rootName||"main",i=a.document.getRoot(t);return Ea._stringify(i,e.withoutSelection?null:a.document.selection,e.convertMarkers?a.markers:null)}function Sa(a,e,t={}){if(!(a instanceof Yr))throw new TypeError("Model needs to be an instance of module:engine/model/model~Model.");let i,r=null;const m=a.document.getRoot(t.rootName||"main"),x=Sa._parse(e,a.schema,{lastRangeBackward:t.lastRangeBackward,selectionAttributes:t.selectionAttributes,context:[m.name]});function z(ae){if(ae.remove(ae.createRangeIn(m)),ae.insert(i,m),ae.setSelection(null),ae.removeSelectionAttribute(a.document.selection.getAttributeKeys()),r){const be=[];for(const De of r.getRanges()){const Xe=new Xt(m,De.start.path),lt=new Xt(m,De.end.path);be.push(new Lt(Xe,lt))}ae.setSelection(be,{backward:r.isBackward}),t.selectionAttributes&&ae.setSelectionAttribute(r.getAttributes())}}"model"in x?(i=x.model,r=x.selection):i=x,t.batchType!==void 0?a.enqueueChange(t.batchType,z):a.change(z)}function Ma(a,e=null,t=null){const i=new Yr,r=new mo;let m,x=null;if(a instanceof pr||a instanceof vi)m=i.createRangeIn(a);else if(a.parent)m=new Lt(i.createPositionBefore(a),i.createPositionAfter(a));else{const ei=new vi(a);m=i.createRangeIn(ei)}e instanceof et||e instanceof Mi?x=e:(e instanceof Lt||e instanceof Xt)&&(x=new et(e));const z=new pe,ae=new fo(z),be=ae.document,De=new qt(be,"div");De.rootName="main",be.roots.add(De);const Xe=new fe({mapper:r,schema:i.schema});r.bindElements(a.root,De),Xe.on("insert:$text",(ei,oi,yi)=>{if(!yi.consumable.consume(oi.item,ei.name))return;const zi=yi.writer,fn=yi.mapper.toViewPosition(oi.range.start),lo=zi.createText(oi.item.data);zi.insert(fn,lo)}),Xe.on("insert",(ei,oi,yi)=>{yi.convertAttributes(oi.item),oi.reconversion||!oi.item.is("element")||oi.item.isEmpty||yi.convertChildren(oi.item)},{priority:"lowest"}),Xe.on("attribute",(ei,oi,yi)=>{(oi.item instanceof et||oi.item instanceof Mi||oi.item.is("$textProxy"))&&kr((zi,{writer:fn})=>fn.createAttributeElement("model-text-with-attributes",{[oi.attributeKey]:ja(zi)}))(ei,oi,yi)}),Xe.on("insert",vs(ei=>{const oi=Ia(ei.getAttributes(),ja);return new mt(be,ei.name,oi)})),Xe.on("selection",(ei,oi,yi)=>{const zi=oi.selection;if(zi.isCollapsed||!yi.consumable.consume(zi,"selection"))return;const fn=[];for(const lo of zi.getRanges())fn.push(yi.mapper.toViewRange(lo));yi.writer.setSelection(fn,{backward:zi.isBackward})}),Xe.on("selection",(ei,oi,yi)=>{const zi=oi.selection;if(!zi.isCollapsed||!yi.consumable.consume(zi,"selection"))return;const fn=yi.writer,lo=zi.getFirstPosition(),tr=yi.mapper.toViewPosition(lo),_a=fn.breakAttributes(tr);fn.setSelection(_a)}),Xe.on("addMarker",Zr((ei,{writer:oi})=>{const yi=ei.markerName+":"+(ei.isOpening?"start":"end");return oi.createUIElement(yi)}));const lt=new Map;if(t)for(const ei of Array.from(t).sort((oi,yi)=>oi.name<yi.name?1:-1))lt.set(ei.name,ei.getRange());const Vt=ae._writer;Xe.convert(m,lt,Vt),x&&Xe.convertSelection(x,t||i.markers,Vt);let Kt=Aa(De,be.selection,{sameSelectionCharacters:!0});return Kt=Kt.substr(5,Kt.length-11),ae.destroy(),Kt.replace(new RegExp("model-text-with-attributes","g"),"$text")}function La(a,e,t={}){const i=new mo,r=Ta(a=a.replace(new RegExp("\\$text","g"),"model-text-with-attributes"),{sameSelectionCharacters:!0,lastRangeBackward:!!t.lastRangeBackward});let m,x=null,z=null;"view"in r&&"selection"in r?(m=r.view,x=r.selection):m=r;const ae=new Yr,be=new Nr({schema:e});be.on("documentFragment",function(Xe){return(lt,Vt,Kt)=>{const ei=Kt.convertChildren(Vt.viewItem,Vt.modelCursor);Xe.bindElements(Vt.modelCursor.parent,Vt.viewItem),Vt=Object.assign(Vt,ei),lt.stop()}}(i)),be.on("element:model-text-with-attributes",Oa()),be.on("element",function(Xe){return(lt,Vt,Kt)=>{const ei=Vt.viewItem.name;if(!Kt.schema.checkChild(Vt.modelCursor,ei))throw new Error(`Element '${ei}' was not allowed in given position.`);const oi=Ia(Vt.viewItem.getAttributes(),Va),yi=Kt.writer.createElement(Vt.viewItem.name,oi);Kt.writer.insert(yi,Vt.modelCursor),Xe.bindElements(yi,Vt.viewItem),Kt.convertChildren(Vt.viewItem,yi),Vt.modelRange=Lt._createOn(yi),Vt.modelCursor=Vt.modelRange.end,lt.stop()}}(i)),be.on("text",Oa());let De=ae.change(Xe=>be.convert(m.root,Xe,t.context||"$root"));if(i.bindElements(De,m.root),De.childCount==1&&(De=De.getChild(0)),x){const Xe=[];for(const lt of x.getRanges())Xe.push(i.toModelRange(lt));z=new et(Xe,{backward:x.isBackward});for(const[lt,Vt]of(0,v.av)(t.selectionAttributes||[]))z.setAttribute(lt,Vt)}return z?{model:De,selection:z}:De}function Oa(){return(a,e,t)=>{if(!t.schema.checkChild(e.modelCursor,"$text"))throw new Error("Text was not allowed in given position.");let i;if(e.viewItem.is("element")){const r=Ia(e.viewItem.getAttributes(),Va),m=e.viewItem.getChild(0);i=t.writer.createText(m.data,r)}else i=t.writer.createText(e.viewItem.data);t.writer.insert(i,e.modelCursor),e.modelRange=Lt._createFromPositionAndShift(e.modelCursor,i.offsetSize),e.modelCursor=e.modelRange.end,a.stop()}}function Va(a){try{return JSON.parse(a)}catch{return a}}function ja(a){return(0,ee.A)(a)?JSON.stringify(a):a}function*Ia(a,e){for(const[t,i]of a)yield[t,e(i)]}Ea._stringify=Ma,Sa._parse=La},"./packages/ckeditor5-enter/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{x:()=>Ee,D:()=>Ce});var u=s("./packages/ckeditor5-core/src/index.ts");function*C(ue,h){for(const p of h)p&&ue.getAttributeProperties(p[0]).copyOnEnter&&(yield p)}class L extends u.uB{execute(){this.editor.model.change(h=>{this.enterBlock(h),this.fire("afterExecute",{writer:h})})}enterBlock(h){const p=this.editor.model,g=p.document.selection,_=p.schema,S=g.isCollapsed,I=g.getFirstRange(),M=I.start.parent,ee=I.end.parent;if(_.isLimit(M)||_.isLimit(ee))return S||M!=ee||p.deleteContent(g),!1;if(S){const H=C(h.model.schema,g.getAttributes());return k(h,I.start),h.setSelectionAttribute(H),!0}{const H=!(I.start.isAtStart&&I.end.isAtEnd),re=M==ee;if(p.deleteContent(g,{leaveUnmerged:H}),H){if(re)return k(h,g.focus),!0;h.setSelection(ee,0)}}return!1}}function k(ue,h){ue.split(h),ue.setSelection(h.parent.nextSibling,0)}var v=s("./packages/ckeditor5-engine/src/index.ts"),$=s("./packages/ckeditor5-utils/src/index.ts");const K={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class R extends v.nu{constructor(h){super(h);const p=this.document;let g=!1;p.on("keydown",(_,S)=>{g=S.shiftKey}),p.on("beforeinput",(_,S)=>{if(!this.isEnabled)return;let I=S.inputType;$._K.isSafari&&g&&I=="insertParagraph"&&(I="insertLineBreak");const M=S.domEvent,ee=K[I];if(!ee)return;const H=new v.cJ(p,"enter",S.targetRanges[0]);p.fire(H,new v.FY(h,M,{isSoft:ee.isSoft})),H.stop.called&&_.stop()})}observe(){}stopObserving(){}}class Ee extends u.k_{static get pluginName(){return"Enter"}init(){const h=this.editor,p=h.editing.view,g=p.document,_=this.editor.t;p.addObserver(R),h.commands.add("enter",new L(h)),this.listenTo(g,"enter",(S,I)=>{g.isComposing||I.preventDefault(),I.isSoft||(h.execute("enter"),p.scrollToTheSelection())},{priority:"low"}),h.accessibility.addKeystrokeInfos({keystrokes:[{label:_("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class ge extends u.uB{execute(){const h=this.editor.model,p=h.document;h.change(g=>{(function(_,S,I){const M=I.isCollapsed,ee=I.getFirstRange(),H=ee.start.parent,re=ee.end.parent,O=H==re;if(M){const W=C(_.schema,I.getAttributes());Y(_,S,ee.end),S.removeSelectionAttribute(I.getAttributeKeys()),S.setSelectionAttribute(W)}else{const W=!(ee.start.isAtStart&&ee.end.isAtEnd);_.deleteContent(I,{leaveUnmerged:W}),O?Y(_,S,I.focus):W&&S.setSelection(re,0)}})(h,g,p.selection),this.fire("afterExecute",{writer:g})})}refresh(){const h=this.editor.model,p=h.document;this.isEnabled=function(g,_){if(_.rangeCount>1)return!1;const S=_.anchor;if(!S||!g.checkChild(S,"softBreak"))return!1;const I=_.getFirstRange(),M=I.start.parent,ee=I.end.parent;return!((J(M,g)||J(ee,g))&&M!==ee)}(h.schema,p.selection)}}function Y(ue,h,p){const g=h.createElement("softBreak");ue.insertContent(g,p),h.setSelection(g,"after")}function J(ue,h){return!ue.is("rootElement")&&(h.isLimit(ue)||J(ue.parent,h))}class Ce extends u.k_{static get pluginName(){return"ShiftEnter"}init(){const h=this.editor,p=h.model.schema,g=h.conversion,_=h.editing.view,S=_.document,I=this.editor.t;p.register("softBreak",{allowWhere:"$text",isInline:!0}),g.for("upcast").elementToElement({model:"softBreak",view:"br"}),g.for("downcast").elementToElement({model:"softBreak",view:(M,{writer:ee})=>ee.createEmptyElement("br")}),_.addObserver(R),h.commands.add("shiftEnter",new ge(h)),this.listenTo(S,"enter",(M,ee)=>{S.isComposing||ee.preventDefault(),ee.isSoft&&(h.execute("shiftEnter"),_.scrollToTheSelection())},{priority:"low"}),h.accessibility.addKeystrokeInfos({keystrokes:[{label:I("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}},"./packages/ckeditor5-typing/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{ep:()=>g,pd:()=>R,Ki:()=>k,De:()=>ne,qV:()=>I,Vp:()=>M,IG:()=>_,Py:()=>G,lO:()=>Ie,ex:()=>S,Il:()=>Ue});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-utils/src/index.ts");class L{constructor(xe,pe=20){this._batch=null,this.model=xe,this._size=0,this.limit=pe,this._isLocked=!1,this._changeCallback=(ye,Ze)=>{Ze.isLocal&&Ze.isUndoable&&Ze!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(xe){this._size+=xe,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(xe=!1){this.isLocked&&!xe||(this._batch=null,this._size=0)}}class k extends u.uB{constructor(xe,pe){super(xe),this._buffer=new L(xe.model,pe),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(xe={}){const pe=this.editor.model,ye=pe.document,Ze=xe.text||"",ot=Ze.length;let at=ye.selection;if(xe.selection?at=xe.selection:xe.range&&(at=pe.createSelection(xe.range)),!pe.canEditAt(at))return;const mt=xe.resultRange;pe.enqueueChange(this._buffer.batch,Ut=>{this._buffer.lock();const $t=Array.from(ye.selection.getAttributes());pe.deleteContent(at),Ze&&pe.insertContent(Ut.createText(Ze,$t),at),mt?Ut.setSelection(mt):at.is("documentSelection")||Ut.setSelection(at),this._buffer.unlock(),this._buffer.input(ot)})}}var v=s("./packages/ckeditor5-engine/src/index.ts");const $=["insertText","insertReplacementText"];class K extends v.nu{constructor(xe){super(xe),this.focusObserver=xe.getObserver(v.vp),C._K.isAndroid&&$.push("insertCompositionText");const pe=xe.document;pe.on("beforeinput",(ye,Ze)=>{if(!this.isEnabled)return;const{data:ot,targetRanges:at,inputType:mt,domEvent:Ut}=Ze;if(!$.includes(mt))return;this.focusObserver.flush();const $t=new C.vY(pe,"insertText");pe.fire($t,new v.FY(xe,Ut,{text:ot,selection:xe.createSelection(at)})),$t.stop.called&&ye.stop()}),pe.on("compositionend",(ye,{data:Ze,domEvent:ot})=>{this.isEnabled&&!C._K.isAndroid&&Ze&&pe.fire("insertText",new v.FY(xe,ot,{text:Ze,selection:pe.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class R extends u.k_{static get pluginName(){return"Input"}init(){const xe=this.editor,pe=xe.model,ye=xe.editing.view,Ze=pe.document.selection;ye.addObserver(K);const ot=new k(xe,xe.config.get("typing.undoStep")||20);xe.commands.add("insertText",ot),xe.commands.add("input",ot),this.listenTo(ye.document,"insertText",(at,mt)=>{ye.document.isComposing||mt.preventDefault();const{text:Ut,selection:$t,resultRange:St}=mt,qt=Array.from($t.getRanges()).map(gt=>xe.editing.mapper.toModelRange(gt));let wt=Ut;if(C._K.isAndroid){const gt=Array.from(qt[0].getItems()).reduce((gi,Ti)=>gi+(Ti.is("$textProxy")?Ti.data:""),"");gt&&(gt.length<=wt.length?wt.startsWith(gt)&&(wt=wt.substring(gt.length),qt[0].start=qt[0].start.getShiftedBy(gt.length)):gt.startsWith(wt)&&(qt[0].start=qt[0].start.getShiftedBy(wt.length),wt=""))}const tt={text:wt,selection:pe.createSelection(qt)};St&&(tt.resultRange=xe.editing.mapper.toModelRange(St)),xe.execute("insertText",tt),ye.scrollToTheSelection()}),C._K.isAndroid?this.listenTo(ye.document,"keydown",(at,mt)=>{!Ze.isCollapsed&&mt.keyCode==229&&ye.document.isComposing&&Ee(pe,ot)}):this.listenTo(ye.document,"compositionstart",()=>{Ze.isCollapsed||Ee(pe,ot)})}}function Ee(nt,xe){if(!xe.isEnabled)return;const pe=xe.buffer;pe.lock(),nt.enqueueChange(pe.batch,()=>{nt.deleteContent(nt.document.selection)}),pe.unlock()}class ge extends u.uB{constructor(xe,pe){super(xe),this.direction=pe,this._buffer=new L(xe.model,xe.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(xe={}){const pe=this.editor.model,ye=pe.document;pe.enqueueChange(this._buffer.batch,Ze=>{this._buffer.lock();const ot=Ze.createSelection(xe.selection||ye.selection);if(!pe.canEditAt(ot))return;const at=xe.sequence||1,mt=ot.isCollapsed;if(ot.isCollapsed&&pe.modifySelection(ot,{direction:this.direction,unit:xe.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(at))return void this._replaceEntireContentWithParagraph(Ze);if(this._shouldReplaceFirstBlockWithParagraph(ot,at))return void this.editor.execute("paragraph",{selection:ot});if(ot.isCollapsed)return;let Ut=0;ot.getFirstRange().getMinimalFlatRanges().forEach($t=>{Ut+=(0,C.U9)($t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),pe.deleteContent(ot,{doNotResetEntireContent:mt,direction:this.direction}),this._buffer.input(Ut),Ze.setSelection(ot),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(xe){if(xe>1)return!1;const pe=this.editor.model,ye=pe.document.selection,Ze=pe.schema.getLimitElement(ye);if(!(ye.isCollapsed&&ye.containsEntireContent(Ze))||!pe.schema.checkChild(Ze,"paragraph"))return!1;const ot=Ze.getChild(0);return!ot||!ot.is("element","paragraph")}_replaceEntireContentWithParagraph(xe){const pe=this.editor.model,ye=pe.document.selection,Ze=pe.schema.getLimitElement(ye),ot=xe.createElement("paragraph");xe.remove(xe.createRangeIn(Ze)),xe.insert(ot,Ze),xe.setSelection(ot,0)}_shouldReplaceFirstBlockWithParagraph(xe,pe){const ye=this.editor.model;if(pe>1||this.direction!="backward"||!xe.isCollapsed)return!1;const Ze=xe.getFirstPosition(),ot=ye.schema.getLimitElement(Ze),at=ot.getChild(0);return Ze.parent==at&&!!xe.containsEntireContent(at)&&!!ye.schema.checkChild(ot,"paragraph")&&at.name!="paragraph"}}const Y="word",J="selection",Ce="backward",ue="forward",h={deleteContent:{unit:J,direction:Ce},deleteContentBackward:{unit:"codePoint",direction:Ce},deleteWordBackward:{unit:Y,direction:Ce},deleteHardLineBackward:{unit:J,direction:Ce},deleteSoftLineBackward:{unit:J,direction:Ce},deleteContentForward:{unit:"character",direction:ue},deleteWordForward:{unit:Y,direction:ue},deleteHardLineForward:{unit:J,direction:ue},deleteSoftLineForward:{unit:J,direction:ue}};class p extends v.nu{constructor(xe){super(xe);const pe=xe.document;let ye=0;pe.on("keydown",()=>{ye++}),pe.on("keyup",()=>{ye=0}),pe.on("beforeinput",(Ze,ot)=>{if(!this.isEnabled)return;const{targetRanges:at,domEvent:mt,inputType:Ut}=ot,$t=h[Ut];if(!$t)return;const St={direction:$t.direction,unit:$t.unit,sequence:ye};St.unit==J&&(St.selectionToRemove=xe.createSelection(at[0])),Ut==="deleteContentBackward"&&(C._K.isAndroid&&(St.sequence=1),function(wt){if(wt.length!=1||wt[0].isCollapsed)return!1;const tt=wt[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let gt=0;for(const{nextPosition:gi,item:Ti}of tt){if(gi.parent.is("$text")){const Pi=gi.parent.data,Di=gi.offset;if((0,C.P5)(Pi,Di)||(0,C.Iw)(Pi,Di)||(0,C.SQ)(Pi,Di))continue;gt++}else(Ti.is("containerElement")||Ti.is("emptyElement"))&&gt++;if(gt>1)return!0}return!1}(at)&&(St.unit=J,St.selectionToRemove=xe.createSelection(at)));const qt=new v.cJ(pe,"delete",at[0]);pe.fire(qt,new v.FY(xe,mt,St)),qt.stop.called&&Ze.stop()}),C._K.isBlink&&function(Ze){const ot=Ze.view,at=ot.document;let mt=null,Ut=!1;function $t(qt){return qt==C.uP.backspace||qt==C.uP.delete}function St(qt){return qt==C.uP.backspace?Ce:ue}at.on("keydown",(qt,{keyCode:wt})=>{mt=wt,Ut=!1}),at.on("keyup",(qt,{keyCode:wt,domEvent:tt})=>{const gt=at.selection,gi=Ze.isEnabled&&wt==mt&&$t(wt)&&!gt.isCollapsed&&!Ut;if(mt=null,gi){const Ti=gt.getFirstRange(),Pi=new v.cJ(at,"delete",Ti),Di={unit:J,direction:St(wt),selectionToRemove:gt};at.fire(Pi,new v.FY(ot,tt,Di))}}),at.on("beforeinput",(qt,{inputType:wt})=>{const tt=h[wt];$t(mt)&&tt&&tt.direction==St(mt)&&(Ut=!0)},{priority:"high"}),at.on("beforeinput",(qt,{inputType:wt,data:tt})=>{mt==C.uP.delete&&wt=="insertText"&&tt=="\x7F"&&qt.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class g extends u.k_{static get pluginName(){return"Delete"}init(){const xe=this.editor,pe=xe.editing.view,ye=pe.document,Ze=xe.model.document;pe.addObserver(p),this._undoOnBackspace=!1;const ot=new ge(xe,"forward");xe.commands.add("deleteForward",ot),xe.commands.add("forwardDelete",ot),xe.commands.add("delete",new ge(xe,"backward")),this.listenTo(ye,"delete",(at,mt)=>{ye.isComposing||mt.preventDefault();const{direction:Ut,sequence:$t,selectionToRemove:St,unit:qt}=mt,wt=Ut==="forward"?"deleteForward":"delete",tt={sequence:$t};if(qt=="selection"){const gt=Array.from(St.getRanges()).map(gi=>xe.editing.mapper.toModelRange(gi));tt.selection=xe.model.createSelection(gt)}else tt.unit=qt;xe.execute(wt,tt),pe.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(ye,"delete",(at,mt)=>{this._undoOnBackspace&&mt.direction=="backward"&&mt.sequence==1&&mt.unit=="codePoint"&&(this._undoOnBackspace=!1,xe.execute("undo"),mt.preventDefault(),at.stop())},{context:"$capture"}),this.listenTo(Ze,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class _ extends u.k_{static get requires(){return[R,g]}static get pluginName(){return"Typing"}}function S(nt,xe){let pe=nt.start;return{text:Array.from(nt.getWalker({ignoreElementEnd:!1})).reduce((ye,{item:Ze})=>Ze.is("$text")||Ze.is("$textProxy")?ye+Ze.data:(pe=xe.createPositionAfter(Ze),""),""),range:xe.createRange(pe,nt.end)}}class I extends(0,C.VM)(){constructor(xe,pe){super(),this.model=xe,this.testCallback=pe,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(xe.document.selection),this.stopListening(xe.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const xe=this.model.document;this.listenTo(xe.selection,"change:range",(pe,{directChange:ye})=>{ye&&(xe.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(xe,"change:data",(pe,ye)=>{!ye.isUndo&&ye.isLocal&&this._evaluateTextBeforeSelection("data",{batch:ye})})}_evaluateTextBeforeSelection(xe,pe={}){const ye=this.model,Ze=ye.document.selection,ot=ye.createRange(ye.createPositionAt(Ze.focus.parent,0),Ze.focus),{text:at,range:mt}=S(ot,ye),Ut=this.testCallback(at);if(!Ut&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Ut,Ut){const $t=Object.assign(pe,{text:at,range:mt});typeof Ut=="object"&&Object.assign($t,Ut),this.fire(`matched:${xe}`,$t)}}}class M extends u.k_{constructor(xe){super(xe),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const xe=this.editor,pe=xe.model,ye=xe.editing.view,Ze=xe.locale,ot=pe.document.selection;this.listenTo(ye.document,"arrowKey",(at,mt)=>{if(!ot.isCollapsed||mt.shiftKey||mt.altKey||mt.ctrlKey)return;const Ut=mt.keyCode==C.uP.arrowright,$t=mt.keyCode==C.uP.arrowleft;if(!Ut&&!$t)return;const St=Ze.contentLanguageDirection;let qt=!1;qt=St==="ltr"&&Ut||St==="rtl"&&$t?this._handleForwardMovement(mt):this._handleBackwardMovement(mt),qt===!0&&at.stop()},{context:"$text",priority:"highest"}),this.listenTo(ot,"change:range",(at,mt)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!mt.directChange&&ie(ot.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(xe){this.attributes.add(xe)}_handleForwardMovement(xe){const pe=this.attributes,ye=this.editor.model,Ze=ye.document.selection,ot=Ze.getFirstPosition();return!this._isGravityOverridden&&(!ot.isAtStart||!ee(Ze,pe))&&!!ie(ot,pe)&&(O(xe),ee(Ze,pe)&&ie(ot,pe,!0)?re(ye,pe):this._overrideGravity(),!0)}_handleBackwardMovement(xe){const pe=this.attributes,ye=this.editor.model,Ze=ye.document.selection,ot=Ze.getFirstPosition();return this._isGravityOverridden?(O(xe),this._restoreGravity(),ie(ot,pe,!0)?re(ye,pe):H(ye,pe,ot),!0):ot.isAtStart?!!ee(Ze,pe)&&(O(xe),H(ye,pe,ot),!0):!ee(Ze,pe)&&ie(ot,pe,!0)?(O(xe),H(ye,pe,ot),!0):!!W(ot,pe)&&(ot.isAtEnd&&!ee(Ze,pe)&&ie(ot,pe)?(O(xe),H(ye,pe,ot),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const xe=this.editor,pe=xe.model,ye=pe.document.selection,Ze=xe.editing.view.document;xe.editing.view.addObserver(v.q$);let ot=!1;this.listenTo(Ze,"mousedown",()=>{ot=!0}),this.listenTo(Ze,"selectionChange",()=>{const at=this.attributes;if(!ot||(ot=!1,!ye.isCollapsed)||!ee(ye,at))return;const mt=ye.getFirstPosition();ie(mt,at)&&(mt.isAtStart||ie(mt,at,!0)?re(pe,at):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const xe=this.editor.model,pe=xe.document.selection,ye=this.attributes;this.listenTo(xe,"insertContent",()=>{const Ze=pe.getFirstPosition();ee(pe,ye)&&ie(Ze,ye)&&re(xe,ye)},{priority:"low"})}_handleDeleteContentAfterNode(){const xe=this.editor,pe=xe.model,ye=pe.document.selection,Ze=xe.editing.view;let ot=!1,at=!1;this.listenTo(Ze.document,"delete",(mt,Ut)=>{ot=Ut.direction==="backward"},{priority:"high"}),this.listenTo(pe,"deleteContent",()=>{if(!ot)return;const mt=ye.getFirstPosition();at=ee(ye,this.attributes)&&!W(mt,this.attributes)},{priority:"high"}),this.listenTo(pe,"deleteContent",()=>{ot&&(ot=!1,at||xe.model.enqueueChange(()=>{const mt=ye.getFirstPosition();ee(ye,this.attributes)&&ie(mt,this.attributes)&&(mt.isAtStart||ie(mt,this.attributes,!0)?re(pe,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(xe=>xe.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(xe=>{xe.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ee(nt,xe){for(const pe of xe)if(nt.hasAttribute(pe))return!0;return!1}function H(nt,xe,pe){const ye=pe.nodeBefore;nt.change(Ze=>{if(ye){const ot=[],at=nt.schema.isObject(ye)&&nt.schema.isInline(ye);for(const[mt,Ut]of ye.getAttributes())!nt.schema.checkAttribute("$text",mt)||at&&nt.schema.getAttributeProperties(mt).copyFromObject===!1||ot.push([mt,Ut]);Ze.setSelectionAttribute(ot)}else Ze.removeSelectionAttribute(xe)})}function re(nt,xe){nt.change(pe=>{pe.removeSelectionAttribute(xe)})}function O(nt){nt.preventDefault()}function W(nt,xe){return ie(nt.getShiftedBy(-1),xe)}function ie(nt,xe,pe=!1){const{nodeBefore:ye,nodeAfter:Ze}=nt;for(const ot of xe){const at=ye?ye.getAttribute(ot):void 0,mt=Ze?Ze.getAttribute(ot):void 0;if((!pe||at!==void 0&&mt!==void 0)&&mt!==at)return!0}return!1}var we=s("./node_modules/lodash-es/escapeRegExp.js");const Ae={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Oe('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Oe("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Oe("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Oe('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Oe('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Oe("'"),to:[null,"\u201A",null,"\u2019"]}},He={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},it=["symbols","mathematical","typography","quotes"];class ne extends u.k_{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(xe){super(xe),xe.config.define("typing",{transformations:{include:it}})}init(){const xe=this.editor.model.document.selection;xe.on("change:range",()=>{this.isEnabled=!xe.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const xe=this.editor,pe=xe.model,ye=xe.plugins.get("Delete"),Ze=function(at){const mt=at.extra||[],Ut=at.remove||[],$t=St=>!Ut.includes(St);return function(St){const qt=new Set;for(const wt of St)if(typeof wt=="string"&&He[wt])for(const tt of He[wt])qt.add(tt);else qt.add(wt);return Array.from(qt)}(at.include.concat(mt).filter($t)).filter($t).map(St=>typeof St=="string"&&Ae[St]?Ae[St]:St).filter(St=>typeof St=="object").map(St=>({from:de(St.from),to:Se(St.to)}))}(xe.config.get("typing.transformations")),ot=new I(xe.model,at=>{for(const mt of Ze)if(mt.from.test(at))return{normalizedTransformation:mt}});ot.on("matched:data",(at,mt)=>{if(!mt.batch.isTyping)return;const{from:Ut,to:$t}=mt.normalizedTransformation,St=Ut.exec(mt.text),qt=$t(St.slice(1)),wt=mt.range;let tt=St.index;pe.enqueueChange(gt=>{for(let gi=1;gi<St.length;gi++){const Ti=St[gi],Pi=qt[gi-1];if(Pi==null){tt+=Ti.length;continue}const Di=wt.start.getShiftedBy(tt),Oi=pe.createRange(Di,Di.getShiftedBy(Ti.length)),Wi=Re(Di);pe.insertContent(gt.createText(Pi,Wi),Oi),tt+=Pi.length}pe.enqueueChange(()=>{ye.requestUndoOnBackspace()})})}),ot.bind("isEnabled").to(this)}}function de(nt){return typeof nt=="string"?new RegExp(`(${(0,we.A)(nt)})$`):nt}function Se(nt){return typeof nt=="string"?()=>[nt]:nt instanceof Array?()=>nt:nt}function Re(nt){return(nt.textNode?nt.textNode:nt.nodeAfter).getAttributes()}function Oe(nt){return new RegExp(`(^|\\s)(${nt})([^${nt}]*)(${nt})$`)}function G(nt,xe,pe,ye){return ye.createRange(Ie(nt,xe,pe,!0,ye),Ie(nt,xe,pe,!1,ye))}function Ie(nt,xe,pe,ye,Ze){let ot=nt.textNode||(ye?nt.nodeBefore:nt.nodeAfter),at=null;for(;ot&&ot.getAttribute(xe)==pe;)at=ot,ot=ye?ot.previousSibling:ot.nextSibling;return at?Ze.createPositionAt(at,ye?"before":"after"):nt}function Ue(nt,xe,pe,ye){const Ze=nt.editing.view,ot=new Set;Ze.document.registerPostFixer(at=>{const mt=nt.model.document.selection;let Ut=!1;if(mt.hasAttribute(xe)){const $t=G(mt.getFirstPosition(),xe,mt.getAttribute(xe),nt.model),St=nt.editing.mapper.toViewRange($t);for(const qt of St.getItems())qt.is("element",pe)&&!qt.hasClass(ye)&&(at.addClass(ye,qt),ot.add(qt),Ut=!0)}return Ut}),nt.conversion.for("editingDowncast").add(at=>{function mt(){Ze.change(Ut=>{for(const $t of ot.values())Ut.removeClass(ye,$t),ot.delete($t)})}at.on("insert",mt,{priority:"highest"}),at.on("remove",mt,{priority:"highest"}),at.on("attribute",mt,{priority:"highest"}),at.on("selection",mt,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{KO:()=>ot,uI:()=>Sr,Jr:()=>Rn,bQ:()=>$r,Lz:()=>ze,v1:()=>at,Xt:()=>Nn,e0:()=>qt,_:()=>gt,Kn:()=>Ke,pQ:()=>It,ph:()=>Yt,oB:()=>Lr,vF:()=>dt,eH:()=>Vo,pU:()=>Yo,wi:()=>de,ep:()=>Fs,lG:()=>ko,_m:()=>yr,nu:()=>bo,lU:()=>ut,Vz:()=>We,BO:()=>Qe,Gn:()=>Ls,nc:()=>an,eF:()=>Di,H:()=>Ft,Dy:()=>Xr,MZ:()=>Bs,Ln:()=>St,WU:()=>Gn,LU:()=>kn,Zz:()=>Te,hK:()=>jt,E6:()=>Mt,y0:()=>Ue,xE:()=>ct,m_:()=>zn,BD:()=>hn,Je:()=>Sn,uO:()=>po,kS:()=>Ws,GG:()=>ua,I8:()=>Zt,BY:()=>Us,zj:()=>br,yJ:()=>ha,Eg:()=>Vs,wD:()=>Br,b8:()=>er,XE:()=>Ds,AO:()=>Fo,xw:()=>Tr,Wm:()=>Pi,Bj:()=>v,OB:()=>X,Cy:()=>Ei,IY:()=>ui,X3:()=>Xn,JV:()=>dr,Ss:()=>He,s3:()=>C,Jc:()=>xn,G6:()=>ga,l1:()=>Re,O:()=>To,fM:()=>Ho,wy:()=>it,yu:()=>Lo,By:()=>Un,F_:()=>Hn,Vr:()=>Pn,GR:()=>un,Zn:()=>fo,b2:()=>le,I0:()=>ne,tp:()=>ri,eG:()=>bi,lF:()=>Le,mB:()=>ws,iv:()=>Be,fl:()=>Yn,Z5:()=>Se});var u=s("./packages/ckeditor5-utils/src/index.ts");class C extends u.pM{constructor(l=[]){super(l,{idProperty:"viewUid"}),this.on("add",(o,n,c)=>{this._renderViewIntoCollectionParent(n,c)}),this.on("remove",(o,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(l=>l.destroy())}setParent(l){this._parentElement=l;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...l){if(!l.length||!l.every(o=>typeof o=="string"))throw new u.Yb("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const n of this)for(const c of l)n.delegate(c).to(o);this.on("add",(n,c)=>{for(const f of l)c.delegate(f).to(o)}),this.on("remove",(n,c)=>{for(const f of l)c.stopDelegating(f,o)})}}}_renderViewIntoCollectionParent(l,o){l.isRendered||l.render(),l.element&&this._parentElement&&this._parentElement.insertBefore(l.element,this._parentElement.children[o])}remove(l){return super.remove(l)}}var L=s("./node_modules/lodash-es/cloneDeepWith.js"),k=s("./node_modules/lodash-es/isObject.js");class v extends(0,u.Mm)(){constructor(l){super(),Object.assign(this,h(ue(l))),this._isRendered=!1,this._revertData=null}render(){const l=this._renderNode({intoFragment:!0});return this._isRendered=!0,l}apply(l){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:l,intoFragment:!1,isApplying:!0,revertData:this._revertData}),l}revert(l){if(!this._revertData)throw new u.Yb("ui-template-revert-not-applied",[this,l]);this._revertTemplateFromNode(l,this._revertData)}*getViews(){yield*function*l(o){if(o.children)for(const n of o.children)M(n)?yield n:ee(n)&&(yield*l(n))}(this)}static bind(l,o){return{to:(n,c)=>new K({eventNameOrFunction:n,attribute:n,observable:l,emitter:o,callback:c}),if:(n,c,f)=>new R({observable:l,emitter:o,attribute:n,valueIfTrue:c,callback:f})}}static extend(l,o){if(l._isRendered)throw new u.Yb("template-extend-render",[this,l]);S(l,h(ue(o)))}_renderNode(l){let o;if(o=l.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new u.Yb("ui-template-wrong-syntax",this);return this.text?this._renderText(l):this._renderElement(l)}_renderElement(l){let o=l.node;return o||(o=l.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(l),this._renderElementChildren(l),this._setUpListeners(l),o}_renderText(l){let o=l.node;return o?l.revertData.text=o.textContent:o=l.node=document.createTextNode(""),Ee(this.text)?this._bindToObservable({schema:this.text,updater:Y(o),data:l}):o.textContent=this.text.join(""),o}_renderAttributes(l){if(!this.attributes)return;const o=l.node,n=l.revertData;for(const c in this.attributes){const f=o.getAttribute(c),b=this.attributes[c];n&&(n.attributes[c]=f);const T=re(b)?b[0].ns:null;if(Ee(b)){const P=re(b)?b[0].value:b;n&&O(c)&&P.unshift(f),this._bindToObservable({schema:P,updater:J(o,c,T),data:l})}else if(c=="style"&&typeof b[0]!="string")this._renderStyleAttribute(b[0],l);else{n&&f&&O(c)&&b.unshift(f);const P=b.map(q=>q&&q.value||q).reduce((q,te)=>q.concat(te),[]).reduce(g,"");I(P)||o.setAttributeNS(T,c,P)}}}_renderStyleAttribute(l,o){const n=o.node;for(const c in l){const f=l[c];Ee(f)?this._bindToObservable({schema:[f],updater:Ce(n,c),data:o}):n.style[c]=f}}_renderElementChildren(l){const o=l.node,n=l.intoFragment?document.createDocumentFragment():o,c=l.isApplying;let f=0;for(const b of this.children)if(H(b)){if(!c){b.setParent(o);for(const T of b)n.appendChild(T.element)}}else if(M(b))c||(b.isRendered||b.render(),n.appendChild(b.element));else if((0,u.Ll)(b))n.appendChild(b);else if(c){const T={children:[],bindings:[],attributes:{}};l.revertData.children.push(T),b._renderNode({intoFragment:!1,node:n.childNodes[f++],isApplying:!0,revertData:T})}else n.appendChild(b.render());l.intoFragment&&o.appendChild(n)}_setUpListeners(l){if(this.eventListeners)for(const o in this.eventListeners){const n=this.eventListeners[o].map(c=>{const[f,b]=o.split("@");return c.activateDomEventListener(f,b,l)});l.revertData&&l.revertData.bindings.push(n)}}_bindToObservable({schema:l,updater:o,data:n}){const c=n.revertData;ge(l,o,n);const f=l.filter(b=>!I(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(l,o,n));c&&c.bindings.push(f)}_revertTemplateFromNode(l,o){for(const c of o.bindings)for(const f of c)f();if(o.text)return void(l.textContent=o.text);const n=l;for(const c in o.attributes){const f=o.attributes[c];f===null?n.removeAttribute(c):n.setAttribute(c,f)}for(let c=0;c<o.children.length;++c)this._revertTemplateFromNode(n.childNodes[c],o.children[c])}}class ${constructor(l){this.attribute=l.attribute,this.observable=l.observable,this.emitter=l.emitter,this.callback=l.callback}getValue(l){const o=this.observable[this.attribute];return this.callback?this.callback(o,l):o}activateAttributeListener(l,o,n){const c=()=>ge(l,o,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,c),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,c)}}}class K extends ${constructor(l){super(l),this.eventNameOrFunction=l.eventNameOrFunction}activateDomEventListener(l,o,n){const c=(f,b)=>{o&&!b.target.matches(o)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(n.node,l,c),()=>{this.emitter.stopListening(n.node,l,c)}}}class R extends ${constructor(l){super(l),this.valueIfTrue=l.valueIfTrue}getValue(l){return!I(super.getValue(l))&&(this.valueIfTrue||!0)}}function Ee(E){return!!E&&(E.value&&(E=E.value),Array.isArray(E)?E.some(Ee):E instanceof $)}function ge(E,l,{node:o}){const n=function(f,b){return f.map(T=>T instanceof $?T.getValue(b):T)}(E,o);let c;c=E.length==1&&E[0]instanceof R?n[0]:n.reduce(g,""),I(c)?l.remove():l.set(c)}function Y(E){return{set(l){E.textContent=l},remove(){E.textContent=""}}}function J(E,l,o){return{set(n){E.setAttributeNS(o,l,n)},remove(){E.removeAttributeNS(o,l)}}}function Ce(E,l){return{set(o){E.style[l]=o},remove(){E.style[l]=null}}}function ue(E){return(0,L.A)(E,l=>{if(l&&(l instanceof $||ee(l)||M(l)||H(l)))return l})}function h(E){if(typeof E=="string"?E=function(l){return{text:[l]}}(E):E.text&&function(l){l.text=(0,u.$r)(l.text)}(E),E.on&&(E.eventListeners=function(l){for(const o in l)p(l,o);return l}(E.on),delete E.on),!E.text){E.attributes&&function(o){for(const n in o)o[n].value&&(o[n].value=(0,u.$r)(o[n].value)),p(o,n)}(E.attributes);const l=[];if(E.children)if(H(E.children))l.push(E.children);else for(const o of E.children)ee(o)||M(o)||(0,u.Ll)(o)?l.push(o):l.push(new v(o));E.children=l}return E}function p(E,l){E[l]=(0,u.$r)(E[l])}function g(E,l){return I(l)?E:I(E)?l:`${E} ${l}`}function _(E,l){for(const o in l)E[o]?E[o].push(...l[o]):E[o]=l[o]}function S(E,l){if(l.attributes&&(E.attributes||(E.attributes={}),_(E.attributes,l.attributes)),l.eventListeners&&(E.eventListeners||(E.eventListeners={}),_(E.eventListeners,l.eventListeners)),l.text&&E.text.push(...l.text),l.children&&l.children.length){if(E.children.length!=l.children.length)throw new u.Yb("ui-template-extend-children-mismatch",E);let o=0;for(const n of l.children)S(E.children[o++],n)}}function I(E){return!E&&E!==0}function M(E){return E instanceof He}function ee(E){return E instanceof v}function H(E){return E instanceof C}function re(E){return(0,k.A)(E[0])&&E[0].ns}function O(E){return E=="class"||E=="style"}var W=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ie=s.n(W),we=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),Ae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(we.A,Ae),we.A.locals;class He extends(0,u.c5)((0,u.VM)()){constructor(l){super(),this.element=null,this.isRendered=!1,this.locale=l,this.t=l&&l.t,this._viewCollections=new u.pM,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,n)=>{n.locale=l,n.t=l&&l.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=v.bind(this,this)}createCollection(l){const o=new C(l);return this._viewCollections.add(o),o}registerChild(l){(0,u.xZ)(l)||(l=[l]);for(const o of l)this._unboundChildren.add(o)}deregisterChild(l){(0,u.xZ)(l)||(l=[l]);for(const o of l)this._unboundChildren.remove(o)}setTemplate(l){this.template=new v(l)}extendTemplate(l){v.extend(this.template,l)}render(){if(this.isRendered)throw new u.Yb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(l=>l.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function it({emitter:E,activator:l,callback:o,contextElements:n}){E.listenTo(document,"mousedown",(c,f)=>{if(!l())return;const b=typeof f.composedPath=="function"?f.composedPath():[],T=typeof n=="function"?n():n;for(const P of T)if(P.contains(f.target)||b.includes(P))return;o()})}function ne(E){const l=E;l.set("_isCssTransitionsDisabled",!1),l.disableCssTransitions=()=>{l._isCssTransitionsDisabled=!0},l.enableCssTransitions=()=>{l._isCssTransitionsDisabled=!1},l.extendTemplate({attributes:{class:[l.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function de(E){return class extends E{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...l){super(...l),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Se({view:E}){E.listenTo(E.element,"submit",(l,o)=>{o.preventDefault(),E.fire("submit")},{useCapture:!0})}function Re({keystrokeHandler:E,focusTracker:l,gridItems:o,numberOfColumns:n,uiLanguageDirection:c}){const f=typeof n=="number"?()=>n:n;function b(q){return te=>{const ve=o.find(ft=>ft.element===l.focusedElement),Fe=o.getIndex(ve),st=q(Fe,o);o.get(st).focus(),te.stopPropagation(),te.preventDefault()}}function T(q,te){return q===te-1?0:q+1}function P(q,te){return q===0?te-1:q-1}E.set("arrowright",b((q,te)=>c==="rtl"?P(q,te.length):T(q,te.length))),E.set("arrowleft",b((q,te)=>c==="rtl"?T(q,te.length):P(q,te.length))),E.set("arrowup",b((q,te)=>{let ve=q-f();return ve<0&&(ve=q+f()*Math.floor(te.length/f()),ve>te.length-1&&(ve-=f())),ve})),E.set("arrowdown",b((q,te)=>{let ve=q+f();return ve>te.length-1&&(ve=q%f()),ve}))}var Oe=s("./packages/ckeditor5-core/src/index.ts"),G=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),Ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(G.A,Ie),G.A.locals;class Ue extends He{constructor(l){super(l),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,u.Ld)()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class nt extends He{constructor(l,o){super(l);const n=l.t,c=new Ue;c.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":c.id,role:"document",tabindex:-1},children:[(0,u.n)(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(o.values())),c]})}focus(){this.element.focus()}_createCategories(l){return l.map(o=>{const n=[(0,u.n)(document,"h3",{},o.label),...Array.from(o.groups.values()).map(c=>this._createGroup(c)).flat()];return o.description&&n.splice(1,0,(0,u.n)(document,"p",{},o.description)),(0,u.n)(document,"section",{},n)})}_createGroup(l){const o=l.keystrokes.sort((c,f)=>c.label.localeCompare(f.label)).map(c=>this._createGroupRow(c)).flat(),n=[(0,u.n)(document,"dl",{},o)];return l.label&&n.unshift((0,u.n)(document,"h4",{},l.label)),n}_createGroupRow(l){const o=this.locale.t,n=(0,u.n)(document,"dt"),c=(0,u.n)(document,"dd"),f=function(T){return typeof T=="string"?[[T]]:typeof T[0]=="string"?[T]:T}(l.keystroke),b=[];for(const T of f)b.push(T.map(xe).join(""));return n.innerHTML=l.label,c.innerHTML=b.join(", ")+(l.mayRequireFn&&u._K.isMac?` ${o("(may require <kbd>Fn</kbd>)")}`:""),[n,c]}}function xe(E){return(0,u.YA)(E).split("+").map(l=>`<kbd>${l}</kbd>`).join("+")}const pe='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var ye=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/accessibilityhelp.css"),Ze={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ye.A,Ze),ye.A.locals;class ot extends Oe.k_{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ko]}static get pluginName(){return"AccessibilityHelp"}init(){const l=this.editor,o=l.locale.t;l.ui.componentFactory.add("accessibilityHelp",()=>{const n=this._createButton(gt);return n.set({tooltip:!0,withText:!1,label:o("Accessibility help")}),n}),l.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const n=this._createButton(Ws);return n.label=o("Accessibility"),n}),l.keystrokes.set("Alt+0",(n,c)=>{this._showDialog(),c()}),this._setupRootLabels()}_createButton(l){const o=new l(this.editor.locale);return o.set({keystroke:"Alt+0",icon:pe}),o.on("execute",()=>this._showDialog()),o}_setupRootLabels(){const l=this.editor,o=l.editing.view,n=l.t;function c(f,b){const T=`${b.getAttribute("aria-label")}. ${n("Press %0 for help.",[(0,u.YA)("Alt+0")])}`;f.setAttribute("aria-label",T,b)}l.ui.on("ready",()=>{o.change(f=>{for(const b of o.document.roots)c(f,b)}),l.on("addRoot",(f,b)=>{const T=l.editing.view.document.getRoot(b.rootName);o.change(P=>c(P,T))},{priority:"low"})})}_showDialog(){const l=this.editor,o=l.plugins.get("Dialog"),n=l.locale.t;this.contentView||(this.contentView=new nt(l.locale,l.accessibility.keystrokeInfos)),o.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:pe,hasCloseButton:!0,content:this.contentView})}}class at extends C{constructor(l,o=[]){super(o),this.locale=l}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new v({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let l=document.querySelector(".ck-body-wrapper");l||(l=(0,u.n)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(l)),l.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const l=document.querySelector(".ck-body-wrapper");l&&l.childElementCount==0&&l.remove()}}var mt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),Ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(mt.A,Ut),mt.A.locals;const $t=class extends He{constructor(){super();const E=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",E.if("isVisible","ck-hidden",l=>!l),"ck-reset_all-excluded",E.if("isColorInherited","ck-icon_inherit-color")],viewBox:E.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const E=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),l=E.getAttribute("viewBox");l&&(this.viewBox=l);for(const{name:o,value:n}of Array.from(E.attributes))$t.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;E.childNodes.length>0;)this.element.appendChild(E.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(E=>{E.style.fill=this.fillColor})}};let St=$t;St.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class qt extends He{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const l=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:l.to("style"),id:l.to("id")},children:[{text:l.to("text")}]})}}var wt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(wt.A,tt),wt.A.locals;class gt extends He{constructor(l,o=new qt){super(l),this._focusDelayed=null;const n=this.bindTemplate,c=(0,u.Ld)();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${c}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(o),this.iconView=new St,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",b=>!b),n.if("isVisible","ck-hidden",b=>!b),n.to("isOn",b=>b?"ck-on":"ck-off"),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",b=>b||"button"),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,b=>!b),"aria-pressed":n.to("isOn",b=>!!this.isToggleable&&String(!!b)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to(b=>{this.isEnabled?this.fire("execute"):b.preventDefault()})}};u._K.isSafari&&(this._focusDelayed||(this._focusDelayed=(0,u.cb)(()=>this.focus(),0)),f.on.mousedown=n.to(()=>{this._focusDelayed()}),f.on.mouseup=n.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(l){return l.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),l}_createKeystrokeView(){const l=new He;return l.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>(0,u.YA)(o))}]}),l}_getTooltipString(l,o,n){return l?typeof l=="string"?l:(n&&(n=(0,u.YA)(n)),l instanceof Function?l(o,n):`${o}${n?` (${n})`:""}`):""}}var gi=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),Ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(gi.A,Ti),gi.A.locals;class Pi extends gt{constructor(l){super(l),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const l=new He;return l.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),l}}class Di extends gt{constructor(l){super(l),this.buttonView=this,this._fileInputView=new Oi(l),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Oi extends He{constructor(l){super(l),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Wi='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var Gt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css"),xt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Gt.A,xt),Gt.A.locals;class Ke extends He{constructor(l,o){super(l);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),o&&this.children.addMany(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const l=new gt(this.locale),o=l.bindTemplate;return l.set({withText:!0,icon:Wi}),l.extendTemplate({attributes:{"aria-expanded":o.to("isOn",n=>String(n))}}),l.bind("label").to(this),l.bind("isOn").to(this,"isCollapsed",n=>!n),l.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),l}}function le(E,l){const o=E.t,n={Black:o("Black"),"Dim grey":o("Dim grey"),Grey:o("Grey"),"Light grey":o("Light grey"),White:o("White"),Red:o("Red"),Orange:o("Orange"),Yellow:o("Yellow"),"Light green":o("Light green"),Green:o("Green"),Aquamarine:o("Aquamarine"),Turquoise:o("Turquoise"),"Light blue":o("Light blue"),Blue:o("Blue"),Purple:o("Purple")};return l.map(c=>{const f=n[c.label];return f&&f!=c.label&&(c.label=f),c})}function Le(E){return E.map(Be).filter(l=>!!l)}function Be(E){return typeof E=="string"?{model:E,label:E,hasBorder:!1,view:{name:"span",styles:{color:E}}}:{model:E.color,label:E.label||E.color,hasBorder:E.hasBorder!==void 0&&E.hasBorder,view:{name:"span",styles:{color:`${E.color}`}}}}class dt extends gt{constructor(l){super(l);const o=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:o.to("color",n=>u._K.isMediaForcedColors?null:n)},class:["ck","ck-color-grid__tile",o.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var ht=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ht.A,_t),ht.A.locals;class It extends He{constructor(l,o){super(l);const n=o&&o.colorDefinitions?o.colorDefinitions:[];this.columns=o&&o.columns?o.columns:5;const c={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new u.$x,this.keystrokes=new u.EP,this.items.on("add",(f,b)=>{b.isOn=b.color===this.selectedColor}),n.forEach(f=>{const b=new dt;b.set({color:f.color,label:f.label,tooltip:!0,hasBorder:f.options.hasBorder}),b.on("execute",()=>{this.fire("execute",{value:f.color,hasBorder:f.options.hasBorder,label:f.label})}),this.items.add(b)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:c}}),this.on("change:selectedColor",(f,b,T)=>{for(const P of this.items)P.isOn=P.color===T})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const l of this.items)this.focusTracker.add(l.element);this.items.on("add",(l,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(l,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),Re({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var zt=s("./node_modules/color-name/index.js");const Jt=function(E){var l,o,n=[],c=1;if(typeof E=="string")if(zt[E])n=zt[E].slice(),o="rgb";else if(E==="transparent")c=0,o="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(E)){var f=E.slice(1);c=1,(P=f.length)<=4?(n=[parseInt(f[0]+f[0],16),parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16)],P===4&&(c=parseInt(f[3]+f[3],16)/255)):(n=[parseInt(f[0]+f[1],16),parseInt(f[2]+f[3],16),parseInt(f[4]+f[5],16)],P===8&&(c=parseInt(f[6]+f[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),o="rgb"}else if(l=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(E)){var b=l[1],T=b==="rgb";o=f=b.replace(/a$/,"");var P=f==="cmyk"?4:f==="gray"?1:3;n=l[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(q,te){if(/%$/.test(q))return te===P?parseFloat(q)/100:f==="rgb"?255*parseFloat(q)/100:parseFloat(q);if(f[te]==="h"){if(/deg$/.test(q))return parseFloat(q);if(ai[q]!==void 0)return ai[q]}return parseFloat(q)}),b===f&&n.push(1),c=T||n[P]===void 0?1:n[P],n=n.slice(0,P)}else E.length>10&&/[0-9](?:\s|\/)/.test(E)&&(n=E.match(/([0-9]+)/g).map(function(q){return parseFloat(q)}),o=E.match(/([a-z])/gi).join("").toLowerCase());else isNaN(E)?Array.isArray(E)||E.length?(n=[E[0],E[1],E[2]],o="rgb",c=E.length===4?E[3]:1):E instanceof Object&&(E.r!=null||E.red!=null||E.R!=null?(o="rgb",n=[E.r||E.red||E.R||0,E.g||E.green||E.G||0,E.b||E.blue||E.B||0]):(o="hsl",n=[E.h||E.hue||E.H||0,E.s||E.saturation||E.S||0,E.l||E.lightness||E.L||E.b||E.brightness]),c=E.a||E.alpha||E.opacity||1,E.opacity!=null&&(c/=100)):(o="rgb",n=[E>>>16,(65280&E)>>>8,255&E]);return{space:o,values:n,alpha:c}};var ai={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},si=s("./node_modules/color-convert/index.js");function Bi(E,l){if(!E)return"";const o=pi(E);if(!o)return"";if(o.space===l)return E;if(n=o,!Object.keys(si).includes(n.space))return"";var n;const c=si[o.space][l];return c?function(f,b){switch(b){case"hex":return`#${f}`;case"rgb":return`rgb( ${f[0]}, ${f[1]}, ${f[2]} )`;case"hsl":return`hsl( ${f[0]}, ${f[1]}%, ${f[2]}% )`;case"hwb":return`hwb( ${f[0]}, ${f[1]}, ${f[2]} )`;case"lab":return`lab( ${f[0]}% ${f[1]} ${f[2]} )`;case"lch":return`lch( ${f[0]}% ${f[1]} ${f[2]} )`;default:return""}}(c(o.space==="hex"?o.hexValue:o.values),l):""}function pi(E){if(E.startsWith("#")){const o=Jt(E);return{space:"hex",values:o.values,hexValue:E,alpha:o.alpha}}const l=Jt(E);return l.space?l:null}var Ci=s("./node_modules/lodash-es/debounce.js"),vt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),Ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(vt.A,Ye),vt.A.locals;class ct extends He{constructor(l,o){super(l);const n=`ck-labeled-field-view-${(0,u.Ld)()}`,c=`ck-labeled-field-view-status-${(0,u.Ld)()}`;this.fieldView=o(this,n,c),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(c),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,T)=>b||T);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",b=>!b),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(l){const o=new Ue(this.locale);return o.for=l,o.bind("text").to(this,"label"),o}_createStatusView(l){const o=new He(this.locale),n=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",c=>!c)],id:l,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),o}focus(l){this.fieldView.focus(l)}}class qe extends He{constructor(l){super(l),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new u.$x,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),tabindex:o.to("tabIndex"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById"),"aria-label":o.to("ariaLabel")},on:{input:o.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(l,o,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(l){this.element.value=l||l===0?l:""}}var yt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),Dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(yt.A,Dt),yt.A.locals;class Mt extends qe{constructor(l){super(l),this.set("inputMode","text");const o=this.bindTemplate;this.extendTemplate({attributes:{inputmode:o.to("inputMode")}})}}class jt extends Mt{constructor(l){super(l),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class Te extends Mt{constructor(l,{min:o,max:n,step:c}={}){super(l);const f=this.bindTemplate;this.set("min",o),this.set("max",n),this.set("step",c),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:f.to("min"),max:f.to("max"),step:f.to("step")}})}}var V=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css"),N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(V.A,N),V.A.locals;class X extends qe{constructor(l){super(l),this._isUpdateAutoGrowHeightPending=!1;const o=(0,u.To)("px");this.set("minRows",2),this.set("maxRows",5),this.set("_height",null),this.set("resize","none"),this._resizeObserver=null,this.on("change:minRows",this._validateMinMaxRows.bind(this)),this.on("change:maxRows",this._validateMinMaxRows.bind(this));const n=this.bindTemplate;this.template.tag="textarea",this.extendTemplate({attributes:{class:["ck-textarea"],style:{height:n.to("_height",c=>c?o(c):null),resize:n.to("resize")},rows:n.to("minRows")}})}render(){super.render();let l=!1;this.on("input",()=>{this._updateAutoGrowHeight(!0),this.fire("update")}),this.on("change:value",()=>{u.global.window.requestAnimationFrame(()=>{(0,u.zN)(this.element)?(this._updateAutoGrowHeight(),this.fire("update")):this._isUpdateAutoGrowHeightPending=!0})}),this._resizeObserver=new u.tb(this.element,o=>{const n=!!o.contentRect.width&&!!o.contentRect.height;!l&&n&&this._isUpdateAutoGrowHeightPending&&u.global.window.requestAnimationFrame(()=>{this._updateAutoGrowHeight(),this.fire("update")}),l=n})}destroy(){this._resizeObserver&&this._resizeObserver.destroy()}reset(){super.reset(),this._updateAutoGrowHeight(),this.fire("update")}_updateAutoGrowHeight(l){const o=this.element;if(!o.offsetParent)return void(this._isUpdateAutoGrowHeightPending=!0);this._isUpdateAutoGrowHeightPending=!1;const n=Pe(o,"1"),c=Pe(o,o.value),f=n.ownerDocument.defaultView.getComputedStyle(n),b=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom),T=(0,u.Md)(n),P=parseFloat(f.lineHeight),q=T.top+T.bottom,te=new u.rw(n).height,ve=Math.round((c.scrollHeight-b)/P),Fe=this.maxRows*P+b+q,st=ve===1?te:this.minRows*P+b+q;this._height=Math.min(Math.max(Math.max(ve,this.minRows)*P+b+q,st),Fe),l&&(o.scrollTop=o.scrollHeight),n.remove(),c.remove()}_validateMinMaxRows(){if(this.minRows>this.maxRows)throw new u.Yb("ui-textarea-view-min-rows-greater-than-max-rows",{textareaView:this,minRows:this.minRows,maxRows:this.maxRows})}}function Pe(E,l){const o=E.cloneNode();return o.style.position="absolute",o.style.top="-99999px",o.style.left="-99999px",o.style.height="auto",o.style.overflow="hidden",o.style.width=E.ownerDocument.defaultView.getComputedStyle(E).width,o.tabIndex=-1,o.rows=1,o.value=l,E.parentNode.insertBefore(o,E),o}class We extends He{constructor(l){super(l);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",n=>`ck-dropdown__panel_${n}`),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const l=this.children.first;typeof l.focus=="function"?l.focus():(0,u.FF)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const l=this.children.last;typeof l.focusLast=="function"?l.focusLast():l.focus()}}}var oe=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),Me={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(oe.A,Me),oe.A.locals;const Je=class extends He{constructor(E,l,o){super(E);const n=this.bindTemplate;this.buttonView=l,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new u.EP,this.focusTracker=new u.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",c=>!c)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[l,o]}),l.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(l,o,n)=>{if(n)if(this.panelPosition==="auto"){const c=Je._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const E=(l,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(l,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(l,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",E),this.keystrokes.set("esc",E)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:E,north:l,southEast:o,southWest:n,northEast:c,northWest:f,southMiddleEast:b,southMiddleWest:T,northMiddleEast:P,northMiddleWest:q}=Je.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,n,b,T,E,c,f,P,q,l]:[n,o,T,b,E,f,c,q,P,l]}};let Qe=Je;Qe.defaultPanelPositions={south:(E,l)=>({top:E.bottom,left:E.left-(l.width-E.width)/2,name:"s"}),southEast:E=>({top:E.bottom,left:E.left,name:"se"}),southWest:(E,l)=>({top:E.bottom,left:E.left-l.width+E.width,name:"sw"}),southMiddleEast:(E,l)=>({top:E.bottom,left:E.left-(l.width-E.width)/4,name:"sme"}),southMiddleWest:(E,l)=>({top:E.bottom,left:E.left-3*(l.width-E.width)/4,name:"smw"}),north:(E,l)=>({top:E.top-l.height,left:E.left-(l.width-E.width)/2,name:"n"}),northEast:(E,l)=>({top:E.top-l.height,left:E.left,name:"ne"}),northWest:(E,l)=>({top:E.top-l.height,left:E.left-l.width+E.width,name:"nw"}),northMiddleEast:(E,l)=>({top:E.top-l.height,left:E.left-(l.width-E.width)/4,name:"nme"}),northMiddleWest:(E,l)=>({top:E.top-l.height,left:E.left-3*(l.width-E.width)/4,name:"nmw"})},Qe._getOptimalPosition=u.W;class ut extends gt{constructor(l){super(l),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const l=new St;return l.content=Wi,l.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),l}}class Ft extends(0,u.Mm)(){constructor(l){if(super(),this.focusables=l.focusables,this.focusTracker=l.focusTracker,this.keystrokeHandler=l.keystrokeHandler,this.actions=l.actions,l.actions&&l.keystrokeHandler)for(const o in l.actions){let n=l.actions[o];typeof n=="string"&&(n=[n]);for(const c of n)l.keystrokeHandler.set(c,(f,b)=>{this[o](),b()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Pt)||null}get last(){return this.focusables.filter(Pt).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let l=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((o,n)=>{const c=o.element===this.focusTracker.focusedElement;return c&&(l=n),c}),l)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const l=this.next;l&&this.focusables.getIndex(l)===this.current||l===this.first?this.fire("forwardCycle"):this._focus(l,1)}focusPrevious(){const l=this.previous;l&&this.focusables.getIndex(l)===this.current||l===this.last?this.fire("backwardCycle"):this._focus(l,-1)}_focus(l,o){l&&this.focusTracker.focusedElement!==l.element&&l.focus(o)}_getDomFocusableItem(l){const o=this.focusables.length;if(!o)return null;const n=this.current;if(n===null)return this[l===1?"first":"last"];let c=this.focusables.get(n),f=(n+o+l)%o;do{const b=this.focusables.get(f);if(Pt(b)){c=b;break}f=(f+o+l)%o}while(f!==n);return c}}function Pt(E){return ri(E)&&(0,u.zN)(E.element)}function ri(E){return!(!("focus"in E)||typeof E.focus!="function")}function bi(E){return ri(E)&&"focusCycler"in E&&E.focusCycler instanceof Ft}class ui extends He{constructor(l){super(l),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Ei extends He{constructor(l){super(l),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var _i=Object.defineProperty,bn=Object.getOwnPropertySymbols,wn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,An=(E,l,o)=>l in E?_i(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o,gn=(E,l)=>{for(var o in l||(l={}))wn.call(l,o)&&An(E,o,l[o]);if(bn)for(var o of bn(l))yn.call(l,o)&&An(E,o,l[o]);return E};function Yn(E){if(Array.isArray(E))return{items:E,removeItems:[]};const l={items:[],removeItems:[]};return E?gn(gn({},l),E):l}var In=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),Jn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(In.A,Jn),In.A.locals;const xo={alignLeft:Oe.Pt.alignLeft,bold:Oe.Pt.bold,importExport:Oe.Pt.importExport,paragraph:Oe.Pt.paragraph,plus:Oe.Pt.plus,text:Oe.Pt.text,threeVerticalDots:Oe.Pt.threeVerticalDots,pilcrow:Oe.Pt.pilcrow,dragIndicator:Oe.Pt.dragIndicator};class Xn extends He{constructor(l,o){super(l);const n=this.bindTemplate,c=this.t;this.options=o||{},this.set("ariaLabel",c("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new u.$x,this.keystrokes=new u.EP,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Co(l),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=l.uiLanguageDirection==="rtl";this._focusCycler=new Ft({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var T;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(T=this,T.bindTemplate.to(P=>{P.target===T.element&&P.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Go(this):new eo(this)}render(){super.render(),this.focusTracker.add(this.element);for(const l of this.items)this.focusTracker.add(l.element);this.items.on("add",(l,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(l,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(l,o,n){this.items.addMany(this._buildItemsFromConfig(l,o,n))}_buildItemsFromConfig(l,o,n){const c=Yn(l),f=n||c.removeItems;return this._cleanItemsConfiguration(c.items,o,f).map(b=>(0,k.A)(b)?this._createNestedToolbarDropdown(b,o,f):b==="|"?new ui:b==="-"?new Ei:o.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(l,o,n){const c=l.filter((f,b,T)=>f==="|"||n.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||((0,u.FF)("toolbarview-line-break-ignored-when-grouping-items",T),!1):!(!(0,k.A)(f)&&!o.has(f))||((0,u.FF)("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(c)}_cleanSeparatorsAndLineBreaks(l){const o=b=>b!=="-"&&b!=="|",n=l.length,c=l.findIndex(o);if(c===-1)return[];const f=n-l.slice().reverse().findIndex(o);return l.slice(c,f).filter((b,T,P)=>o(b)?!0:!(T>0&&P[T-1]===b))}_createNestedToolbarDropdown(l,o,n){let{label:c,icon:f,items:b,tooltip:T=!0,withText:P=!1}=l;if(b=this._cleanItemsConfiguration(b,o,n),!b.length)return null;const q=Lo(this.locale);return c||(0,u.FF)("toolbarview-nested-toolbar-dropdown-missing-label",l),q.class="ck-toolbar__nested-toolbar-dropdown",q.buttonView.set({label:c,tooltip:T,withText:!!P}),f!==!1?q.buttonView.icon=xo[f]||f||Oe.Pt.threeVerticalDots:q.buttonView.withText=!0,Ho(q,()=>q.toolbarView._buildItemsFromConfig(b,o,n)),q}}class Co extends He{constructor(l){super(l),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class eo{constructor(l){const o=l.bindTemplate;l.set("isVertical",!1),l.itemsView.children.bindTo(l.items).using(n=>n),l.focusables.bindTo(l.items).using(n=>ri(n)?n:null),l.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Go{constructor(l){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=l,this.viewChildren=l.children,this.viewFocusables=l.focusables,this.viewItemsView=l.itemsView,this.viewFocusTracker=l.focusTracker,this.viewLocale=l.locale,this.ungroupedItems=l.createCollection(),this.groupedItems=l.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),l.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),l.children.on("change",this._updateFocusCyclableItems.bind(this)),l.items.on("change",(o,n)=>{const c=n.index,f=Array.from(n.added);for(const b of n.removed)c>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=c;b<c+f.length;b++){const T=f[b-c];b>this.ungroupedItems.length?this.groupedItems.add(T,b-this.ungroupedItems.length):this.ungroupedItems.add(T,b)}this._updateGrouping()}),l.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(l){this.viewElement=l.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(l)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,u.zN)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const l=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==l&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const l=this.viewElement,o=this.viewLocale.uiLanguageDirection,n=new u.rw(l.lastChild),c=new u.rw(l);if(!this.cachedPadding){const f=u.global.window.getComputedStyle(l),b=o==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[b])}return o==="ltr"?n.right>c.right-this.cachedPadding:n.left<c.left+this.cachedPadding}_enableGroupingOnResize(){let l;this.resizeObserver=new u.tb(this.viewElement,o=>{l&&l===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),l=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(l){l.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ui),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const l=this.viewLocale,o=l.t,n=Lo(l);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=l.uiLanguageDirection==="ltr"?"sw":"se",Ho(n,this.groupedItems),n.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:l.uiLanguageDirection==="rtl"?"se":"sw",icon:Oe.Pt.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(l=>{ri(l)&&this.viewFocusables.add(l)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class hn extends He{constructor(l){super(l);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Sn extends He{constructor(l){super(l),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class zn extends He{constructor(l,o=new Ue){super(l);const n=this.bindTemplate,c=new po(l);this.set({label:"",isVisible:!0}),this.labelView=o,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,c]),c.set({role:"group",ariaLabelledBy:o.id}),c.focusTracker.destroy(),c.keystrokes.destroy(),this.items=c.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const l=this.items.find(o=>!(o instanceof Sn));l&&l.focus()}}}var go=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),ir={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(go.A,ir),go.A.locals;class po extends He{constructor(l){super(l),this._listItemGroupToChangeListeners=new WeakMap;const o=this.bindTemplate;this.focusables=new C,this.items=this.createCollection(),this.focusTracker=new u.$x,this.keystrokes=new u.EP,this._focusCycler=new Ft({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const l of this.items)l instanceof zn?this._registerFocusableItemsGroup(l):l instanceof hn&&this._registerFocusableListItem(l);this.items.on("change",(l,o)=>{for(const n of o.removed)n instanceof zn?this._deregisterFocusableItemsGroup(n):n instanceof hn&&this._deregisterFocusableListItem(n);for(const n of Array.from(o.added).reverse())n instanceof zn?this._registerFocusableItemsGroup(n,o.index):this._registerFocusableListItem(n,o.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(l,o){this.focusTracker.add(l.element),this.focusables.add(l,o)}_deregisterFocusableListItem(l){this.focusTracker.remove(l.element),this.focusables.remove(l)}_getOnGroupItemsChangeCallback(l){return(o,n)=>{for(const c of n.removed)this._deregisterFocusableListItem(c);for(const c of Array.from(n.added).reverse())this._registerFocusableListItem(c,this.items.getIndex(l)+n.index)}}_registerFocusableItemsGroup(l,o){Array.from(l.items).forEach((c,f)=>{const b=o!==void 0?o+f:void 0;this._registerFocusableListItem(c,b)});const n=this._getOnGroupItemsChangeCallback(l);this._listItemGroupToChangeListeners.set(l,n),l.items.on("change",n)}_deregisterFocusableItemsGroup(l){for(const o of l.items)this._deregisterFocusableListItem(o);l.items.off("change",this._listItemGroupToChangeListeners.get(l)),this._listItemGroupToChangeListeners.delete(l)}}var Ao=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),Mo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ao.A,Mo),Ao.A.locals;class Fo extends He{constructor(l,o){super(l);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(o),this.arrowView=this._createArrowView(),this.keystrokes=new u.EP,this.focusTracker=new u.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",c=>!c),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(l,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(l,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(l){const o=l||new gt;return l||o.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),o.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),o.delegate("execute").to(this),o}_createArrowView(){const l=new gt,o=l.bindTemplate;return l.icon=Wi,l.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",n=>String(n))}}),l.bind("isEnabled").to(this),l.bind("label").to(this),l.bind("tooltip").to(this),l.delegate("execute").to(this,"open"),l}}var Fn=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),to={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Fn.A,to),Fn.A.locals;var Tn=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),wo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Tn.A,wo),Tn.A.locals;function Lo(E,l=ut){const o=typeof l=="function"?new l(E):l,n=new We(E),c=new Qe(E,o,n);return o.bind("isEnabled").to(c),o instanceof Fo?o.arrowView.bind("isOn").to(c,"isOpen"):o.bind("isOn").to(c,"isOpen"),function(f){(function(b){b.on("render",()=>{it({emitter:b,activator:()=>b.isOpen,callback:()=>{b.isOpen=!1},contextElements:()=>[b.element,...b.focusTracker._elements]})})})(f),function(b){b.on("execute",T=>{T.source instanceof Pi||(b.isOpen=!1)})}(f),function(b){b.focusTracker.on("change:isFocused",(T,P,q)=>{b.isOpen&&!q&&(b.isOpen=!1)})}(f),function(b){b.keystrokes.set("arrowdown",(T,P)=>{b.isOpen&&(b.panelView.focus(),P())}),b.keystrokes.set("arrowup",(T,P)=>{b.isOpen&&(b.panelView.focusLast(),P())})}(f),function(b){b.on("change:isOpen",(T,P,q)=>{if(q)return;const te=b.panelView.element;te&&te.contains(u.global.document.activeElement)&&b.buttonView.focus()})}(f),function(b){b.on("change:isOpen",(T,P,q)=>{q&&b.panelView.focus()},{priority:"low"})}(f)}(c),c}function Ho(E,l,o={}){E.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),E.isOpen?nr(E,l,o):E.once("change:isOpen",()=>nr(E,l,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&fo(E,()=>E.toolbarView.items.find(n=>n.isOn))}function nr(E,l,o){const n=E.locale,c=n.t,f=E.toolbarView=new Xn(n),b=typeof l=="function"?l():l;f.ariaLabel=o.ariaLabel||c("Dropdown toolbar"),o.maxWidth&&(f.maxWidth=o.maxWidth),o.class&&(f.class=o.class),o.isCompact&&(f.isCompact=o.isCompact),o.isVertical&&(f.isVertical=!0),b instanceof C?f.items.bindTo(b).using(T=>T):f.items.addMany(b),E.panelView.children.add(f),f.items.delegate("execute").to(E)}function To(E,l,o={}){E.isOpen?io(E,l,o):E.once("change:isOpen",()=>io(E,l,o),{priority:"highest"}),fo(E,()=>E.listView.items.find(n=>n instanceof hn&&n.children.first.isOn))}function io(E,l,o){const n=E.locale,c=E.listView=new po(n),f=typeof l=="function"?l():l;c.ariaLabel=o.ariaLabel,c.role=o.role,no(E,c.items,f,n),E.panelView.children.add(c),c.items.delegate("execute").to(E)}function fo(E,l){E.on("change:isOpen",()=>{if(!E.isOpen)return;const o=l();o&&(typeof o.focus=="function"?o.focus():(0,u.FF)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:u.vx.low-10})}function no(E,l,o,n){l.bindTo(o).using(c=>{if(c.type==="separator")return new Sn(n);if(c.type==="group"){const f=new zn(n);return f.set({label:c.label}),no(E,f.items,c.items,n),f.items.delegate("execute").to(E),f}if(c.type==="button"||c.type==="switchbutton"){const f=new hn(n);let b;return c.type==="button"?(b=new gt(n),b.bind("ariaChecked").to(b,"isOn")):b=new Pi(n),b.bind(...Object.keys(c.model)).to(c.model),b.delegate("execute").to(f),f.children.add(b),f}return null})}const Pn=(E,l,o)=>{const n=new jt(E.locale);return n.set({id:l,ariaDescribedById:o}),n.bind("isReadOnly").to(E,"isEnabled",c=>!c),n.bind("hasError").to(E,"errorText",c=>!!c),n.on("input",()=>{E.errorText=null}),E.bind("isEmpty","isFocused","placeholder").to(n),n},Hn=(E,l,o)=>{const n=new Te(E.locale);return n.set({id:l,ariaDescribedById:o,inputMode:"numeric"}),n.bind("isReadOnly").to(E,"isEnabled",c=>!c),n.bind("hasError").to(E,"errorText",c=>!!c),n.on("input",()=>{E.errorText=null}),E.bind("isEmpty","isFocused","placeholder").to(n),n},un=(E,l,o)=>{const n=new X(E.locale);return n.set({id:l,ariaDescribedById:o}),n.bind("isReadOnly").to(E,"isEnabled",c=>!c),n.bind("hasError").to(E,"errorText",c=>!!c),n.on("input",()=>{E.errorText=null}),E.bind("isEmpty","isFocused","placeholder").to(n),n},Un=(E,l,o)=>{const n=Lo(E.locale);return n.set({id:l,ariaDescribedById:o}),n.bind("isEnabled").to(E),n},ji=(E,l=0,o=1)=>E>o?o:E<l?l:E,mn=(E,l=0,o=Math.pow(10,l))=>Math.round(o*E)/o,co=E=>(E[0]==="#"&&(E=E.substring(1)),E.length<6?{r:parseInt(E[0]+E[0],16),g:parseInt(E[1]+E[1],16),b:parseInt(E[2]+E[2],16),a:E.length===4?mn(parseInt(E[3]+E[3],16)/255,2):1}:{r:parseInt(E.substring(0,2),16),g:parseInt(E.substring(2,4),16),b:parseInt(E.substring(4,6),16),a:E.length===8?mn(parseInt(E.substring(6,8),16)/255,2):1}),Xt=({h:E,s:l,v:o,a:n})=>{const c=(200-l)*o/100;return{h:mn(E),s:mn(c>0&&c<200?l*o/100/(c<=100?c:200-c)*100:0),l:mn(c/2),a:mn(n,2)}},oo=E=>{const{h:l,s:o,l:n}=Xt(E);return`hsl(${l}, ${o}%, ${n}%)`},uo=({h:E,s:l,v:o,a:n})=>{E=E/360*6,l/=100,o/=100;const c=Math.floor(E),f=o*(1-l),b=o*(1-(E-c)*l),T=o*(1-(1-E+c)*l),P=c%6;return{r:mn(255*[o,b,f,f,T,o][P]),g:mn(255*[T,o,o,b,f,f][P]),b:mn(255*[f,f,T,o,o,b][P]),a:mn(n,2)}},Bn=E=>{const l=E.toString(16);return l.length<2?"0"+l:l},Uo=({r:E,g:l,b:o,a:n})=>{const c=n<1?Bn(mn(255*n)):"";return"#"+Bn(E)+Bn(l)+Bn(o)+c},ho=({r:E,g:l,b:o,a:n})=>{const c=Math.max(E,l,o),f=c-Math.min(E,l,o),b=f?c===E?(l-o)/f:c===l?2+(o-E)/f:4+(E-l)/f:0;return{h:mn(60*(b<0?b+6:b)),s:mn(c?f/c*100:0),v:mn(c/255*100),a:n}},Lt=(E,l)=>{if(E===l)return!0;for(const o in E)if(E[o]!==l[o])return!1;return!0},mo={},_e=E=>{let l=mo[E];return l||(l=document.createElement("template"),l.innerHTML=E,mo[E]=l),l},B=(E,l,o)=>{E.dispatchEvent(new CustomEvent(l,{bubbles:!0,detail:o}))};let ce=!1;const $e=E=>"touches"in E,F=(E,l)=>{const o=$e(l)?l.touches[0]:l,n=E.el.getBoundingClientRect();B(E.el,"move",E.getMove({x:ji((o.pageX-(n.left+window.pageXOffset))/n.width),y:ji((o.pageY-(n.top+window.pageYOffset))/n.height)}))};class y{constructor(l,o,n,c){const f=_e(`<div role="slider" tabindex="0" part="${o}" ${n}><div part="${o}-pointer"></div></div>`);l.appendChild(f.content.cloneNode(!0));const b=l.querySelector(`[part=${o}]`);b.addEventListener("mousedown",this),b.addEventListener("touchstart",this),b.addEventListener("keydown",this),this.el=b,this.xy=c,this.nodes=[b.firstChild,b]}set dragging(l){const o=l?document.addEventListener:document.removeEventListener;o(ce?"touchmove":"mousemove",this),o(ce?"touchend":"mouseup",this)}handleEvent(l){switch(l.type){case"mousedown":case"touchstart":if(l.preventDefault(),!(o=>!(ce&&!$e(o)||(ce||(ce=$e(o)),0)))(l)||!ce&&l.button!=0)return;this.el.focus(),F(this,l),this.dragging=!0;break;case"mousemove":case"touchmove":l.preventDefault(),F(this,l);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((o,n)=>{const c=n.keyCode;c>40||o.xy&&c<37||c<33||(n.preventDefault(),B(o.el,"move",o.getMove({x:c===39?.01:c===37?-.01:c===34?.05:c===33?-.05:c===35?1:c===36?-1:0,y:c===40?.01:c===38?-.01:0},!0)))})(this,l)}}style(l){l.forEach((o,n)=>{for(const c in o)this.nodes[n].style.setProperty(c,o[c])})}}class j extends y{constructor(l){super(l,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:l}){this.h=l,this.style([{left:l/360*100+"%",color:oo({h:l,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${mn(l)}`)}getMove(l,o){return{h:o?ji(this.h+360*l.x,0,360):360*l.x}}}class Z extends y{constructor(l){super(l,"saturation",'aria-label="Color"',!0)}update(l){this.hsva=l,this.style([{top:100-l.v+"%",left:`${l.s}%`,color:oo(l)},{"background-color":oo({h:l.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${mn(l.s)}%, Brightness ${mn(l.v)}%`)}getMove(l,o){return{s:o?ji(this.hsva.s+100*l.x,0,100):100*l.x,v:o?ji(this.hsva.v-100*l.y,0,100):Math.round(100-100*l.y)}}}const se=Symbol("same"),me=Symbol("color"),ke=Symbol("hsva"),fe=Symbol("update"),je=Symbol("parts"),Ne=Symbol("css"),et=Symbol("sliders");class rt extends HTMLElement{static get observedAttributes(){return["color"]}get[Ne](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[et](){return[Z,j]}get color(){return this[me]}set color(l){if(!this[se](l)){const o=this.colorModel.toHsva(l);this[fe](o),this[me]=l}}constructor(){super();const l=_e(`<style>${this[Ne].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(l.content.cloneNode(!0)),o.addEventListener("move",this),this[je]=this[et].map(n=>new n(o))}connectedCallback(){if(this.hasOwnProperty("color")){const l=this.color;delete this.color,this.color=l}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(l,o,n){const c=this.colorModel.fromAttr(n);this[se](c)||(this.color=c)}handleEvent(l){const o=this[ke],n={...o,...l.detail};let c;this[fe](n),Lt(n,o)||this[se](c=this.colorModel.fromHsva(n))||(this[me]=c,B(this,"color-changed",{value:c}))}[se](l){return this.color&&this.colorModel.equal(l,this.color)}[fe](l){this[ke]=l,this[je].forEach(o=>o.update(l))}}const Ct={defaultColor:"#000",toHsva:E=>ho(co(E)),fromHsva:({h:E,s:l,v:o})=>Uo(uo({h:E,s:l,v:o,a:1})),equal:(E,l)=>E.toLowerCase()===l.toLowerCase()||Lt(co(E),co(l)),fromAttr:E=>E};class Et extends rt{get colorModel(){return Ct}}var Bt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"),Tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Bt.A,Tt),Bt.A.locals;class Yt extends He{constructor(l,o={}){super(l),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const n=this.createCollection();o.hideInput||n.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:n}),this._config=o,this._debounceColorPickerEvent=(0,Ci.A)(c=>{this.set("color",c),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(c,f,b)=>{c.return=Bi(b,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Qt(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Qt(this.color)!=Qt(this._hexColor)&&(this.color=this._hexColor)})}render(){var l,o;if(super.render(),l="hex-color-picker",o=Et,customElements.get(l)===void 0&&customElements.define(l,o),this.picker=u.global.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const n=document.createElement("style");n.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(n)}this.picker.addEventListener("color-changed",n=>{const c=n.detail.value;this._debounceColorPickerEvent(c)})}focus(){!this._config.hideInput&&(u._K.isGecko||u._K.isiOS||u._K.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const l=[...this.picker.shadowRoot.children].filter(o=>o.getAttribute("role")==="slider").map(o=>new wi(o));this.slidersView=this.createCollection(),l.forEach(o=>{this.slidersView.add(o)})}_createInputRow(){const l=this._createColorInput();return new Ii(this.locale,l)}_createColorInput(){const l=new ct(this.locale,Pn),{t:o}=this.locale;return l.set({label:o("HEX"),class:"color-picker-hex-input"}),l.fieldView.bind("value").to(this,"_hexColor",n=>l.isFocused?l.fieldView.value:n.startsWith("#")?n.substring(1):n),l.fieldView.on("input",()=>{const n=l.fieldView.element.value;if(n){const c=Mi(n);c&&this._debounceColorPickerEvent(c)}}),l}isValid(){const{t:l}=this.locale;return this.resetValidationStatus(),!!this.hexInputRow.getParsedColor()||(this.hexInputRow.inputView.errorText=l('Please enter a valid color (e.g. "ff0000").'),!1)}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function Qt(E){let l=function(o){if(!o)return"";const n=pi(o);return n?n.space==="hex"?n.hexValue:Bi(o,"hex"):"#000"}(E);return l||(l="#000"),l.length===4&&(l="#"+[l[1],l[1],l[2],l[2],l[3],l[3]].join("")),l.toLowerCase()}class wi extends He{constructor(l){super(),this.element=l}focus(){this.element.focus()}}class Ai extends He{constructor(l){super(l),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Ii extends He{constructor(l,o){super(l),this.inputView=o,this.children=this.createCollection([new Ai,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return Mi(this.inputView.fieldView.element.value)}}function Mi(E){if(!E)return null;const l=E.trim().replace(/^#/,"");return[3,4,6,8].includes(l.length)&&/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(l)?`#${l}`:null}class nn extends(0,u.VM)(u.pM){constructor(l){super(l),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(l,o){return this.find(n=>n.color===l.color)?this:super.add(l,o)}hasColor(l){return!!this.find(o=>o.color===l)}}const{eraser:_n,colorPalette:ro}=Oe.Pt;class Oo extends He{constructor(l,{colors:o,columns:n,removeButtonLabel:c,documentColorsLabel:f,documentColorsCount:b,colorPickerLabel:T,focusTracker:P,focusables:q}){super(l);const te=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=P,this.items=this.createCollection(),this.colorDefinitions=o,this.columns=n,this.documentColors=new nn,this.documentColorsCount=b,this._focusables=q,this._removeButtonLabel=c,this._colorPickerLabel=T,this._documentColorsLabel=f,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",te.if("isVisible","ck-hidden",ve=>!ve)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(l,o){const n=l.document,c=this.documentColorsCount;this.documentColors.clear();for(const f of n.getRoots()){const b=l.createRangeIn(f);for(const T of b.getItems())if(T.is("$textProxy")&&T.hasAttribute(o)&&(this._addColorToDocumentColors(T.getAttribute(o)),this.documentColors.length>=c))return}}updateSelectedColors(){const l=this.documentColorsGrid,o=this.staticColorsGrid,n=this.selectedColor;o.selectedColor=n,l&&(l.selectedColor=n)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const l=v.bind(this.documentColors,this.documentColors),o=new Ue(this.locale);o.text=this._documentColorsLabel,o.extendTemplate({attributes:{class:["ck","ck-color-grid__label",l.if("isEmpty","ck-hidden")]}}),this.items.add(o),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new gt,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:ro,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const l=new gt;return l.set({withText:!0,icon:_n,label:this._removeButtonLabel}),l.class="ck-color-selector__remove-color",l.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),l.render(),l}_createStaticColorsGrid(){const l=new It(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return l.on("execute",(o,n)=>{this.fire("execute",{value:n.value,source:"staticColorsGrid"})}),l}_createDocumentColorsGrid(){const l=v.bind(this.documentColors,this.documentColors),o=new It(this.locale,{columns:this.columns});return o.extendTemplate({attributes:{class:l.if("isEmpty","ck-hidden")}}),o.items.bindTo(this.documentColors).using(n=>{const c=new dt;return c.set({color:n.color,hasBorder:n.options&&n.options.hasBorder}),n.label&&c.set({label:n.label,tooltip:!0}),c.on("execute",()=>{this.fire("execute",{value:n.color,source:"documentColorsGrid"})}),c}),this.documentColors.on("change:isEmpty",(n,c,f)=>{f&&(o.selectedColor=null)}),o}_addColorToDocumentColors(l){const o=this.colorDefinitions.find(n=>n.color===l);o?this.documentColors.add(Object.assign({},o)):this.documentColors.add({color:l,label:l,options:{hasBorder:!1}})}}var Gr=Object.defineProperty,kr=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable,_r=(E,l,o)=>l in E?Gr(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o;class vn extends He{constructor(l,{focusTracker:o,focusables:n,keystrokes:c,colorPickerViewConfig:f}){super(l),this.items=this.createCollection(),this.focusTracker=o,this.keystrokes=c,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=n,this._colorPickerViewConfig=f;const b=this.bindTemplate,{saveButtonView:T,cancelButtonView:P}=this._createActionButtons();this.saveButtonView=T,this.cancelButtonView=P,this.actionBarView=this._createActionBarView({saveButtonView:T,cancelButtonView:P}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",b.if("isVisible","ck-hidden",q=>!q)]},children:this.items})}render(){super.render();const l=new Yt(this.locale,((o,n)=>{for(var c in n||(n={}))vs.call(n,c)&&_r(o,c,n[c]);if(kr)for(var c of kr(n))Zr.call(n,c)&&_r(o,c,n[c]);return o})({},this._colorPickerViewConfig));this.colorPickerView=l,this.colorPickerView.render(),this.selectedColor&&(l.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(o,n,c)=>{l.color=c}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",l=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),l.stopPropagation(),l.preventDefault())})}_stopPropagationOnArrowsKeys(){const l=o=>o.stopPropagation();this.keystrokes.set("arrowright",l),this.keystrokes.set("arrowleft",l),this.keystrokes.set("arrowup",l),this.keystrokes.set("arrowdown",l)}_addColorPickersElementsToFocusTracker(){for(const o of this.colorPickerView.slidersView)this.focusTracker.add(o.element),this._focusables.add(o);const l=this.colorPickerView.hexInputRow.children.get(1);l.element&&(this.focusTracker.add(l.element),this._focusables.add(l)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:l,cancelButtonView:o}){const n=new He,c=this.createCollection();return c.add(l),c.add(o),n.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:c}),n}_createActionButtons(){const l=this.locale,o=l.t,n=new gt(l),c=new gt(l);return n.set({icon:Oe.Pt.check,class:"ck-button-save",type:"button",withText:!1,label:o("Accept")}),c.set({icon:Oe.Pt.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:o("Cancel")}),n.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),c.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:n,cancelButtonView:c}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(l,o)=>{this.fire("execute",{value:o.color,source:"colorPicker"}),this.set("selectedColor",o.color)})}}var or=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css"),Qr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(or.A,Qr),or.A.locals;class Lr extends He{constructor(l,{colors:o,columns:n,removeButtonLabel:c,documentColorsLabel:f,documentColorsCount:b,colorPickerLabel:T,colorPickerViewConfig:P}){super(l),this.items=this.createCollection(),this.focusTracker=new u.$x,this.keystrokes=new u.EP,this._focusables=new C,this._colorPickerViewConfig=P,this._focusCycler=new Ft({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new Oo(l,{colors:o,columns:n,removeButtonLabel:c,documentColorsLabel:f,documentColorsCount:b,colorPickerLabel:T,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new vn(l,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:P}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(q,te,ve)=>{this.colorGridsFragmentView.set("selectedColor",ve),this.colorPickerFragmentView.set("selectedColor",ve)}),this.colorGridsFragmentView.on("change:selectedColor",(q,te,ve)=>{this.set("selectedColor",ve)}),this.colorPickerFragmentView.on("change:selectedColor",(q,te,ve)=>{this.set("selectedColor",ve)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(l,o){this.colorGridsFragmentView.updateDocumentColors(l,o)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class Vo{constructor(l){this._components=new Map,this.editor=l}*names(){for(const l of this._components.values())yield l.originalName}add(l,o){this._components.set(rr(l),{callback:o,originalName:l})}create(l){if(!this.has(l))throw new u.Yb("componentfactory-item-missing",this,{name:l});return this._components.get(rr(l)).callback(this.editor.locale)}has(l){return this._components.has(rr(l))}}function rr(E){return String(E).toLowerCase()}var Eo=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),Jr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Eo.A,Jr),Eo.A.locals;class Xr extends He{constructor(l,o={}){super(l);const n=this.bindTemplate;this.set("label",o.label||""),this.set("class",o.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),o.icon&&(this.iconView=new St,this.iconView.content=o.icon,this.children.add(this.iconView));const c=new He(l);c.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(c)}}var ys=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialogactions.css"),xs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ys.A,xs),ys.A.locals;class Cs extends He{constructor(l){super(l),this.children=this.createCollection(),this.keystrokes=new u.EP,this._focusTracker=new u.$x,this._focusables=new C,this.focusCycler=new Ft({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(l){for(const o of l){const n=new gt(this.locale);let c;for(c in n.on("execute",()=>o.onExecute()),o.onCreate&&o.onCreate(n),o)c!="onExecute"&&c!="onCreate"&&n.set(c,o[c]);this.children.add(n)}this._updateFocusCyclableItems()}focus(l){l===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(l=>{this._focusables.add(l),this._focusTracker.add(l.element)})}}class As extends He{constructor(l){super(l),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Ts=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialog.css"),qs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ts.A,qs),Ts.A.locals;const bo={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},sr=(0,u.To)("px"),vr=class extends function(E){return class extends E{constructor(...l){super(...l),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(u.global.document,"mouseup",this._onDragEndBound),this.listenTo(u.global.document,"touchend",this._onDragEndBound),this.listenTo(u.global.document,"mousemove",this._onDragBound),this.listenTo(u.global.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(u.global.document,"mouseup",this._onDragEndBound),this.stopListening(u.global.document,"touchend",this._onDragEndBound),this.stopListening(u.global.document,"mousemove",this._onDragBound),this.stopListening(u.global.document,"touchmove",this._onDragBound)}_onDragStart(l,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let n=0,c=0;o instanceof MouseEvent?(n=o.clientX,c=o.clientY):(n=o.touches[0].clientX,c=o.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:c},this.isDragging=!0}_onDrag(l,o){if(!this.isDragging)return void this._detachDragListeners();let n=0,c=0;o instanceof MouseEvent?(n=o.clientX,c=o.clientY):(n=o.touches[0].clientX,c=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(c-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:c}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(l){return!!this.dragHandleElement&&(this.dragHandleElement===l.target||l.target instanceof HTMLElement&&this.dragHandleElement.contains(l.target))}}}(He){constructor(E,{getCurrentDomRoot:l,getViewportOffset:o}){super(E),this.wasMoved=!1;const n=this.bindTemplate,c=E.t;this.set("className",""),this.set("ariaLabel",c("Editor dialog")),this.set("isModal",!1),this.set("position",bo.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=l,this._getViewportOffset=o,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new u.EP,this.focusTracker=new u.$x,this._focusables=new C,this._focusCycler=new Ft({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",n.if("isModal","ck-dialog-overlay__transparent",f=>!f),n.if("_isVisible","ck-hidden",f=>!f)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",n.to("className")],role:"dialog","aria-label":n.to("ariaLabel"),style:{top:n.to("_top",f=>sr(f)),left:n.to("_left",f=>sr(f)),visibility:n.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(E,l)=>{this.fire("close",{source:"escKeyPress"}),l()}),this.on("drag",(E,{deltaX:l,deltaY:o})=>{this.wasMoved=!0,this.moveBy(l,o)}),this.listenTo(u.global.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(u.global.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(E,l,o)=>{o&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:E,title:l,hasCloseButton:o=!0,content:n,actionButtons:c}){l&&(this.headerView=new Xr(this.locale,{icon:E}),o&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=l,this.ariaLabel=l,this.parts.add(this.headerView,0)),n&&(n instanceof He&&(n=[n]),this.contentView=new As(this.locale),this.contentView.children.addMany(n),this.parts.add(this.contentView)),c&&(this.actionsView=new Cs(this.locale),this.actionsView.setButtons(c),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(E,l){const o=this._getViewportRect(),n=this._getDialogRect();E+n.width>o.right&&(E=o.right-n.width),E<o.left&&(E=o.left),l<o.top&&(l=o.top),this._moveTo(E,l)}_moveTo(E,l){this._left=E,this._top=l}moveBy(E,l){this.moveTo(this._left+E,this._top+l)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const E=this._getViewportRect();let l,o=this.position;this._getCurrentDomRoot()?l=this._getVisibleDomRootRect(E):o=bo.SCREEN_CENTER;const n=vr.defaultOffset,c=this._getDialogRect();switch(o){case bo.EDITOR_TOP_SIDE:if(l){const f=this.locale.contentLanguageDirection==="ltr"?l.right-c.width-n:l.left+n;this.moveTo(f,l.top+n)}else this._moveOffScreen();break;case bo.EDITOR_CENTER:l?this.moveTo(Math.round(l.left+l.width/2-c.width/2),Math.round(l.top+l.height/2-c.height/2)):this._moveOffScreen();break;case bo.SCREEN_CENTER:this.moveTo(Math.round((E.width-c.width)/2),Math.round((E.height-c.height)/2));break;case bo.EDITOR_TOP_CENTER:l?this.moveTo(Math.round(l.left+l.width/2-c.width/2),l.top+n):this._moveOffScreen();break;case bo.EDITOR_BOTTOM_CENTER:l?this.moveTo(Math.round(l.left+l.width/2-c.width/2),l.bottom-c.height-n):this._moveOffScreen();break;case bo.EDITOR_ABOVE_CENTER:l?this.moveTo(Math.round(l.left+l.width/2-c.width/2),l.top-c.height-n):this._moveOffScreen();break;case bo.EDITOR_BELOW_CENTER:l?this.moveTo(Math.round(l.left+l.width/2-c.width/2),l.bottom+n):this._moveOffScreen()}}_getVisibleDomRootRect(E){let l=new u.rw(this._getCurrentDomRoot()).getVisible();return l?(l=E.getIntersection(l),l||null):null}_getDialogRect(){return new u.rw(this.element.firstElementChild)}_getViewportRect(){return function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const l=new u.rw(u.global.window);return l.top+=E.top,l.height-=E.top,l.bottom-=E.bottom,l.height-=E.bottom,l.left+=E.left,l.right-=E.right,l.width-=E.left+E.right,l}(this._getViewportOffset())}_updateFocusCyclableItems(){const E=[];if(this.contentView)for(const l of this.contentView.children)ri(l)&&E.push(l);this.actionsView&&E.push(this.actionsView),this.closeButtonView&&E.push(this.closeButtonView),E.forEach(l=>{this._focusables.add(l),this.focusTracker.add(l.element),bi(l)&&(this.listenTo(l.focusCycler,"forwardCycle",o=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&o.stop()}),this.listenTo(l.focusCycler,"backwardCycle",o=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&o.stop()}))})}_createCloseButton(){const E=new gt(this.locale),l=this.locale.t;return E.set({label:l("Close"),tooltip:!0,icon:Oe.Pt.cancel}),E.on("execute",()=>this.fire("close",{source:"closeButton"})),E}};let yr=vr;yr.defaultOffset=15;class ko extends Oe.k_{constructor(l){super(l);const o=l.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),l.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:o("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(l,o)=>{this._show(o)}),this.on("show",(l,o)=>{o.onShow&&o.onShow(this)},{priority:"low"}),this.on("hide",()=>{ko._visibleDialogPlugin&&ko._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const l=this.editor;l.keystrokes.set("Ctrl+F6",(o,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?l.editing.view.focus():this.view.focus(),n())})}_initMultiRootIntegration(){const l=this.editor.model;l.document.on("change:data",()=>{if(!this.view)return;const o=l.document.differ.getChangedRoots();for(const n of o)n.state&&this.view.updatePosition()})}show(l){this.hide(),this.fire(`show:${l.id}`,l)}_show({id:l,icon:o,title:n,hasCloseButton:c=!0,content:f,actionButtons:b,className:T,isModal:P,position:q,onHide:te}){const ve=this.editor;this.view=new yr(ve.locale,{getCurrentDomRoot:()=>ve.editing.view.getDomRoot(ve.model.document.selection.anchor.root.rootName),getViewportOffset:()=>ve.ui.viewportOffset});const Fe=this.view;Fe.on("close",()=>{this.hide()}),ve.ui.view.body.add(Fe),ve.ui.focusTracker.add(Fe.element),ve.keystrokes.listenTo(Fe.element),q||(q=P?bo.SCREEN_CENTER:bo.EDITOR_CENTER),Fe.set({position:q,_isVisible:!0,className:T,isModal:P}),Fe.setupParts({icon:o,title:n,hasCloseButton:c,content:f,actionButtons:b}),this.id=l,te&&(this._onHide=te),this.isOpen=!0,ko._visibleDialogPlugin=this}hide(){ko._visibleDialogPlugin&&ko._visibleDialogPlugin.fire(`hide:${ko._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const l=this.editor,o=this.view;o.contentView&&o.contentView.reset(),l.ui.view.body.remove(o),l.ui.focusTracker.remove(o.element),l.keystrokes.stopListening(o.element),o.destroy(),l.editing.view.focus(),this.id=null,this.isOpen=!1,ko._visibleDialogPlugin=null}}var es=s("./node_modules/lodash-es/isElement.js"),xr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),Wo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(xr.A,Wo),xr.A.locals;var ar=Object.defineProperty,lr=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,Or=(E,l,o)=>l in E?ar(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o,on=(E,l)=>{for(var o in l||(l={}))ts.call(l,o)&&Or(E,o,l[o]);if(lr)for(var o of lr(l))is.call(l,o)&&Or(E,o,l[o]);return E};const Vr=(0,u.To)("px"),ns=u.global.document.body,Es={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},$o=class extends He{constructor(E){super(E);const l=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",l.to("position",o=>`ck-balloon-panel_${o}`),l.if("isVisible","ck-balloon-panel_visible"),l.if("withArrow","ck-balloon-panel_with-arrow"),l.to("class")],style:{top:l.to("top",Vr),left:l.to("left",Vr)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(E){this.show();const l=$o.defaultPositions,o=Object.assign({},{element:this.element,positions:[l.southArrowNorth,l.southArrowNorthMiddleWest,l.southArrowNorthMiddleEast,l.southArrowNorthWest,l.southArrowNorthEast,l.northArrowSouth,l.northArrowSouthMiddleWest,l.northArrowSouthMiddleEast,l.northArrowSouthWest,l.northArrowSouthEast,l.viewportStickyNorth],limiter:ns,fitInViewport:!0},E),n=$o._getOptimalPosition(o)||Es,c=parseInt(n.left),f=parseInt(n.top),b=n.name,T=n.config||{},{withArrow:P=!0}=T;this.top=f,this.left=c,this.position=b,this.withArrow=P}pin(E){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(E):this._stopPinning()},this._startPinning(E),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(E){this.attachTo(E);const l=os(E.target),o=E.limiter?os(E.limiter):ns;this.listenTo(u.global.document,"scroll",(n,c)=>{const f=c.target,b=l&&f.contains(l),T=o&&f.contains(o);!b&&!T&&l&&o||this.attachTo(E)},{useCapture:!0}),this.listenTo(u.global.window,"resize",()=>{this.attachTo(E)})}_stopPinning(){this.stopListening(u.global.document,"scroll"),this.stopListening(u.global.window,"resize")}};let Rn=$o;function os(E){return(0,es.A)(E)?E:(0,u._Z)(E)?E.commonAncestorContainer:typeof E=="function"?os(E()):null}function jo(E={}){const{sideOffset:l=Rn.arrowSideOffset,heightOffset:o=Rn.arrowHeightOffset,stickyVerticalOffset:n=Rn.stickyVerticalOffset,config:c}=E;return{northWestArrowSouthWest:(T,P)=>on({top:f(T,P),left:T.left-l,name:"arrow_sw"},c&&{config:c}),northWestArrowSouthMiddleWest:(T,P)=>on({top:f(T,P),left:T.left-.25*P.width-l,name:"arrow_smw"},c&&{config:c}),northWestArrowSouth:(T,P)=>on({top:f(T,P),left:T.left-P.width/2,name:"arrow_s"},c&&{config:c}),northWestArrowSouthMiddleEast:(T,P)=>on({top:f(T,P),left:T.left-.75*P.width+l,name:"arrow_sme"},c&&{config:c}),northWestArrowSouthEast:(T,P)=>on({top:f(T,P),left:T.left-P.width+l,name:"arrow_se"},c&&{config:c}),northArrowSouthWest:(T,P)=>on({top:f(T,P),left:T.left+T.width/2-l,name:"arrow_sw"},c&&{config:c}),northArrowSouthMiddleWest:(T,P)=>on({top:f(T,P),left:T.left+T.width/2-.25*P.width-l,name:"arrow_smw"},c&&{config:c}),northArrowSouth:(T,P)=>on({top:f(T,P),left:T.left+T.width/2-P.width/2,name:"arrow_s"},c&&{config:c}),northArrowSouthMiddleEast:(T,P)=>on({top:f(T,P),left:T.left+T.width/2-.75*P.width+l,name:"arrow_sme"},c&&{config:c}),northArrowSouthEast:(T,P)=>on({top:f(T,P),left:T.left+T.width/2-P.width+l,name:"arrow_se"},c&&{config:c}),northEastArrowSouthWest:(T,P)=>on({top:f(T,P),left:T.right-l,name:"arrow_sw"},c&&{config:c}),northEastArrowSouthMiddleWest:(T,P)=>on({top:f(T,P),left:T.right-.25*P.width-l,name:"arrow_smw"},c&&{config:c}),northEastArrowSouth:(T,P)=>on({top:f(T,P),left:T.right-P.width/2,name:"arrow_s"},c&&{config:c}),northEastArrowSouthMiddleEast:(T,P)=>on({top:f(T,P),left:T.right-.75*P.width+l,name:"arrow_sme"},c&&{config:c}),northEastArrowSouthEast:(T,P)=>on({top:f(T,P),left:T.right-P.width+l,name:"arrow_se"},c&&{config:c}),southWestArrowNorthWest:T=>on({top:b(T),left:T.left-l,name:"arrow_nw"},c&&{config:c}),southWestArrowNorthMiddleWest:(T,P)=>on({top:b(T),left:T.left-.25*P.width-l,name:"arrow_nmw"},c&&{config:c}),southWestArrowNorth:(T,P)=>on({top:b(T),left:T.left-P.width/2,name:"arrow_n"},c&&{config:c}),southWestArrowNorthMiddleEast:(T,P)=>on({top:b(T),left:T.left-.75*P.width+l,name:"arrow_nme"},c&&{config:c}),southWestArrowNorthEast:(T,P)=>on({top:b(T),left:T.left-P.width+l,name:"arrow_ne"},c&&{config:c}),southArrowNorthWest:T=>on({top:b(T),left:T.left+T.width/2-l,name:"arrow_nw"},c&&{config:c}),southArrowNorthMiddleWest:(T,P)=>on({top:b(T),left:T.left+T.width/2-.25*P.width-l,name:"arrow_nmw"},c&&{config:c}),southArrowNorth:(T,P)=>on({top:b(T),left:T.left+T.width/2-P.width/2,name:"arrow_n"},c&&{config:c}),southArrowNorthMiddleEast:(T,P)=>on({top:b(T),left:T.left+T.width/2-.75*P.width+l,name:"arrow_nme"},c&&{config:c}),southArrowNorthEast:(T,P)=>on({top:b(T),left:T.left+T.width/2-P.width+l,name:"arrow_ne"},c&&{config:c}),southEastArrowNorthWest:T=>on({top:b(T),left:T.right-l,name:"arrow_nw"},c&&{config:c}),southEastArrowNorthMiddleWest:(T,P)=>on({top:b(T),left:T.right-.25*P.width-l,name:"arrow_nmw"},c&&{config:c}),southEastArrowNorth:(T,P)=>on({top:b(T),left:T.right-P.width/2,name:"arrow_n"},c&&{config:c}),southEastArrowNorthMiddleEast:(T,P)=>on({top:b(T),left:T.right-.75*P.width+l,name:"arrow_nme"},c&&{config:c}),southEastArrowNorthEast:(T,P)=>on({top:b(T),left:T.right-P.width+l,name:"arrow_ne"},c&&{config:c}),westArrowEast:(T,P)=>on({top:T.top+T.height/2-P.height/2,left:T.left-P.width-o,name:"arrow_e"},c&&{config:c}),eastArrowWest:(T,P)=>on({top:T.top+T.height/2-P.height/2,left:T.right+o,name:"arrow_w"},c&&{config:c}),viewportStickyNorth:(T,P,q,te)=>{const ve=te||q;return T.getIntersection(ve)?ve.height-T.height>n?null:{top:ve.top+n,left:T.left+T.width/2-P.width/2,name:"arrowless",config:on({withArrow:!1},c)}:null}};function f(T,P){return T.top-P.height-o}function b(T){return T.bottom+o}}Rn.arrowSideOffset=25,Rn.arrowHeightOffset=10,Rn.stickyVerticalOffset=20,Rn._getOptimalPosition=u.W,Rn.defaultPositions=jo();var Ro=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),rs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ro.A,rs),Ro.A.locals;const cr="ck-tooltip",Wn=class extends(0,u.c5)(){constructor(E){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Wn._editors.add(E),Wn._instance)return Wn._instance;Wn._instance=this,this.tooltipTextView=new He(E.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Rn(E.locale),this.balloonPanelView.class=cr,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(l){const o=new MutationObserver(()=>{l()});return{attach(n){o.observe(n,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){o.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=(0,Ci.A)(this._pinTooltip,600),this._unpinTooltipDebounced=(0,Ci.A)(this._unpinTooltip,400),this.listenTo(u.global.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(u.global.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(u.global.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(u.global.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(u.global.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(u.global.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(E){const l=E.ui.view&&E.ui.view.body;Wn._editors.delete(E),this.stopListening(E.ui),l&&l.has(this.balloonPanelView)&&l.remove(this.balloonPanelView),Wn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wn._instance=null)}static getPositioningFunctions(E){const l=Wn.defaultBalloonPositions;return{s:[l.southArrowNorth,l.southArrowNorthEast,l.southArrowNorthWest],n:[l.northArrowSouth],e:[l.eastArrowWest],w:[l.westArrowEast],sw:[l.southArrowNorthEast],se:[l.southArrowNorthWest]}[E]}_onKeyDown(E,l){l.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),l.stopPropagation())}_onEnterOrFocus(E,{target:l}){const o=ss(l);o?o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,as(o))):E.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(E,{target:l,relatedTarget:o}){if(E.name==="mouseleave"){if(!(0,es.A)(l))return;const n=this.balloonPanelView.element,c=n&&(n===o||n.contains(o)),f=!c&&l===n;if(c)return void this._unpinTooltipDebounced.cancel();if(!f&&this._currentElementWithTooltip&&l!==this._currentElementWithTooltip)return;const b=ss(l),T=ss(o);(f||b&&b!==T)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&l!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(E,{target:l}){this._currentElementWithTooltip&&(l.contains(this.balloonPanelView.element)&&l.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(E,{text:l,position:o,cssClass:n}){this._unpinTooltip();const c=(0,u.$1)(Wn._editors.values()).ui.view.body;c.has(this.balloonPanelView)||c.add(this.balloonPanelView),this.tooltipTextView.text=l,this.balloonPanelView.pin({target:E,positions:Wn.getPositioningFunctions(o)}),this._resizeObserver=new u.tb(E,()=>{(0,u.zN)(E)||this._unpinTooltip()}),this._mutationObserver.attach(E),this.balloonPanelView.class=[cr,n].filter(f=>f).join(" ");for(const f of Wn._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=E,this._currentTooltipPosition=o}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const E of Wn._editors)this.stopListening(E.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const E=as(this._currentElementWithTooltip);(0,u.zN)(this._currentElementWithTooltip)&&E.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wn.getPositioningFunctions(E.position)}):this._unpinTooltip()}};let dr=Wn;function ss(E){return(0,es.A)(E)?E.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function as(E){return{text:E.dataset.ckeTooltipText,position:E.dataset.ckeTooltipPosition||"s",cssClass:E.dataset.ckeTooltipClass||""}}dr.defaultBalloonPositions=jo({heightOffset:5,sideOffset:13}),dr._editors=new Set,dr._instance=null;var Ks=s("./node_modules/lodash-es/throttle.js"),Zo=Object.defineProperty,Cr=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,jr=(E,l,o)=>l in E?Zo(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o,Ss=(E,l)=>{for(var o in l||(l={}))qo.call(l,o)&&jr(E,o,l[o]);if(Cr)for(var o of Cr(l))Ys.call(l,o)&&jr(E,o,l[o]);return E};const Is=50,Ar=350,Rr="Powered by";class ls extends(0,u.c5)(){constructor(l){super(),this.editor=l,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,Ks.A)(this._showBalloon.bind(this),50,{leading:!0}),l.on("ready",this._handleEditorReady.bind(this))}destroy(){const l=this._balloonView;l&&(l.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const l=this.editor;(l.config.get("ui.poweredBy.forceVisible")||(0,u.rQ)(l.config.get("licenseKey"))!=="VALID")&&l.ui.view&&(l.ui.focusTracker.on("change:isFocused",(o,n,c)=>{this._updateLastFocusedEditableElement(),c?this._showBalloon():this._hideBalloon()}),l.ui.focusTracker.on("change:focusedElement",(o,n,c)=>{this._updateLastFocusedEditableElement(),c&&this._showBalloon()}),l.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const l=this.editor,o=this._balloonView=new Rn,n=No(l),c=new Gs(l.locale,n.label);o.content.add(c),o.set({class:"ck-powered-by-balloon"}),l.ui.view.body.add(o),l.ui.focusTracker.add(o.element),this._balloonView=o}_showBalloon(){if(!this._lastFocusedEditableElement)return;const l=function(o,n){const c=No(o),f=c.side==="right"?function(b,T){return Ps(b,T,(P,q)=>P.left+P.width-q.width-T.horizontalOffset)}(n,c):function(b,T){return Ps(b,T,P=>P.left+T.horizontalOffset)}(n,c);return{target:n,positions:[f]}}(this.editor,this._lastFocusedEditableElement);l&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(l))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const l=this.editor,o=l.ui.focusTracker.isFocused,n=l.ui.focusTracker.focusedElement;if(!o||!n)return void(this._lastFocusedEditableElement=null);const c=Array.from(l.ui.getEditableElementsNames()).map(f=>l.ui.getEditableElement(f));c.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=c[0]}}class Gs extends He{constructor(l,o){super(l);const n=new St,c=this.bindTemplate;n.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],n],on:{dragstart:c.to(f=>f.preventDefault())}}]})}}function Ps(E,l,o){return(n,c)=>{const f=new u.rw(E);if(f.width<Ar||f.height<Is)return null;let b;b=l.position==="inside"?f.bottom-c.height:f.bottom-c.height/2,b-=l.verticalOffset;const T=o(f,c),P=n.clone().moveTo(T,b).getIntersection(c.clone().moveTo(T,b)).getVisible();return!P||P.getArea()<c.getArea()?null:{top:b,left:T,name:`position_${l.position}-side_${l.side}`,config:{withArrow:!1}}}}function No(E){const l=E.config.get("ui.poweredBy"),o=l&&l.position||"border";return Ss({position:o,label:Rr,verticalOffset:o==="inside"?5:0,horizontalOffset:5,side:E.locale.contentLanguageDirection==="ltr"?"right":"left"},l)}var Nr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"),cs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Nr.A,cs),Nr.A.locals;const ds={POLITE:"polite",ASSERTIVE:"assertive"};class Zs{constructor(l){this.editor=l,l.once("ready",()=>{for(const o of Object.values(ds))this.announce("",o)})}announce(l,o=ds.POLITE){const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new Ms(n.locale),n.ui.view.body.add(this.view));const{politeness:c,isUnsafeHTML:f}=typeof o=="string"?{politeness:o}:o;let b=this.view.regionViews.find(T=>T.politeness===c);b||(b=new ur(n,c),this.view.regionViews.add(b)),b.announce({announcement:l,isUnsafeHTML:f})}}class Ms extends He{constructor(l){super(l),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class ur extends He{constructor(l,o){super(l.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":o,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),l.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=o,this._domConverter=l.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:l,isUnsafeHTML:o}){if(!l.trim().length)return;const n=document.createElement("li");o?this._domConverter.setContentOf(n,l):n.innerText=l,this._listElement.appendChild(n)}get _listElement(){return this.element.querySelector("ul")}}var us=Object.defineProperty,so=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,So=(E,l,o)=>l in E?us(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o;class Ls extends(0,u.VM)(){constructor(l){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const o=l.editing.view;this.editor=l,this.componentFactory=new Vo(l),this.focusTracker=new u.$x,this.tooltipManager=new dr(l),this.poweredBy=new ls(l),this.ariaLiveAnnouncer=new Zs(l),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const l of this._editableElementsMap.values())l.ckeditorInstance=null,this.editor.keystrokes.stopListening(l);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(l,o){this._editableElementsMap.set(l,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const n=()=>{this.editor.editing.view.getDomRoot(l)||this.editor.keystrokes.listenTo(o)};this.isReady?n():this.once("ready",n)}removeEditableElement(l){const o=this._editableElementsMap.get(l);o&&(this._editableElementsMap.delete(l),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(l="main"){return this._editableElementsMap.get(l)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(l,o={}){l.isRendered?(this.focusTracker.add(l.element),this.editor.keystrokes.listenTo(l.element)):l.once("render",()=>{this.focusTracker.add(l.element),this.editor.keystrokes.listenTo(l.element)}),this._focusableToolbarDefinitions.push({toolbarView:l,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const l=this.editor,o=l.config.get("ui.viewportOffset");if(o)return o;const n=l.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const l=this.editor,o=l.editing.view;let n,c;l.keystrokes.set("Alt+F10",(f,b)=>{const T=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(T)&&!Array.from(o.domRoots.values()).includes(T)&&(n=T);const P=this._getCurrentFocusedToolbarDefinition();P&&c||(c=this._getFocusableCandidateToolbarDefinitions());for(let q=0;q<c.length;q++){const te=c.shift();if(c.push(te),te!==P&&this._focusFocusableCandidateToolbar(te)){P&&P.options.afterBlur&&P.options.afterBlur();break}}b()}),l.keystrokes.set("Esc",(f,b)=>{const T=this._getCurrentFocusedToolbarDefinition();T&&(n?(n.focus(),n=null):l.editing.view.focus(),T.options.afterBlur&&T.options.afterBlur(),b())})}_getFocusableCandidateToolbarDefinitions(){const l=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:n,options:c}=o;((0,u.zN)(n.element)||c.beforeFocus)&&l.push(o)}return l.sort((o,n)=>_o(o)-_o(n)),l}_getCurrentFocusedToolbarDefinition(){for(const l of this._focusableToolbarDefinitions)if(l.toolbarView.element&&l.toolbarView.element.contains(this.focusTracker.focusedElement))return l;return null}_focusFocusableCandidateToolbar(l){const{toolbarView:o,options:{beforeFocus:n}}=l;return n&&n(),!!(0,u.zN)(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(l,o){const n=((c,f)=>{for(var b in f||(f={}))Ko.call(f,b)&&So(c,b,f[b]);if(so)for(var b of so(f))hr.call(f,b)&&So(c,b,f[b]);return c})({top:0,bottom:0,left:0,right:0},this.viewportOffset);o.viewportOffset.top+=n.top,o.viewportOffset.bottom+=n.bottom,o.viewportOffset.left+=n.left,o.viewportOffset.right+=n.right}}function _o(E){const{toolbarView:l,options:o}=E;let n=10;return(0,u.zN)(l.element)&&n--,o.isContextual&&n--,n}var mr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),Os={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(mr.A,Os),mr.A.locals;class an extends He{constructor(l){super(l),this.body=new at(l)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Nn extends an{constructor(l){super(l),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:l.uiLanguageDirection,lang:l.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const l=this.t,o=new Ue;return o.text=l("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class pn extends He{constructor(l,o,n){super(l),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:l.contentLanguage,dir:l.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const l=this._editingView;function o(n){l.change(c=>{const f=l.document.getRoot(n.name);c.addClass(n.isFocused?"ck-focused":"ck-blurred",f),c.removeClass(n.isFocused?"ck-blurred":"ck-focused",f)})}l.isRenderingInProgress?function n(c){l.once("change:isRenderingInProgress",(f,b,T)=>{T?n(c):o(c)})}(this):o(this)}}class kn extends pn{constructor(l,o,n,c={}){super(l,o,n);const f=l.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=c.label||(()=>f("Editor editing area: %0",this.name))}render(){super.render();const l=this._editingView;l.change(o=>{const n=l.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),n)})}}class Gn extends He{constructor(l){super(l);const o=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:o.to("loaded")}})}render(){return new Promise(l=>(this.on("loaded",l),super.render()))}}class Vs extends Oe.HY{static get pluginName(){return"Notification"}init(){this.on("show:warning",(l,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(l,o={}){this._showNotification({message:l,type:"success",namespace:o.namespace,title:o.title})}showInfo(l,o={}){this._showNotification({message:l,type:"info",namespace:o.namespace,title:o.title})}showWarning(l,o={}){this._showNotification({message:l,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(l){const o=l.namespace?`show:${l.type}:${l.namespace}`:`show:${l.type}`;this.fire(o,{message:l.message,type:l.type,title:l.title||""})}}var Mn=s("./node_modules/lodash-es/assignIn.js");class xn extends(0,u.VM)(){constructor(l,o){super(),o&&(0,Mn.A)(this,o),l&&this.set(l)}}var Dn=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),vo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Dn.A,vo),Dn.A.locals;var Zn=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),ao={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Zn.A,ao),Zn.A.locals;const Io=(0,u.To)("px");class Yo extends Oe.k_{constructor(l){super(l),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,n=o.document.selection.editableElement;return n?o.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(l){return Array.from(this._viewToStack.keys()).includes(l)}add(l){if(this._view||this._createPanelView(),this.hasView(l.view))throw new u.Yb("contextualballoon-add-view-exist",[this,l]);const o=l.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[l.view,l]])),this._viewToStack.set(l.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!l.singleViewMode||this.showStack(o));const n=this._idToStack.get(o);l.singleViewMode&&this.showStack(o),n.set(l.view,l),this._viewToStack.set(l.view,n),n===this._visibleStack&&this._showView(l)}remove(l){if(!this.hasView(l))throw new u.Yb("contextualballoon-remove-view-not-exist",[this,l]);const o=this._viewToStack.get(l);this._singleViewMode&&this.visibleView===l&&(this._singleViewMode=!1),this.visibleView===l&&(o.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),o.size===1?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(l),this._viewToStack.delete(l)}updatePosition(l){l&&(this._visibleStack.get(this.visibleView).position=l),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(l){this.visibleStack=l;const o=this._idToStack.get(l);if(!o)throw new u.Yb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new Rn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(l){return Array.from(this._idToStack.entries()).find(o=>o[1]===l)[0]}_showNextStack(){const l=Array.from(this._idToStack.values());let o=l.indexOf(this._visibleStack)+1;l[o]||(o=0),this.showStack(this._getStackId(l[o]))}_showPrevStack(){const l=Array.from(this._idToStack.values());let o=l.indexOf(this._visibleStack)-1;l[o]||(o=l.length-1),this.showStack(this._getStackId(l[o]))}_createRotatorView(){const l=new ln(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(l),l.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,c)=>!c&&n>1),l.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),l.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,c)=>{if(c<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[f,c])}),l.buttonNextView.on("execute",()=>{l.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),l.buttonPrevView.on("execute",()=>{l.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),l}_createFakePanelsView(){const l=new Qo(this.editor.locale,this.view);return l.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,n)=>!n&&o>=2?Math.min(o-1,2):0),l.listenTo(this.view,"change:top",()=>l.updatePosition()),l.listenTo(this.view,"change:left",()=>l.updatePosition()),this.editor.ui.view.body.add(l),l}_showView({view:l,balloonClassName:o="",withArrow:n=!0,singleViewMode:c=!1}){this.view.class=o,this.view.withArrow=n,this._rotatorView.showView(l),this.visibleView=l,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),c&&(this._singleViewMode=!0)}_getBalloonPosition(){let l=Array.from(this._visibleStack.values()).pop().position;return l&&(l.limiter||(l=Object.assign({},l,{limiter:this.positionLimiter})),l=Object.assign({},l,{viewportOffsetConfig:this.editor.ui.viewportOffset})),l}}class ln extends He{constructor(l){super(l);const o=l.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new u.$x,this.buttonPrevView=this._createButtonView(o("Previous"),Oe.Pt.previousArrow),this.buttonNextView=this._createButtonView(o("Next"),Oe.Pt.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",c=>c?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(l){this.hideView(),this.content.add(l)}hideView(){this.content.clear()}_createButtonView(l,o){const n=new gt(this.locale);return n.set({label:l,icon:o,tooltip:!0}),n}}class Qo extends He{constructor(l,o){super(l);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",c=>c?"":"ck-hidden")],style:{top:n.to("top",Io),left:n.to("left",Io),width:n.to("width",Io),height:n.to("height",Io)}},children:this.content}),this.on("change:numberOfPanels",(c,f,b,T)=>{b>T?this._addPanels(b-T):this._removePanels(T-b),this.updatePosition()})}_addPanels(l){for(;l--;){const o=new He;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(l){for(;l--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:l,left:o}=this._balloonPanelView,{width:n,height:c}=new u.rw(this._balloonPanelView.element);Object.assign(this,{top:l,left:o,width:n,height:c})}}}var gr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),js={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(gr.A,js),gr.A.locals;const Jo=(0,u.To)("px");class Tr extends He{constructor(l){super(l);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",n=>n?"block":"none"),height:o.to("isSticky",n=>n?Jo(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",n=>n?Jo(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_stickyTopOffset",n=>n&&Jo(n)),bottom:o.to("_stickyBottomOffset",n=>n&&Jo(n)),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(u.global.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const l=new u.rw(this.limiterElement);let o=l.getVisible();if(o){const n=new u.rw(u.global.window);n.top+=this.viewportTopOffset,n.height-=this.viewportTopOffset,o=o.getIntersection(n)}if(o&&l.top<o.top){const n=o.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>o.bottom){const c=Math.max(l.bottom-o.bottom,0)+this.limiterBottomOffset;l.bottom-c>l.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(c):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<l.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(l){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=l,this._stickyBottomOffset=null,this._marginLeft=Jo(-u.global.window.scrollX)}_stickToBottomOfLimiter(l){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=l,this._marginLeft=Jo(-u.global.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new u.rw(this.contentPanelElement)}}class Rs extends ct{constructor(l,o){const n=l.t,c=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Pn},o);super(l,c.creator),this.label=o.label,this._viewConfig=c,this._viewConfig.showIcon&&(this.iconView=new St,this.iconView.content=Oe.Pt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new gt(l),this.resetButtonView.set({label:n("Clear"),icon:Oe.Pt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Br extends He{constructor(){super();const l=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",l.if("isVisible","ck-hidden",o=>!o)],tabindex:-1},children:[{tag:"span",children:[{text:[l.to("primaryText")]}]},{tag:"span",children:[{text:[l.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class hs extends He{constructor(l){super(l),this.children=this.createCollection(),this.focusTracker=new u.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ft({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const l of this.children)this.focusTracker.add(l.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Xo=s("./node_modules/lodash-es/escapeRegExp.js"),$n=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css"),Qs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()($n.A,Qs),$n.A.locals;var Js=Object.defineProperty,Bo=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,zr=(E,l,o)=>l in E?Js(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o;class er extends He{constructor(l,o){super(l),this._config=o,this.filteredView=o.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new u.$x,this.keystrokes=new u.EP,this.resultsView=new hs(l),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),o.infoView&&o.infoView.instance?this.infoView=o.infoView.instance:(this.infoView=new Br,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ft({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(n,{resultsCount:c,totalItemsCount:f})=>{this.resultsCount=c,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",o.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const l=o=>o.stopPropagation();for(const o of this.focusableChildren)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",l),this.keystrokes.set("arrowleft",l),this.keystrokes.set("arrowup",l),this.keystrokes.set("arrowdown",l)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(l){const o=l?new RegExp((0,Xo.A)(l),"ig"):null,n=this.filteredView.filter(o);this.fire("search",((c,f)=>{for(var b in f||(f={}))Dr.call(f,b)&&zr(c,b,f[b]);if(Bo)for(var b of Bo(f))ms.call(f,b)&&zr(c,b,f[b]);return c})({query:l},n))}_createSearchTextQueryView(){const l=new Rs(this.locale,this._config.queryView);return this.listenTo(l.fieldView,"input",()=>{this.search(l.fieldView.element.value)}),l.on("reset",()=>this.reset()),l.bind("isEnabled").to(this),l}_enableDefaultInfoViewBehavior(){const l=this.locale.t,o=this.infoView;function n(c,{query:f,resultsCount:b,totalItemsCount:T}){return typeof c=="function"?c(f,b,T):c}this.on("search",(c,f)=>{if(f.resultsCount)o.set({isVisible:!1});else{const b=this._config.infoView&&this._config.infoView.text;let T,P;f.totalItemsCount?b&&b.notFound?(T=b.notFound.primary,P=b.notFound.secondary):(T=l("No results found"),P=""):b&&b.noSearchableItems?(T=b.noSearchableItems.primary,P=b.noSearchableItems.secondary):(T=l("No searchable items"),P=""),o.set({primaryText:n(T,f),secondaryText:n(P,f),isVisible:!0})}})}}var gs=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css"),Fr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(gs.A,Fr),gs.A.locals;const Er=class extends er{constructor(E,l){super(E,l),this._config=l;const o=(0,u.To)("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",c=>!c),n.to("_position",c=>`ck-search__results_${c}`)],style:{width:n.to("_width",o)}}}),this.focusTracker.on("change:isFocused",(c,f,b)=>{this._updateResultsVisibility(),b?this.resultsView.element.scrollTop=0:l.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(c,f)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,f())}),this.listenTo(u.global.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(c,{value:f})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=f,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new u.rw(this.queryView.fieldView.element).width;const E=Er._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Er.defaultResultsPositions});this.resultsView._position=E?E.name:"s"}_updateResultsVisibility(){const E=this._config.queryMinChars===void 0?0:this._config.queryMinChars,l=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&l>=E}};let Sr=Er;Sr.defaultResultsPositions=[E=>({top:E.bottom,left:E.left,name:"s"}),(E,l)=>({top:E.top-l.height,left:E.left,name:"n"})],Sr._getOptimalPosition=u.W;const ps=function(E){return function(l){return E?.[l]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var Hr=s("./node_modules/lodash-es/toString.js"),fs=/[&<>"']/g,Ur=RegExp(fs.source);const Ir=function(E){return(E=(0,Hr.A)(E))&&Ur.test(E)?E.replace(fs,ps):E};var pr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"),Ns={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(pr.A,Ns),pr.A.locals;class Bs extends He{constructor(){super(),this.set("text",void 0),this.setTemplate({tag:"span",attributes:{class:["ck","ck-highlighted-text"]}}),this.on("render",()=>{this.on("change:text",()=>{this._updateInnerHTML(this.text)}),this._updateInnerHTML(this.text)})}highlightText(l){this._updateInnerHTML(function(o,n){if(!n)return Ir(o);const c=[];let f=0,b=n.exec(o);for(;b!==null;){const T=b.index;T!==f&&c.push({text:o.substring(f,T),isMatch:!1}),c.push({text:b[0],isMatch:!0}),f=n.lastIndex,b=n.exec(o)}return f!==o.length&&c.push({text:o.substring(f),isMatch:!1}),c.map(T=>(T.text=Ir(T.text),T)).map(T=>T.isMatch?`<mark>${T.text}</mark>`:T.text).join("")}(this.text||"",l))}_updateInnerHTML(l){this.element.innerHTML=l||""}}var bs=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css"),Wr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(bs.A,Wr),bs.A.locals;class Ds extends He{constructor(){super(),this.set("isVisible",!1);const l=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-spinner-container",l.if("isVisible","ck-hidden",o=>!o)]},children:[{tag:"span",attributes:{class:["ck","ck-spinner"]}}]})}}const zs=(0,u.To)("px");class $r extends Oe.k_{constructor(l){super(l),this._resizeObserver=null,this._balloonConfig=Yn(l.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new u.$x,l.ui.once("ready",()=>{this.focusTracker.add(l.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),l.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=l.plugins.get(Yo),this._fireSelectionChangeDebounced=(0,Ci.A)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get requires(){return[Yo]}init(){const l=this.editor,o=l.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(n,c,f)=>{const b=this._balloon.visibleView===this.toolbarView;!f&&b?this.hide():f&&this.show()}),this.listenTo(o,"change:range",(n,c)=>{(c.directChange||o.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(l,"ready",()=>{const n=l.ui.view.editable.element;this._resizeObserver=new u.tb(n,c=>{this.toolbarView.maxWidth=zs(.9*c.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),l.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const l=this.editor.locale.t,o=!this._balloonConfig.shouldNotGroupWhenFull,n=new Xn(this.editor.locale,{shouldGroupWhenFull:o,isFloating:!0});return n.ariaLabel=l("Editor contextual toolbar"),n.render(),n}show(l=!1){const o=this.editor,n=o.model.document.selection,c=o.model.schema;this._balloon.hasView(this.toolbarView)||n.isCollapsed&&!l||function(f,b){return f.rangeCount===1?!1:[...f.getRanges()].every(T=>{const P=T.getContainedElement();return P&&b.isSelectable(P)})}(n,c)||Array.from(this.toolbarView.items).every(f=>f.isEnabled!==void 0&&!f.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const l=this.editor.editing.view,o=l.document,n=o.selection,c=o.selection.isBackward;return{target:()=>{const f=c?n.getFirstRange():n.getLastRange(),b=u.rw.getDomRangeRects(l.domConverter.viewRangeToDom(f));return c?b[0]:(b.length>1&&b[b.length-1].width===0&&b.pop(),b[b.length-1])},positions:this._getBalloonPositions(c)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(l){const o=u._K.isSafari&&u._K.isiOS?jo({heightOffset:Math.max(Rn.arrowHeightOffset,Math.round(20/u.global.window.visualViewport.scale))}):Rn.defaultPositions;return l?[o.northWestArrowSouth,o.northWestArrowSouthWest,o.northWestArrowSouthEast,o.northWestArrowSouthMiddleEast,o.northWestArrowSouthMiddleWest,o.southWestArrowNorth,o.southWestArrowNorthWest,o.southWestArrowNorthEast,o.southWestArrowNorthMiddleWest,o.southWestArrowNorthMiddleEast]:[o.southEastArrowNorth,o.southEastArrowNorthEast,o.southEastArrowNorthWest,o.southEastArrowNorthMiddleEast,o.southEastArrowNorthMiddleWest,o.northEastArrowSouth,o.northEastArrowSouthEast,o.northEastArrowSouthWest,o.northEastArrowSouthMiddleEast,o.northEastArrowSouthMiddleWest]}}var U=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),A={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(U.A,A),U.A.locals;const D=(0,u.To)("px");class he extends gt{constructor(l){super(l);const o=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:o.to("top",n=>D(n)),left:o.to("left",n=>D(n))}}})}}const Ve=(0,u.To)("px");class ze extends Oe.k_{constructor(l){super(l),this._resizeObserver=null,this._blockToolbarConfig=Yn(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),it({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}init(){const l=this.editor,o=l.t,n=o("Click to edit block"),c=o("Drag to move"),f=o("Edit block"),b=l.plugins.has("DragDropBlockToolbar"),T=b?`${n}
${c}`:f;this.buttonView.label=T,b&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(l.model.document.selection,"change:range",(P,q)=>{q.directChange&&this._hidePanel()}),this.listenTo(l.ui,"update",()=>this._updateButton()),this.listenTo(l,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(l.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(P,q,te)=>{te?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),l.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),l.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const P of this.toolbarView.items)P.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const l=this.editor.locale.t,o=!this._blockToolbarConfig.shouldNotGroupWhenFull,n=new Xn(this.editor.locale,{shouldGroupWhenFull:o,isFloating:!0});return n.ariaLabel=l("Editor block content toolbar"),n}_createPanelView(){const l=this.editor,o=new Rn(l.locale);return o.content.add(this.toolbarView),o.class="ck-toolbar-container",l.ui.view.body.add(o),l.ui.focusTracker.add(o.element),this.toolbarView.keystrokes.set("Esc",(n,c)=>{this._hidePanel(!0),c()}),o}_createButtonView(){const l=this.editor,o=l.t,n=new he(l.locale),c=this._blockToolbarConfig.icon,f=xo[c]||c||xo.dragIndicator;return n.set({label:o("Edit block"),icon:f,withText:!1}),n.bind("isOn").to(this.panelView,"isVisible"),n.bind("tooltip").to(this.panelView,"isVisible",b=>!b),this.listenTo(n,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),l.ui.view.body.add(n),l.ui.focusTracker.add(n.element),n}_updateButton(){const l=this.editor,o=l.model,n=l.editing.view;if(!l.ui.focusTracker.isFocused)return void this._hideButton();if(!l.model.canEditAt(l.model.document.selection))return void this._hideButton();const c=Array.from(o.document.selection.getSelectedBlocks())[0];if(!c||Array.from(this.toolbarView.items).every(b=>!b.isEnabled))return void this._hideButton();const f=n.domConverter.mapViewToDom(l.editing.mapper.toViewElement(c));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(f),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const l=this.panelView.isVisible;this.panelView.show();const o=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(o),this.panelView.pin({target:this.buttonView.element,limiter:o}),l||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const l=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(l)}_hidePanel(l){this.panelView.isVisible=!1,l&&this.editor.editing.view.focus()}_attachButtonToElement(l){const o=window.getComputedStyle(l),n=new u.rw(this._getSelectedEditableElement()),c=parseInt(o.paddingTop,10),f=parseInt(o.lineHeight,10)||1.2*parseInt(o.fontSize,10),b=new u.rw(this.buttonView.element),T=new u.rw(l);let P;P=this.editor.locale.uiLanguageDirection==="ltr"?n.left-b.width:n.right;const q=T.top+c+(f-b.height)/2;b.moveTo(P,q);const te=b.toAbsoluteRect();this.buttonView.top=te.top,this.buttonView.left=te.left}_setupToolbarResize(){const l=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==l&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new u.tb(l,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(l)})))}_getToolbarMaxWidth(l){const o=new u.rw(l),n=new u.rw(this.buttonView.element),c=this.editor.locale.uiLanguageDirection==="rtl"?n.left-o.right+n.width:o.left-n.left;return Ve(o.width+c)}}var Ge=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenubutton.css"),bt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Ge.A,bt),Ge.A.locals;class pt extends gt{constructor(l){super(l);const o=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n)),"data-cke-tooltip-disabled":o.to("isOn")},on:{mouseenter:o.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const l=new St;return l.content=Wi,l.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),l}}var kt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitem.css"),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(kt.A,Ot),kt.A.locals;class Zt extends hn{constructor(l,o){super(l);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(o)}}var li=s("./node_modules/lodash-es/cloneDeep.js"),ii=Object.defineProperty,fi=Object.getOwnPropertySymbols,vi=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,qn=(E,l,o)=>l in E?ii(E,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[l]=o,Vn=(E,l)=>{for(var o in l||(l={}))vi.call(l,o)&&qn(E,o,l[o]);if(fi)for(var o of fi(l))cn.call(l,o)&&qn(E,o,l[o]);return E};const Kn={toggleMenusAndFocusItemsOnHover(E){E.on("menu:mouseenter",l=>{if(E.isOpen){for(const o of E.menus){const n=l.path[0],c=n instanceof Zt&&n.children.first===o;o.isOpen=(l.path.includes(o)||c)&&o.isEnabled}l.source.focus()}})},focusCycleMenusOnArrows(E){const l=E.locale.uiLanguageDirection==="rtl";function o(n,c){const f=E.children.getIndex(n),b=n.isOpen,T=E.children.length,P=E.children.get((f+T+c)%T);n.isOpen=!1,b&&(P.isOpen=!0),P.buttonView.focus()}E.on("menu:arrowright",n=>{o(n.source,l?-1:1)}),E.on("menu:arrowleft",n=>{o(n.source,l?1:-1)})},closeMenusWhenTheBarCloses(E){E.on("change:isOpen",()=>{E.isOpen||E.menus.forEach(l=>{l.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(E){E.on("menu:change:isOpen",(l,o,n)=>{n&&E.menus.filter(c=>l.source.parentMenuView===c.parentMenuView&&l.source!==c&&c.isOpen).forEach(c=>{c.isOpen=!1})})},closeOnClickOutside(E){it({emitter:E,activator:()=>E.isOpen,callback:()=>E.close(),contextElements:()=>E.children.map(l=>l.element)})}},Do={openAndFocusPanelOnArrowDownKey(E){E.keystrokes.set("arrowdown",(l,o)=>{E.focusTracker.focusedElement===E.buttonView.element&&(E.isOpen||(E.isOpen=!0),E.panelView.focus(),o())})},openOnArrowRightKey(E){const l=E.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";E.keystrokes.set(l,(o,n)=>{E.focusTracker.focusedElement===E.buttonView.element&&E.isEnabled&&(E.isOpen||(E.isOpen=!0),E.panelView.focus(),n())})},openOnButtonClick(E){E.buttonView.on("execute",()=>{E.isOpen=!0,E.panelView.focus()})},toggleOnButtonClick(E){E.buttonView.on("execute",()=>{E.isOpen=!E.isOpen,E.isOpen&&E.panelView.focus()})},closeOnArrowLeftKey(E){const l=E.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";E.keystrokes.set(l,(o,n)=>{E.isOpen&&(E.isOpen=!1,E.focus(),n())})},closeOnEscKey(E){E.keystrokes.set("esc",(l,o)=>{E.isOpen&&(E.isOpen=!1,E.focus(),o())})},closeOnParentClose(E){E.parentMenuView.on("change:isOpen",(l,o,n)=>{n||l.source!==E.parentMenuView||(E.isOpen=!1)})}},Pr={southEast:E=>({top:E.bottom,left:E.left,name:"se"}),southWest:(E,l)=>({top:E.bottom,left:E.left-l.width+E.width,name:"sw"}),northEast:(E,l)=>({top:E.top-l.height,left:E.left,name:"ne"}),northWest:(E,l)=>({top:E.top-l.height,left:E.left-l.width+E.width,name:"nw"}),eastSouth:E=>({top:E.top,left:E.right-5,name:"es"}),eastNorth:(E,l)=>({top:E.top-l.height,left:E.right-5,name:"en"}),westSouth:(E,l)=>({top:E.top,left:E.left-l.width+5,name:"ws"}),westNorth:(E,l)=>({top:E.top-l.height,left:E.left-l.width+5,name:"wn"})},Fs=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function ws(E){let l;return l="items"in E&&E.items?Vn({items:E.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},E):Vn({items:(0,li.A)(Fs),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},E),l}function Hs({normalizedConfig:E,locale:l,componentFactory:o}){const n=(0,li.A)(E);return function(c,f){const b=f.removeItems,T=[];f.items=f.items.filter(({menuId:P})=>!b.includes(P)||(T.push(P),!1)),fr(f.items,P=>{P.groups=P.groups.filter(({groupId:q})=>!b.includes(q)||(T.push(q),!1));for(const q of P.groups)q.items=q.items.filter(te=>{const ve=aa(te);return!b.includes(ve)||(T.push(ve),!1)})});for(const P of b)T.includes(P)||(0,u.FF)("menu-bar-item-could-not-be-removed",{menuBarConfig:c,itemName:P})}(E,n),function(c,f){const b=f.addItems,T=[];for(const P of b){const q=ra(P.position),te=sa(P.position);if(na(P))if(te){const ve=f.items.findIndex(Fe=>Fe.menuId===te);ve!=-1?q==="before"?(f.items.splice(ve,0,P.menu),T.push(P)):q==="after"&&(f.items.splice(ve+1,0,P.menu),T.push(P)):qr(f,P.menu,te,q)&&T.push(P)}else q==="start"?(f.items.unshift(P.menu),T.push(P)):q==="end"&&(f.items.push(P.menu),T.push(P));else oa(P)?fr(f.items,ve=>{if(ve.menuId===te)q==="start"?(ve.groups.unshift(P.group),T.push(P)):q==="end"&&(ve.groups.push(P.group),T.push(P));else{const Fe=ve.groups.findIndex(st=>st.groupId===te);Fe!==-1&&(q==="before"?(ve.groups.splice(Fe,0,P.group),T.push(P)):q==="after"&&(ve.groups.splice(Fe+1,0,P.group),T.push(P)))}}):qr(f,P.item,te,q)&&T.push(P)}for(const P of b)T.includes(P)||(0,u.FF)("menu-bar-item-could-not-be-added",{menuBarConfig:c,addedItemConfig:P})}(E,n),function(c,f,b){fr(f.items,T=>{for(const P of T.groups)P.items=P.items.filter(q=>{const te=typeof q=="string"&&!b.has(q);return te&&!f.isUsingDefaultConfig&&(0,u.FF)("menu-bar-item-unavailable",{menuBarConfig:c,parentMenuConfig:(0,li.A)(T),componentName:q}),!te})})}(E,n,o),ks(E,n),function(c,f){const b=f.t,T={File:b({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:b({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:b({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:b({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:b({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:b({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:b({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:b({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:b({string:"Font",id:"MENU_BAR_MENU_FONT"})};fr(c.items,P=>{P.label in T&&(P.label=T[P.label])})}(n,l),n}function qr(E,l,o,n){let c=!1;return fr(E.items,f=>{for(const{groupId:b,items:T}of f.groups){if(c)return;if(b===o)n==="start"?(T.unshift(l),c=!0):n==="end"&&(T.push(l),c=!0);else{const P=T.findIndex(q=>aa(q)===o);P!==-1&&(n==="before"?(T.splice(P,0,l),c=!0):n==="after"&&(T.splice(P+1,0,l),c=!0))}}}),c}function ks(E,l){const o=l.isUsingDefaultConfig;let n=!1;l.items=l.items.filter(c=>!!c.groups.length||(Kr(E,c,o),!1)),l.items.length?(fr(l.items,c=>{c.groups=c.groups.filter(f=>!!f.items.length||(n=!0,!1));for(const f of c.groups)f.items=f.items.filter(b=>!(la(b)&&!b.groups.length)||(Kr(E,b,o),n=!0,!1))}),n&&ks(E,l)):Kr(E,E,o)}function Kr(E,l,o){o||(0,u.FF)("menu-bar-menu-empty",{menuBarConfig:E,emptyMenuConfig:l})}function fr(E,l){if(Array.isArray(E))for(const n of E)o(n);function o(n){l(n);for(const c of n.groups)for(const f of c.items)la(f)&&o(f)}}function na(E){return typeof E=="object"&&"menu"in E}function oa(E){return typeof E=="object"&&"group"in E}function ra(E){return E.startsWith("start")?"start":E.startsWith("end")?"end":E.startsWith("after")?"after":"before"}function sa(E){const l=E.match(/^[^:]+:(.+)/);return l?l[1]:null}function aa(E){return typeof E=="string"?E:E.menuId}function la(E){return typeof E=="object"&&"menuId"in E}function ga(E,l){const o=l.element;E.ui.focusTracker.add(o),E.keystrokes.listenTo(o);const n=ws(E.config.get("menuBar")||{});l.fillFromConfig(n,E.ui.componentFactory),E.keystrokes.set("Esc",(c,f)=>{o.contains(E.ui.focusTracker.focusedElement)&&(E.editing.view.focus(),f())}),E.keystrokes.set("Alt+F9",(c,f)=>{o.contains(E.ui.focusTracker.focusedElement)||(l.focus(),f())})}var Yr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenupanel.css"),Xs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(Yr.A,Xs),Yr.A.locals;class Mr extends He{constructor(l){super(l);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",o.to("position",n=>`ck-menu-bar__menu__panel_position_${n}`),o.if("isVisible","ck-hidden",n=>!n)],tabindex:"-1"},children:this.children,on:{selectstart:o.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(l=1){this.children.length&&(l===1?this.children.first.focus():this.children.last.focus())}}var ea=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenu.css"),ca={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ea.A,ca),ea.A.locals;const ta=class extends He{constructor(E){super(E);const l=this.bindTemplate;this.buttonView=new pt(E),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new Mr(E),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new u.EP,this.focusTracker=new u.$x,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",l.to("class"),l.if("isEnabled","ck-disabled",o=>!o),l.if("parentMenuView","ck-menu-bar__menu_top-level",o=>!o)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Do.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Do.openOnButtonClick(this),Do.openOnArrowRightKey(this),Do.closeOnArrowLeftKey(this),Do.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Do.openAndFocusPanelOnArrowDownKey(this),Do.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(E,l)=>{this.fire("arrowright"),l()}),this.keystrokes.set("arrowleft",(E,l)=>{this.fire("arrowleft"),l()})}_repositionPanelOnOpen(){this.on("change:isOpen",(E,l,o)=>{if(!o)return;const n=ta._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=n?n.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:E,southWest:l,northEast:o,northWest:n,westSouth:c,eastSouth:f,westNorth:b,eastNorth:T}=Pr;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[f,T,c,b]:[E,l,o,n]:this.parentMenuView?[c,b,f,T]:[l,E,n,o]}};let br=ta;br._getOptimalPosition=u.W;class Us extends po{constructor(l){super(l),this.role="menu"}}var da=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitembutton.css"),pa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(da.A,pa),da.A.locals;class Ws extends gt{constructor(l){super(l),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ua extends Di{constructor(l){super(l),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var ia=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubar.css"),fa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ie()(ia.A,fa),ia.A.locals;const $s=["mouseenter","arrowleft","arrowright","change:isOpen"];class ha extends He{constructor(l){super(l),this.menus=[];const o=l.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":o("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(l,o){const n=Hs({normalizedConfig:l,locale:this.locale,componentFactory:o}).items.map(c=>this._createMenu({componentFactory:o,menuDefinition:c}));this.children.addMany(n)}render(){super.render(),Kn.toggleMenusAndFocusItemsOnHover(this),Kn.closeMenusWhenTheBarCloses(this),Kn.closeMenuWhenAnotherOnTheSameLevelOpens(this),Kn.focusCycleMenusOnArrows(this),Kn.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const l of this.children)l.isOpen=!1}registerMenu(l,o=null){o?(l.delegate(...$s).to(o),l.parentMenuView=o):l.delegate(...$s).to(this,n=>"menu:"+n),l._attachBehaviors(),this.menus.push(l)}_createMenu({componentFactory:l,menuDefinition:o,parentMenuView:n}){const c=this.locale,f=new br(c);return this.registerMenu(f,n),f.buttonView.set({label:o.label}),f.once("change:isOpen",()=>{const b=new Us(c);b.ariaLabel=o.label,f.panelView.children.add(b),b.items.addMany(this._createMenuItems({menuDefinition:o,parentMenuView:f,componentFactory:l}))}),f}_createMenuItems({menuDefinition:l,parentMenuView:o,componentFactory:n}){const c=this.locale,f=[];for(const b of l.groups){for(const T of b.items){const P=new Zt(c,o);if((0,k.A)(T))P.children.add(this._createMenu({componentFactory:n,menuDefinition:T,parentMenuView:o}));else{const q=this._createMenuItemContentFromFactory({componentName:T,componentFactory:n,parentMenuView:o});if(!q)continue;P.children.add(q)}f.push(P)}b!==l.groups[l.groups.length-1]&&f.push(new Sn(c))}return f}_createMenuItemContentFromFactory({componentName:l,parentMenuView:o,componentFactory:n}){const c=n.create(l);return c instanceof br||c instanceof Ws||c instanceof ua?(this._registerMenuTree(c,o),c.on("execute",()=>{this.close()}),c):((0,u.FF)("menu-bar-component-unsupported",{componentName:l,componentView:c}),null)}_registerMenuTree(l,o){if(!(l instanceof br))return void l.delegate("mouseenter").to(o);this.registerMenu(l,o);const n=l.panelView.children.filter(f=>f instanceof Us)[0];if(!n)return void l.delegate("mouseenter").to(o);const c=n.items.filter(f=>f instanceof hn);for(const f of c)this._registerMenuTree(f.children.get(0),l)}_setupIsOpenUpdater(){let l;this.on("menu:change:isOpen",(o,n,c)=>{clearTimeout(l),c?this.isOpen=!0:l=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}},"./packages/ckeditor5-utils/src/index.ts":(d,w,s)=>{"use strict";let u;s.d(w,{Yb:()=>I,pM:()=>Ho,TS:()=>Be,c5:()=>Jt,PZ:()=>tt,Mm:()=>ne,vY:()=>ue,$x:()=>To,EP:()=>io,hT:()=>Lo,VM:()=>mt,rw:()=>Dt,tb:()=>X,KL:()=>gt,ww:()=>Ti,U9:()=>gi,n:()=>xt,cb:()=>co,Ui:()=>ge,q8:()=>Y,_K:()=>v,Nv:()=>Un,Mr:()=>K,j3:()=>Bi,$1:()=>nr,DS:()=>pi,Md:()=>vt,QC:()=>zn,pG:()=>Ci,YA:()=>ir,iJ:()=>Fn,Kf:()=>Ao,W:()=>ri,global:()=>C,qh:()=>oe,PT:()=>Me,Yy:()=>_,Yt:()=>po,mY:()=>oo,Cn:()=>Je,HK:()=>Mo,kv:()=>uo,Iw:()=>ho,SQ:()=>mo,P5:()=>Uo,xZ:()=>Pi,k$:()=>Bn,Ll:()=>_t,_Z:()=>ct,KH:()=>Ye,i8:()=>Qe,zN:()=>ut,uP:()=>hn,vV:()=>ee,FF:()=>M,jh:()=>J,ZX:()=>go,vx:()=>g,kM:()=>ie,TF:()=>Ei,L5:()=>un,bi:()=>bn,vK:()=>_i,C_:()=>Pe,eL:()=>mn,$r:()=>to,av:()=>fo,To:()=>We,Ld:()=>p,rQ:()=>Xt,rE:()=>W,uk:()=>no});try{u={window,document}}catch{u={window:{},document:{}}}const C=u,L=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var k;const v={isMac:$(L),isWindows:(k=L,k.indexOf("windows")>-1),isGecko:function(_e){return!!_e.match(/gecko\/\d+/)}(L),isSafari:function(_e){return _e.indexOf(" applewebkit/")>-1&&_e.indexOf("chrome")===-1}(L),isiOS:function(_e){return!!_e.match(/iphone|ipad/i)||$(_e)&&navigator.maxTouchPoints>0}(L),isAndroid:function(_e){return _e.indexOf("android")>-1}(L),isBlink:function(_e){return _e.indexOf("chrome/")>-1&&_e.indexOf("edge/")<0}(L),get isMediaForcedColors(){return!!C.window.matchMedia&&C.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!C.window.matchMedia&&C.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let _e=!1;try{_e="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return _e}()}};function $(_e){return _e.indexOf("macintosh")>-1}function K(_e,B,ce,$e){ce=ce||function(se,me){return se===me};const F=Array.isArray(_e)?_e:Array.prototype.slice.call(_e),y=Array.isArray(B)?B:Array.prototype.slice.call(B),j=function(se,me,ke){const fe=R(se,me,ke);if(fe===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const je=Ee(se,fe),Ne=Ee(me,fe),et=R(je,Ne,ke),rt=se.length-et,Ct=me.length-et;return{firstIndex:fe,lastIndexOld:rt,lastIndexNew:Ct}}(F,y,ce);return $e?function(se,me){const{firstIndex:ke,lastIndexOld:fe,lastIndexNew:je}=se;if(ke===-1)return Array(me).fill("equal");let Ne=[];return ke>0&&(Ne=Ne.concat(Array(ke).fill("equal"))),je-ke>0&&(Ne=Ne.concat(Array(je-ke).fill("insert"))),fe-ke>0&&(Ne=Ne.concat(Array(fe-ke).fill("delete"))),je<me&&(Ne=Ne.concat(Array(me-je).fill("equal"))),Ne}(j,y.length):function(se,me){const ke=[],{firstIndex:fe,lastIndexOld:je,lastIndexNew:Ne}=me;return Ne-fe>0&&ke.push({index:fe,type:"insert",values:se.slice(fe,Ne)}),je-fe>0&&ke.push({index:fe+(Ne-fe),type:"delete",howMany:je-fe}),ke}(y,j)}function R(_e,B,ce){for(let $e=0;$e<Math.max(_e.length,B.length);$e++)if(_e[$e]===void 0||B[$e]===void 0||!ce(_e[$e],B[$e]))return $e;return-1}function Ee(_e,B){return _e.slice(B).reverse()}function ge(_e,B,ce){ce=ce||function(rt,Ct){return rt===Ct};const $e=_e.length,F=B.length;if($e>200||F>200||$e+F>300)return ge.fastDiff(_e,B,ce,!0);let y,j;if(F<$e){const rt=_e;_e=B,B=rt,y="delete",j="insert"}else y="insert",j="delete";const Z=_e.length,se=B.length,me=se-Z,ke={},fe={};function je(rt){const Ct=(fe[rt-1]!==void 0?fe[rt-1]:-1)+1,Et=fe[rt+1]!==void 0?fe[rt+1]:-1,Bt=Ct>Et?-1:1;ke[rt+Bt]&&(ke[rt]=ke[rt+Bt].slice(0)),ke[rt]||(ke[rt]=[]),ke[rt].push(Ct>Et?y:j);let Tt=Math.max(Ct,Et),Yt=Tt-rt;for(;Yt<Z&&Tt<se&&ce(_e[Yt],B[Tt]);)Yt++,Tt++,ke[rt].push("equal");return Tt}let Ne,et=0;do{for(Ne=-et;Ne<me;Ne++)fe[Ne]=je(Ne);for(Ne=me+et;Ne>me;Ne--)fe[Ne]=je(Ne);fe[me]=je(me),et++}while(fe[me]!==se);return ke[me].slice(1)}function Y(_e,B){const ce=[];let $e=0,F=null;return _e.forEach(j=>{j=="equal"?(y(),$e++):j=="insert"?(F&&F.type=="insert"?F.values.push(B[$e]):(y(),F={type:"insert",index:$e,values:[B[$e]]}),$e++):F&&F.type=="delete"?F.howMany++:(y(),F={type:"delete",index:$e,howMany:1})}),y(),ce;function y(){F&&(ce.push(F),F=null)}}function J(_e,...B){B.forEach(ce=>{const $e=Object.getOwnPropertyNames(ce),F=Object.getOwnPropertySymbols(ce);$e.concat(F).forEach(y=>{if(y in _e.prototype||typeof ce=="function"&&(y=="length"||y=="name"||y=="prototype"))return;const j=Object.getOwnPropertyDescriptor(ce,y);j.enumerable=!1,Object.defineProperty(_e.prototype,y,j)})})}ge.fastDiff=K;const Ce=function(){return function _e(){_e.called=!0}};class ue{constructor(B,ce){this.source=B,this.name=ce,this.path=[],this.stop=Ce(),this.off=Ce()}}const h=new Array(256).fill("").map((_e,B)=>("0"+B.toString(16)).slice(-2));function p(){const _e=4294967296*Math.random()>>>0,B=4294967296*Math.random()>>>0,ce=4294967296*Math.random()>>>0,$e=4294967296*Math.random()>>>0;return"e"+h[255&_e]+h[_e>>8&255]+h[_e>>16&255]+h[_e>>24&255]+h[255&B]+h[B>>8&255]+h[B>>16&255]+h[B>>24&255]+h[255&ce]+h[ce>>8&255]+h[ce>>16&255]+h[ce>>24&255]+h[255&$e]+h[$e>>8&255]+h[$e>>16&255]+h[$e>>24&255]}const g={get(_e="normal"){return typeof _e!="number"?this[_e]||this.normal:_e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function _(_e,B){const ce=g.get(B.priority);for(let $e=0;$e<_e.length;$e++)if(g.get(_e[$e].priority)<ce)return void _e.splice($e,0,B);_e.push(B)}const S="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class I extends Error{constructor(B,ce,$e){super(function(F,y){const j=new WeakSet,Z=(ke,fe)=>{if(typeof fe=="object"&&fe!==null){if(j.has(fe))return`[object ${fe.constructor.name}]`;j.add(fe)}return fe},se=y?` ${JSON.stringify(y,Z)}`:"",me=H(F);return F+se+me}(B,$e)),this.name="CKEditorError",this.context=ce,this.data=$e}is(B){return B==="CKEditorError"}static rethrowUnexpectedError(B,ce){if(B.is&&B.is("CKEditorError"))throw B;const $e=new I(B.message,ce);throw $e.stack=B.stack,$e}}function M(_e,B){console.warn(...re(_e,B))}function ee(_e,B){console.error(...re(_e,B))}function H(_e){return`
Read more: ${S}#error-${_e}`}function re(_e,B){const ce=H(_e);return B?[_e,B,ce]:[_e,ce]}const O="41.4.2",W=O,ie=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new I("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=O;const we=Symbol("listeningTo"),Ae=Symbol("emitterId"),He=Symbol("delegations"),it=ne(Object);function ne(_e){return _e?class extends _e{on(B,ce,$e){this.listenTo(this,B,ce,$e)}once(B,ce,$e){let F=!1;this.listenTo(this,B,(y,...j)=>{F||(F=!0,y.off(),ce.call(this,y,...j))},$e)}off(B,ce){this.stopListening(this,B,ce)}listenTo(B,ce,$e,F={}){let y,j;this[we]||(this[we]={});const Z=this[we];Se(B)||de(B);const se=Se(B);(y=Z[se])||(y=Z[se]={emitter:B,callbacks:{}}),(j=y.callbacks[ce])||(j=y.callbacks[ce]=[]),j.push($e),function(me,ke,fe,je,Ne){ke._addEventListener?ke._addEventListener(fe,je,Ne):me._addEventListener.call(ke,fe,je,Ne)}(this,B,ce,$e,F)}stopListening(B,ce,$e){const F=this[we];let y=B&&Se(B);const j=F&&y?F[y]:void 0,Z=j&&ce?j.callbacks[ce]:void 0;if(!(!F||B&&!j||ce&&!Z))if($e)Ue(this,B,ce,$e),Z.indexOf($e)!==-1&&(Z.length===1?delete j.callbacks[ce]:Ue(this,B,ce,$e));else if(Z){for(;$e=Z.pop();)Ue(this,B,ce,$e);delete j.callbacks[ce]}else if(j){for(ce in j.callbacks)this.stopListening(B,ce);delete F[y]}else{for(y in F)this.stopListening(F[y].emitter);delete this[we]}}fire(B,...ce){try{const $e=B instanceof ue?B:new ue(this,B),F=$e.name;let y=G(this,F);if($e.path.push(this),y){const Z=[$e,...ce];y=Array.from(y);for(let se=0;se<y.length&&(y[se].callback.apply(this,Z),$e.off.called&&(delete $e.off.called,this._removeEventListener(F,y[se].callback)),!$e.stop.called);se++);}const j=this[He];if(j){const Z=j.get(F),se=j.get("*");Z&&Ie(Z,$e,ce),se&&Ie(se,$e,ce)}return $e.return}catch($e){I.rethrowUnexpectedError($e,this)}}delegate(...B){return{to:(ce,$e)=>{this[He]||(this[He]=new Map),B.forEach(F=>{const y=this[He].get(F);y?y.set(ce,$e):this[He].set(F,new Map([[ce,$e]]))})}}}stopDelegating(B,ce){if(this[He])if(B)if(ce){const $e=this[He].get(B);$e&&$e.delete(ce)}else this[He].delete(B);else this[He].clear()}_addEventListener(B,ce,$e){(function(j,Z){const se=Re(j);if(se[Z])return;let me=Z,ke=null;const fe=[];for(;me!==""&&!se[me];)se[me]={callbacks:[],childEvents:[]},fe.push(se[me]),ke&&se[me].childEvents.push(ke),ke=me,me=me.substr(0,me.lastIndexOf(":"));if(me!==""){for(const je of fe)je.callbacks=se[me].callbacks.slice();se[me].childEvents.push(ke)}})(this,B);const F=Oe(this,B),y={callback:ce,priority:g.get($e.priority)};for(const j of F)_(j,y)}_removeEventListener(B,ce){const $e=Oe(this,B);for(const F of $e)for(let y=0;y<F.length;y++)F[y].callback==ce&&(F.splice(y,1),y--)}}:it}function de(_e,B){_e[Ae]||(_e[Ae]=B||p())}function Se(_e){return _e[Ae]}function Re(_e){return _e._events||Object.defineProperty(_e,"_events",{value:{}}),_e._events}function Oe(_e,B){const ce=Re(_e)[B];if(!ce)return[];let $e=[ce.callbacks];for(let F=0;F<ce.childEvents.length;F++){const y=Oe(_e,ce.childEvents[F]);$e=$e.concat(y)}return $e}function G(_e,B){let ce;return _e._events&&(ce=_e._events[B])&&ce.callbacks.length?ce.callbacks:B.indexOf(":")>-1?G(_e,B.substr(0,B.lastIndexOf(":"))):null}function Ie(_e,B,ce){for(let[$e,F]of _e){F?typeof F=="function"&&(F=F(B.name)):F=B.name;const y=new ue(B.source,F);y.path=[...B.path],$e.fire(y,...ce)}}function Ue(_e,B,ce,$e){B._removeEventListener?B._removeEventListener(ce,$e):_e._removeEventListener.call(B,ce,$e)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{ne[_e]=it.prototype[_e]});var nt=s("./node_modules/lodash-es/isObject.js");const xe=Symbol("observableProperties"),pe=Symbol("boundObservables"),ye=Symbol("boundProperties"),Ze=Symbol("decoratedMethods"),ot=Symbol("decoratedOriginal"),at=mt(ne());function mt(_e){return _e?class extends _e{set(B,ce){if((0,nt.A)(B))return void Object.keys(B).forEach(F=>{this.set(F,B[F])},this);Ut(this);const $e=this[xe];if(B in this&&!$e.has(B))throw new I("observable-set-cannot-override",this);Object.defineProperty(this,B,{enumerable:!0,configurable:!0,get:()=>$e.get(B),set(F){const y=$e.get(B);let j=this.fire(`set:${B}`,B,F,y);j===void 0&&(j=F),y===j&&$e.has(B)||($e.set(B,j),this.fire(`change:${B}`,B,j,y))}}),this[B]=ce}bind(...B){if(!B.length||!qt(B))throw new I("observable-bind-wrong-properties",this);if(new Set(B).size!==B.length)throw new I("observable-bind-duplicate-properties",this);Ut(this);const ce=this[ye];B.forEach(F=>{if(ce.has(F))throw new I("observable-bind-rebind",this)});const $e=new Map;return B.forEach(F=>{const y={property:F,to:[]};ce.set(F,y),$e.set(F,y)}),{to:$t,toMany:St,_observable:this,_bindProperties:B,_to:[],_bindings:$e}}unbind(...B){if(!this[xe])return;const ce=this[ye],$e=this[pe];if(B.length){if(!qt(B))throw new I("observable-unbind-wrong-properties",this);B.forEach(F=>{const y=ce.get(F);y&&(y.to.forEach(([j,Z])=>{const se=$e.get(j),me=se[Z];me.delete(y),me.size||delete se[Z],Object.keys(se).length||($e.delete(j),this.stopListening(j,"change"))}),ce.delete(F))})}else $e.forEach((F,y)=>{this.stopListening(y,"change")}),$e.clear(),ce.clear()}decorate(B){Ut(this);const ce=this[B];if(!ce)throw new I("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:B});this.on(B,($e,F)=>{$e.return=ce.apply(this,F)}),this[B]=function(...$e){return this.fire(B,$e)},this[B][ot]=ce,this[Ze]||(this[Ze]=[]),this[Ze].push(B)}stopListening(B,ce,$e){if(!B&&this[Ze]){for(const F of this[Ze])this[F]=this[F][ot];delete this[Ze]}super.stopListening(B,ce,$e)}}:at}function Ut(_e){_e[xe]||(Object.defineProperty(_e,xe,{value:new Map}),Object.defineProperty(_e,pe,{value:new Map}),Object.defineProperty(_e,ye,{value:new Map}))}function $t(..._e){const B=function(...y){if(!y.length)throw new I("observable-bind-to-parse-error",null);const j={to:[]};let Z;return typeof y[y.length-1]=="function"&&(j.callback=y.pop()),y.forEach(se=>{if(typeof se=="string")Z.properties.push(se);else{if(typeof se!="object")throw new I("observable-bind-to-parse-error",null);Z={observable:se,properties:[]},j.to.push(Z)}}),j}(..._e),ce=Array.from(this._bindings.keys()),$e=ce.length;if(!B.callback&&B.to.length>1)throw new I("observable-bind-to-no-callback",this);if($e>1&&B.callback)throw new I("observable-bind-to-extra-callback",this);var F;B.to.forEach(y=>{if(y.properties.length&&y.properties.length!==$e)throw new I("observable-bind-to-properties-length",this);y.properties.length||(y.properties=this._bindProperties)}),this._to=B.to,B.callback&&(this._bindings.get(ce[0]).callback=B.callback),F=this._observable,this._to.forEach(y=>{const j=F[pe];let Z;j.get(y.observable)||F.listenTo(y.observable,"change",(se,me)=>{Z=j.get(y.observable)[me],Z&&Z.forEach(ke=>{wt(F,ke.property)})})}),function(y){let j;y._bindings.forEach((Z,se)=>{y._to.forEach(me=>{j=me.properties[Z.callback?0:y._bindProperties.indexOf(se)],Z.to.push([me.observable,j]),function(ke,fe,je,Ne){const et=ke[pe],rt=et.get(je),Ct=rt||{};Ct[Ne]||(Ct[Ne]=new Set),Ct[Ne].add(fe),rt||et.set(je,Ct)}(y._observable,Z,me.observable,j)})})}(this),this._bindProperties.forEach(y=>{wt(this._observable,y)})}function St(_e,B,ce){if(this._bindings.size>1)throw new I("observable-bind-to-many-not-one-binding",this);this.to(...function($e,F){const y=$e.map(j=>[j,F]);return Array.prototype.concat.apply([],y)}(_e,B),ce)}function qt(_e){return _e.every(B=>typeof B=="string")}function wt(_e,B){const ce=_e[ye].get(B);let $e;ce.callback?$e=ce.callback.apply(_e,ce.to.map(F=>F[0][F[1]])):($e=ce.to[0],$e=$e[0][$e[1]]),Object.prototype.hasOwnProperty.call(_e,B)?_e[B]=$e:_e.set(B,$e)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{mt[_e]=at.prototype[_e]});class tt{constructor(){this._replacedElements=[]}replace(B,ce){this._replacedElements.push({element:B,newElement:ce}),B.style.display="none",ce&&B.parentNode.insertBefore(ce,B.nextSibling)}restore(){this._replacedElements.forEach(({element:B,newElement:ce})=>{B.style.display="",ce&&ce.remove()}),this._replacedElements=[]}}function gt(_e){let B=new AbortController;function ce(...$e){return B.abort(),B=new AbortController,_e(B.signal,...$e)}return ce.abort=()=>B.abort(),ce}function gi(_e){let B=0;for(const ce of _e)B++;return B}function Ti(_e,B){const ce=Math.min(_e.length,B.length);for(let $e=0;$e<ce;$e++)if(_e[$e]!=B[$e])return $e;return _e.length==B.length?"same":_e.length<B.length?"prefix":"extension"}function Pi(_e){return!(!_e||!_e[Symbol.iterator])}var Di=s("./node_modules/lodash-es/_baseGetTag.js"),Oi=s("./node_modules/lodash-es/isArray.js"),Wi=s("./node_modules/lodash-es/isObjectLike.js");const Gt=function(_e){return typeof _e=="string"||!(0,Oi.A)(_e)&&(0,Wi.A)(_e)&&(0,Di.A)(_e)=="[object String]"};function xt(_e,B,ce={},$e=[]){const F=ce&&ce.xmlns,y=F?_e.createElementNS(F,B):_e.createElement(B);for(const j in ce)y.setAttribute(j,ce[j]);!Gt($e)&&Pi($e)||($e=[$e]);for(let j of $e)Gt(j)&&(j=_e.createTextNode(j)),y.appendChild(j);return y}var Ke=s("./node_modules/lodash-es/isPlainObject.js"),le=s("./node_modules/lodash-es/cloneDeepWith.js"),Le=s("./node_modules/lodash-es/isElement.js");class Be{constructor(B,ce){this._config={},ce&&this.define(dt(ce)),B&&this._setObjectToTarget(this._config,B)}set(B,ce){this._setToTarget(this._config,B,ce)}define(B,ce){this._setToTarget(this._config,B,ce,!0)}get(B){return this._getFromSource(this._config,B)}*names(){for(const B of Object.keys(this._config))yield B}_setToTarget(B,ce,$e,F=!1){if((0,Ke.A)(ce))return void this._setObjectToTarget(B,ce,F);const y=ce.split(".");ce=y.pop();for(const j of y)(0,Ke.A)(B[j])||(B[j]={}),B=B[j];if((0,Ke.A)($e))return(0,Ke.A)(B[ce])||(B[ce]={}),B=B[ce],void this._setObjectToTarget(B,$e,F);F&&B[ce]!==void 0||(B[ce]=$e)}_getFromSource(B,ce){const $e=ce.split(".");ce=$e.pop();for(const F of $e){if(!(0,Ke.A)(B[F])){B=null;break}B=B[F]}return B?dt(B[ce]):void 0}_setObjectToTarget(B,ce,$e){Object.keys(ce).forEach(F=>{this._setToTarget(B,F,ce[F],$e)})}}function dt(_e){return(0,le.A)(_e,ht)}function ht(_e){return(0,Le.A)(_e)||typeof _e=="function"?_e:void 0}function _t(_e){if(_e){if(_e.defaultView)return _e instanceof _e.defaultView.Document;if(_e.ownerDocument&&_e.ownerDocument.defaultView)return _e instanceof _e.ownerDocument.defaultView.Node}return!1}function It(_e){const B=Object.prototype.toString.apply(_e);return B=="[object Window]"||B=="[object global]"}const zt=Jt(ne());function Jt(_e){return _e?class extends _e{listenTo(B,ce,$e,F={}){if(_t(B)||It(B)){const y={capture:!!F.useCapture,passive:!!F.usePassive},j=this._getProxyEmitter(B,y)||new ai(B,y);this.listenTo(j,ce,$e,F)}else super.listenTo(B,ce,$e,F)}stopListening(B,ce,$e){if(_t(B)||It(B)){const F=this._getAllProxyEmitters(B);for(const y of F)this.stopListening(y,ce,$e)}else super.stopListening(B,ce,$e)}_getProxyEmitter(B,ce){return function($e,F){const y=$e[we];return y&&y[F]?y[F].emitter:null}(this,si(B,ce))}_getAllProxyEmitters(B){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(ce=>this._getProxyEmitter(B,ce)).filter(ce=>!!ce)}}:zt}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{Jt[_e]=zt.prototype[_e]});class ai extends ne(){constructor(B,ce){super(),de(this,si(B,ce)),this._domNode=B,this._options=ce}attach(B){if(this._domListeners&&this._domListeners[B])return;const ce=this._createDomListener(B);this._domNode.addEventListener(B,ce,this._options),this._domListeners||(this._domListeners={}),this._domListeners[B]=ce}detach(B){let ce;!this._domListeners[B]||(ce=this._events[B])&&ce.callbacks.length||this._domListeners[B].removeListener()}_addEventListener(B,ce,$e){this.attach(B),ne().prototype._addEventListener.call(this,B,ce,$e)}_removeEventListener(B,ce){ne().prototype._removeEventListener.call(this,B,ce),this.detach(B)}_createDomListener(B){const ce=$e=>{this.fire(B,$e)};return ce.removeListener=()=>{this._domNode.removeEventListener(B,ce,this._options),delete this._domListeners[B]},ce}}function si(_e,B){let ce=function($e){return $e["data-ck-expando"]||($e["data-ck-expando"]=p())}(_e);for(const $e of Object.keys(B).sort())B[$e]&&(ce+="-"+$e);return ce}function Bi(_e){let B=_e.parentElement;if(!B)return null;for(;B.tagName!="BODY";){const ce=B.style.overflowY||C.window.getComputedStyle(B).overflowY;if(ce==="auto"||ce==="scroll")break;if(B=B.parentElement,!B)return null}return B}function pi(_e){const B=[];let ce=_e;for(;ce&&ce.nodeType!=Node.DOCUMENT_NODE;)B.unshift(ce),ce=ce.parentNode;return B}function Ci(_e){return _e instanceof HTMLTextAreaElement?_e.value:_e.innerHTML}function vt(_e){const B=_e.ownerDocument.defaultView.getComputedStyle(_e);return{top:parseInt(B.borderTopWidth,10),right:parseInt(B.borderRightWidth,10),bottom:parseInt(B.borderBottomWidth,10),left:parseInt(B.borderLeftWidth,10)}}function Ye(_e){return Object.prototype.toString.call(_e)=="[object Text]"}function ct(_e){return Object.prototype.toString.apply(_e)=="[object Range]"}function qe(_e){return _e&&_e.parentNode?_e.offsetParent===C.document.body?null:_e.offsetParent:null}const yt=["top","right","bottom","left","width","height"];class Dt{constructor(B){const ce=ct(B);if(Object.defineProperty(this,"_source",{value:B._source||B,writable:!0,enumerable:!1}),Te(B)||ce)if(ce){const $e=Dt.getDomRangeRects(B);Mt(this,Dt.getBoundingRect($e))}else Mt(this,B.getBoundingClientRect());else if(It(B)){const{innerWidth:$e,innerHeight:F}=B;Mt(this,{top:0,right:$e,bottom:F,left:0,width:$e,height:F})}else Mt(this,B)}clone(){return new Dt(this)}moveTo(B,ce){return this.top=ce,this.right=B+this.width,this.bottom=ce+this.height,this.left=B,this}moveBy(B,ce){return this.top+=ce,this.right+=B,this.left+=B,this.bottom+=ce,this}getIntersection(B){const ce={top:Math.max(this.top,B.top),right:Math.min(this.right,B.right),bottom:Math.min(this.bottom,B.bottom),left:Math.max(this.left,B.left),width:0,height:0};if(ce.width=ce.right-ce.left,ce.height=ce.bottom-ce.top,ce.width<0||ce.height<0)return null;{const $e=new Dt(ce);return $e._source=this._source,$e}}getIntersectionArea(B){const ce=this.getIntersection(B);return ce?ce.getArea():0}getArea(){return this.width*this.height}getVisible(){const B=this._source;let ce=this.clone();if(jt(B))return ce;let $e,F=B,y=B.parentNode||B.commonAncestorContainer;for(;y&&!jt(y);){const Z=((j=y)instanceof HTMLElement?j.ownerDocument.defaultView.getComputedStyle(j).overflow:"visible")==="visible";F instanceof HTMLElement&&V(F)==="absolute"&&($e=F);const se=V(y);if(Z||$e&&(se==="relative"&&Z||se!=="relative")){F=y,y=y.parentNode;continue}const me=new Dt(y),ke=ce.getIntersection(me);if(!ke)return null;ke.getArea()<ce.getArea()&&(ce=ke),F=y,y=y.parentNode}var j;return ce}isEqual(B){for(const ce of yt)if(this[ce]!==B[ce])return!1;return!0}contains(B){const ce=this.getIntersection(B);return!(!ce||!ce.isEqual(B))}toAbsoluteRect(){const{scrollX:B,scrollY:ce}=C.window,$e=this.clone().moveBy(B,ce);if(Te($e._source)){const F=qe($e._source);F&&function(y,j){const Z=new Dt(j),se=vt(j);let me=0,ke=0;me-=Z.left,ke-=Z.top,me+=j.scrollLeft,ke+=j.scrollTop,me-=se.left,ke-=se.top,y.moveBy(me,ke)}($e,F)}return $e}excludeScrollbarsAndBorders(){const B=this._source;let ce,$e,F;if(It(B))ce=B.innerWidth-B.document.documentElement.clientWidth,$e=B.innerHeight-B.document.documentElement.clientHeight,F=B.getComputedStyle(B.document.documentElement).direction;else{const y=vt(B);ce=B.offsetWidth-B.clientWidth-y.left-y.right,$e=B.offsetHeight-B.clientHeight-y.top-y.bottom,F=B.ownerDocument.defaultView.getComputedStyle(B).direction,this.left+=y.left,this.top+=y.top,this.right-=y.right,this.bottom-=y.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=ce,F==="ltr"?this.right-=ce:this.left+=ce,this.height-=$e,this.bottom-=$e,this}static getDomRangeRects(B){const ce=[],$e=Array.from(B.getClientRects());if($e.length)for(const F of $e)ce.push(new Dt(F));else{let F=B.startContainer;Ye(F)&&(F=F.parentNode);const y=new Dt(F.getBoundingClientRect());y.right=y.left,y.width=0,ce.push(y)}return ce}static getBoundingRect(B){const ce={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let $e=0;for(const F of B)$e++,ce.left=Math.min(ce.left,F.left),ce.top=Math.min(ce.top,F.top),ce.right=Math.max(ce.right,F.right),ce.bottom=Math.max(ce.bottom,F.bottom);return $e==0?null:(ce.width=ce.right-ce.left,ce.height=ce.bottom-ce.top,new Dt(ce))}}function Mt(_e,B){for(const ce of yt)_e[ce]=B[ce]}function jt(_e){return!!Te(_e)&&_e===_e.ownerDocument.body}function Te(_e){return _e!==null&&typeof _e=="object"&&_e.nodeType===1&&typeof _e.getBoundingClientRect=="function"}function V(_e){return _e instanceof HTMLElement?_e.ownerDocument.defaultView.getComputedStyle(_e).position:"static"}const N=class{constructor(_e,B){N._observerInstance||N._createObserver(),this._element=_e,this._callback=B,N._addElementCallback(_e,B),N._observerInstance.observe(_e)}get element(){return this._element}destroy(){N._deleteElementCallback(this._element,this._callback)}static _addElementCallback(_e,B){N._elementCallbacks||(N._elementCallbacks=new Map);let ce=N._elementCallbacks.get(_e);ce||(ce=new Set,N._elementCallbacks.set(_e,ce)),ce.add(B)}static _deleteElementCallback(_e,B){const ce=N._getElementCallbacks(_e);ce&&(ce.delete(B),ce.size||(N._elementCallbacks.delete(_e),N._observerInstance.unobserve(_e))),N._elementCallbacks&&!N._elementCallbacks.size&&(N._observerInstance=null,N._elementCallbacks=null)}static _getElementCallbacks(_e){return N._elementCallbacks?N._elementCallbacks.get(_e):null}static _createObserver(){N._observerInstance=new C.window.ResizeObserver(_e=>{for(const B of _e){const ce=N._getElementCallbacks(B.target);if(ce)for(const $e of ce)$e(B)}})}};let X=N;function Pe(_e,B){_e instanceof HTMLTextAreaElement&&(_e.value=B),_e.innerHTML=B}function We(_e){return B=>B+_e}function oe(_e){let B=0;for(;_e.previousSibling;)_e=_e.previousSibling,B++;return B}function Me(_e,B,ce){_e.insertBefore(ce,_e.childNodes[B]||null)}function Je(_e){return _e&&_e.nodeType===Node.COMMENT_NODE}function Qe(_e){try{C.document.createAttribute(_e)}catch{return!1}return!0}function ut(_e){return!!(_e&&_e.getClientRects&&_e.getClientRects().length)}X._observerInstance=null,X._elementCallbacks=null;var Ft=s("./node_modules/lodash-es/isFunction.js"),Pt=Math.pow;function ri({element:_e,target:B,positions:ce,limiter:$e,fitInViewport:F,viewportOffsetConfig:y}){(0,Ft.A)(B)&&(B=B()),(0,Ft.A)($e)&&($e=$e());const j=qe(_e),Z=function(je){je=Object.assign({top:0,bottom:0,left:0,right:0},je);const Ne=new Dt(C.window);return Ne.top+=je.top,Ne.height-=je.top,Ne.bottom-=je.bottom,Ne.height-=je.bottom,Ne}(y),se=new Dt(_e),me=bi(B,Z);let ke;if(!me||!Z.getIntersection(me))return null;const fe={targetRect:me,elementRect:se,positionedElementAncestor:j,viewportRect:Z};if($e||F){if($e){const je=bi($e,Z);je&&(fe.limiterRect=je)}ke=function(je,Ne){const{elementRect:et}=Ne,rt=et.getArea(),Ct=je.map(Tt=>new ui(Tt,Ne)).filter(Tt=>!!Tt.name);let Et=0,Bt=null;for(const Tt of Ct){const{limiterIntersectionArea:Yt,viewportIntersectionArea:Qt}=Tt;if(Yt===rt)return Tt;const wi=Pt(Qt,2)+Pt(Yt,2);wi>Et&&(Et=wi,Bt=Tt)}return Bt}(ce,fe)}else ke=new ui(ce[0],fe);return ke}function bi(_e,B){const ce=new Dt(_e).getVisible();return ce?ce.getIntersection(B):null}class ui{constructor(B,ce){const $e=B(ce.targetRect,ce.elementRect,ce.viewportRect,ce.limiterRect);if(!$e)return;const{left:F,top:y,name:j,config:Z}=$e;this.name=j,this.config=Z,this._positioningFunctionCoordinates={left:F,top:y},this._options=ce}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const B=this._options.limiterRect;return B?B.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ei(_e){const B=_e.parentNode;B&&B.removeChild(_e)}function _i({target:_e,viewportOffset:B=0,ancestorOffset:ce=0,alignToTop:$e,forceScroll:F}){const y=Jn(_e);let j=y,Z=null;for(B=function(se){return typeof se=="number"?{top:se,bottom:se,left:se,right:se}:se}(B);j;){let se;se=xo(j==y?_e:Z),yn({parent:se,getRect:()=>Xn(_e,j),alignToTop:$e,ancestorOffset:ce,forceScroll:F});const me=Xn(_e,j);if(wn({window:j,rect:me,viewportOffset:B,alignToTop:$e,forceScroll:F}),j.parent!=j){if(Z=j.frameElement,j=j.parent,!Z)return}else j=null}}function bn(_e,B,ce){yn({parent:xo(_e),getRect:()=>new Dt(_e),ancestorOffset:B,limiterElement:ce})}function wn({window:_e,rect:B,alignToTop:ce,forceScroll:$e,viewportOffset:F}){const y=B.clone().moveBy(0,F.bottom),j=B.clone().moveBy(0,-F.top),Z=new Dt(_e).excludeScrollbarsAndBorders(),se=ce&&$e,me=[j,y].every(et=>Z.contains(et));let{scrollX:ke,scrollY:fe}=_e;const je=ke,Ne=fe;se?fe-=Z.top-B.top+F.top:me||(gn(j,Z)?fe-=Z.top-B.top+F.top:An(y,Z)&&(fe+=ce?B.top-Z.top-F.top:B.bottom-Z.bottom+F.bottom)),me||(Yn(B,Z)?ke-=Z.left-B.left+F.left:In(B,Z)&&(ke+=B.right-Z.right+F.right)),ke==je&&fe===Ne||_e.scrollTo(ke,fe)}function yn({parent:_e,getRect:B,alignToTop:ce,forceScroll:$e,ancestorOffset:F=0,limiterElement:y}){const j=Jn(_e),Z=ce&&$e;let se,me,ke;const fe=y||j.document.body;for(;_e!=fe;)me=B(),se=new Dt(_e).excludeScrollbarsAndBorders(),ke=se.contains(me),Z?_e.scrollTop-=se.top-me.top+F:ke||(gn(me,se)?_e.scrollTop-=se.top-me.top+F:An(me,se)&&(_e.scrollTop+=ce?me.top-se.top-F:me.bottom-se.bottom+F)),ke||(Yn(me,se)?_e.scrollLeft-=se.left-me.left+F:In(me,se)&&(_e.scrollLeft+=me.right-se.right+F)),_e=_e.parentNode}function An(_e,B){return _e.bottom>B.bottom}function gn(_e,B){return _e.top<B.top}function Yn(_e,B){return _e.left<B.left}function In(_e,B){return _e.right>B.right}function Jn(_e){return ct(_e)?_e.startContainer.ownerDocument.defaultView:_e.ownerDocument.defaultView}function xo(_e){if(ct(_e)){let B=_e.commonAncestorContainer;return Ye(B)&&(B=B.parentNode),B}return _e.parentNode}function Xn(_e,B){const ce=Jn(_e),$e=new Dt(_e);if(ce===B)return $e;{let F=ce;for(;F!=B;){const y=F.frameElement,j=new Dt(y).excludeScrollbarsAndBorders();$e.moveBy(j.left,j.top),F=F.parent}}return $e}const Co={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},eo={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Go={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21E5",33:"Page Up",34:"Page Down"},hn=function(){const _e={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let B=65;B<=90;B++)_e[String.fromCharCode(B).toLowerCase()]=B;for(let B=48;B<=57;B++)_e[B-48]=B;for(let B=112;B<=123;B++)_e["f"+(B-111)]=B;return Object.assign(_e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),_e}(),Sn=Object.fromEntries(Object.entries(hn).map(([_e,B])=>{let ce;return ce=B in Go?Go[B]:_e.charAt(0).toUpperCase()+_e.slice(1),[B,ce]}));function zn(_e){let B;if(typeof _e=="string"){if(B=hn[_e.toLowerCase()],!B)throw new I("keyboard-unknown-key",null,{key:_e})}else B=_e.keyCode+(_e.altKey?hn.alt:0)+(_e.ctrlKey?hn.ctrl:0)+(_e.shiftKey?hn.shift:0)+(_e.metaKey?hn.cmd:0);return B}function go(_e){return typeof _e=="string"&&(_e=function(B){return B.split("+").map(ce=>ce.trim())}(_e)),_e.map(B=>typeof B=="string"?function(ce){if(ce.endsWith("!"))return zn(ce.slice(0,-1));const $e=zn(ce);return(v.isMac||v.isiOS)&&$e==hn.ctrl?hn.cmd:$e}(B):B).reduce((B,ce)=>ce+B,0)}function ir(_e){let B=go(_e);return Object.entries(v.isMac||v.isiOS?Co:eo).reduce((ce,[$e,F])=>(B&hn[$e]&&(B&=~hn[$e],ce+=F),ce),"")+(B?Sn[B]:"")}function po(_e){return _e==hn.arrowright||_e==hn.arrowleft||_e==hn.arrowup||_e==hn.arrowdown}function Ao(_e,B){const ce=B==="ltr";switch(_e){case hn.arrowleft:return ce?"left":"right";case hn.arrowright:return ce?"right":"left";case hn.arrowup:return"up";case hn.arrowdown:return"down"}}function Mo(_e,B){const ce=Ao(_e,B);return ce==="down"||ce==="right"}const Fo=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Fn(_e){return Fo.includes(_e)?"rtl":"ltr"}function to(_e){return Array.isArray(_e)?_e:[_e]}var Tn=s("./node_modules/lodash-es/merge.js");function wo(_e,B,ce=1,$e){if(typeof ce!="number")throw new I("translation-service-quantity-not-a-number",null,{quantity:ce});const F=$e||C.window.CKEDITOR_TRANSLATIONS,y=function(ke){return Object.keys(ke).length}(F);y===1&&(_e=Object.keys(F)[0]);const j=B.id||B.string;if(y===0||!function(ke,fe,je){return!!je[ke]&&!!je[ke].dictionary[fe]}(_e,j,F))return ce!==1?B.plural:B.string;const Z=F[_e].dictionary,se=F[_e].getPluralForm||(ke=>ke===1?0:1),me=Z[j];return typeof me=="string"?me:me[Number(se(ce))]}C.window.CKEDITOR_TRANSLATIONS||(C.window.CKEDITOR_TRANSLATIONS={});class Lo{constructor({uiLanguage:B="en",contentLanguage:ce,translations:$e}={}){this.uiLanguage=B,this.contentLanguage=ce||this.uiLanguage,this.uiLanguageDirection=Fn(this.uiLanguage),this.contentLanguageDirection=Fn(this.contentLanguage),this.translations=function(F){return Array.isArray(F)?F.reduce((y,j)=>(0,Tn.A)(y,j)):F}($e),this.t=(F,y)=>this._t(F,y)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(B,ce=[]){ce=to(ce),typeof B=="string"&&(B={string:B});const $e=B.plural?ce[0]:1;return function(F,y){return F.replace(/%(\d+)/g,(j,Z)=>Z<y.length?y[Z]:j)}(wo(this.uiLanguage,B,$e,this.translations),ce)}}class Ho extends ne(){constructor(B={},ce={}){super();const $e=Pi(B);if($e||(ce=B),this._items=[],this._itemMap=new Map,this._idProperty=ce.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],$e)for(const F of B)this._items.push(F),this._itemMap.set(this._getItemIdBeforeAdding(F),F)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(B,ce){return this.addMany([B],ce)}addMany(B,ce){if(ce===void 0)ce=this._items.length;else if(ce>this._items.length||ce<0)throw new I("collection-add-item-invalid-index",this);let $e=0;for(const F of B){const y=this._getItemIdBeforeAdding(F),j=ce+$e;this._items.splice(j,0,F),this._itemMap.set(y,F),this.fire("add",F,j),$e++}return this.fire("change",{added:B,removed:[],index:ce}),this}get(B){let ce;if(typeof B=="string")ce=this._itemMap.get(B);else{if(typeof B!="number")throw new I("collection-get-invalid-arg",this);ce=this._items[B]}return ce||null}has(B){if(typeof B=="string")return this._itemMap.has(B);{const ce=B[this._idProperty];return ce&&this._itemMap.has(ce)}}getIndex(B){let ce;return ce=typeof B=="string"?this._itemMap.get(B):B,ce?this._items.indexOf(ce):-1}remove(B){const[ce,$e]=this._remove(B);return this.fire("change",{added:[],removed:[ce],index:$e}),ce}map(B,ce){return this._items.map(B,ce)}forEach(B,ce){this._items.forEach(B,ce)}find(B,ce){return this._items.find(B,ce)}filter(B,ce){return this._items.filter(B,ce)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const B=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:B,index:0})}bindTo(B){if(this._bindToCollection)throw new I("collection-bind-to-rebind",this);return this._bindToCollection=B,{as:ce=>{this._setUpBindToBinding($e=>new ce($e))},using:ce=>{typeof ce=="function"?this._setUpBindToBinding(ce):this._setUpBindToBinding($e=>$e[ce])}}}_setUpBindToBinding(B){const ce=this._bindToCollection,$e=(F,y,j)=>{const Z=ce._bindToCollection==this,se=ce._bindToInternalToExternalMap.get(y);if(Z&&se)this._bindToExternalToInternalMap.set(y,se),this._bindToInternalToExternalMap.set(se,y);else{const me=B(y);if(!me)return void this._skippedIndexesFromExternal.push(j);let ke=j;for(const fe of this._skippedIndexesFromExternal)j>fe&&ke--;for(const fe of ce._skippedIndexesFromExternal)ke>=fe&&ke++;this._bindToExternalToInternalMap.set(y,me),this._bindToInternalToExternalMap.set(me,y),this.add(me,ke);for(let fe=0;fe<ce._skippedIndexesFromExternal.length;fe++)ke<=ce._skippedIndexesFromExternal[fe]&&ce._skippedIndexesFromExternal[fe]++}};for(const F of ce)$e(0,F,ce.getIndex(F));this.listenTo(ce,"add",$e),this.listenTo(ce,"remove",(F,y,j)=>{const Z=this._bindToExternalToInternalMap.get(y);Z&&this.remove(Z),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((se,me)=>(j<me&&se.push(me-1),j>me&&se.push(me),se),[])})}_getItemIdBeforeAdding(B){const ce=this._idProperty;let $e;if(ce in B){if($e=B[ce],typeof $e!="string")throw new I("collection-add-invalid-id",this);if(this.get($e))throw new I("collection-add-item-already-exists",this)}else B[ce]=$e=p();return $e}_remove(B){let ce,$e,F,y=!1;const j=this._idProperty;if(typeof B=="string"?($e=B,F=this._itemMap.get($e),y=!F,F&&(ce=this._items.indexOf(F))):typeof B=="number"?(ce=B,F=this._items[ce],y=!F,F&&($e=F[j])):(F=B,$e=F[j],ce=this._items.indexOf(F),y=ce==-1||!this._itemMap.get($e)),y)throw new I("collection-remove-404",this);this._items.splice(ce,1),this._itemMap.delete($e);const Z=this._bindToInternalToExternalMap.get(F);return this._bindToInternalToExternalMap.delete(F),this._bindToExternalToInternalMap.delete(Z),this.fire("remove",F,ce),[F,ce]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function nr(_e){const B=_e.next();return B.done?null:B.value}class To extends Jt(mt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(B){if(this._elements.has(B))throw new I("focustracker-add-element-already-exist",this);this.listenTo(B,"focus",()=>this._focus(B),{useCapture:!0}),this.listenTo(B,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(B)}remove(B){B===this.focusedElement&&this._blur(),this._elements.has(B)&&(this.stopListening(B),this._elements.delete(B))}destroy(){this.stopListening()}_focus(B){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=B,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class io{constructor(){this._listener=new(Jt())}listenTo(B){this._listener.listenTo(B,"keydown",(ce,$e)=>{this._listener.fire("_keydown:"+zn($e),$e)})}set(B,ce,$e={}){const F=go(B),y=$e.priority;this._listener.listenTo(this._listener,"_keydown:"+F,(j,Z)=>{ce(Z,()=>{Z.preventDefault(),Z.stopPropagation(),j.stop()}),j.return=!0},{priority:y})}press(B){return!!this._listener.fire("_keydown:"+zn(B),B)}stopListening(B){this._listener.stopListening(B)}destroy(){this.stopListening()}}function fo(_e){return Pi(_e)?new Map(_e):function(B){const ce=new Map;for(const $e in B)ce.set($e,B[$e]);return ce}(_e)}function no(_e,B={}){return new Promise((ce,$e)=>{const F=B.signal||new AbortController().signal;F.throwIfAborted();const y=setTimeout(function(){F.removeEventListener("abort",j),ce()},_e);function j(){clearTimeout(y),$e(F.reason)}F.addEventListener("abort",j,{once:!0})})}var Pn=Math.pow,Hn=(_e,B,ce)=>new Promise(($e,F)=>{var y=se=>{try{Z(ce.next(se))}catch(me){F(me)}},j=se=>{try{Z(ce.throw(se))}catch(me){F(me)}},Z=se=>se.done?$e(se.value):Promise.resolve(se.value).then(y,j);Z((ce=ce.apply(_e,B)).next())});function un(_e){return Hn(this,arguments,function*(B,ce={}){const{maxAttempts:$e=4,retryDelay:F=Un(),signal:y=new AbortController().signal}=ce;y.throwIfAborted();for(let j=0;;j++){try{return yield B()}catch(Z){if(j+1>=$e)throw Z}yield no(F(j),{signal:y})}})}function Un(_e={}){const{delay:B=1e3,factor:ce=2,maxDelay:$e=1e4}=_e;return F=>Math.min(Pn(ce,F)*B,$e)}const ji=1e4;function mn(_e,B,ce,$e){if(Math.max(B.length,_e.length)>ji)return _e.slice(0,ce).concat(B).concat(_e.slice(ce+$e,_e.length));{const F=Array.from(_e);return F.splice(ce,$e,...B),F}}function co(_e,B){let ce;function $e(...F){$e.cancel(),ce=setTimeout(()=>_e(...F),B)}return $e.cancel=()=>{clearTimeout(ce)},$e}function Xt(_e){function B(fe){return fe.length>=40&&fe.length<=255?"VALID":"INVALID"}if(!_e)return"INVALID";let ce="";try{ce=atob(_e)}catch{return"INVALID"}const $e=ce.split("-"),F=$e[0],y=$e[1];if(!y)return B(_e);try{atob(y)}catch{try{if(atob(F),!atob(F).length)return B(_e)}catch{return B(_e)}}if(F.length<40||F.length>255)return"INVALID";let j="";try{atob(F),j=atob(y)}catch{return"INVALID"}if(j.length!==8)return"INVALID";const Z=Number(j.substring(0,4)),se=Number(j.substring(4,6))-1,me=Number(j.substring(6,8)),ke=new Date(Z,se,me);return ke<ie||isNaN(Number(ke))?"INVALID":"VALID"}function oo(_e){return!!_e&&_e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(_e)}function uo(_e){return!!_e&&_e.length==1&&/[\ud800-\udbff]/.test(_e)}function Bn(_e){return!!_e&&_e.length==1&&/[\udc00-\udfff]/.test(_e)}function Uo(_e,B){return uo(_e.charAt(B-1))&&Bn(_e.charAt(B))}function ho(_e,B){return oo(_e.charAt(B))}const Lt=function(){const _e=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],B=new RegExp("\\p{Regional_Indicator}{2}","u").source,ce="(?:"+_e.map($e=>$e.source).join("|")+")";return new RegExp(`${B}|${ce}(?:\u200D${ce})*`,"ug")}();function mo(_e,B){const ce=String(_e).matchAll(Lt);return Array.from(ce).some($e=>$e.index<B&&B<$e.index+$e[0].length)}},"./packages/ckeditor5-widget/src/index.ts":(d,w,s)=>{"use strict";s.d(w,{iW:()=>J,w_:()=>Ce,x0:()=>ye,VE:()=>xt,oP:()=>ot,oT:()=>G,Wu:()=>O,Hq:()=>W,iB:()=>ee,p9:()=>I,p4:()=>ue,_s:()=>_,je:()=>S,Ex:()=>h,YN:()=>M,$u:()=>H});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-engine/src/index.ts"),L=s("./packages/ckeditor5-typing/src/index.ts"),k=s("./packages/ckeditor5-utils/src/index.ts"),v=s("./packages/ckeditor5-ui/src/index.ts"),$=s("./packages/ckeditor5-enter/src/index.ts");class K extends(0,k.Mm)(){constructor(){super(...arguments),this._stack=[]}add(le,Le){const Be=this._stack,dt=Be[0];this._insertDescriptor(le);const ht=Be[0];dt===ht||R(dt,ht)||this.fire("change:top",{oldDescriptor:dt,newDescriptor:ht,writer:Le})}remove(le,Le){const Be=this._stack,dt=Be[0];this._removeDescriptor(le);const ht=Be[0];dt===ht||R(dt,ht)||this.fire("change:top",{oldDescriptor:dt,newDescriptor:ht,writer:Le})}_insertDescriptor(le){const Le=this._stack,Be=Le.findIndex(ht=>ht.id===le.id);if(R(le,Le[Be]))return;Be>-1&&Le.splice(Be,1);let dt=0;for(;Le[dt]&&Ee(Le[dt],le);)dt++;Le.splice(dt,0,le)}_removeDescriptor(le){const Le=this._stack,Be=Le.findIndex(dt=>dt.id===le);Be>-1&&Le.splice(Be,1)}}function R(Ke,le){return Ke&&le&&Ke.priority==le.priority&&ge(Ke.classes)==ge(le.classes)}function Ee(Ke,le){return Ke.priority>le.priority||!(Ke.priority<le.priority)&&ge(Ke.classes)>ge(le.classes)}function ge(Ke){return Array.isArray(Ke)?Ke.sort().join(","):Ke}const Y='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',J="ck-widget",Ce="ck-widget_selected";function ue(Ke){return!!Ke.is("element")&&!!Ke.getCustomProperty("widget")}function h(Ke,le,Le={}){if(!Ke.is("containerElement"))throw new k.Yb("widget-to-widget-wrong-element-type",null,{element:Ke});return le.setAttribute("contenteditable","false",Ke),le.addClass(J,Ke),le.setCustomProperty("widget",!0,Ke),Ke.getFillerOffset=re,le.setCustomProperty("widgetLabel",[],Ke),Le.label&&S(Ke,Le.label),Le.hasSelectionHandle&&function(Be,dt){const ht=dt.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(_t){const It=this.toDomElement(_t),zt=new v.Ln;return zt.set("content",Y),zt.render(),It.appendChild(zt.element),It});dt.insert(dt.createPositionAt(Be,0),ht),dt.addClass(["ck-widget_with-selection-handle"],Be)}(Ke,le),_(Ke,le),Ke}function p(Ke,le,Le){if(le.classes&&Le.addClass((0,k.$r)(le.classes),Ke),le.attributes)for(const Be in le.attributes)Le.setAttribute(Be,le.attributes[Be],Ke)}function g(Ke,le,Le){if(le.classes&&Le.removeClass((0,k.$r)(le.classes),Ke),le.attributes)for(const Be in le.attributes)Le.removeAttribute(Be,Ke)}function _(Ke,le,Le=p,Be=g){const dt=new K;dt.on("change:top",(ht,_t)=>{_t.oldDescriptor&&Be(Ke,_t.oldDescriptor,_t.writer),_t.newDescriptor&&Le(Ke,_t.newDescriptor,_t.writer)}),le.setCustomProperty("addHighlight",(ht,_t,It)=>dt.add(_t,It),Ke),le.setCustomProperty("removeHighlight",(ht,_t,It)=>dt.remove(_t,It),Ke)}function S(Ke,le){Ke.getCustomProperty("widgetLabel").push(le)}function I(Ke){return Ke.getCustomProperty("widgetLabel").reduce((le,Le)=>typeof Le=="function"?le?le+". "+Le():Le():le?le+". "+Le:Le,"")}function M(Ke,le,Le={}){return le.addClass(["ck-editor__editable","ck-editor__nested-editable"],Ke),le.setAttribute("role","textbox",Ke),le.setAttribute("tabindex","-1",Ke),Le.label&&le.setAttribute("aria-label",Le.label,Ke),le.setAttribute("contenteditable",Ke.isReadOnly?"false":"true",Ke),Ke.on("change:isReadOnly",(Be,dt,ht)=>{le.setAttribute("contenteditable",ht?"false":"true",Ke)}),Ke.on("change:isFocused",(Be,dt,ht)=>{ht?le.addClass("ck-editor__nested-editable_focused",Ke):le.removeClass("ck-editor__nested-editable_focused",Ke)}),_(Ke,le),Ke}function ee(Ke,le){const Le=Ke.getSelectedElement();if(Le){const Be=Ae(Ke);if(Be)return le.createRange(le.createPositionAt(Le,Be))}return le.schema.findOptimalInsertionRange(Ke)}function H(Ke,le){return(Le,Be)=>{const{mapper:dt,viewPosition:ht}=Be,_t=dt.findMappedViewAncestor(ht);if(!le(_t))return;const It=dt.toModelElement(_t);Be.modelPosition=Ke.createPositionAt(It,ht.isAtStart?"before":"after")}}function re(){return null}function O(Ke){const le=_t=>{const{width:It,paddingLeft:zt,paddingRight:Jt}=_t.ownerDocument.defaultView.getComputedStyle(_t);return parseFloat(It)-(parseFloat(zt)||0)-(parseFloat(Jt)||0)},Le=Ke.parentElement;if(!Le)return 0;let Be=le(Le),dt=0,ht=Le;for(;isNaN(Be);){if(ht=ht.parentElement,++dt>5)return 0;Be=le(ht)}return Be}function W(Ke,le=new k.rw(Ke)){const Le=O(Ke);return Le?le.width/Le*100:0}const ie="widget-type-around";function we(Ke,le,Le){return!!Ke&&ue(Ke)&&!Le.isInline(le)}function Ae(Ke){return Ke.getAttribute(ie)}var He=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),it=s.n(He),ne=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),de={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(ne.A,de),ne.A.locals;const Se=["before","after"],Re=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Oe="ck-widget__type-around_disabled";class G extends u.k_{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[$.x,L.ep]}init(){const le=this.editor,Le=le.editing.view;this.on("change:isEnabled",(Be,dt,ht)=>{Le.change(_t=>{for(const It of Le.document.roots)ht?_t.removeClass(Oe,It):_t.addClass(Oe,It)}),ht||le.model.change(_t=>{_t.removeSelectionAttribute(ie)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(le,Le){const Be=this.editor,dt=Be.editing.view,ht=Be.model.schema.getAttributesWithProperty(le,"copyOnReplace",!0);Be.execute("insertParagraph",{position:Be.model.createPositionAt(le,Le),attributes:ht}),dt.focus(),dt.scrollToTheSelection()}_listenToIfEnabled(le,Le,Be,dt){this.listenTo(le,Le,(...ht)=>{this.isEnabled&&Be(...ht)},dt)}_insertParagraphAccordingToFakeCaretPosition(){const le=this.editor.model.document.selection,Le=Ae(le);if(!Le)return!1;const Be=le.getSelectedElement();return this._insertParagraph(Be,Le),!0}_enableTypeAroundUIInjection(){const le=this.editor,Le=le.model.schema,Be=le.locale.t,dt={before:Be("Insert paragraph before block"),after:Be("Insert paragraph after block")};le.editing.downcastDispatcher.on("insert",(ht,_t,It)=>{const zt=It.mapper.toViewElement(_t.item);zt&&we(zt,_t.item,Le)&&(function(Jt,ai,si){const Bi=Jt.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(pi){const Ci=this.toDomElement(pi);return function(vt,Ye){for(const ct of Se){const qe=new v.Bj({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ct}`],title:Ye[ct],"aria-hidden":"true"},children:[vt.ownerDocument.importNode(Re,!0)]});vt.appendChild(qe.render())}}(Ci,ai),function(vt){const Ye=new v.Bj({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});vt.appendChild(Ye.render())}(Ci),Ci});Jt.insert(Jt.createPositionAt(si,"end"),Bi)}(It.writer,dt,zt),zt.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Be("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const le=this.editor,Le=le.model,Be=Le.document.selection,dt=Le.schema,ht=le.editing.view;function _t(It){return`ck-widget_type-around_show-fake-caret_${It}`}this._listenToIfEnabled(ht.document,"arrowKey",(It,zt)=>{this._handleArrowKeyPress(It,zt)},{context:[ue,"$text"],priority:"high"}),this._listenToIfEnabled(Be,"change:range",(It,zt)=>{zt.directChange&&le.model.change(Jt=>{Jt.removeSelectionAttribute(ie)})}),this._listenToIfEnabled(Le.document,"change:data",()=>{const It=Be.getSelectedElement();It&&we(le.editing.mapper.toViewElement(It),It,dt)||le.model.change(zt=>{zt.removeSelectionAttribute(ie)})}),this._listenToIfEnabled(le.editing.downcastDispatcher,"selection",(It,zt,Jt)=>{const ai=Jt.writer;if(this._currentFakeCaretModelElement){const Ci=Jt.mapper.toViewElement(this._currentFakeCaretModelElement);Ci&&(ai.removeClass(Se.map(_t),Ci),this._currentFakeCaretModelElement=null)}const si=zt.selection.getSelectedElement();if(!si)return;const Bi=Jt.mapper.toViewElement(si);if(!we(Bi,si,dt))return;const pi=Ae(zt.selection);pi&&(ai.addClass(_t(pi),Bi),this._currentFakeCaretModelElement=si)}),this._listenToIfEnabled(le.ui.focusTracker,"change:isFocused",(It,zt,Jt)=>{Jt||le.model.change(ai=>{ai.removeSelectionAttribute(ie)})})}_handleArrowKeyPress(le,Le){const Be=this.editor,dt=Be.model,ht=dt.document.selection,_t=dt.schema,It=Be.editing.view,zt=Le.keyCode,Jt=(0,k.HK)(zt,Be.locale.contentLanguageDirection),ai=It.document.selection.getSelectedElement();let si;we(ai,Be.editing.mapper.toModelElement(ai),_t)?si=this._handleArrowKeyPressOnSelectedWidget(Jt):ht.isCollapsed?si=this._handleArrowKeyPressWhenSelectionNextToAWidget(Jt):Le.shiftKey||(si=this._handleArrowKeyPressWhenNonCollapsedSelection(Jt)),si&&(Le.preventDefault(),le.stop())}_handleArrowKeyPressOnSelectedWidget(le){const Le=this.editor.model,Be=Ae(Le.document.selection);return Le.change(dt=>Be?Be!==(le?"after":"before")?(dt.removeSelectionAttribute(ie),!0):!1:(dt.setSelectionAttribute(ie,le?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(le){const Le=this.editor,Be=Le.model,dt=Be.schema,ht=Le.plugins.get("Widget"),_t=ht._getObjectElementNextToSelection(le);return!!we(Le.editing.mapper.toViewElement(_t),_t,dt)&&(Be.change(It=>{ht._setSelectionOverElement(_t),It.setSelectionAttribute(ie,le?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(le){const Le=this.editor,Be=Le.model,dt=Be.schema,ht=Le.editing.mapper,_t=Be.document.selection,It=le?_t.getLastPosition().nodeBefore:_t.getFirstPosition().nodeAfter;return!!we(ht.toViewElement(It),It,dt)&&(Be.change(zt=>{zt.setSelection(It,"on"),zt.setSelectionAttribute(ie,le?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const le=this.editor,Le=le.editing.view;this._listenToIfEnabled(Le.document,"mousedown",(Be,dt)=>{const ht=dt.domTarget.closest(".ck-widget__type-around__button");if(!ht)return;const _t=function(Jt){return Jt.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(ht),It=function(Jt,ai){const si=Jt.closest(".ck-widget");return ai.mapDomToView(si)}(ht,Le.domConverter),zt=le.editing.mapper.toModelElement(It);this._insertParagraph(zt,_t),dt.preventDefault(),Be.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const le=this.editor,Le=le.model.document.selection,Be=le.editing.view;this._listenToIfEnabled(Be.document,"enter",(dt,ht)=>{if(dt.eventPhase!="atTarget")return;const _t=Le.getSelectedElement(),It=le.editing.mapper.toViewElement(_t),zt=le.model.schema;let Jt;this._insertParagraphAccordingToFakeCaretPosition()?Jt=!0:we(It,_t,zt)&&(this._insertParagraph(_t,ht.isSoft?"before":"after"),Jt=!0),Jt&&(ht.preventDefault(),dt.stop())},{context:ue})}_enableInsertingParagraphsOnTypingKeystroke(){const le=this.editor.editing.view.document;this._listenToIfEnabled(le,"insertText",(Le,Be)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Be.selection=le.selection)},{priority:"high"}),k._K.isAndroid?this._listenToIfEnabled(le,"keydown",(Le,Be)=>{Be.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(le,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const le=this.editor,Le=le.editing.view,Be=le.model,dt=Be.schema;this._listenToIfEnabled(Le.document,"delete",(ht,_t)=>{if(ht.eventPhase!="atTarget")return;const It=Ae(Be.document.selection);if(!It)return;const zt=_t.direction,Jt=Be.document.selection.getSelectedElement(),ai=zt=="forward";if(It==="before"===ai)le.execute("delete",{selection:Be.createSelection(Jt,"on")});else{const si=dt.getNearestSelectionRange(Be.createPositionAt(Jt,It),zt);if(si)if(si.isCollapsed){const Bi=Be.createSelection(si.start);if(Be.modifySelection(Bi,{direction:zt}),Bi.focus.isEqual(si.start)){const pi=function(Ci,vt){let Ye=vt;for(const ct of vt.getAncestors({parentFirst:!0})){if(ct.childCount>1||Ci.isLimit(ct))break;Ye=ct}return Ye}(dt,si.start.parent);Be.deleteContent(Be.createSelection(pi,"on"),{doNotAutoparagraph:!0})}else Be.change(pi=>{pi.setSelection(si),le.execute(ai?"deleteForward":"delete")})}else Be.change(Bi=>{Bi.setSelection(si),le.execute(ai?"deleteForward":"delete")})}_t.preventDefault(),ht.stop()},{context:ue})}_enableInsertContentIntegration(){const le=this.editor,Le=this.editor.model,Be=Le.document.selection;this._listenToIfEnabled(le.model,"insertContent",(dt,[ht,_t])=>{if(_t&&!_t.is("documentSelection"))return;const It=Ae(Be);return It?(dt.stop(),Le.change(zt=>{const Jt=Be.getSelectedElement(),ai=Le.createPositionAt(Jt,It),si=zt.createSelection(ai),Bi=Le.insertContent(ht,si);return zt.setSelection(si),Bi})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const le=this.editor,Le=this.editor.model.document.selection;this._listenToIfEnabled(le.model,"insertObject",(Be,dt)=>{const[,ht,_t={}]=dt;if(ht&&!ht.is("documentSelection"))return;const It=Ae(Le);It&&(_t.findOptimalPosition=It,dt[3]=_t)},{priority:"high"})}_enableDeleteContentIntegration(){const le=this.editor,Le=this.editor.model.document.selection;this._listenToIfEnabled(le.model,"deleteContent",(Be,[dt])=>{dt&&!dt.is("documentSelection")||Ae(Le)&&Be.stop()},{priority:"high"})}}function Ie(Ke){const le=Ke.model;return(Le,Be)=>{const dt=Be.keyCode==k.uP.arrowup,ht=Be.keyCode==k.uP.arrowdown,_t=Be.shiftKey,It=le.document.selection;if(!dt&&!ht)return;const zt=ht;if(_t&&function(ai,si){return!ai.isCollapsed&&ai.isBackward==si}(It,zt))return;const Jt=function(ai,si,Bi){const pi=ai.model;if(Bi){const Ci=si.isCollapsed?si.focus:si.getLastPosition(),vt=Ue(pi,Ci,"forward");if(!vt)return null;const Ye=pi.createRange(Ci,vt),ct=nt(pi.schema,Ye,"backward");return ct?pi.createRange(Ci,ct):null}{const Ci=si.isCollapsed?si.focus:si.getFirstPosition(),vt=Ue(pi,Ci,"backward");if(!vt)return null;const Ye=pi.createRange(vt,Ci),ct=nt(pi.schema,Ye,"forward");return ct?pi.createRange(ct,Ci):null}}(Ke,It,zt);if(Jt){if(Jt.isCollapsed&&(It.isCollapsed||_t))return;(Jt.isCollapsed||function(ai,si,Bi){const pi=ai.model,Ci=ai.view.domConverter;if(Bi){const yt=pi.createSelection(si.start);pi.modifySelection(yt),yt.focus.isAtEnd||si.start.isEqual(yt.focus)||(si=pi.createRange(yt.focus,si.end))}const vt=ai.mapper.toViewRange(si),Ye=Ci.viewRangeToDom(vt),ct=k.rw.getDomRangeRects(Ye);let qe;for(const yt of ct)if(qe!==void 0){if(Math.round(yt.top)>=qe)return!1;qe=Math.max(qe,Math.round(yt.bottom))}else qe=Math.round(yt.bottom);return!0}(Ke,Jt,zt))&&(le.change(ai=>{const si=zt?Jt.end:Jt.start;if(_t){const Bi=le.createSelection(It.anchor);Bi.setFocus(si),ai.setSelection(Bi)}else ai.setSelection(si)}),Le.stop(),Be.preventDefault(),Be.stopPropagation())}}}function Ue(Ke,le,Le){const Be=Ke.schema,dt=Ke.createRangeIn(le.root),ht=Le=="forward"?"elementStart":"elementEnd";for(const{previousPosition:_t,item:It,type:zt}of dt.getWalker({startPosition:le,direction:Le})){if(Be.isLimit(It)&&!Be.isInline(It))return _t;if(zt==ht&&Be.isBlock(It))return null}return null}function nt(Ke,le,Le){const Be=Le=="backward"?le.end:le.start;if(Ke.checkChild(Be,"$text"))return Be;for(const{nextPosition:dt}of le.getWalker({direction:Le}))if(Ke.checkChild(dt,"$text"))return dt;return null}var xe=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),pe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(xe.A,pe),xe.A.locals;class ye extends u.k_{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[G,L.ep]}init(){const le=this.editor,Le=le.editing.view,Be=Le.document,dt=le.t;this.editor.editing.downcastDispatcher.on("selection",(ht,_t,It)=>{const zt=It.writer,Jt=_t.selection;if(Jt.isCollapsed)return;const ai=Jt.getSelectedElement();if(!ai)return;const si=le.editing.mapper.toViewElement(ai);ue(si)&&It.consumable.consume(Jt,"selection")&&zt.setSelection(zt.createRangeOn(si),{fake:!0,label:I(si)})}),this.editor.editing.downcastDispatcher.on("selection",(ht,_t,It)=>{this._clearPreviouslySelectedWidgets(It.writer);const zt=It.writer,Jt=zt.document.selection;let ai=null;for(const si of Jt.getRanges())for(const Bi of si){const pi=Bi.item;ue(pi)&&!Ze(pi,ai)&&(zt.addClass(Ce,pi),this._previouslySelected.add(pi),ai=pi)}},{priority:"low"}),Le.addObserver(C.q$),this.listenTo(Be,"mousedown",(...ht)=>this._onMousedown(...ht)),this.listenTo(Be,"arrowKey",(...ht)=>{this._handleSelectionChangeOnArrowKeyPress(...ht)},{context:[ue,"$text"]}),this.listenTo(Be,"arrowKey",(...ht)=>{this._preventDefaultOnArrowKeyPress(...ht)},{context:"$root"}),this.listenTo(Be,"arrowKey",Ie(this.editor.editing),{context:"$text"}),this.listenTo(Be,"delete",(ht,_t)=>{this._handleDelete(_t.direction=="forward")&&(_t.preventDefault(),ht.stop())},{context:"$root"}),this.listenTo(Be,"tab",(ht,_t)=>{ht.eventPhase=="atTarget"&&(_t.shiftKey||this._selectFirstNestedEditable()&&(_t.preventDefault(),ht.stop()))},{context:ue,priority:"low"}),this.listenTo(Be,"tab",(ht,_t)=>{_t.shiftKey&&this._selectAncestorWidget()&&(_t.preventDefault(),ht.stop())},{priority:"low"}),this.listenTo(Be,"keydown",(ht,_t)=>{_t.keystroke==k.uP.esc&&this._selectAncestorWidget()&&(_t.preventDefault(),ht.stop())},{priority:"low"}),le.accessibility.addKeystrokeInfoGroup({id:"widget",label:dt("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:dt("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:dt("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:dt("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:dt("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(le,Le){const Be=this.editor,dt=Be.editing.view,ht=dt.document;let _t=Le.target;if(Le.domEvent.detail>=3)return void(this._selectBlockContent(_t)&&Le.preventDefault());if(function(zt){let Jt=zt;for(;Jt;){if(Jt.is("editableElement")&&!Jt.is("rootElement"))return!0;if(ue(Jt))return!1;Jt=Jt.parent}return!1}(_t)||!ue(_t)&&(_t=_t.findAncestor(ue),!_t))return;k._K.isAndroid&&Le.preventDefault(),ht.isFocused||dt.focus();const It=Be.editing.mapper.toModelElement(_t);this._setSelectionOverElement(It)}_selectBlockContent(le){const Le=this.editor,Be=Le.model,dt=Le.editing.mapper,ht=Be.schema,_t=dt.findMappedViewAncestor(this.editor.editing.view.createPositionAt(le,0)),It=function(zt,Jt){for(const ai of zt.getAncestors({includeSelf:!0,parentFirst:!0})){if(Jt.checkChild(ai,"$text"))return ai;if(Jt.isLimit(ai)&&!Jt.isObject(ai))break}return null}(dt.toModelElement(_t),Be.schema);return!!It&&(Be.change(zt=>{const Jt=ht.isLimit(It)?null:function(Bi,pi){const Ci=new C.rU({startPosition:Bi});for(const{item:vt}of Ci){if(pi.isLimit(vt)||!vt.is("element"))return null;if(pi.checkChild(vt,"$text"))return vt}return null}(zt.createPositionAfter(It),ht),ai=zt.createPositionAt(It,0),si=Jt?zt.createPositionAt(Jt,0):zt.createPositionAt(It,"end");zt.setSelection(zt.createRange(ai,si))}),!0)}_handleSelectionChangeOnArrowKeyPress(le,Le){const Be=Le.keyCode,dt=this.editor.model,ht=dt.schema,_t=dt.document.selection,It=_t.getSelectedElement(),zt=(0,k.Kf)(Be,this.editor.locale.contentLanguageDirection),Jt=zt=="down"||zt=="right",ai=zt=="up"||zt=="down";if(It&&ht.isObject(It)){const Bi=Jt?_t.getLastPosition():_t.getFirstPosition(),pi=ht.getNearestSelectionRange(Bi,Jt?"forward":"backward");return void(pi&&(dt.change(Ci=>{Ci.setSelection(pi)}),Le.preventDefault(),le.stop()))}if(!_t.isCollapsed&&!Le.shiftKey){const Bi=_t.getFirstPosition(),pi=_t.getLastPosition(),Ci=Bi.nodeAfter,vt=pi.nodeBefore;return void((Ci&&ht.isObject(Ci)||vt&&ht.isObject(vt))&&(dt.change(Ye=>{Ye.setSelection(Jt?pi:Bi)}),Le.preventDefault(),le.stop()))}if(!_t.isCollapsed)return;const si=this._getObjectElementNextToSelection(Jt);if(si&&ht.isObject(si)){if(ht.isInline(si)&&ai)return;this._setSelectionOverElement(si),Le.preventDefault(),le.stop()}}_preventDefaultOnArrowKeyPress(le,Le){const Be=this.editor.model,dt=Be.schema,ht=Be.document.selection.getSelectedElement();ht&&dt.isObject(ht)&&(Le.preventDefault(),le.stop())}_handleDelete(le){const Le=this.editor.model.document.selection;if(!this.editor.model.canEditAt(Le)||!Le.isCollapsed)return;const Be=this._getObjectElementNextToSelection(le);return Be?(this.editor.model.change(dt=>{let ht=Le.anchor.parent;for(;ht.isEmpty;){const _t=ht;ht=_t.parent,dt.remove(_t)}this._setSelectionOverElement(Be)}),!0):void 0}_setSelectionOverElement(le){this.editor.model.change(Le=>{Le.setSelection(Le.createRangeOn(le))})}_getObjectElementNextToSelection(le){const Le=this.editor.model,Be=Le.schema,dt=Le.document.selection,ht=Le.createSelection(dt);if(Le.modifySelection(ht,{direction:le?"forward":"backward"}),ht.isEqual(dt))return null;const _t=le?ht.focus.nodeBefore:ht.focus.nodeAfter;return _t&&Be.isObject(_t)?_t:null}_clearPreviouslySelectedWidgets(le){for(const Le of this._previouslySelected)le.removeClass(Ce,Le);this._previouslySelected.clear()}_selectFirstNestedEditable(){const le=this.editor,Le=this.editor.editing.view.document;for(const Be of Le.selection.getFirstRange().getItems())if(Be.is("editableElement")){const dt=le.editing.mapper.toModelElement(Be);if(!dt)continue;const ht=le.model.createPositionAt(dt,0),_t=le.model.schema.getNearestSelectionRange(ht,"forward");return le.model.change(It=>{It.setSelection(_t)}),!0}return!1}_selectAncestorWidget(){const le=this.editor,Le=le.editing.mapper,Be=le.editing.view.document.selection.getFirstPosition().parent,dt=(Be.is("$text")?Be.parent:Be).findAncestor(ue);if(!dt)return!1;const ht=Le.toModelElement(dt);return!!ht&&(le.model.change(_t=>{_t.setSelection(ht,"on")}),!0)}}function Ze(Ke,le){return!!le&&Array.from(Ke.getAncestors()).includes(le)}class ot extends u.k_{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[v.pU]}static get pluginName(){return"WidgetToolbarRepository"}init(){const le=this.editor;if(le.plugins.has("BalloonToolbar")){const Le=le.plugins.get("BalloonToolbar");this.listenTo(Le,"show",Be=>{(function(dt){const ht=dt.getSelectedElement();return!(!ht||!ue(ht))})(le.editing.view.document.selection)&&Be.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(le.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(le.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const le of this._toolbarDefinitions.values())le.view.destroy()}register(le,{ariaLabel:Le,items:Be,getRelatedElement:dt,balloonClassName:ht="ck-toolbar-container"}){if(!Be.length)return void(0,k.FF)("widget-toolbar-no-items",{toolbarId:le});const _t=this.editor,It=_t.t,zt=new v.X3(_t.locale);if(zt.ariaLabel=Le||It("Widget toolbar"),this._toolbarDefinitions.has(le))throw new k.Yb("widget-toolbar-duplicated",this,{toolbarId:le});const Jt={view:zt,getRelatedElement:dt,balloonClassName:ht,itemsConfig:Be,initialized:!1};_t.ui.addToolbar(zt,{isContextual:!0,beforeFocus:()=>{const ai=dt(_t.editing.view.document.selection);ai&&this._showToolbar(Jt,ai)},afterBlur:()=>{this._hideToolbar(Jt)}}),this._toolbarDefinitions.set(le,Jt)}_updateToolbarsVisibility(){let le=0,Le=null,Be=null;for(const dt of this._toolbarDefinitions.values()){const ht=dt.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&ht)if(this.editor.ui.focusTracker.isFocused){const _t=ht.getAncestors().length;_t>le&&(le=_t,Le=ht,Be=dt)}else this._isToolbarVisible(dt)&&this._hideToolbar(dt);else this._isToolbarInBalloon(dt)&&this._hideToolbar(dt)}Be&&this._showToolbar(Be,Le)}_hideToolbar(le){this._balloon.remove(le.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(le,Le){this._isToolbarVisible(le)?at(this.editor,Le):this._isToolbarInBalloon(le)||(le.initialized||(le.initialized=!0,le.view.fillFromConfig(le.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:le.view,position:mt(this.editor,Le),balloonClassName:le.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Be of this._toolbarDefinitions.values())if(this._isToolbarVisible(Be)){const dt=Be.getRelatedElement(this.editor.editing.view.document.selection);at(this.editor,dt)}}))}_isToolbarVisible(le){return this._balloon.visibleView===le.view}_isToolbarInBalloon(le){return this._balloon.hasView(le.view)}}function at(Ke,le){const Le=Ke.plugins.get("ContextualBalloon"),Be=mt(Ke,le);Le.updatePosition(Be)}function mt(Ke,le){const Le=Ke.editing.view,Be=v.Jr.defaultPositions;return{target:Le.domConverter.mapViewToDom(le),positions:[Be.northArrowSouth,Be.northArrowSouthWest,Be.northArrowSouthEast,Be.southArrowNorth,Be.southArrowNorthWest,Be.southArrowNorthEast,Be.viewportStickyNorth]}}class Ut extends(0,k.VM)(){constructor(le){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=le,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(le,Le,Be){const dt=new k.rw(Le);this.activeHandlePosition=function(_t){const It=["top-left","top-right","bottom-right","bottom-left"];for(const zt of It)if(_t.classList.contains($t(zt)))return zt}(le),this._referenceCoordinates=function(_t,It){const zt=new k.rw(_t),Jt=It.split("-"),ai={x:Jt[1]=="right"?zt.right:zt.left,y:Jt[0]=="bottom"?zt.bottom:zt.top};return ai.x+=_t.ownerDocument.defaultView.scrollX,ai.y+=_t.ownerDocument.defaultView.scrollY,ai}(Le,function(_t){const It=_t.split("-"),zt={top:"bottom",bottom:"top",left:"right",right:"left"};return`${zt[It[0]]}-${zt[It[1]]}`}(this.activeHandlePosition)),this._originalWidth=dt.width,this._originalHeight=dt.height,this._aspectRatio=dt.width/dt.height;const ht=Be.style.width;ht&&ht.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(ht):this._originalWidthPercents=W(Be,dt)}update(le){this.proposedWidth=le.width,this.proposedHeight=le.height,this.proposedWidthPercents=le.widthPercents,this.proposedHandleHostWidth=le.handleHostWidth,this.proposedHandleHostHeight=le.handleHostHeight}}function $t(Ke){return`ck-widget__resizer__handle-${Ke}`}class St extends v.Ss{constructor(){super();const le=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",le.to("_viewPosition",Le=>Le?`ck-orientation-${Le}`:"")],style:{display:le.if("_isVisible","none",Le=>!Le)}},children:[{text:le.to("_label")}]})}_bindToState(le,Le){this.bind("_isVisible").to(Le,"proposedWidth",Le,"proposedHeight",(Be,dt)=>Be!==null&&dt!==null),this.bind("_label").to(Le,"proposedHandleHostWidth",Le,"proposedHandleHostHeight",Le,"proposedWidthPercents",(Be,dt,ht)=>le.unit==="px"?`${Be}\xD7${dt}`:`${ht}%`),this.bind("_viewPosition").to(Le,"activeHandlePosition",Le,"proposedHandleHostWidth",Le,"proposedHandleHostHeight",(Be,dt,ht)=>dt<50||ht<50?"above-center":Be)}_dismiss(){this.unbind(),this._isVisible=!1}}var qt=Object.defineProperty,wt=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,gi=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable,Pi=(Ke,le,Le)=>le in Ke?qt(Ke,le,{enumerable:!0,configurable:!0,writable:!0,value:Le}):Ke[le]=Le;class Di extends(0,k.VM)(){constructor(le){super(),this._viewResizerWrapper=null,this._options=le,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(Le,Be)=>Le&&Be),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",Le=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),Le.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(le=>{le.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(le=>{le.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const le=this,Le=this._options.viewElement;this._options.editor.editing.view.change(Be=>{const dt=Be.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(ht){const _t=this.toDomElement(ht);return le._appendHandles(_t),le._appendSizeUI(_t),_t});Be.insert(Be.createPositionAt(Le,"end"),dt),Be.addClass("ck-widget_with-resizer",Le),this._viewResizerWrapper=dt,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(le){this._state=new Ut(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(le,this._getHandleHost(),this._getResizeHost())}updateSize(le){const Le=this._proposeNewSize(le);this._options.editor.editing.view.change(Jt=>{const ai=this._options.unit||"%",si=(ai==="%"?Le.widthPercents:Le.width)+ai;Jt.setStyle("width",si,this._options.viewElement)});const Be=this._getHandleHost(),dt=new k.rw(Be),ht=Math.round(dt.width),_t=Math.round(dt.height),It=new k.rw(Be);var zt;Le.width=Math.round(It.width),Le.height=Math.round(It.height),this.redraw(dt),this.state.update((zt=((Jt,ai)=>{for(var si in ai||(ai={}))gi.call(ai,si)&&Pi(Jt,si,ai[si]);if(gt)for(var si of gt(ai))Ti.call(ai,si)&&Pi(Jt,si,ai[si]);return Jt})({},Le),wt(zt,tt({handleHostWidth:ht,handleHostHeight:_t}))))}commit(){const le=this._options.unit||"%",Le=(le==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+le;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(Le)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(le){const Le=this._domResizerWrapper;if(!((Be=Le)&&Be.ownerDocument&&Be.ownerDocument.contains(Be)))return;var Be;const dt=Le.parentElement,ht=this._getHandleHost(),_t=this._viewResizerWrapper,It=[_t.getStyle("width"),_t.getStyle("height"),_t.getStyle("left"),_t.getStyle("top")];let zt;if(dt.isSameNode(ht)){const Jt=le||new k.rw(ht);zt=[Jt.width+"px",Jt.height+"px",void 0,void 0]}else zt=[ht.offsetWidth+"px",ht.offsetHeight+"px",ht.offsetLeft+"px",ht.offsetTop+"px"];(0,k.ww)(It,zt)!=="same"&&this._options.editor.editing.view.change(Jt=>{Jt.setStyle({width:zt[0],height:zt[1],left:zt[2],top:zt[3]},_t)})}containsHandle(le){return this._domResizerWrapper.contains(le)}static isResizeHandle(le){return le.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(le=>{le.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(le){const Le=this.state,Be={x:(dt=le).pageX,y:dt.pageY};var dt;const ht=!this._options.isCentered||this._options.isCentered(this),_t={x:Le._referenceCoordinates.x-(Be.x+Le.originalWidth),y:Be.y-Le.originalHeight-Le._referenceCoordinates.y};ht&&Le.activeHandlePosition.endsWith("-right")&&(_t.x=Be.x-(Le._referenceCoordinates.x+Le.originalWidth)),ht&&(_t.x*=2);let It=Math.abs(Le.originalWidth+_t.x),zt=Math.abs(Le.originalHeight+_t.y);return(It/Le.aspectRatio>zt?"width":"height")=="width"?zt=It/Le.aspectRatio:It=zt*Le.aspectRatio,{width:Math.round(It),height:Math.round(zt),widthPercents:Math.min(Math.round(Le.originalWidthPercents/Le.originalWidth*It*100)/100,100)}}_getResizeHost(){const le=this._domResizerWrapper.parentElement;return this._options.getResizeHost(le)}_getHandleHost(){const le=this._domResizerWrapper.parentElement;return this._options.getHandleHost(le)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(le){const Le=["top-left","top-right","bottom-right","bottom-left"];for(const dt of Le)le.appendChild(new v.Bj({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(Be=dt,`ck-widget__resizer__handle-${Be}`)}}).render());var Be}_appendSizeUI(le){this._sizeView=new St,this._sizeView.render(),le.appendChild(this._sizeView.element)}}var Oi=s("./node_modules/lodash-es/throttle.js"),Wi=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),Gt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};it()(Wi.A,Gt),Wi.A.locals;class xt extends u.k_{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const le=this.editor.editing,Le=k.global.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),le.view.addObserver(C.q$),this._observer=new((0,k.c5)()),this.listenTo(le.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(Le,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(Le,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,Oi.A)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[dt,ht]of this._resizers)dt.isAttached()||(this._resizers.delete(dt),ht.destroy())},{priority:"lowest"}),this._observer.listenTo(k.global.window,"resize",this._redrawSelectedResizerThrottled);const Be=this.editor.editing.view.document.selection;Be.on("change",()=>{const dt=Be.getSelectedElement(),ht=this.getResizerByViewElement(dt)||null;ht?this.select(ht):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const le of this._resizers.values())le.destroy();this._redrawSelectedResizerThrottled.cancel()}select(le){this.deselect(),this.selectedResizer=le,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(le){const Le=new Di(le),Be=this.editor.plugins;if(Le.attach(),Be.has("WidgetToolbarRepository")){const ht=Be.get("WidgetToolbarRepository");Le.on("begin",()=>{ht.forceDisabled("resize")},{priority:"lowest"}),Le.on("cancel",()=>{ht.clearForceDisabled("resize")},{priority:"highest"}),Le.on("commit",()=>{ht.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(le.viewElement,Le);const dt=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(dt)==Le&&this.select(Le),Le}getResizerByViewElement(le){return this._resizers.get(le)}_getResizerByHandle(le){for(const Le of this._resizers.values())if(Le.containsHandle(le))return Le}_mouseDownListener(le,Le){const Be=Le.domTarget;Di.isResizeHandle(Be)&&(this._activeResizer=this._getResizerByHandle(Be)||null,this._activeResizer&&(this._activeResizer.begin(Be),le.stop(),Le.preventDefault()))}_mouseMoveListener(le,Le){this._activeResizer&&this._activeResizer.updateSize(Le)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},"./src/clipboard.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Clipboard:()=>Ci,ClipboardMarkersUtils:()=>mt,ClipboardPipeline:()=>Ut,DragDrop:()=>Jt,DragDropBlockToolbar:()=>dt,DragDropTarget:()=>gt,PastePlainText:()=>pi});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-utils/src/index.ts"),L=s("./packages/ckeditor5-engine/src/index.ts");class k extends L.$A{constructor(Ye){super(Ye),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const ct=this.document;function qe(yt){return(Dt,Mt)=>{Mt.preventDefault();const jt=Mt.dropRange?[Mt.dropRange]:null,Te=new C.vY(ct,yt);ct.fire(Te,{dataTransfer:Mt.dataTransfer,method:Dt.name,targetRanges:jt,target:Mt.target,domEvent:Mt.domEvent}),Te.stop.called&&Mt.stopPropagation()}}this.listenTo(ct,"paste",qe("clipboardInput"),{priority:"low"}),this.listenTo(ct,"drop",qe("clipboardInput"),{priority:"low"}),this.listenTo(ct,"dragover",qe("dragging"),{priority:"low"})}onDomEvent(Ye){const ct="clipboardData"in Ye?Ye.clipboardData:Ye.dataTransfer,qe=Ye.type=="drop"||Ye.type=="paste",yt={dataTransfer:new L._v(ct,{cacheFiles:qe})};Ye.type!="drop"&&Ye.type!="dragover"||(yt.dropRange=function(Dt,Mt){const jt=Mt.target.ownerDocument,Te=Mt.clientX,V=Mt.clientY;let N;return jt.caretRangeFromPoint&&jt.caretRangeFromPoint(Te,V)?N=jt.caretRangeFromPoint(Te,V):Mt.rangeParent&&(N=jt.createRange(),N.setStart(Mt.rangeParent,Mt.rangeOffset),N.collapse(!0)),N?Dt.domConverter.domRangeToView(N):null}(this.view,Ye)),this.fire(Ye.type,Ye,yt)}}const v=["figcaption","li"],$=["ol","ul"];function K(vt){if(vt.is("$text")||vt.is("$textProxy"))return vt.data;if(vt.is("element","img")&&vt.hasAttribute("alt"))return vt.getAttribute("alt");if(vt.is("element","br"))return`
`;let Ye="",ct=null;for(const qe of vt.getChildren())Ye+=R(qe,ct)+K(qe),ct=qe;return Ye}function R(vt,Ye){return Ye?vt.is("element","li")&&!vt.isEmpty&&vt.getChild(0).is("containerElement")||$.includes(vt.name)&&$.includes(Ye.name)?`

`:vt.is("containerElement")||Ye.is("containerElement")?v.includes(vt.name)||v.includes(Ye.name)?`
`:`

`:"":""}var Ee=s("./node_modules/lodash-es/_baseAssignValue.js"),ge=s("./node_modules/lodash-es/_baseFor.js"),Y=s("./node_modules/lodash-es/keys.js");const J=function(vt,Ye){return vt&&(0,ge.A)(vt,Ye,Y.A)};var Ce=s("./node_modules/lodash-es/_Stack.js"),ue=s("./node_modules/lodash-es/_baseIsEqual.js");const h=function(vt,Ye,ct,qe){var yt=ct.length,Dt=yt,Mt=!qe;if(vt==null)return!Dt;for(vt=Object(vt);yt--;){var jt=ct[yt];if(Mt&&jt[2]?jt[1]!==vt[jt[0]]:!(jt[0]in vt))return!1}for(;++yt<Dt;){var Te=(jt=ct[yt])[0],V=vt[Te],N=jt[1];if(Mt&&jt[2]){if(V===void 0&&!(Te in vt))return!1}else{var X=new Ce.A;if(qe)var Pe=qe(V,N,Te,vt,Ye,X);if(!(Pe===void 0?(0,ue.A)(N,V,3,qe,X):Pe))return!1}}return!0};var p=s("./node_modules/lodash-es/isObject.js");const g=function(vt){return vt==vt&&!(0,p.A)(vt)},_=function(vt){for(var Ye=(0,Y.A)(vt),ct=Ye.length;ct--;){var qe=Ye[ct],yt=vt[qe];Ye[ct]=[qe,yt,g(yt)]}return Ye},S=function(vt,Ye){return function(ct){return ct!=null&&ct[vt]===Ye&&(Ye!==void 0||vt in Object(ct))}},I=function(vt){var Ye=_(vt);return Ye.length==1&&Ye[0][2]?S(Ye[0][0],Ye[0][1]):function(ct){return ct===vt||h(ct,vt,Ye)}};var M=s("./node_modules/lodash-es/get.js");const ee=function(vt,Ye){return vt!=null&&Ye in Object(vt)};var H=s("./node_modules/lodash-es/_castPath.js"),re=s("./node_modules/lodash-es/isArguments.js"),O=s("./node_modules/lodash-es/isArray.js"),W=s("./node_modules/lodash-es/_isIndex.js"),ie=s("./node_modules/lodash-es/isLength.js"),we=s("./node_modules/lodash-es/_toKey.js");const Ae=function(vt,Ye,ct){for(var qe=-1,yt=(Ye=(0,H.A)(Ye,vt)).length,Dt=!1;++qe<yt;){var Mt=(0,we.A)(Ye[qe]);if(!(Dt=vt!=null&&ct(vt,Mt)))break;vt=vt[Mt]}return Dt||++qe!=yt?Dt:!!(yt=vt==null?0:vt.length)&&(0,ie.A)(yt)&&(0,W.A)(Mt,yt)&&((0,O.A)(vt)||(0,re.A)(vt))},He=function(vt,Ye){return vt!=null&&Ae(vt,Ye,ee)};var it=s("./node_modules/lodash-es/_isKey.js");const ne=function(vt,Ye){return(0,it.A)(vt)&&g(Ye)?S((0,we.A)(vt),Ye):function(ct){var qe=(0,M.A)(ct,vt);return qe===void 0&&qe===Ye?He(ct,vt):(0,ue.A)(Ye,qe,3)}};var de=s("./node_modules/lodash-es/identity.js");const Se=function(vt){return function(Ye){return Ye?.[vt]}};var Re=s("./node_modules/lodash-es/_baseGet.js");const Oe=function(vt){return function(Ye){return(0,Re.A)(Ye,vt)}},G=function(vt){return(0,it.A)(vt)?Se((0,we.A)(vt)):Oe(vt)},Ie=function(vt){return typeof vt=="function"?vt:vt==null?de.A:typeof vt=="object"?(0,O.A)(vt)?ne(vt[0],vt[1]):I(vt):G(vt)},Ue=function(vt,Ye){var ct={};return Ye=Ie(Ye,3),J(vt,function(qe,yt,Dt){(0,Ee.A)(ct,yt,Ye(qe,yt,Dt))}),ct};var nt=Object.defineProperty,xe=Object.defineProperties,pe=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,at=(vt,Ye,ct)=>Ye in vt?nt(vt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:ct}):vt[Ye]=ct;class mt extends u.k_{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(Ye,ct){this._markersToCopy.set(Ye,ct)}_copySelectedFragmentWithMarkers(Ye,ct,qe=yt=>yt.model.getSelectedContent(yt.model.document.selection)){return this.editor.model.change(yt=>{const Dt=yt.model.document.selection;yt.setSelection(ct);const Mt=this._insertFakeMarkersIntoSelection(yt,yt.model.document.selection,Ye),jt=qe(yt),Te=this._removeFakeMarkersInsideElement(yt,jt);for(const[V,N]of Object.entries(Mt)){Te[V]||(Te[V]=yt.createRangeIn(jt));for(const X of N)yt.remove(X)}jt.markers.clear();for(const[V,N]of Object.entries(Te))jt.markers.set(V,N);return yt.setSelection(Dt),jt})}_pasteMarkersIntoTransformedElement(Ye,ct){const qe=this._getPasteMarkersFromRangeMap(Ye);return this.editor.model.change(yt=>{const Dt=this._insertFakeMarkersElements(yt,qe),Mt=ct(yt),jt=this._removeFakeMarkersInsideElement(yt,Mt);for(const Te of Object.values(Dt).flat())yt.remove(Te);for(const[Te,V]of Object.entries(jt))yt.model.markers.has(Te)||yt.addMarker(Te,{usingOperation:!0,affectsData:!0,range:V});return Mt})}_pasteFragmentWithMarkers(Ye){const ct=this._getPasteMarkersFromRangeMap(Ye.markers);Ye.markers.clear();for(const qe of ct)Ye.markers.set(qe.name,qe.range);return this.editor.model.insertContent(Ye)}_forceMarkersCopy(Ye,ct,qe={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const yt=this._markersToCopy.get(Ye);this._markersToCopy.set(Ye,qe),ct(),yt?this._markersToCopy.set(Ye,yt):this._markersToCopy.delete(Ye)}_isMarkerCopyable(Ye,ct){const qe=this._getMarkerClipboardConfig(Ye);if(!qe)return!1;if(!ct)return!0;const{allowedActions:yt}=qe;return yt==="all"||yt.includes(ct)}_hasMarkerConfiguration(Ye){return!!this._getMarkerClipboardConfig(Ye)}_getMarkerClipboardConfig(Ye){const[ct]=Ye.split(":");return this._markersToCopy.get(ct)||null}_insertFakeMarkersIntoSelection(Ye,ct,qe){const yt=this._getCopyableMarkersFromSelection(Ye,ct,qe);return this._insertFakeMarkersElements(Ye,yt)}_getCopyableMarkersFromSelection(Ye,ct,qe){const yt=Array.from(ct.getRanges()),Dt=new Set(yt.flatMap(Mt=>Array.from(Ye.model.markers.getMarkersIntersectingRange(Mt))));return Array.from(Dt).filter(Mt=>{if(!this._isMarkerCopyable(Mt.name,qe))return!1;const{copyPartiallySelected:jt}=this._getMarkerClipboardConfig(Mt.name);if(!jt){const Te=Mt.getRange();return yt.some(V=>V.containsRange(Te,!0))}return!0}).map(Mt=>({name:qe==="dragstart"?this._getUniqueMarkerName(Mt.name):Mt.name,range:Mt.getRange()}))}_getPasteMarkersFromRangeMap(Ye,ct=null){const{model:qe}=this.editor;return(Ye instanceof Map?Array.from(Ye.entries()):Object.entries(Ye)).flatMap(([yt,Dt])=>{if(!this._hasMarkerConfiguration(yt))return[{name:yt,range:Dt}];if(this._isMarkerCopyable(yt,ct)){const Mt=this._getMarkerClipboardConfig(yt),jt=qe.markers.has(yt)&&qe.markers.get(yt).getRange().root.rootName==="$graveyard";return(Mt.duplicateOnPaste||jt)&&(yt=this._getUniqueMarkerName(yt)),[{name:yt,range:Dt}]}return[]})}_insertFakeMarkersElements(Ye,ct){const qe={},yt=ct.flatMap(Dt=>{const{start:Mt,end:jt}=Dt.range;return[{position:Mt,marker:Dt,type:"start"},{position:jt,marker:Dt,type:"end"}]}).sort(({position:Dt},{position:Mt})=>Dt.isBefore(Mt)?1:-1);for(const{position:Dt,marker:Mt,type:jt}of yt){const Te=Ye.createElement("$marker",{"data-name":Mt.name,"data-type":jt});qe[Mt.name]||(qe[Mt.name]=[]),qe[Mt.name].push(Te),Ye.insert(Te,Dt)}return qe}_removeFakeMarkersInsideElement(Ye,ct){const qe=this._getAllFakeMarkersFromElement(Ye,ct).reduce((yt,Dt)=>{const Mt=Dt.markerElement&&Ye.createPositionBefore(Dt.markerElement);let jt=yt[Dt.name],Te=!1;jt&&jt.start&&jt.end&&(this._getMarkerClipboardConfig(Dt.name).duplicateOnPaste?yt[this._getUniqueMarkerName(Dt.name)]=yt[Dt.name]:Te=!0,jt=null);var V,N;return Te||(yt[Dt.name]=(V=((X,Pe)=>{for(var We in Pe||(Pe={}))Ze.call(Pe,We)&&at(X,We,Pe[We]);if(ye)for(var We of ye(Pe))ot.call(Pe,We)&&at(X,We,Pe[We]);return X})({},jt),N={[Dt.type]:Mt},xe(V,pe(N)))),Dt.markerElement&&Ye.remove(Dt.markerElement),yt},{});return Ue(qe,yt=>new L.Q6(yt.start||Ye.createPositionFromPath(ct,[0]),yt.end||Ye.createPositionAt(ct,"end")))}_getAllFakeMarkersFromElement(Ye,ct){const qe=Array.from(Ye.createRangeIn(ct)).flatMap(({item:Mt})=>{if(!Mt.is("element","$marker"))return[];const jt=Mt.getAttribute("data-name"),Te=Mt.getAttribute("data-type");return[{markerElement:Mt,name:jt,type:Te}]}),yt=[],Dt=[];for(const Mt of qe)Mt.type==="end"&&(qe.some(jt=>jt.name===Mt.name&&jt.type==="start")||yt.push({markerElement:null,name:Mt.name,type:"start"})),Mt.type==="start"&&(qe.some(jt=>jt.name===Mt.name&&jt.type==="end")||Dt.unshift({markerElement:null,name:Mt.name,type:"end"}));return[...yt,...qe,...Dt]}_getUniqueMarkerName(Ye){const ct=Ye.split(":"),qe=(0,C.Ld)().substring(1,6);return ct.length===3?`${ct.slice(0,2).join(":")}:${qe}`:`${ct.join(":")}:${qe}`}}class Ut extends u.k_{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[mt]}init(){this.editor.editing.view.addObserver(k),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(Ye,ct,qe){const yt=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:qe==="cut"},()=>{const Dt=yt._copySelectedFragmentWithMarkers(qe,ct);this.fire("outputTransformation",{dataTransfer:Ye,content:Dt,method:qe})})}_setupPasteDrop(){const Ye=this.editor,ct=Ye.model,qe=Ye.editing.view,yt=qe.document,Dt=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(yt,"clipboardInput",(Mt,jt)=>{jt.method!="paste"||Ye.model.canEditAt(Ye.model.document.selection)||Mt.stop()},{priority:"highest"}),this.listenTo(yt,"clipboardInput",(Mt,jt)=>{const Te=jt.dataTransfer;let V;if(jt.content)V=jt.content;else{let Pe="";Te.getData("text/html")?Pe=function(We){return We.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(oe,Me)=>Me.length==1?" ":Me).replace(/<!--[\s\S]*?-->/g,"")}(Te.getData("text/html")):Te.getData("text/plain")&&(((N=(N=Te.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||N.includes("<br>"))&&(N=`<p>${N}</p>`),Pe=N),V=this.editor.data.htmlProcessor.toView(Pe)}var N;const X=new C.vY(this,"inputTransformation");this.fire(X,{content:V,dataTransfer:Te,targetRanges:jt.targetRanges,method:jt.method}),X.stop.called&&Mt.stop(),qe.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(Mt,jt)=>{if(jt.content.isEmpty)return;const Te=this.editor.data.toModel(jt.content,"$clipboardHolder");Te.childCount!=0&&(Mt.stop(),ct.change(()=>{this.fire("contentInsertion",{content:Te,method:jt.method,dataTransfer:jt.dataTransfer,targetRanges:jt.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(Mt,jt)=>{jt.resultRange=Dt._pasteFragmentWithMarkers(jt.content)},{priority:"low"})}_setupCopyCut(){const Ye=this.editor,ct=Ye.model.document,qe=Ye.editing.view.document,yt=(Dt,Mt)=>{const jt=Mt.dataTransfer;Mt.preventDefault(),this._fireOutputTransformationEvent(jt,ct.selection,Dt.name)};this.listenTo(qe,"copy",yt,{priority:"low"}),this.listenTo(qe,"cut",(Dt,Mt)=>{Ye.model.canEditAt(Ye.model.document.selection)?yt(Dt,Mt):Mt.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(Dt,Mt)=>{const jt=Ye.data.toView(Mt.content);qe.fire("clipboardOutput",{dataTransfer:Mt.dataTransfer,content:jt,method:Mt.method})},{priority:"low"}),this.listenTo(qe,"clipboardOutput",(Dt,Mt)=>{Mt.content.isEmpty||(Mt.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Mt.content)),Mt.dataTransfer.setData("text/plain",K(Mt.content))),Mt.method=="cut"&&Ye.model.deleteContent(ct.selection)},{priority:"low"})}}var $t=s("./packages/ckeditor5-widget/src/index.ts"),St=s("./packages/ckeditor5-ui/src/index.ts");const qt=(0,C.To)("px");class wt extends St.Ss{constructor(){super();const Ye=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",Ye.if("isVisible","ck-hidden",ct=>!ct)],style:{left:Ye.to("left",ct=>qt(ct)),top:Ye.to("top",ct=>qt(ct)),width:Ye.to("width",ct=>qt(ct))}}})}}var tt=s("./node_modules/lodash-es/throttle.js");class gt extends u.k_{constructor(){super(...arguments),this.removeDropMarkerDelayed=(0,C.cb)(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=(0,tt.A)(Ye=>this._updateDropMarker(Ye),40),this._reconvertMarkerThrottled=(0,tt.A)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new wt,this._domEmitter=new((0,C.c5)()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:Ye}of this._scrollables.values())Ye.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(Ye,ct,qe,yt,Dt,Mt){this.removeDropMarkerDelayed.cancel();const jt=gi(this.editor,Ye,ct,qe,yt,Dt,Mt);if(jt)return Mt&&Mt.containsRange(jt)?this.removeDropMarker():void this._updateDropMarkerThrottled(jt)}getFinalDropRange(Ye,ct,qe,yt,Dt,Mt){const jt=gi(this.editor,Ye,ct,qe,yt,Dt,Mt);return this.removeDropMarker(),jt}removeDropMarker(){const Ye=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,Ye.markers.has("drop-target")&&Ye.change(ct=>{ct.removeMarker("drop-target")})}_setupDropMarker(){const Ye=this.editor;Ye.ui.view.body.add(this._dropTargetLineView),Ye.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Ye.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(ct,{writer:qe})=>{if(Ye.model.schema.checkChild(ct.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(qe);ct.markerRange.isCollapsed?this._updateDropTargetLine(ct.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(Ye){const ct=this.editor,qe=ct.model.markers;ct.model.change(yt=>{qe.has("drop-target")?qe.get("drop-target").getRange().isEqual(Ye)||yt.updateMarker("drop-target",{range:Ye}):yt.addMarker("drop-target",{range:Ye,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(Ye){return Ye.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(ct){const qe=this.toDomElement(ct);return qe.append("\u2060",ct.createElement("span"),"\u2060"),qe})}_updateDropTargetLine(Ye){const ct=this.editor.editing,qe=Ye.start.nodeBefore,yt=Ye.start.nodeAfter,Dt=Ye.start.parent,Mt=qe?ct.mapper.toViewElement(qe):null,jt=Mt?ct.view.domConverter.mapViewToDom(Mt):null,Te=yt?ct.mapper.toViewElement(yt):null,V=Te?ct.view.domConverter.mapViewToDom(Te):null,N=ct.mapper.toViewElement(Dt);if(!N)return;const X=ct.view.domConverter.mapViewToDom(N),Pe=this._getScrollableRect(N),{scrollX:We,scrollY:oe}=C.global.window,Me=jt?new C.rw(jt):null,Je=V?new C.rw(V):null,Qe=new C.rw(X).excludeScrollbarsAndBorders(),ut=Me?Me.bottom:Qe.top,Ft=Je?Je.top:Qe.bottom,Pt=C.global.window.getComputedStyle(X),ri=ut<=Ft?(ut+Ft)/2:Ft;if(Pe.top<ri&&ri<Pe.bottom){const bi=Qe.left+parseFloat(Pt.paddingLeft),ui=Qe.right-parseFloat(Pt.paddingRight),Ei=Math.max(bi+We,Pe.left),_i=Math.min(ui+We,Pe.right);this._dropTargetLineView.set({isVisible:!0,left:Ei,top:ri+oe,width:_i-Ei})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(Ye){const ct=Ye.root.rootName;let qe;if(this._scrollables.has(ct))qe=this._scrollables.get(ct).domElement;else{qe=function(Dt){let Mt=Dt;do{Mt=Mt.parentElement;const jt=C.global.window.getComputedStyle(Mt).overflowY;if(jt=="auto"||jt=="scroll")break}while(Mt.tagName!="BODY");return Mt}(this.editor.editing.view.domConverter.mapViewToDom(Ye)),this._domEmitter.listenTo(qe,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const yt=new C.tb(qe,this._reconvertMarkerThrottled);this._scrollables.set(ct,{domElement:qe,resizeObserver:yt})}return new C.rw(qe).excludeScrollbarsAndBorders()}}function gi(vt,Ye,ct,qe,yt,Dt,Mt){const jt=vt.model,Te=vt.editing.mapper;let V=Oi(vt,Ye);for(;V;){if(!Dt){if(jt.schema.checkChild(V,"$text")){if(ct){const N=ct[0].start,X=Te.toModelPosition(N);if(!Mt||Array.from(Mt.getItems()).every(Pe=>jt.schema.checkChild(X,Pe))){if(jt.schema.checkChild(X,"$text"))return jt.createRange(X);if(N)return Pi(vt,Oi(vt,N.parent),qe,yt)}}}else if(jt.schema.isInline(V))return Pi(vt,V,qe,yt)}if(jt.schema.isBlock(V))return Pi(vt,V,qe,yt);if(jt.schema.checkChild(V,"$block")){const N=Array.from(V.getChildren()).filter(We=>We.is("element")&&!Ti(vt,We));let X=0,Pe=N.length;if(Pe==0)return jt.createRange(jt.createPositionAt(V,"end"));for(;X<Pe-1;){const We=Math.floor((X+Pe)/2);Di(vt,N[We],qe,yt)=="before"?Pe=We:X=We}return Pi(vt,N[X],qe,yt)}V=V.parent}return null}function Ti(vt,Ye){const ct=vt.editing.mapper,qe=vt.editing.view.domConverter,yt=ct.toViewElement(Ye);if(!yt)return!0;const Dt=qe.mapViewToDom(yt);return C.global.window.getComputedStyle(Dt).float!="none"}function Pi(vt,Ye,ct,qe){const yt=vt.model;return yt.createRange(yt.createPositionAt(Ye,Di(vt,Ye,ct,qe)))}function Di(vt,Ye,ct,qe){const yt=vt.editing.mapper,Dt=vt.editing.view.domConverter,Mt=yt.toViewElement(Ye),jt=Dt.mapViewToDom(Mt),Te=new C.rw(jt);return vt.model.schema.isInline(Ye)?ct<(Te.left+Te.right)/2?"before":"after":qe<(Te.top+Te.bottom)/2?"before":"after"}function Oi(vt,Ye){const ct=vt.editing.mapper,qe=vt.editing.view,yt=ct.toModelElement(Ye);if(yt)return yt;const Dt=qe.createPositionBefore(Ye),Mt=ct.findMappedViewAncestor(Dt);return ct.toModelElement(Mt)}var Wi=Object.defineProperty,Gt=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Be=(vt,Ye,ct)=>Ye in vt?Wi(vt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:ct}):vt[Ye]=ct;class dt extends u.k_{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new((0,C.c5)())}static get pluginName(){return"DragDropBlockToolbar"}init(){const Ye=this.editor;if(this.listenTo(Ye,"change:isReadOnly",(ct,qe,yt)=>{yt?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),C._K.isAndroid&&this.forceDisabled("noAndroidSupport"),Ye.plugins.has("BlockToolbar")){const ct=Ye.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(ct,"dragstart",(qe,yt)=>this._handleBlockDragStart(yt)),this._domEmitter.listenTo(C.global.document,"dragover",(qe,yt)=>this._handleBlockDragging(yt)),this._domEmitter.listenTo(C.global.document,"drop",(qe,yt)=>this._handleBlockDragging(yt)),this._domEmitter.listenTo(C.global.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&ct.setAttribute("draggable","true"),this.on("change:isEnabled",(qe,yt,Dt)=>{ct.setAttribute("draggable",Dt?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(Ye){if(!this.isEnabled)return;const ct=this.editor.model,qe=ct.document.selection,yt=this.editor.editing.view,Dt=Array.from(qe.getSelectedBlocks()),Mt=ct.createRange(ct.createPositionBefore(Dt[0]),ct.createPositionAfter(Dt[Dt.length-1]));ct.change(jt=>jt.setSelection(Mt)),this._isBlockDragging=!0,yt.focus(),yt.getObserver(k).onDomEvent(Ye)}_handleBlockDragging(Ye){if(!this.isEnabled||!this._isBlockDragging)return;const ct=Ye.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),qe=Ye.clientY,yt=document.elementFromPoint(ct,qe),Dt=this.editor.editing.view;var Mt,jt;yt&&yt.closest(".ck-editor__editable")&&Dt.getObserver(k).onDomEvent((Mt=((Te,V)=>{for(var N in V||(V={}))le.call(V,N)&&Be(Te,N,V[N]);if(Ke)for(var N of Ke(V))Le.call(V,N)&&Be(Te,N,V[N]);return Te})({},Ye),jt={type:Ye.type,dataTransfer:Ye.dataTransfer,target:yt,clientX:ct,clientY:qe,preventDefault:()=>Ye.preventDefault(),stopPropagation:()=>Ye.stopPropagation()},Gt(Mt,xt(jt))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var ht=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_t=s.n(ht),It=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),zt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_t()(It.A,zt),It.A.locals;class Jt extends u.k_{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=(0,C.cb)(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new((0,C.c5)())}static get pluginName(){return"DragDrop"}static get requires(){return[Ut,$t.x0,gt,dt]}init(){const Ye=this.editor,ct=Ye.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,ct.addObserver(k),ct.addObserver(L.q$),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(Ye,"change:isReadOnly",(qe,yt,Dt)=>{Dt?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(qe,yt,Dt)=>{Dt||this._finalizeDragging(!1)}),C._K.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Ye=this.editor,ct=Ye.model,qe=Ye.editing.view,yt=qe.document,Dt=Ye.plugins.get(gt);this.listenTo(yt,"dragstart",(Mt,jt)=>{if(jt.target&&jt.target.is("editableElement")||(this._prepareDraggedRange(jt.target),!this._draggedRange))return void jt.preventDefault();this._draggingUid=(0,C.Ld)(),jt.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",jt.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Te=ct.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(jt.dataTransfer,Te,"dragstart");const{dataTransfer:V,domTarget:N,domEvent:X}=jt,{clientX:Pe}=X;this._updatePreview({dataTransfer:V,domTarget:N,clientX:Pe}),jt.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(yt,"dragend",(Mt,jt)=>{this._finalizeDragging(!jt.dataTransfer.isCanceled&&jt.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(C.global.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(yt,"dragenter",()=>{this.isEnabled&&qe.focus()}),this.listenTo(yt,"dragleave",()=>{Dt.removeDropMarkerDelayed()}),this.listenTo(yt,"dragging",(Mt,jt)=>{if(!this.isEnabled)return void(jt.dataTransfer.dropEffect="none");const{clientX:Te,clientY:V}=jt.domEvent;Dt.updateDropMarker(jt.target,jt.targetRanges,Te,V,this._blockMode,this._draggedRange),this._draggedRange||(jt.dataTransfer.dropEffect="copy"),C._K.isGecko||(jt.dataTransfer.effectAllowed=="copy"?jt.dataTransfer.dropEffect="copy":["all","copyMove"].includes(jt.dataTransfer.effectAllowed)&&(jt.dataTransfer.dropEffect="move")),Mt.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const Ye=this.editor,ct=Ye.editing.view.document,qe=Ye.plugins.get(gt);this.listenTo(ct,"clipboardInput",(yt,Dt)=>{if(Dt.method!="drop")return;const{clientX:Mt,clientY:jt}=Dt.domEvent,Te=qe.getFinalDropRange(Dt.target,Dt.targetRanges,Mt,jt,this._blockMode,this._draggedRange);if(!Te)return this._finalizeDragging(!1),void yt.stop();if(this._draggedRange&&this._draggingUid!=Dt.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),ai(Dt.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(Te,!0))return this._finalizeDragging(!1),void yt.stop();Dt.targetRanges=[Ye.editing.mapper.toViewRange(Te)]},{priority:"high"})}_setupContentInsertionIntegration(){const Ye=this.editor.plugins.get(Ut);Ye.on("contentInsertion",(ct,qe)=>{if(!this.isEnabled||qe.method!=="drop")return;const yt=qe.targetRanges.map(Dt=>this.editor.editing.mapper.toModelRange(Dt));this.editor.model.change(Dt=>Dt.setSelection(yt))},{priority:"high"}),Ye.on("contentInsertion",(ct,qe)=>{if(!this.isEnabled||qe.method!=="drop")return;const yt=ai(qe.dataTransfer)=="move",Dt=!qe.resultRange||!qe.resultRange.isCollapsed;this._finalizeDragging(Dt&&yt)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Ye=this.editor,ct=Ye.editing.view,qe=ct.document;this.listenTo(qe,"mousedown",(yt,Dt)=>{if(C._K.isAndroid||!Dt)return;this._clearDraggableAttributesDelayed.cancel();let Mt=si(Dt.target);if(C._K.isBlink&&!Ye.isReadOnly&&!Mt&&!qe.selection.isCollapsed){const jt=qe.selection.getSelectedElement();jt&&(0,$t.p4)(jt)||(Mt=qe.selection.editableElement)}Mt&&(ct.change(jt=>{jt.setAttribute("draggable","true",Mt)}),this._draggableElement=Ye.editing.mapper.toModelElement(Mt))}),this.listenTo(qe,"mouseup",()=>{C._K.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Ye=this.editor.editing;Ye.view.change(ct=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&ct.removeAttribute("draggable",Ye.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(Ye){const ct=this.editor,qe=ct.model;ct.plugins.get(gt).removeDropMarker(),this._clearDraggableAttributes(),ct.plugins.has("WidgetToolbarRepository")&&ct.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(Ye&&this.isEnabled&&qe.change(yt=>{const Dt=qe.createSelection(this._draggedRange);qe.deleteContent(Dt,{doNotAutoparagraph:!0});const Mt=Dt.getFirstPosition().parent;Mt.isEmpty&&!qe.schema.checkChild(Mt,"$text")&&qe.schema.checkChild(Mt,"paragraph")&&yt.insertElement("paragraph",Mt,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(Ye){const ct=this.editor,qe=ct.model,yt=qe.document.selection,Dt=Ye?si(Ye):null;if(Dt){const V=ct.editing.mapper.toModelElement(Dt);this._draggedRange=L.Oo.fromRange(qe.createRangeOn(V)),this._blockMode=qe.schema.isBlock(V),ct.plugins.has("WidgetToolbarRepository")&&ct.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(yt.isCollapsed&&!yt.getFirstPosition().parent.isEmpty)return;const Mt=Array.from(yt.getSelectedBlocks()),jt=yt.getFirstRange();if(Mt.length==0)return void(this._draggedRange=L.Oo.fromRange(jt));const Te=Bi(qe,Mt);if(Mt.length>1)this._draggedRange=L.Oo.fromRange(Te),this._blockMode=!0;else if(Mt.length==1){const V=jt.start.isTouching(Te.start)&&jt.end.isTouching(Te.end);this._draggedRange=L.Oo.fromRange(V?Te:jt),this._blockMode=V}qe.change(V=>V.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:Ye,domTarget:ct,clientX:qe}){const yt=this.editor.editing.view,Dt=yt.document.selection.editableElement,Mt=yt.domConverter.mapViewToDom(Dt),jt=C.global.window.getComputedStyle(Mt);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=(0,C.n)(C.global.document,"div",{style:"position: fixed; left: -999999px;"}),C.global.document.body.appendChild(this._previewContainer));const Te=new C.rw(Mt);if(Mt.contains(ct))return;const V=parseFloat(jt.paddingLeft),N=(0,C.n)(C.global.document,"div");N.className="ck ck-content",N.style.width=jt.width,N.style.paddingLeft=`${Te.left-qe+V}px`,C._K.isiOS&&(N.style.backgroundColor="white"),N.innerHTML=Ye.getData("text/html"),Ye.setDragImage(N,0,0),this._previewContainer.appendChild(N)}}function ai(vt){return C._K.isGecko?vt.dropEffect:["all","copyMove"].includes(vt.effectAllowed)?"move":"copy"}function si(vt){if(vt.is("editableElement"))return null;if(vt.hasClass("ck-widget__selection-handle"))return vt.findAncestor($t.p4);if((0,$t.p4)(vt))return vt;const Ye=vt.findAncestor(ct=>(0,$t.p4)(ct)||ct.is("editableElement"));return(0,$t.p4)(Ye)?Ye:null}function Bi(vt,Ye){const ct=Ye[0],qe=Ye[Ye.length-1],yt=ct.getCommonAncestor(qe),Dt=vt.createPositionBefore(ct),Mt=vt.createPositionAfter(qe);if(yt&&yt.is("element")&&!vt.schema.isLimit(yt)){const jt=vt.createRangeOn(yt),Te=Dt.isTouching(jt.start),V=Mt.isTouching(jt.end);if(Te&&V)return Bi(vt,[yt])}return vt.createRange(Dt,Mt)}class pi extends u.k_{static get pluginName(){return"PastePlainText"}static get requires(){return[Ut]}init(){const Ye=this.editor,ct=Ye.model,qe=Ye.editing.view,yt=qe.document,Dt=ct.document.selection;let Mt=!1;qe.addObserver(k),this.listenTo(yt,"keydown",(jt,Te)=>{Mt=Te.shiftKey}),Ye.plugins.get(Ut).on("contentInsertion",(jt,Te)=>{(Mt||function(V,N){if(V.childCount>1)return!1;const X=V.getChild(0);return N.isObject(X)?!1:Array.from(X.getAttributeKeys()).length==0}(Te.content,ct.schema))&&ct.change(V=>{const N=Array.from(Dt.getAttributes()).filter(([Pe])=>ct.schema.getAttributeProperties(Pe).isFormatting);Dt.isCollapsed||ct.deleteContent(Dt,{doNotAutoparagraph:!0}),N.push(...Dt.getAttributes());const X=V.createRangeIn(Te.content);for(const Pe of X.getItems())Pe.is("$textProxy")&&V.setAttributes(N,Pe)})})}}class Ci extends u.k_{static get pluginName(){return"Clipboard"}static get requires(){return[mt,Ut,Jt,pi]}init(){const Ye=this.editor,ct=this.editor.t;Ye.accessibility.addKeystrokeInfos({keystrokes:[{label:ct("Copy selected content"),keystroke:"CTRL+C"},{label:ct("Paste content"),keystroke:"CTRL+V"},{label:ct("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}},"./src/core.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Command:()=>u.uB,Context:()=>u.ob,ContextPlugin:()=>u.HY,DataApiMixin:()=>u.CC,Editor:()=>u.KE,ElementApiMixin:()=>u.mJ,MultiCommand:()=>u.fE,PendingActions:()=>u.TS,Plugin:()=>u.k_,attachToForm:()=>u.JF,icons:()=>u.Pt,secureSourceElement:()=>u.Jl});var u=s("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{AttributeElement:()=>u.Zq,AttributeOperation:()=>u.ML,BubblingEventInfo:()=>u.cJ,ClickObserver:()=>u.Re,Conversion:()=>u.dY,DataController:()=>u.P3,DataTransfer:()=>u._v,DocumentFragment:()=>u.kB,DocumentSelection:()=>u.oi,DomConverter:()=>u.P$,DomEventData:()=>u.FY,DomEventObserver:()=>u.$A,DowncastWriter:()=>u.zN,EditingController:()=>u.L_,EditingView:()=>u.gK,Element:()=>u.Hg,FocusObserver:()=>u.vp,History:()=>u.BZ,HtmlDataProcessor:()=>u.q6,InsertOperation:()=>u.ZG,LivePosition:()=>u.m8,LiveRange:()=>u.Oo,MarkerOperation:()=>u.m4,Matcher:()=>u.PN,MergeOperation:()=>u.GY,Model:()=>u.Kx,MouseObserver:()=>u.q$,MoveOperation:()=>u.hW,NoOperation:()=>u.fS,Observer:()=>u.nu,OperationFactory:()=>u.cr,Position:()=>u.yX,Range:()=>u.Q6,RenameOperation:()=>u.EZ,Renderer:()=>u.A4,RootAttributeOperation:()=>u.gf,RootOperation:()=>u.at,SplitOperation:()=>u._A,StylesMap:()=>u.DG,StylesProcessor:()=>u.tG,TabObserver:()=>u.Yi,Text:()=>u.EY,TextProxy:()=>u.Qo,TreeWalker:()=>u.rU,UpcastWriter:()=>u.Wq,ViewAttributeElement:()=>u.UJ,ViewContainerElement:()=>u.xQ,ViewDocument:()=>u.Vg,ViewDocumentFragment:()=>u.f5,ViewEditableElement:()=>u.OQ,ViewElement:()=>u.m2,ViewEmptyElement:()=>u.Vt,ViewRawElement:()=>u.aZ,ViewRootEditableElement:()=>u.Un,ViewText:()=>u.HQ,ViewTreeWalker:()=>u.u$,ViewUIElement:()=>u.cw,_getModelData:()=>u.XI,_getViewData:()=>u.vQ,_parseModel:()=>u.IG,_parseView:()=>u.kF,_setModelData:()=>u.je,_setViewData:()=>u.JV,_stringifyModel:()=>u.aU,_stringifyView:()=>u._$,addBackgroundRules:()=>u.D0,addBorderRules:()=>u.v7,addMarginRules:()=>u.vt,addPaddingRules:()=>u.mC,disablePlaceholder:()=>u.Kc,enablePlaceholder:()=>u.JT,getBoxSidesShorthandValue:()=>u.qE,getBoxSidesValueReducer:()=>u.rC,getBoxSidesValues:()=>u.QS,getFillerOffset:()=>u.SH,getPositionShorthandNormalizer:()=>u.gz,getShorthandValues:()=>u.M1,hidePlaceholder:()=>u.YU,isAttachment:()=>u.s5,isColor:()=>u._o,isLength:()=>u.Vq,isLineStyle:()=>u.ew,isPercentage:()=>u.fp,isPosition:()=>u.E,isRepeat:()=>u.Cd,isURL:()=>u.mv,needsPlaceholder:()=>u.$0,showPlaceholder:()=>u.Zu,transformSets:()=>u._j});var u=s("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Enter:()=>u.x,ShiftEnter:()=>u.D});var u=s("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Paragraph:()=>K,ParagraphButtonUI:()=>ge});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-utils/src/index.ts");class L extends u.uB{constructor(J){super(J),this._isEnabledBasedOnSelection=!1}refresh(){const J=this.editor.model,Ce=J.document,ue=(0,C.$1)(Ce.selection.getSelectedBlocks());this.value=!!ue&&ue.is("element","paragraph"),this.isEnabled=!!ue&&k(ue,J.schema)}execute(J={}){const Ce=this.editor.model,ue=Ce.document,h=J.selection||ue.selection;Ce.canEditAt(h)&&Ce.change(p=>{const g=h.getSelectedBlocks();for(const _ of g)!_.is("element","paragraph")&&k(_,Ce.schema)&&p.rename(_,"paragraph")})}}function k(Y,J){return J.checkChild(Y.parent,"paragraph")&&!J.isObject(Y)}class v extends u.uB{constructor(J){super(J),this._isEnabledBasedOnSelection=!1}execute(J){const Ce=this.editor.model,ue=J.attributes;let h=J.position;Ce.canEditAt(h)&&Ce.change(p=>{if(h=this._findPositionToInsertParagraph(h,p),!h)return;const g=p.createElement("paragraph");ue&&Ce.schema.setAllowedAttributes(g,ue,p),Ce.insertContent(g,h),p.setSelection(g,"in")})}_findPositionToInsertParagraph(J,Ce){const ue=this.editor.model;if(ue.schema.checkChild(J,"paragraph"))return J;const h=ue.schema.findAllowedParent(J,"paragraph");if(!h)return null;const p=J.parent,g=ue.schema.checkChild(p,"$text");return p.isEmpty||g&&J.isAtEnd?ue.createPositionAfter(p):!p.isEmpty&&g&&J.isAtStart?ue.createPositionBefore(p):Ce.split(J,h).position}}const $=class extends u.k_{static get pluginName(){return"Paragraph"}init(){const Y=this.editor,J=Y.model;Y.commands.add("paragraph",new L(Y)),Y.commands.add("insertParagraph",new v(Y)),J.schema.register("paragraph",{inheritAllFrom:"$block"}),Y.conversion.elementToElement({model:"paragraph",view:"p"}),Y.conversion.for("upcast").elementToElement({model:(Ce,{writer:ue})=>$.paragraphLikeElements.has(Ce.name)?Ce.isEmpty?null:ue.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let K=$;K.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var R=s("./packages/ckeditor5-ui/src/index.ts");const Ee=u.Pt.paragraph;class ge extends u.k_{static get requires(){return[K]}init(){const J=this.editor,Ce=J.t;J.ui.componentFactory.add("paragraph",ue=>{const h=new R._(ue),p=J.commands.get("paragraph");return h.label=Ce("Paragraph"),h.icon=Ee,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(p),h.bind("isOn").to(p,"value"),h.on("execute",()=>{J.execute("paragraph")}),h})}}},"./src/select-all.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{SelectAll:()=>Ee,SelectAllEditing:()=>$,SelectAllUI:()=>R});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-utils/src/index.ts");class L extends u.uB{constructor(Y){super(Y),this.affectsData=!1}execute(){const Y=this.editor.model,J=Y.document.selection;let Ce=Y.schema.getLimitElement(J);if(J.containsEntireContent(Ce)||!k(Y.schema,Ce))do if(Ce=Ce.parent,!Ce)return;while(!k(Y.schema,Ce));Y.change(ue=>{ue.setSelection(Ce,"in")})}}function k(ge,Y){return ge.isLimit(Y)&&(ge.checkChild(Y,"$text")||ge.checkChild(Y,"paragraph"))}const v=(0,C.ZX)("Ctrl+A");class $ extends u.k_{static get pluginName(){return"SelectAllEditing"}init(){const Y=this.editor,J=Y.t,Ce=Y.editing.view.document;Y.commands.add("selectAll",new L(Y)),this.listenTo(Ce,"keydown",(ue,h)=>{(0,C.QC)(h)===v&&(Y.execute("selectAll"),h.preventDefault())}),Y.accessibility.addKeystrokeInfos({keystrokes:[{label:J("Select all"),keystroke:"CTRL+A"}]})}}var K=s("./packages/ckeditor5-ui/src/index.ts");class R extends u.k_{static get pluginName(){return"SelectAllUI"}init(){const Y=this.editor;Y.ui.componentFactory.add("selectAll",()=>{const J=this._createButton(K._);return J.set({tooltip:!0}),J}),Y.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(K.kS))}_createButton(Y){const J=this.editor,Ce=J.locale,ue=J.commands.get("selectAll"),h=new Y(J.locale),p=Ce.t;return h.set({label:p("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),h.bind("isEnabled").to(ue,"isEnabled"),this.listenTo(h,"execute",()=>{J.execute("selectAll"),J.editing.view.focus()}),h}}class Ee extends u.k_{static get requires(){return[$,R]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Delete:()=>u.ep,Input:()=>u.pd,InsertTextCommand:()=>u.Ki,TextTransformation:()=>u.De,TextWatcher:()=>u.qV,TwoStepCaretMovement:()=>u.Vp,Typing:()=>u.IG,findAttributeRange:()=>u.Py,findAttributeRangeBound:()=>u.lO,getLastTextLine:()=>u.ex,inlineHighlight:()=>u.Il});var u=s("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{AccessibilityHelp:()=>u.KO,AutocompleteView:()=>u.uI,BalloonPanelView:()=>u.Jr,BalloonToolbar:()=>u.bQ,BlockToolbar:()=>u.Lz,BodyCollection:()=>u.v1,BoxedEditorUIView:()=>u.Xt,ButtonLabelView:()=>u.e0,ButtonView:()=>u._,CollapsibleView:()=>u.Kn,ColorGridView:()=>u.pQ,ColorPickerView:()=>u.ph,ColorSelectorView:()=>u.oB,ColorTileView:()=>u.vF,ComponentFactory:()=>u.eH,ContextualBalloon:()=>u.pU,CssTransitionDisablerMixin:()=>u.wi,DefaultMenuBarItems:()=>u.ep,Dialog:()=>u.lG,DialogView:()=>u._m,DialogViewPosition:()=>u.nu,DropdownButtonView:()=>u.lU,DropdownPanelView:()=>u.Vz,DropdownView:()=>u.BO,EditorUI:()=>u.Gn,EditorUIView:()=>u.nc,FileDialogButtonView:()=>u.eF,FocusCycler:()=>u.H,FormHeaderView:()=>u.Dy,HighlightedTextView:()=>u.MZ,IconView:()=>u.Ln,IframeView:()=>u.WU,InlineEditableUIView:()=>u.LU,InputNumberView:()=>u.Zz,InputTextView:()=>u.hK,InputView:()=>u.E6,LabelView:()=>u.y0,LabeledFieldView:()=>u.xE,ListItemGroupView:()=>u.m_,ListItemView:()=>u.BD,ListSeparatorView:()=>u.Je,ListView:()=>u.uO,MenuBarMenuListItemButtonView:()=>u.kS,MenuBarMenuListItemFileDialogButtonView:()=>u.GG,MenuBarMenuListItemView:()=>u.I8,MenuBarMenuListView:()=>u.BY,MenuBarMenuView:()=>u.zj,MenuBarView:()=>u.yJ,Notification:()=>u.Eg,SearchInfoView:()=>u.wD,SearchTextView:()=>u.b8,SpinnerView:()=>u.XE,SplitButtonView:()=>u.AO,StickyPanelView:()=>u.xw,SwitchButtonView:()=>u.Wm,Template:()=>u.Bj,TextareaView:()=>u.OB,ToolbarLineBreakView:()=>u.Cy,ToolbarSeparatorView:()=>u.IY,ToolbarView:()=>u.X3,TooltipManager:()=>u.JV,View:()=>u.Ss,ViewCollection:()=>u.s3,ViewModel:()=>u.Jc,_initMenuBar:()=>u.G6,addKeyboardHandlingForGrid:()=>u.l1,addListToDropdown:()=>u.O,addToolbarToDropdown:()=>u.fM,clickOutsideHandler:()=>u.wy,createDropdown:()=>u.yu,createLabeledDropdown:()=>u.By,createLabeledInputNumber:()=>u.F_,createLabeledInputText:()=>u.Vr,createLabeledTextarea:()=>u.GR,focusChildOnDropdownOpen:()=>u.Zn,getLocalizedColorOptions:()=>u.b2,injectCssTransitionDisabler:()=>u.I0,isFocusable:()=>u.tp,isViewWithFocusCycler:()=>u.eG,normalizeColorOptions:()=>u.lF,normalizeMenuBarConfig:()=>u.mB,normalizeSingleColorDefinition:()=>u.iv,normalizeToolbarConfig:()=>u.fl,submitHandler:()=>u.Z5});var u=s("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Undo:()=>p,UndoEditing:()=>Ce,UndoUI:()=>h});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-engine/src/index.ts"),L=Object.defineProperty,k=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,K=(g,_,S)=>_ in g?L(g,_,{enumerable:!0,configurable:!0,writable:!0,value:S}):g[_]=S;class R extends u.uB{constructor(_){super(_),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(_.data,"set",(S,I)=>{I[1]=((ee,H)=>{for(var re in H||(H={}))v.call(H,re)&&K(ee,re,H[re]);if(k)for(var re of k(H))$.call(H,re)&&K(ee,re,H[re]);return ee})({},I[1]);const M=I[1];M.batchType||(M.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(_.data,"set",(S,I)=>{I[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(_){const S=this.editor.model.document.selection,I={ranges:S.hasOwnRange?Array.from(S.getRanges()):[],isBackward:S.isBackward};this._stack.push({batch:_,selection:I}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(_,S,I){const M=this.editor.model,ee=M.document,H=[],re=_.map(W=>W.getTransformedByOperations(I)),O=re.flat();for(const W of re){const ie=W.filter(we=>we.root!=ee.graveyard).filter(we=>!ge(we,O));ie.length&&(Ee(ie),H.push(ie[0]))}H.length&&M.change(W=>{W.setSelection(H,{backward:S})})}_undo(_,S){const I=this.editor.model,M=I.document;this._createdBatches.add(S);const ee=_.operations.slice().filter(H=>H.isDocumentOperation);ee.reverse();for(const H of ee){const re=H.baseVersion+1,O=Array.from(M.history.getOperations(re)),W=(0,C._j)([H.getReversed()],O,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let ie of W){const we=ie.affectedSelectable;we&&!I.canEditAt(we)&&(ie=new C.fS(ie.baseVersion)),S.addOperation(ie),I.applyOperation(ie),M.history.setOperationAsUndone(H,ie)}}}}function Ee(g){g.sort((_,S)=>_.start.isBefore(S.start)?-1:1);for(let _=1;_<g.length;_++){const S=g[_-1].getJoined(g[_],!0);S&&(_--,g.splice(_,2,S))}}function ge(g,_){return _.some(S=>S!==g&&S.containsRange(g,!0))}class Y extends R{execute(_=null){const S=_?this._stack.findIndex(ee=>ee.batch==_):this._stack.length-1,I=this._stack.splice(S,1)[0],M=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(M,()=>{this._undo(I.batch,M);const ee=this.editor.model.document.history.getOperations(I.batch.baseVersion);this._restoreSelection(I.selection.ranges,I.selection.isBackward,ee)}),this.fire("revert",I.batch,M),this.refresh()}}class J extends R{execute(){const _=this._stack.pop(),S=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(S,()=>{const I=_.batch.operations[_.batch.operations.length-1].baseVersion+1,M=this.editor.model.document.history.getOperations(I);this._restoreSelection(_.selection.ranges,_.selection.isBackward,M),this._undo(_.batch,S)}),this.refresh()}}class Ce extends u.k_{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const _=this.editor,S=_.t;this._undoCommand=new Y(_),this._redoCommand=new J(_),_.commands.add("undo",this._undoCommand),_.commands.add("redo",this._redoCommand),this.listenTo(_.model,"applyOperation",(I,M)=>{const ee=M[0];if(!ee.isDocumentOperation)return;const H=ee.batch,re=this._redoCommand.createdBatches.has(H),O=this._undoCommand.createdBatches.has(H);this._batchRegistry.has(H)||(this._batchRegistry.add(H),H.isUndoable&&(re?this._undoCommand.addBatch(H):O||(this._undoCommand.addBatch(H),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(I,M,ee)=>{this._redoCommand.addBatch(ee)}),_.keystrokes.set("CTRL+Z","undo"),_.keystrokes.set("CTRL+Y","redo"),_.keystrokes.set("CTRL+SHIFT+Z","redo"),_.accessibility.addKeystrokeInfos({keystrokes:[{label:S("Undo"),keystroke:"CTRL+Z"},{label:S("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}var ue=s("./packages/ckeditor5-ui/src/index.ts");class h extends u.k_{static get pluginName(){return"UndoUI"}init(){const _=this.editor,S=_.locale,I=_.t,M=S.uiLanguageDirection=="ltr"?u.Pt.undo:u.Pt.redo,ee=S.uiLanguageDirection=="ltr"?u.Pt.redo:u.Pt.undo;this._addButtonsToFactory("undo",I("Undo"),"CTRL+Z",M),this._addButtonsToFactory("redo",I("Redo"),"CTRL+Y",ee)}_addButtonsToFactory(_,S,I,M){const ee=this.editor;ee.ui.componentFactory.add(_,()=>{const H=this._createButton(ue._,_,S,I,M);return H.set({tooltip:!0}),H}),ee.ui.componentFactory.add("menuBar:"+_,()=>this._createButton(ue.kS,_,S,I,M))}_createButton(_,S,I,M,ee){const H=this.editor,re=H.locale,O=H.commands.get(S),W=new _(re);return W.set({label:I,icon:ee,keystroke:M}),W.bind("isEnabled").to(O,"isEnabled"),this.listenTo(W,"execute",()=>{H.execute(S),H.editing.view.focus()}),W}}class p extends u.k_{static get requires(){return[Ce,h]}static get pluginName(){return"Undo"}}},"./src/upload.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{Base64UploadAdapter:()=>$,FileRepository:()=>k,SimpleUploadAdapter:()=>h});var u=s("./packages/ckeditor5-core/src/index.ts"),C=s("./packages/ckeditor5-utils/src/index.ts");class L extends(0,C.VM)(){constructor(){super();const _=new window.FileReader;this._reader=_,this._data=void 0,this.set("loaded",0),_.onprogress=S=>{this.loaded=S.loaded}}get error(){return this._reader.error}get data(){return this._data}read(_){const S=this._reader;return this.total=_.size,new Promise((I,M)=>{S.onload=()=>{const ee=S.result;this._data=ee,I(ee)},S.onerror=()=>{M("error")},S.onabort=()=>{M("aborted")},this._reader.readAsDataURL(_)})}abort(){this._reader.abort()}}class k extends u.k_{constructor(){super(...arguments),this.loaders=new C.pM,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[u.TS]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(_,S)=>S?_/S*100:0)}getLoader(_){return this._loadersMap.get(_)||null}createLoader(_){if(!this.createUploadAdapter)return(0,C.FF)("filerepository-no-upload-adapter"),null;const S=new v(Promise.resolve(_),this.createUploadAdapter);return this.loaders.add(S),this._loadersMap.set(_,S),_ instanceof Promise&&S.file.then(I=>{this._loadersMap.set(I,S)}).catch(()=>{}),S.on("change:uploaded",()=>{let I=0;for(const M of this.loaders)I+=M.uploaded;this.uploaded=I}),S.on("change:uploadTotal",()=>{let I=0;for(const M of this.loaders)M.uploadTotal&&(I+=M.uploadTotal);this.uploadTotal=I}),S}destroyLoader(_){const S=_ instanceof v?_:this.getLoader(_);S._destroy(),this.loaders.remove(S),this._loadersMap.forEach((I,M)=>{I===S&&this._loadersMap.delete(M)})}_updatePendingAction(){const _=this.editor.plugins.get(u.TS);if(this.loaders.length){if(!this._pendingAction){const S=this.editor.t,I=M=>`${S("Upload in progress")} ${parseInt(M)}%.`;this._pendingAction=_.add(I(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",I)}}else _.remove(this._pendingAction),this._pendingAction=null}}class v extends(0,C.VM)(){constructor(_,S){super(),this.id=(0,C.Ld)(),this._filePromiseWrapper=this._createFilePromiseWrapper(_),this._adapter=S(this),this._reader=new L,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(I,M)=>M?I/M*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(_=>this._filePromiseWrapper?_:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new C.Yb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(_=>this._reader.read(_)).then(_=>{if(this.status!=="reading")throw this.status;return this.status="idle",_}).catch(_=>{throw _==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:_)})}upload(){if(this.status!="idle")throw new C.Yb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(_=>(this.uploadResponse=_,this.status="idle",_)).catch(_=>{throw this.status==="aborted"?"aborted":(this.status="error",_)})}abort(){const _=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?_=="reading"?this._reader.abort():_=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(_){const S={};return S.promise=new Promise((I,M)=>{S.rejecter=M,S.isFulfilled=!1,_.then(ee=>{S.isFulfilled=!0,I(ee)}).catch(ee=>{S.isFulfilled=!0,M(ee)})}),S}}class $ extends u.k_{static get requires(){return[k]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(k).createUploadAdapter=_=>new K(_)}}class K{constructor(_){this.loader=_}upload(){return new Promise((_,S)=>{const I=this.reader=new window.FileReader;I.addEventListener("load",()=>{_({default:I.result})}),I.addEventListener("error",M=>{S(M)}),I.addEventListener("abort",()=>{S()}),this.loader.file.then(M=>{I.readAsDataURL(M)})})}abort(){this.reader.abort()}}var R=Object.defineProperty,Ee=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,ue=(g,_,S)=>_ in g?R(g,_,{enumerable:!0,configurable:!0,writable:!0,value:S}):g[_]=S;class h extends u.k_{static get requires(){return[k]}static get pluginName(){return"SimpleUploadAdapter"}init(){const _=this.editor.config.get("simpleUpload");_&&(_.uploadUrl?this.editor.plugins.get(k).createUploadAdapter=S=>new p(S,_):(0,C.FF)("simple-upload-adapter-missing-uploadurl"))}}class p{constructor(_,S){this.loader=_,this.options=S}upload(){return this.loader.file.then(_=>new Promise((S,I)=>{this._initRequest(),this._initListeners(S,I,_),this._sendRequest(_)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const _=this.xhr=new XMLHttpRequest;_.open("POST",this.options.uploadUrl,!0),_.responseType="json"}_initListeners(_,S,I){const M=this.xhr,ee=this.loader,H=`Couldn't upload file: ${I.name}.`;M.addEventListener("error",()=>S(H)),M.addEventListener("abort",()=>S()),M.addEventListener("load",()=>{const re=M.response;if(!re||re.error)return S(re&&re.error&&re.error.message?re.error.message:H);const O=re.url?{default:re.url}:re.urls;var W;_((W=((ie,we)=>{for(var Ae in we||(we={}))J.call(we,Ae)&&ue(ie,Ae,we[Ae]);if(Y)for(var Ae of Y(we))Ce.call(we,Ae)&&ue(ie,Ae,we[Ae]);return ie})({},re),Ee(W,ge({urls:O}))))}),M.upload&&M.upload.addEventListener("progress",re=>{re.lengthComputable&&(ee.uploadTotal=re.total,ee.uploaded=re.loaded)})}_sendRequest(_){const S=this.options.headers||{},I=this.options.withCredentials||!1;for(const ee of Object.keys(S))this.xhr.setRequestHeader(ee,S[ee]);this.xhr.withCredentials=I;const M=new FormData;M.append("upload",_),this.xhr.send(M)}}},"./src/utils.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{CKEditorError:()=>u.Yb,Collection:()=>u.pM,Config:()=>u.TS,DomEmitterMixin:()=>u.c5,ElementReplacer:()=>u.PZ,EmitterMixin:()=>u.Mm,EventInfo:()=>u.vY,FocusTracker:()=>u.$x,KeystrokeHandler:()=>u.EP,Locale:()=>u.hT,ObservableMixin:()=>u.VM,Rect:()=>u.rw,ResizeObserver:()=>u.tb,abortableDebounce:()=>u.KL,compareArrays:()=>u.ww,count:()=>u.U9,createElement:()=>u.n,delay:()=>u.cb,diff:()=>u.Ui,diffToChanges:()=>u.q8,env:()=>u._K,exponentialDelay:()=>u.Nv,fastDiff:()=>u.Mr,findClosestScrollableAncestor:()=>u.j3,first:()=>u.$1,getAncestors:()=>u.DS,getBorderWidths:()=>u.Md,getCode:()=>u.QC,getDataFromElement:()=>u.pG,getEnvKeystrokeText:()=>u.YA,getLanguageDirection:()=>u.iJ,getLocalizedArrowKeyCodeDirection:()=>u.Kf,getOptimalPosition:()=>u.W,global:()=>u.global,indexOf:()=>u.qh,insertAt:()=>u.PT,insertToPriorityArray:()=>u.Yy,isArrowKeyCode:()=>u.Yt,isCombiningMark:()=>u.mY,isComment:()=>u.Cn,isForwardArrowKeyCode:()=>u.HK,isHighSurrogateHalf:()=>u.kv,isInsideCombinedSymbol:()=>u.Iw,isInsideEmojiSequence:()=>u.SQ,isInsideSurrogatePair:()=>u.P5,isIterable:()=>u.xZ,isLowSurrogateHalf:()=>u.k$,isNode:()=>u.Ll,isRange:()=>u._Z,isText:()=>u.KH,isValidAttributeName:()=>u.i8,isVisible:()=>u.zN,keyCodes:()=>u.uP,logError:()=>u.vV,logWarning:()=>u.FF,mix:()=>u.jh,parseKeystroke:()=>u.ZX,priorities:()=>u.vx,releaseDate:()=>u.kM,remove:()=>u.TF,retry:()=>u.L5,scrollAncestorsToShowTarget:()=>u.bi,scrollViewportToShowTarget:()=>u.vK,setDataInElement:()=>u.C_,spliceArray:()=>u.eL,toArray:()=>u.$r,toMap:()=>u.av,toUnit:()=>u.To,uid:()=>u.Ld,verifyLicense:()=>u.rQ,version:()=>u.rE,wait:()=>u.uk});var u=s("./packages/ckeditor5-utils/src/index.ts")},"./src/watchdog.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{ContextWatchdog:()=>S,EditorWatchdog:()=>p,Watchdog:()=>u});class u{constructor(H){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof H.crashNumberLimit=="number"?H.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof H.minimumNonErrorTimePeriod=="number"?H.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=re=>{const O="error"in re?re.error:re.reason;O instanceof Error&&this._handleError(O,re)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(H,re){this._listeners[H]||(this._listeners[H]=[]),this._listeners[H].push(re)}off(H,re){this._listeners[H]=this._listeners[H].filter(O=>O!==re)}_fire(H,...re){const O=this._listeners[H]||[];for(const W of O)W.apply(this,[null,...re])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(H,re){if(this._shouldReactToError(H)){this.crashes.push({message:H.message,stack:H.stack,filename:re instanceof ErrorEvent?re.filename:void 0,lineno:re instanceof ErrorEvent?re.lineno:void 0,colno:re instanceof ErrorEvent?re.colno:void 0,date:this._now()});const O=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:H,causesRestart:O}),O?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(H){return H.is&&H.is("CKEditorError")&&H.context!==void 0&&H.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(H)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function C(ee,H=new Set){const re=[ee],O=new Set;let W=0;for(;re.length>W;){const ie=re[W++];if(!O.has(ie)&&L(ie)&&!H.has(ie))if(O.add(ie),Symbol.iterator in ie)try{for(const we of ie)re.push(we)}catch{}else for(const we in ie)we!=="defaultValue"&&re.push(ie[we])}return O}function L(ee){const H=Object.prototype.toString.call(ee),re=typeof ee;return!(re==="number"||re==="boolean"||re==="string"||re==="symbol"||re==="function"||H==="[object Date]"||H==="[object RegExp]"||H==="[object Module]"||ee==null||ee._watchdogExcluded||ee instanceof EventTarget||ee instanceof Event)}function k(ee,H,re=new Set){if(ee===H&&typeof(O=ee)=="object"&&O!==null)return!0;var O;const W=C(ee,re),ie=C(H,re);for(const we of W)if(ie.has(we))return!0;return!1}var v=s("./node_modules/lodash-es/throttle.js"),$=s("./node_modules/lodash-es/isElement.js"),K=s("./node_modules/lodash-es/cloneDeepWith.js"),R=Object.defineProperty,Ee=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,ue=(ee,H,re)=>H in ee?R(ee,H,{enumerable:!0,configurable:!0,writable:!0,value:re}):ee[H]=re,h=(ee,H)=>{for(var re in H||(H={}))J.call(H,re)&&ue(ee,re,H[re]);if(Y)for(var re of Y(H))Ce.call(H,re)&&ue(ee,re,H[re]);return ee};class p extends u{constructor(H,re={}){super(re),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=(0,v.A)(this._save.bind(this),typeof re.saveInterval=="number"?re.saveInterval:5e3),H&&(this._creator=(O,W)=>H.create(O,W)),this._destructor=O=>O.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(H){this._creator=H}setDestructor(H){this._destructor=H}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(H=>{console.error("An error happened during the editor destroying.",H)}).then(()=>{const H={},re=[],O=this._config.rootsAttributes||{},W={};for(const[He,it]of Object.entries(this._data.roots))it.isLoaded?(H[He]="",W[He]=O[He]||{}):re.push(He);const ie=(we=h({},this._config),Ae={extraPlugins:this._config.extraPlugins||[],lazyRoots:re,rootsAttributes:W,_watchdogInitialData:this._data},Ee(we,ge(Ae)));var we,Ae;return delete ie.initialData,ie.extraPlugins.push(g),this._initUsingData?this.create(H,ie,ie.context):(0,$.A)(this._elementOrData)?this.create(this._elementOrData,ie,ie.context):this.create(this._editables,ie,ie.context)}).then(()=>{this._fire("restart")})}create(H=this._elementOrData,re=this._config,O){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=H,this._initUsingData=typeof H=="string"||Object.keys(H).length>0&&typeof Object.values(H)[0]=="string",this._config=this._cloneEditorConfiguration(re)||{},this._config.context=O,this._creator(H,this._config))).then(W=>{this._editor=W,W.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=W.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const H=this._editor;return this._editor=null,H.model.document.off("change:data",this._throttledSave),this._destructor(H)})}_save(){const H=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=H}catch(re){console.error(re,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(H){this._excludedProps=H}_getData(){const H=this._editor,re=H.model.document.roots.filter(Ae=>Ae.isAttached()&&Ae.rootName!="$graveyard"),{plugins:O}=H,W=O.has("CommentsRepository")&&O.get("CommentsRepository"),ie=O.has("TrackChanges")&&O.get("TrackChanges"),we={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};re.forEach(Ae=>{we.roots[Ae.rootName]={content:JSON.stringify(Array.from(Ae.getChildren())),attributes:JSON.stringify(Array.from(Ae.getAttributes())),isLoaded:Ae._isLoaded}});for(const Ae of H.model.markers)Ae._affectsData&&(we.markers[Ae.name]={rangeJSON:Ae.getRange().toJSON(),usingOperation:Ae._managedUsingOperations,affectsData:Ae._affectsData});return W&&(we.commentThreads=JSON.stringify(W.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),ie&&(we.suggestions=JSON.stringify(ie.getSuggestions({toJSON:!0,skipNotAttached:!0}))),we}_getEditables(){const H={};for(const re of this.editor.model.document.getRootNames()){const O=this.editor.ui.getEditableElement(re);O&&(H[re]=O)}return H}_isErrorComingFromThisItem(H){return k(this._editor,H.context,this._excludedProps)}_cloneEditorConfiguration(H){return(0,K.A)(H,(re,O)=>(0,$.A)(re)||O==="context"?re:void 0)}}class g{constructor(H){this.editor=H,this._data=H.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",H=>{H.stop(),this.editor.model.enqueueChange({isUndoable:!1},re=>{this._restoreCollaborationData(),this._restoreEditorData(re)}),this.editor.data.fire("ready")},{priority:999})}_createNode(H,re){if("name"in re){const O=H.createElement(re.name,re.attributes);if(re.children)for(const W of re.children)O._appendChild(this._createNode(H,W));return O}return H.createText(re.data,re.attributes)}_restoreEditorData(H){const re=this.editor;Object.entries(this._data.roots).forEach(([O,{content:W,attributes:ie}])=>{const we=JSON.parse(W),Ae=JSON.parse(ie),He=re.model.document.getRoot(O);for(const[it,ne]of Ae)H.setAttribute(it,ne,He);for(const it of we){const ne=this._createNode(H,it);H.insert(ne,He,"end")}}),Object.entries(this._data.markers).forEach(([O,W])=>{const{document:ie}=re.model,we=W,{rangeJSON:{start:Ae,end:He}}=we,it=((Oe,G)=>{var Ie={};for(var Ue in Oe)J.call(Oe,Ue)&&G.indexOf(Ue)<0&&(Ie[Ue]=Oe[Ue]);if(Oe!=null&&Y)for(var Ue of Y(Oe))G.indexOf(Ue)<0&&Ce.call(Oe,Ue)&&(Ie[Ue]=Oe[Ue]);return Ie})(we,["rangeJSON"]),ne=ie.getRoot(Ae.root),de=H.createPositionFromPath(ne,Ae.path,Ae.stickiness),Se=H.createPositionFromPath(ne,He.path,He.stickiness),Re=H.createRange(de,Se);H.addMarker(O,h({range:Re},it))})}_restoreCollaborationData(){const H=JSON.parse(this._data.commentThreads),re=JSON.parse(this._data.suggestions);H.forEach(O=>{const W=this.editor.config.get("collaboration.channelId"),ie=this.editor.plugins.get("CommentsRepository");ie.hasCommentThread(O.threadId)&&ie.getCommentThread(O.threadId).remove(),ie.addCommentThread(h({channelId:W},O))}),re.forEach(O=>{const W=this.editor.plugins.get("TrackChangesEditing");W.hasSuggestion(O.id)?W.getSuggestion(O.id).attributes=O.attributes:W.addSuggestionData(O)})}}const _=Symbol("MainQueueId");class S extends u{constructor(H,re={}){super(re),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new I,this._watchdogConfig=re,this._creator=O=>H.create(O),this._destructor=O=>O.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(H){this._creator=H}setDestructor(H){this._destructor=H}get context(){return this._context}create(H={}){return this._actionQueues.enqueue(_,()=>(this._contextConfig=H,this._create()))}getItem(H){return this._getWatchdog(H)._item}getItemState(H){return this._getWatchdog(H).state}add(H){const re=M(H);return Promise.all(re.map(O=>this._actionQueues.enqueue(O.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let W;if(this._watchdogs.has(O.id))throw new Error(`Item with the given id is already added: '${O.id}'.`);if(O.type==="editor")return W=new p(null,this._watchdogConfig),W.setCreator(O.creator),W._setExcludedProperties(this._contextProps),O.destructor&&W.setDestructor(O.destructor),this._watchdogs.set(O.id,W),W.on("error",(ie,{error:we,causesRestart:Ae})=>{this._fire("itemError",{itemId:O.id,error:we}),Ae&&this._actionQueues.enqueue(O.id,()=>new Promise(He=>{const it=()=>{W.off("restart",it),this._fire("itemRestart",{itemId:O.id}),He()};W.on("restart",it)}))}),W.create(O.sourceElementOrData,O.config,this._context);throw new Error(`Not supported item type: '${O.type}'.`)})))}remove(H){const re=M(H);return Promise.all(re.map(O=>this._actionQueues.enqueue(O,()=>{const W=this._getWatchdog(O);return this._watchdogs.delete(O),W.destroy()})))}destroy(){return this._actionQueues.enqueue(_,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(_,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(H=>{console.error("An error happened during destroying the context or items.",H)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(H=>(this._context=H,this._contextProps=C(this._context),Promise.all(Array.from(this._watchdogs.values()).map(re=>(re._setExcludedProperties(this._contextProps),re.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const H=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(re=>re.destroy())).then(()=>this._destructor(H))})}_getWatchdog(H){const re=this._watchdogs.get(H);if(!re)throw new Error(`Item with the given id was not registered: ${H}.`);return re}_isErrorComingFromThisItem(H){for(const re of this._watchdogs.values())if(re._isErrorComingFromThisItem(H))return!1;return k(this._context,H.context)}}class I{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(H){this._onEmptyCallbacks.push(H)}enqueue(H,re){const O=H===_;this._activeActions++,this._queues.get(H)||this._queues.set(H,Promise.resolve());const W=(O?Promise.all(this._queues.values()):Promise.all([this._queues.get(_),this._queues.get(H)])).then(re),ie=W.catch(()=>{});return this._queues.set(H,ie),W.finally(()=>{this._activeActions--,this._queues.get(H)===ie&&this._activeActions===0&&this._onEmptyCallbacks.forEach(we=>we())})}}function M(ee){return Array.isArray(ee)?ee:[ee]}},"./src/widget.js":(d,w,s)=>{"use strict";s.r(w),s.d(w,{WIDGET_CLASS_NAME:()=>u.iW,WIDGET_SELECTED_CLASS_NAME:()=>u.w_,Widget:()=>u.x0,WidgetResize:()=>u.VE,WidgetToolbarRepository:()=>u.oP,WidgetTypeAround:()=>u.oT,calculateResizeHostAncestorWidth:()=>u.Wu,calculateResizeHostPercentageWidth:()=>u.Hq,findOptimalInsertionRange:()=>u.iB,getLabel:()=>u.p9,isWidget:()=>u.p4,setHighlightHandling:()=>u._s,setLabel:()=>u.je,toWidget:()=>u.Ex,toWidgetEditable:()=>u.YN,viewToModelPositionOutsideModelElement:()=>u.$u});var u=s("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(d,w,s)=>{d.exports=s},"./node_modules/lodash-es/_ListCache.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>ge});const u=function(){this.__data__=[],this.size=0};var C=s("./node_modules/lodash-es/eq.js");const L=function(Y,J){for(var Ce=Y.length;Ce--;)if((0,C.A)(Y[Ce][0],J))return Ce;return-1};var k=Array.prototype.splice;const v=function(Y){var J=this.__data__,Ce=L(J,Y);return!(Ce<0)&&(Ce==J.length-1?J.pop():k.call(J,Ce,1),--this.size,!0)},$=function(Y){var J=this.__data__,Ce=L(J,Y);return Ce<0?void 0:J[Ce][1]},K=function(Y){return L(this.__data__,Y)>-1},R=function(Y,J){var Ce=this.__data__,ue=L(Ce,Y);return ue<0?(++this.size,Ce.push([Y,J])):Ce[ue][1]=J,this};function Ee(Y){var J=-1,Ce=Y==null?0:Y.length;for(this.clear();++J<Ce;){var ue=Y[J];this.set(ue[0],ue[1])}}Ee.prototype.clear=u,Ee.prototype.delete=v,Ee.prototype.get=$,Ee.prototype.has=K,Ee.prototype.set=R;const ge=Ee},"./node_modules/lodash-es/_Map.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_getNative.js"),C=s("./node_modules/lodash-es/_root.js");const L=(0,u.A)(C.A,"Map")},"./node_modules/lodash-es/_MapCache.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>M});const u=(0,s("./node_modules/lodash-es/_getNative.js").A)(Object,"create"),C=function(){this.__data__=u?u(null):{},this.size=0},L=function(ee){var H=this.has(ee)&&delete this.__data__[ee];return this.size-=H?1:0,H};var k=Object.prototype.hasOwnProperty;const v=function(ee){var H=this.__data__;if(u){var re=H[ee];return re==="__lodash_hash_undefined__"?void 0:re}return k.call(H,ee)?H[ee]:void 0};var $=Object.prototype.hasOwnProperty;const K=function(ee){var H=this.__data__;return u?H[ee]!==void 0:$.call(H,ee)},R=function(ee,H){var re=this.__data__;return this.size+=this.has(ee)?0:1,re[ee]=u&&H===void 0?"__lodash_hash_undefined__":H,this};function Ee(ee){var H=-1,re=ee==null?0:ee.length;for(this.clear();++H<re;){var O=ee[H];this.set(O[0],O[1])}}Ee.prototype.clear=C,Ee.prototype.delete=L,Ee.prototype.get=v,Ee.prototype.has=K,Ee.prototype.set=R;const ge=Ee;var Y=s("./node_modules/lodash-es/_ListCache.js"),J=s("./node_modules/lodash-es/_Map.js");const Ce=function(){this.size=0,this.__data__={hash:new ge,map:new(J.A||Y.A),string:new ge}},ue=function(ee){var H=typeof ee;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?ee!=="__proto__":ee===null},h=function(ee,H){var re=ee.__data__;return ue(H)?re[typeof H=="string"?"string":"hash"]:re.map},p=function(ee){var H=h(this,ee).delete(ee);return this.size-=H?1:0,H},g=function(ee){return h(this,ee).get(ee)},_=function(ee){return h(this,ee).has(ee)},S=function(ee,H){var re=h(this,ee),O=re.size;return re.set(ee,H),this.size+=re.size==O?0:1,this};function I(ee){var H=-1,re=ee==null?0:ee.length;for(this.clear();++H<re;){var O=ee[H];this.set(O[0],O[1])}}I.prototype.clear=Ce,I.prototype.delete=p,I.prototype.get=g,I.prototype.has=_,I.prototype.set=S;const M=I},"./node_modules/lodash-es/_Stack.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>ge});var u=s("./node_modules/lodash-es/_ListCache.js");const C=function(){this.__data__=new u.A,this.size=0},L=function(Y){var J=this.__data__,Ce=J.delete(Y);return this.size=J.size,Ce},k=function(Y){return this.__data__.get(Y)},v=function(Y){return this.__data__.has(Y)};var $=s("./node_modules/lodash-es/_Map.js"),K=s("./node_modules/lodash-es/_MapCache.js");const R=function(Y,J){var Ce=this.__data__;if(Ce instanceof u.A){var ue=Ce.__data__;if(!$.A||ue.length<199)return ue.push([Y,J]),this.size=++Ce.size,this;Ce=this.__data__=new K.A(ue)}return Ce.set(Y,J),this.size=Ce.size,this};function Ee(Y){var J=this.__data__=new u.A(Y);this.size=J.size}Ee.prototype.clear=C,Ee.prototype.delete=L,Ee.prototype.get=k,Ee.prototype.has=v,Ee.prototype.set=R;const ge=Ee},"./node_modules/lodash-es/_Symbol.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=s("./node_modules/lodash-es/_root.js").A.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=s("./node_modules/lodash-es/_root.js").A.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>R});const u=function(Ee,ge){for(var Y=-1,J=Array(Ee);++Y<Ee;)J[Y]=ge(Y);return J};var C=s("./node_modules/lodash-es/isArguments.js"),L=s("./node_modules/lodash-es/isArray.js"),k=s("./node_modules/lodash-es/isBuffer.js"),v=s("./node_modules/lodash-es/_isIndex.js"),$=s("./node_modules/lodash-es/isTypedArray.js"),K=Object.prototype.hasOwnProperty;const R=function(Ee,ge){var Y=(0,L.A)(Ee),J=!Y&&(0,C.A)(Ee),Ce=!Y&&!J&&(0,k.A)(Ee),ue=!Y&&!J&&!Ce&&(0,$.A)(Ee),h=Y||J||Ce||ue,p=h?u(Ee.length,String):[],g=p.length;for(var _ in Ee)!ge&&!K.call(Ee,_)||h&&(_=="length"||Ce&&(_=="offset"||_=="parent")||ue&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||(0,v.A)(_,g))||p.push(_);return p}},"./node_modules/lodash-es/_arrayPush.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C,L){for(var k=-1,v=L.length,$=C.length;++k<v;)C[$+k]=L[k];return C}},"./node_modules/lodash-es/_assignValue.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>k});var u=s("./node_modules/lodash-es/_baseAssignValue.js"),C=s("./node_modules/lodash-es/eq.js"),L=Object.prototype.hasOwnProperty;const k=function(v,$,K){var R=v[$];L.call(v,$)&&(0,C.A)(R,K)&&(K!==void 0||$ in v)||(0,u.A)(v,$,K)}},"./node_modules/lodash-es/_baseAssignValue.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_defineProperty.js");const C=function(L,k,v){k=="__proto__"&&u.A?(0,u.A)(L,k,{configurable:!0,enumerable:!0,value:v,writable:!0}):L[k]=v}},"./node_modules/lodash-es/_baseClone.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>qt});var u=s("./node_modules/lodash-es/_Stack.js");const C=function(wt,tt){for(var gt=-1,gi=wt==null?0:wt.length;++gt<gi&&tt(wt[gt],gt,wt)!==!1;);return wt};var L=s("./node_modules/lodash-es/_assignValue.js"),k=s("./node_modules/lodash-es/_copyObject.js"),v=s("./node_modules/lodash-es/keys.js");const $=function(wt,tt){return wt&&(0,k.A)(tt,(0,v.A)(tt),wt)};var K=s("./node_modules/lodash-es/keysIn.js");const R=function(wt,tt){return wt&&(0,k.A)(tt,(0,K.A)(tt),wt)};var Ee=s("./node_modules/lodash-es/_cloneBuffer.js"),ge=s("./node_modules/lodash-es/_copyArray.js"),Y=s("./node_modules/lodash-es/_getSymbols.js");const J=function(wt,tt){return(0,k.A)(wt,(0,Y.A)(wt),tt)};var Ce=s("./node_modules/lodash-es/_arrayPush.js"),ue=s("./node_modules/lodash-es/_getPrototype.js"),h=s("./node_modules/lodash-es/stubArray.js");const p=Object.getOwnPropertySymbols?function(wt){for(var tt=[];wt;)(0,Ce.A)(tt,(0,Y.A)(wt)),wt=(0,ue.A)(wt);return tt}:h.A,g=function(wt,tt){return(0,k.A)(wt,p(wt),tt)};var _=s("./node_modules/lodash-es/_getAllKeys.js"),S=s("./node_modules/lodash-es/_baseGetAllKeys.js");const I=function(wt){return(0,S.A)(wt,K.A,p)};var M=s("./node_modules/lodash-es/_getTag.js"),ee=Object.prototype.hasOwnProperty;const H=function(wt){var tt=wt.length,gt=new wt.constructor(tt);return tt&&typeof wt[0]=="string"&&ee.call(wt,"index")&&(gt.index=wt.index,gt.input=wt.input),gt};var re=s("./node_modules/lodash-es/_cloneArrayBuffer.js");const O=function(wt,tt){var gt=tt?(0,re.A)(wt.buffer):wt.buffer;return new wt.constructor(gt,wt.byteOffset,wt.byteLength)};var W=/\w*$/;const ie=function(wt){var tt=new wt.constructor(wt.source,W.exec(wt));return tt.lastIndex=wt.lastIndex,tt};var we=s("./node_modules/lodash-es/_Symbol.js"),Ae=we.A?we.A.prototype:void 0,He=Ae?Ae.valueOf:void 0;const it=function(wt){return He?Object(He.call(wt)):{}};var ne=s("./node_modules/lodash-es/_cloneTypedArray.js");const de=function(wt,tt,gt){var gi=wt.constructor;switch(tt){case"[object ArrayBuffer]":return(0,re.A)(wt);case"[object Boolean]":case"[object Date]":return new gi(+wt);case"[object DataView]":return O(wt,gt);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,ne.A)(wt,gt);case"[object Map]":case"[object Set]":return new gi;case"[object Number]":case"[object String]":return new gi(wt);case"[object RegExp]":return ie(wt);case"[object Symbol]":return it(wt)}};var Se=s("./node_modules/lodash-es/_initCloneObject.js"),Re=s("./node_modules/lodash-es/isArray.js"),Oe=s("./node_modules/lodash-es/isBuffer.js"),G=s("./node_modules/lodash-es/isObjectLike.js");const Ie=function(wt){return(0,G.A)(wt)&&(0,M.A)(wt)=="[object Map]"};var Ue=s("./node_modules/lodash-es/_baseUnary.js"),nt=s("./node_modules/lodash-es/_nodeUtil.js"),xe=nt.A&&nt.A.isMap;const pe=xe?(0,Ue.A)(xe):Ie;var ye=s("./node_modules/lodash-es/isObject.js");const Ze=function(wt){return(0,G.A)(wt)&&(0,M.A)(wt)=="[object Set]"};var ot=nt.A&&nt.A.isSet;const at=ot?(0,Ue.A)(ot):Ze;var mt="[object Arguments]",Ut="[object Function]",$t="[object Object]",St={};St[mt]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St[$t]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St[Ut]=St["[object WeakMap]"]=!1;const qt=function wt(tt,gt,gi,Ti,Pi,Di){var Oi,Wi=1&gt,Gt=2&gt,xt=4&gt;if(gi&&(Oi=Pi?gi(tt,Ti,Pi,Di):gi(tt)),Oi!==void 0)return Oi;if(!(0,ye.A)(tt))return tt;var Ke=(0,Re.A)(tt);if(Ke){if(Oi=H(tt),!Wi)return(0,ge.A)(tt,Oi)}else{var le=(0,M.A)(tt),Le=le==Ut||le=="[object GeneratorFunction]";if((0,Oe.A)(tt))return(0,Ee.A)(tt,Wi);if(le==$t||le==mt||Le&&!Pi){if(Oi=Gt||Le?{}:(0,Se.A)(tt),!Wi)return Gt?g(tt,R(Oi,tt)):J(tt,$(Oi,tt))}else{if(!St[le])return Pi?tt:{};Oi=de(tt,le,Wi)}}Di||(Di=new u.A);var Be=Di.get(tt);if(Be)return Be;Di.set(tt,Oi),at(tt)?tt.forEach(function(_t){Oi.add(wt(_t,gt,gi,_t,tt,Di))}):pe(tt)&&tt.forEach(function(_t,It){Oi.set(It,wt(_t,gt,gi,It,tt,Di))});var dt=xt?Gt?I:_.A:Gt?K.A:v.A,ht=Ke?void 0:dt(tt);return C(ht||tt,function(_t,It){ht&&(_t=tt[It=_t]),(0,L.A)(Oi,It,wt(_t,gt,gi,It,tt,Di))}),Oi}},"./node_modules/lodash-es/_baseFor.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){return function(L,k,v){for(var $=-1,K=Object(L),R=v(L),Ee=R.length;Ee--;){var ge=R[C?Ee:++$];if(k(K[ge],ge,K)===!1)break}return L}}()},"./node_modules/lodash-es/_baseGet.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_castPath.js"),C=s("./node_modules/lodash-es/_toKey.js");const L=function(k,v){for(var $=0,K=(v=(0,u.A)(v,k)).length;k!=null&&$<K;)k=k[(0,C.A)(v[$++])];return $&&$==K?k:void 0}},"./node_modules/lodash-es/_baseGetAllKeys.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_arrayPush.js"),C=s("./node_modules/lodash-es/isArray.js");const L=function(k,v,$){var K=v(k);return(0,C.A)(k)?K:(0,u.A)(K,$(k))}},"./node_modules/lodash-es/_baseGetTag.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>ge});var u=s("./node_modules/lodash-es/_Symbol.js"),C=Object.prototype,L=C.hasOwnProperty,k=C.toString,v=u.A?u.A.toStringTag:void 0;const $=function(Y){var J=L.call(Y,v),Ce=Y[v];try{Y[v]=void 0;var ue=!0}catch{}var h=k.call(Y);return ue&&(J?Y[v]=Ce:delete Y[v]),h};var K=Object.prototype.toString;const R=function(Y){return K.call(Y)};var Ee=u.A?u.A.toStringTag:void 0;const ge=function(Y){return Y==null?Y===void 0?"[object Undefined]":"[object Null]":Ee&&Ee in Object(Y)?$(Y):R(Y)}},"./node_modules/lodash-es/_baseIsEqual.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>it});var u=s("./node_modules/lodash-es/_Stack.js"),C=s("./node_modules/lodash-es/_MapCache.js");const L=function(ne){return this.__data__.set(ne,"__lodash_hash_undefined__"),this},k=function(ne){return this.__data__.has(ne)};function v(ne){var de=-1,Se=ne==null?0:ne.length;for(this.__data__=new C.A;++de<Se;)this.add(ne[de])}v.prototype.add=v.prototype.push=L,v.prototype.has=k;const $=v,K=function(ne,de){for(var Se=-1,Re=ne==null?0:ne.length;++Se<Re;)if(de(ne[Se],Se,ne))return!0;return!1},R=function(ne,de){return ne.has(de)},Ee=function(ne,de,Se,Re,Oe,G){var Ie=1&Se,Ue=ne.length,nt=de.length;if(Ue!=nt&&!(Ie&&nt>Ue))return!1;var xe=G.get(ne),pe=G.get(de);if(xe&&pe)return xe==de&&pe==ne;var ye=-1,Ze=!0,ot=2&Se?new $:void 0;for(G.set(ne,de),G.set(de,ne);++ye<Ue;){var at=ne[ye],mt=de[ye];if(Re)var Ut=Ie?Re(mt,at,ye,de,ne,G):Re(at,mt,ye,ne,de,G);if(Ut!==void 0){if(Ut)continue;Ze=!1;break}if(ot){if(!K(de,function($t,St){if(!R(ot,St)&&(at===$t||Oe(at,$t,Se,Re,G)))return ot.push(St)})){Ze=!1;break}}else if(at!==mt&&!Oe(at,mt,Se,Re,G)){Ze=!1;break}}return G.delete(ne),G.delete(de),Ze};var ge=s("./node_modules/lodash-es/_Symbol.js"),Y=s("./node_modules/lodash-es/_Uint8Array.js"),J=s("./node_modules/lodash-es/eq.js");const Ce=function(ne){var de=-1,Se=Array(ne.size);return ne.forEach(function(Re,Oe){Se[++de]=[Oe,Re]}),Se},ue=function(ne){var de=-1,Se=Array(ne.size);return ne.forEach(function(Re){Se[++de]=Re}),Se};var h=ge.A?ge.A.prototype:void 0,p=h?h.valueOf:void 0;const g=function(ne,de,Se,Re,Oe,G,Ie){switch(Se){case"[object DataView]":if(ne.byteLength!=de.byteLength||ne.byteOffset!=de.byteOffset)return!1;ne=ne.buffer,de=de.buffer;case"[object ArrayBuffer]":return!(ne.byteLength!=de.byteLength||!G(new Y.A(ne),new Y.A(de)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,J.A)(+ne,+de);case"[object Error]":return ne.name==de.name&&ne.message==de.message;case"[object RegExp]":case"[object String]":return ne==de+"";case"[object Map]":var Ue=Ce;case"[object Set]":var nt=1&Re;if(Ue||(Ue=ue),ne.size!=de.size&&!nt)return!1;var xe=Ie.get(ne);if(xe)return xe==de;Re|=2,Ie.set(ne,de);var pe=Ee(Ue(ne),Ue(de),Re,Oe,G,Ie);return Ie.delete(ne),pe;case"[object Symbol]":if(p)return p.call(ne)==p.call(de)}return!1};var _=s("./node_modules/lodash-es/_getAllKeys.js"),S=Object.prototype.hasOwnProperty;const I=function(ne,de,Se,Re,Oe,G){var Ie=1&Se,Ue=(0,_.A)(ne),nt=Ue.length;if(nt!=(0,_.A)(de).length&&!Ie)return!1;for(var xe=nt;xe--;){var pe=Ue[xe];if(!(Ie?pe in de:S.call(de,pe)))return!1}var ye=G.get(ne),Ze=G.get(de);if(ye&&Ze)return ye==de&&Ze==ne;var ot=!0;G.set(ne,de),G.set(de,ne);for(var at=Ie;++xe<nt;){var mt=ne[pe=Ue[xe]],Ut=de[pe];if(Re)var $t=Ie?Re(Ut,mt,pe,de,ne,G):Re(mt,Ut,pe,ne,de,G);if(!($t===void 0?mt===Ut||Oe(mt,Ut,Se,Re,G):$t)){ot=!1;break}at||(at=pe=="constructor")}if(ot&&!at){var St=ne.constructor,qt=de.constructor;St==qt||!("constructor"in ne)||!("constructor"in de)||typeof St=="function"&&St instanceof St&&typeof qt=="function"&&qt instanceof qt||(ot=!1)}return G.delete(ne),G.delete(de),ot};var M=s("./node_modules/lodash-es/_getTag.js"),ee=s("./node_modules/lodash-es/isArray.js"),H=s("./node_modules/lodash-es/isBuffer.js"),re=s("./node_modules/lodash-es/isTypedArray.js"),O="[object Arguments]",W="[object Array]",ie="[object Object]",we=Object.prototype.hasOwnProperty;const Ae=function(ne,de,Se,Re,Oe,G){var Ie=(0,ee.A)(ne),Ue=(0,ee.A)(de),nt=Ie?W:(0,M.A)(ne),xe=Ue?W:(0,M.A)(de),pe=(nt=nt==O?ie:nt)==ie,ye=(xe=xe==O?ie:xe)==ie,Ze=nt==xe;if(Ze&&(0,H.A)(ne)){if(!(0,H.A)(de))return!1;Ie=!0,pe=!1}if(Ze&&!pe)return G||(G=new u.A),Ie||(0,re.A)(ne)?Ee(ne,de,Se,Re,Oe,G):g(ne,de,nt,Se,Re,Oe,G);if(!(1&Se)){var ot=pe&&we.call(ne,"__wrapped__"),at=ye&&we.call(de,"__wrapped__");if(ot||at){var mt=ot?ne.value():ne,Ut=at?de.value():de;return G||(G=new u.A),Oe(mt,Ut,Se,Re,G)}}return!!Ze&&(G||(G=new u.A),I(ne,de,Se,Re,Oe,G))};var He=s("./node_modules/lodash-es/isObjectLike.js");const it=function ne(de,Se,Re,Oe,G){return de===Se||(de==null||Se==null||!(0,He.A)(de)&&!(0,He.A)(Se)?de!=de&&Se!=Se:Ae(de,Se,Re,Oe,ne,G))}},"./node_modules/lodash-es/_baseUnary.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){return function(L){return C(L)}}},"./node_modules/lodash-es/_castPath.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>ge});var u=s("./node_modules/lodash-es/isArray.js"),C=s("./node_modules/lodash-es/_isKey.js"),L=s("./node_modules/lodash-es/_MapCache.js");function k(Y,J){if(typeof Y!="function"||J!=null&&typeof J!="function")throw new TypeError("Expected a function");var Ce=function(){var ue=arguments,h=J?J.apply(this,ue):ue[0],p=Ce.cache;if(p.has(h))return p.get(h);var g=Y.apply(this,ue);return Ce.cache=p.set(h,g)||p,g};return Ce.cache=new(k.Cache||L.A),Ce}k.Cache=L.A;const v=k;var $=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/\\(\\)?/g;const R=function(Y){var J=v(Y,function(ue){return Ce.size===500&&Ce.clear(),ue}),Ce=J.cache;return J}(function(Y){var J=[];return Y.charCodeAt(0)===46&&J.push(""),Y.replace($,function(Ce,ue,h,p){J.push(h?p.replace(K,"$1"):ue||Ce)}),J});var Ee=s("./node_modules/lodash-es/toString.js");const ge=function(Y,J){return(0,u.A)(Y)?Y:(0,C.A)(Y,J)?[Y]:R((0,Ee.A)(Y))}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_Uint8Array.js");const C=function(L){var k=new L.constructor(L.byteLength);return new u.A(k).set(new u.A(L)),k}},"./node_modules/lodash-es/_cloneBuffer.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>$});var u=s("./node_modules/lodash-es/_root.js"),C=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L=C&&typeof module=="object"&&module&&!module.nodeType&&module,k=L&&L.exports===C?u.A.Buffer:void 0,v=k?k.allocUnsafe:void 0;const $=function(K,R){if(R)return K.slice();var Ee=K.length,ge=v?v(Ee):new K.constructor(Ee);return K.copy(ge),ge}},"./node_modules/lodash-es/_cloneTypedArray.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_cloneArrayBuffer.js");const C=function(L,k){var v=k?(0,u.A)(L.buffer):L.buffer;return new L.constructor(v,L.byteOffset,L.length)}},"./node_modules/lodash-es/_copyArray.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C,L){var k=-1,v=C.length;for(L||(L=Array(v));++k<v;)L[k]=C[k];return L}},"./node_modules/lodash-es/_copyObject.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_assignValue.js"),C=s("./node_modules/lodash-es/_baseAssignValue.js");const L=function(k,v,$,K){var R=!$;$||($={});for(var Ee=-1,ge=v.length;++Ee<ge;){var Y=v[Ee],J=K?K($[Y],k[Y],Y,$,k):void 0;J===void 0&&(J=k[Y]),R?(0,C.A)($,Y,J):(0,u.A)($,Y,J)}return $}},"./node_modules/lodash-es/_createAssigner.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>p});var u=s("./node_modules/lodash-es/identity.js");const C=function(g,_,S){switch(S.length){case 0:return g.call(_);case 1:return g.call(_,S[0]);case 2:return g.call(_,S[0],S[1]);case 3:return g.call(_,S[0],S[1],S[2])}return g.apply(_,S)};var L=Math.max;const k=function(g,_,S){return _=L(_===void 0?g.length-1:_,0),function(){for(var I=arguments,M=-1,ee=L(I.length-_,0),H=Array(ee);++M<ee;)H[M]=I[_+M];M=-1;for(var re=Array(_+1);++M<_;)re[M]=I[M];return re[_]=S(H),C(g,this,re)}},v=function(g){return function(){return g}};var $=s("./node_modules/lodash-es/_defineProperty.js");const K=$.A?function(g,_){return(0,$.A)(g,"toString",{configurable:!0,enumerable:!1,value:v(_),writable:!0})}:u.A;var R=Date.now;const Ee=function(g){var _=0,S=0;return function(){var I=R(),M=16-(I-S);if(S=I,M>0){if(++_>=800)return arguments[0]}else _=0;return g.apply(void 0,arguments)}}(K),ge=function(g,_){return Ee(k(g,_,u.A),g+"")};var Y=s("./node_modules/lodash-es/eq.js"),J=s("./node_modules/lodash-es/isArrayLike.js"),Ce=s("./node_modules/lodash-es/_isIndex.js"),ue=s("./node_modules/lodash-es/isObject.js");const h=function(g,_,S){if(!(0,ue.A)(S))return!1;var I=typeof _;return!!(I=="number"?(0,J.A)(S)&&(0,Ce.A)(_,S.length):I=="string"&&_ in S)&&(0,Y.A)(S[_],g)},p=function(g){return ge(function(_,S){var I=-1,M=S.length,ee=M>1?S[M-1]:void 0,H=M>2?S[2]:void 0;for(ee=g.length>3&&typeof ee=="function"?(M--,ee):void 0,H&&h(S[0],S[1],H)&&(ee=M<3?void 0:ee,M=1),_=Object(_);++I<M;){var re=S[I];re&&g(_,re,I,ee)}return _})}},"./node_modules/lodash-es/_defineProperty.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_getNative.js");const C=function(){try{var L=(0,u.A)(Object,"defineProperty");return L({},"",{}),L}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=typeof global=="object"&&global&&global.Object===Object&&global},"./node_modules/lodash-es/_getAllKeys.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>k});var u=s("./node_modules/lodash-es/_baseGetAllKeys.js"),C=s("./node_modules/lodash-es/_getSymbols.js"),L=s("./node_modules/lodash-es/keys.js");const k=function(v){return(0,u.A)(v,L.A,C.A)}},"./node_modules/lodash-es/_getNative.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>p});var u=s("./node_modules/lodash-es/isFunction.js");const C=s("./node_modules/lodash-es/_root.js").A["__core-js_shared__"];var L,k=(L=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"";const v=function(g){return!!k&&k in g};var $=s("./node_modules/lodash-es/isObject.js"),K=s("./node_modules/lodash-es/_toSource.js"),R=/^\[object .+?Constructor\]$/,Ee=Function.prototype,ge=Object.prototype,Y=Ee.toString,J=ge.hasOwnProperty,Ce=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ue=function(g){return!(!(0,$.A)(g)||v(g))&&((0,u.A)(g)?Ce:R).test((0,K.A)(g))},h=function(g,_){return g?.[_]},p=function(g,_){var S=h(g,_);return ue(S)?S:void 0}},"./node_modules/lodash-es/_getPrototype.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=(0,s("./node_modules/lodash-es/_overArg.js").A)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>v});const u=function($,K){for(var R=-1,Ee=$==null?0:$.length,ge=0,Y=[];++R<Ee;){var J=$[R];K(J,R,$)&&(Y[ge++]=J)}return Y};var C=s("./node_modules/lodash-es/stubArray.js"),L=Object.prototype.propertyIsEnumerable,k=Object.getOwnPropertySymbols;const v=k?function($){return $==null?[]:($=Object($),u(k($),function(K){return L.call($,K)}))}:C.A},"./node_modules/lodash-es/_getTag.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>M});var u=s("./node_modules/lodash-es/_getNative.js"),C=s("./node_modules/lodash-es/_root.js");const L=(0,u.A)(C.A,"DataView");var k=s("./node_modules/lodash-es/_Map.js");const v=(0,u.A)(C.A,"Promise"),$=(0,u.A)(C.A,"Set"),K=(0,u.A)(C.A,"WeakMap");var R=s("./node_modules/lodash-es/_baseGetTag.js"),Ee=s("./node_modules/lodash-es/_toSource.js"),ge="[object Map]",Y="[object Promise]",J="[object Set]",Ce="[object WeakMap]",ue="[object DataView]",h=(0,Ee.A)(L),p=(0,Ee.A)(k.A),g=(0,Ee.A)(v),_=(0,Ee.A)($),S=(0,Ee.A)(K),I=R.A;(L&&I(new L(new ArrayBuffer(1)))!=ue||k.A&&I(new k.A)!=ge||v&&I(v.resolve())!=Y||$&&I(new $)!=J||K&&I(new K)!=Ce)&&(I=function(ee){var H=(0,R.A)(ee),re=H=="[object Object]"?ee.constructor:void 0,O=re?(0,Ee.A)(re):"";if(O)switch(O){case h:return ue;case p:return ge;case g:return Y;case _:return J;case S:return Ce}return H});const M=I},"./node_modules/lodash-es/_initCloneObject.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>$});var u=s("./node_modules/lodash-es/isObject.js"),C=Object.create;const L=function(){function K(){}return function(R){if(!(0,u.A)(R))return{};if(C)return C(R);K.prototype=R;var Ee=new K;return K.prototype=void 0,Ee}}();var k=s("./node_modules/lodash-es/_getPrototype.js"),v=s("./node_modules/lodash-es/_isPrototype.js");const $=function(K){return typeof K.constructor!="function"||(0,v.A)(K)?{}:L((0,k.A)(K))}},"./node_modules/lodash-es/_isIndex.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=/^(?:0|[1-9]\d*)$/;const C=function(L,k){var v=typeof L;return!!(k=k??9007199254740991)&&(v=="number"||v!="symbol"&&u.test(L))&&L>-1&&L%1==0&&L<k}},"./node_modules/lodash-es/_isKey.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>v});var u=s("./node_modules/lodash-es/isArray.js"),C=s("./node_modules/lodash-es/isSymbol.js"),L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/;const v=function($,K){if((0,u.A)($))return!1;var R=typeof $;return!(R!="number"&&R!="symbol"&&R!="boolean"&&$!=null&&!(0,C.A)($))||k.test($)||!L.test($)||K!=null&&$ in Object(K)}},"./node_modules/lodash-es/_isPrototype.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=Object.prototype;const C=function(L){var k=L&&L.constructor;return L===(typeof k=="function"&&k.prototype||u)}},"./node_modules/lodash-es/_nodeUtil.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>v});var u=s("./node_modules/lodash-es/_freeGlobal.js"),C=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L=C&&typeof module=="object"&&module&&!module.nodeType&&module,k=L&&L.exports===C&&u.A.process;const v=function(){try{var $=L&&L.require&&L.require("util").types;return $||k&&k.binding&&k.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C,L){return function(k){return C(L(k))}}},"./node_modules/lodash-es/_root.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_freeGlobal.js"),C=typeof self=="object"&&self&&self.Object===Object&&self;const L=u.A||C||Function("return this")()},"./node_modules/lodash-es/_toKey.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/isSymbol.js");const C=function(L){if(typeof L=="string"||(0,u.A)(L))return L;var k=L+"";return k=="0"&&1/L==-1/0?"-0":k}},"./node_modules/lodash-es/_toSource.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=Function.prototype.toString;const C=function(L){if(L!=null){try{return u.call(L)}catch{}try{return L+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>k});var u=s("./node_modules/lodash-es/_copyObject.js"),C=s("./node_modules/lodash-es/_createAssigner.js"),L=s("./node_modules/lodash-es/keysIn.js");const k=(0,C.A)(function(v,$){(0,u.A)($,(0,L.A)($),v)})},"./node_modules/lodash-es/cloneDeep.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_baseClone.js");const C=function(L){return(0,u.A)(L,5)}},"./node_modules/lodash-es/cloneDeepWith.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_baseClone.js");const C=function(L,k){return k=typeof k=="function"?k:void 0,(0,u.A)(L,5,k)}},"./node_modules/lodash-es/debounce.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>p});var u=s("./node_modules/lodash-es/isObject.js"),C=s("./node_modules/lodash-es/_root.js");const L=function(){return C.A.Date.now()};var k=/\s/;const v=function(g){for(var _=g.length;_--&&k.test(g.charAt(_)););return _};var $=/^\s+/;const K=function(g){return g&&g.slice(0,v(g)+1).replace($,"")};var R=s("./node_modules/lodash-es/isSymbol.js"),Ee=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,J=parseInt;const Ce=function(g){if(typeof g=="number")return g;if((0,R.A)(g))return NaN;if((0,u.A)(g)){var _=typeof g.valueOf=="function"?g.valueOf():g;g=(0,u.A)(_)?_+"":_}if(typeof g!="string")return g===0?g:+g;g=K(g);var S=ge.test(g);return S||Y.test(g)?J(g.slice(2),S?2:8):Ee.test(g)?NaN:+g};var ue=Math.max,h=Math.min;const p=function(g,_,S){var I,M,ee,H,re,O,W=0,ie=!1,we=!1,Ae=!0;if(typeof g!="function")throw new TypeError("Expected a function");function He(Re){var Oe=I,G=M;return I=M=void 0,W=Re,H=g.apply(G,Oe)}function it(Re){var Oe=Re-O;return O===void 0||Oe>=_||Oe<0||we&&Re-W>=ee}function ne(){var Re=L();if(it(Re))return de(Re);re=setTimeout(ne,function(Oe){var G=_-(Oe-O);return we?h(G,ee-(Oe-W)):G}(Re))}function de(Re){return re=void 0,Ae&&I?He(Re):(I=M=void 0,H)}function Se(){var Re=L(),Oe=it(Re);if(I=arguments,M=this,O=Re,Oe){if(re===void 0)return function(G){return W=G,re=setTimeout(ne,_),ie?He(G):H}(O);if(we)return clearTimeout(re),re=setTimeout(ne,_),He(O)}return re===void 0&&(re=setTimeout(ne,_)),H}return _=Ce(_)||0,(0,u.A)(S)&&(ie=!!S.leading,ee=(we="maxWait"in S)?ue(Ce(S.maxWait)||0,_):ee,Ae="trailing"in S?!!S.trailing:Ae),Se.cancel=function(){re!==void 0&&clearTimeout(re),W=0,I=O=M=re=void 0},Se.flush=function(){return re===void 0?H:de(L())},Se}},"./node_modules/lodash-es/eq.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C,L){return C===L||C!=C&&L!=L}},"./node_modules/lodash-es/escapeRegExp.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>k});var u=s("./node_modules/lodash-es/toString.js"),C=/[\\^$.*+?()[\]{}|]/g,L=RegExp(C.source);const k=function(v){return(v=(0,u.A)(v))&&L.test(v)?v.replace(C,"\\$&"):v}},"./node_modules/lodash-es/get.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>C});var u=s("./node_modules/lodash-es/_baseGet.js");const C=function(L,k,v){var $=L==null?void 0:(0,u.A)(L,k);return $===void 0?v:$}},"./node_modules/lodash-es/identity.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){return C}},"./node_modules/lodash-es/isArguments.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>K});var u=s("./node_modules/lodash-es/_baseGetTag.js"),C=s("./node_modules/lodash-es/isObjectLike.js");const L=function(R){return(0,C.A)(R)&&(0,u.A)(R)=="[object Arguments]"};var k=Object.prototype,v=k.hasOwnProperty,$=k.propertyIsEnumerable;const K=L(function(){return arguments}())?L:function(R){return(0,C.A)(R)&&v.call(R,"callee")&&!$.call(R,"callee")}},"./node_modules/lodash-es/isArray.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/isFunction.js"),C=s("./node_modules/lodash-es/isLength.js");const L=function(k){return k!=null&&(0,C.A)(k.length)&&!(0,u.A)(k)}},"./node_modules/lodash-es/isBuffer.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>$});var u=s("./node_modules/lodash-es/_root.js");const C=function(){return!1};var L=typeof exports=="object"&&exports&&!exports.nodeType&&exports,k=L&&typeof module=="object"&&module&&!module.nodeType&&module,v=k&&k.exports===L?u.A.Buffer:void 0;const $=(v?v.isBuffer:void 0)||C},"./node_modules/lodash-es/isElement.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/isObjectLike.js"),C=s("./node_modules/lodash-es/isPlainObject.js");const L=function(k){return(0,u.A)(k)&&k.nodeType===1&&!(0,C.A)(k)}},"./node_modules/lodash-es/isFunction.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_baseGetTag.js"),C=s("./node_modules/lodash-es/isObject.js");const L=function(k){if(!(0,C.A)(k))return!1;var v=(0,u.A)(k);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},"./node_modules/lodash-es/isLength.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=9007199254740991}},"./node_modules/lodash-es/isObject.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){var L=typeof C;return C!=null&&(L=="object"||L=="function")}},"./node_modules/lodash-es/isObjectLike.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(C){return C!=null&&typeof C=="object"}},"./node_modules/lodash-es/isPlainObject.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>Ee});var u=s("./node_modules/lodash-es/_baseGetTag.js"),C=s("./node_modules/lodash-es/_getPrototype.js"),L=s("./node_modules/lodash-es/isObjectLike.js"),k=Function.prototype,v=Object.prototype,$=k.toString,K=v.hasOwnProperty,R=$.call(Object);const Ee=function(ge){if(!(0,L.A)(ge)||(0,u.A)(ge)!="[object Object]")return!1;var Y=(0,C.A)(ge);if(Y===null)return!0;var J=K.call(Y,"constructor")&&Y.constructor;return typeof J=="function"&&J instanceof J&&$.call(J)==R}},"./node_modules/lodash-es/isSymbol.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/_baseGetTag.js"),C=s("./node_modules/lodash-es/isObjectLike.js");const L=function(k){return typeof k=="symbol"||(0,C.A)(k)&&(0,u.A)(k)=="[object Symbol]"}},"./node_modules/lodash-es/isTypedArray.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>Ee});var u=s("./node_modules/lodash-es/_baseGetTag.js"),C=s("./node_modules/lodash-es/isLength.js"),L=s("./node_modules/lodash-es/isObjectLike.js"),k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object Boolean]"]=k["[object DataView]"]=k["[object Date]"]=k["[object Error]"]=k["[object Function]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object WeakMap]"]=!1;const v=function(ge){return(0,L.A)(ge)&&(0,C.A)(ge.length)&&!!k[(0,u.A)(ge)]};var $=s("./node_modules/lodash-es/_baseUnary.js"),K=s("./node_modules/lodash-es/_nodeUtil.js"),R=K.A&&K.A.isTypedArray;const Ee=R?(0,$.A)(R):v},"./node_modules/lodash-es/keys.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>K});var u=s("./node_modules/lodash-es/_arrayLikeKeys.js"),C=s("./node_modules/lodash-es/_isPrototype.js");const L=(0,s("./node_modules/lodash-es/_overArg.js").A)(Object.keys,Object);var k=Object.prototype.hasOwnProperty;const v=function(R){if(!(0,C.A)(R))return L(R);var Ee=[];for(var ge in Object(R))k.call(R,ge)&&ge!="constructor"&&Ee.push(ge);return Ee};var $=s("./node_modules/lodash-es/isArrayLike.js");const K=function(R){return(0,$.A)(R)?(0,u.A)(R):v(R)}},"./node_modules/lodash-es/keysIn.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>R});var u=s("./node_modules/lodash-es/_arrayLikeKeys.js"),C=s("./node_modules/lodash-es/isObject.js"),L=s("./node_modules/lodash-es/_isPrototype.js");const k=function(Ee){var ge=[];if(Ee!=null)for(var Y in Object(Ee))ge.push(Y);return ge};var v=Object.prototype.hasOwnProperty;const $=function(Ee){if(!(0,C.A)(Ee))return k(Ee);var ge=(0,L.A)(Ee),Y=[];for(var J in Ee)(J!="constructor"||!ge&&v.call(Ee,J))&&Y.push(J);return Y};var K=s("./node_modules/lodash-es/isArrayLike.js");const R=function(Ee){return(0,K.A)(Ee)?(0,u.A)(Ee,!0):$(Ee)}},"./node_modules/lodash-es/merge.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>W});var u=s("./node_modules/lodash-es/_Stack.js"),C=s("./node_modules/lodash-es/_baseAssignValue.js"),L=s("./node_modules/lodash-es/eq.js");const k=function(ie,we,Ae){(Ae!==void 0&&!(0,L.A)(ie[we],Ae)||Ae===void 0&&!(we in ie))&&(0,C.A)(ie,we,Ae)};var v=s("./node_modules/lodash-es/_baseFor.js"),$=s("./node_modules/lodash-es/_cloneBuffer.js"),K=s("./node_modules/lodash-es/_cloneTypedArray.js"),R=s("./node_modules/lodash-es/_copyArray.js"),Ee=s("./node_modules/lodash-es/_initCloneObject.js"),ge=s("./node_modules/lodash-es/isArguments.js"),Y=s("./node_modules/lodash-es/isArray.js"),J=s("./node_modules/lodash-es/isArrayLike.js"),Ce=s("./node_modules/lodash-es/isObjectLike.js");const ue=function(ie){return(0,Ce.A)(ie)&&(0,J.A)(ie)};var h=s("./node_modules/lodash-es/isBuffer.js"),p=s("./node_modules/lodash-es/isFunction.js"),g=s("./node_modules/lodash-es/isObject.js"),_=s("./node_modules/lodash-es/isPlainObject.js"),S=s("./node_modules/lodash-es/isTypedArray.js");const I=function(ie,we){if((we!=="constructor"||typeof ie[we]!="function")&&we!="__proto__")return ie[we]};var M=s("./node_modules/lodash-es/_copyObject.js"),ee=s("./node_modules/lodash-es/keysIn.js");const H=function(ie){return(0,M.A)(ie,(0,ee.A)(ie))},re=function(ie,we,Ae,He,it,ne,de){var Se=I(ie,Ae),Re=I(we,Ae),Oe=de.get(Re);if(Oe)k(ie,Ae,Oe);else{var G=ne?ne(Se,Re,Ae+"",ie,we,de):void 0,Ie=G===void 0;if(Ie){var Ue=(0,Y.A)(Re),nt=!Ue&&(0,h.A)(Re),xe=!Ue&&!nt&&(0,S.A)(Re);G=Re,Ue||nt||xe?(0,Y.A)(Se)?G=Se:ue(Se)?G=(0,R.A)(Se):nt?(Ie=!1,G=(0,$.A)(Re,!0)):xe?(Ie=!1,G=(0,K.A)(Re,!0)):G=[]:(0,_.A)(Re)||(0,ge.A)(Re)?(G=Se,(0,ge.A)(Se)?G=H(Se):(0,g.A)(Se)&&!(0,p.A)(Se)||(G=(0,Ee.A)(Re))):Ie=!1}Ie&&(de.set(Re,G),it(G,Re,He,ne,de),de.delete(Re)),k(ie,Ae,G)}},O=function ie(we,Ae,He,it,ne){we!==Ae&&(0,v.A)(Ae,function(de,Se){if(ne||(ne=new u.A),(0,g.A)(de))re(we,Ae,Se,He,ie,it,ne);else{var Re=it?it(I(we,Se),de,Se+"",we,Ae,ne):void 0;Re===void 0&&(Re=de),k(we,Se,Re)}},ee.A)},W=(0,s("./node_modules/lodash-es/_createAssigner.js").A)(function(ie,we,Ae){O(ie,we,Ae)})},"./node_modules/lodash-es/stubArray.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>u});const u=function(){return[]}},"./node_modules/lodash-es/throttle.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s("./node_modules/lodash-es/debounce.js"),C=s("./node_modules/lodash-es/isObject.js");const L=function(k,v,$){var K=!0,R=!0;if(typeof k!="function")throw new TypeError("Expected a function");return(0,C.A)($)&&(K="leading"in $?!!$.leading:K,R="trailing"in $?!!$.trailing:R),(0,u.A)(k,v,{leading:K,maxWait:v,trailing:R})}},"./node_modules/lodash-es/toString.js":(d,w,s)=>{"use strict";s.d(w,{A:()=>R});var u=s("./node_modules/lodash-es/_Symbol.js");const C=function(Ee,ge){for(var Y=-1,J=Ee==null?0:Ee.length,Ce=Array(J);++Y<J;)Ce[Y]=ge(Ee[Y],Y,Ee);return Ce};var L=s("./node_modules/lodash-es/isArray.js"),k=s("./node_modules/lodash-es/isSymbol.js"),v=u.A?u.A.prototype:void 0,$=v?v.toString:void 0;const K=function Ee(ge){if(typeof ge=="string")return ge;if((0,L.A)(ge))return C(ge,Ee)+"";if((0,k.A)(ge))return $?$.call(ge):"";var Y=ge+"";return Y=="0"&&1/ge==-1/0?"-0":Y},R=function(Ee){return Ee==null?"":K(Ee)}}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti=Q("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=ti})(),function(Nt){Nt.CKEditor5=Nt.CKEditor5||{};const At=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget","watchdog"];for(const Q of At){const ti=Q.replace(/-([a-z])/g,(d,w)=>w.toUpperCase());Nt.CKEditor5[ti]=Nt.CKEditor5.dll(`./src/${Q}.js`)}}(window),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Alignment:()=>ge,AlignmentEditing:()=>$,AlignmentUI:()=>Ee});var d=Q(782),w=Q(584);const s=["left","right","center","justify"];function u(Y){return s.includes(Y)}function C(Y,J){return J.contentLanguageDirection=="rtl"?Y==="right":Y==="left"}function L(Y){const J=Y.map(ue=>{let h;return h=typeof ue=="string"?{name:ue}:ue,h}).filter(ue=>{const h=s.includes(ue.name);return h||(0,w.logWarning)("alignment-config-name-not-recognized",{option:ue}),h}),Ce=J.filter(ue=>Boolean(ue.className)).length;if(Ce&&Ce<J.length)throw new w.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:Y});return J.forEach((ue,h,p)=>{const g=p.slice(h+1);if(g.some(_=>_.name==ue.name))throw new w.CKEditorError("alignment-config-name-already-defined",{option:ue,configuredOptions:Y});if(ue.className&&g.some(_=>_.className==ue.className))throw new w.CKEditorError("alignment-config-classname-already-defined",{option:ue,configuredOptions:Y})}),J}const k="alignment";class v extends d.Command{refresh(){const J=this.editor.locale,Ce=(0,w.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(Ce)&&this._canBeAligned(Ce),this.isEnabled&&Ce.hasAttribute("alignment")?this.value=Ce.getAttribute("alignment"):this.value=J.contentLanguageDirection==="rtl"?"right":"left"}execute(J={}){const Ce=this.editor,ue=Ce.locale,h=Ce.model,p=h.document,g=J.value;h.change(_=>{const S=Array.from(p.selection.getSelectedBlocks()).filter(M=>this._canBeAligned(M)),I=S[0].getAttribute("alignment");C(g,ue)||I===g||!g?function(M,ee){for(const H of M)ee.removeAttribute(k,H)}(S,_):function(M,ee,H){for(const re of M)ee.setAttribute(k,H,re)}(S,_,g)})}_canBeAligned(J){return this.editor.model.schema.checkAttribute(J,k)}}class $ extends d.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(J){super(J),J.config.define("alignment",{options:s.map(Ce=>({name:Ce}))})}init(){const J=this.editor,Ce=J.locale,ue=J.model.schema,h=L(J.config.get("alignment.options")).filter(S=>u(S.name)&&!C(S.name,Ce)),p=h.some(S=>!!S.className);ue.extend("$block",{allowAttributes:"alignment"}),J.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),p?J.conversion.attributeToAttribute(function(S){const I={};for(const ee of S)I[ee.name]={key:"class",value:ee.className};return{model:{key:"alignment",values:S.map(ee=>ee.name)},view:I}}(h)):J.conversion.for("downcast").attributeToAttribute(function(S){const I={};for(const{name:ee}of S)I[ee]={key:"style",value:{"text-align":ee}};return{model:{key:"alignment",values:S.map(ee=>ee.name)},view:I}}(h));const g=function(S){const I=[];for(const{name:M}of S)I.push({view:{key:"style",value:{"text-align":M}},model:{key:"alignment",value:M}});return I}(h);for(const S of g)J.conversion.for("upcast").attributeToAttribute(S);const _=function(S){const I=[];for(const{name:M}of S)I.push({view:{key:"align",value:M},model:{key:"alignment",value:M}});return I}(h);for(const S of _)J.conversion.for("upcast").attributeToAttribute(S);J.commands.add("alignment",new v(J))}}var K=Q(311);const R=new Map([["left",d.icons.alignLeft],["right",d.icons.alignRight],["center",d.icons.alignCenter],["justify",d.icons.alignJustify]]);class Ee extends d.Plugin{get localizedOptionTitles(){const J=this.editor.t;return{left:J("Align left"),right:J("Align right"),center:J("Align center"),justify:J("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const J=L(this.editor.config.get("alignment.options"));J.map(Ce=>Ce.name).filter(u).forEach(Ce=>this._addButton(Ce)),this._addToolbarDropdown(J),this._addMenuBarMenu(J)}_addButton(J){this.editor.ui.componentFactory.add(`alignment:${J}`,Ce=>this._createButton(Ce,J))}_createButton(J,Ce,ue={}){const h=this.editor,p=h.commands.get("alignment"),g=new K.ButtonView(J);return g.set({label:this.localizedOptionTitles[Ce],icon:R.get(Ce),tooltip:!0,isToggleable:!0,...ue}),g.bind("isEnabled").to(p),g.bind("isOn").to(p,"value",_=>_===Ce),this.listenTo(g,"execute",()=>{h.execute("alignment",{value:Ce}),h.editing.view.focus()}),g}_addToolbarDropdown(J){const Ce=this.editor;Ce.ui.componentFactory.add("alignment",ue=>{const h=(0,K.createDropdown)(ue),p=ue.uiLanguageDirection==="rtl"?"w":"e",g=ue.t;(0,K.addToolbarToDropdown)(h,()=>J.map(I=>this._createButton(ue,I.name,{tooltipPosition:p})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:g("Text alignment toolbar")}),h.buttonView.set({label:g("Text alignment"),tooltip:!0}),h.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const _=ue.contentLanguageDirection==="rtl"?R.get("right"):R.get("left"),S=Ce.commands.get("alignment");return h.buttonView.bind("icon").to(S,"value",I=>R.get(I)||_),h.bind("isEnabled").to(S,"isEnabled"),this.listenTo(h,"execute",()=>{Ce.editing.view.focus()}),h})}_addMenuBarMenu(J){const Ce=this.editor;Ce.ui.componentFactory.add("menuBar:alignment",ue=>{const h=Ce.commands.get("alignment"),p=ue.t,g=new K.MenuBarMenuView(ue),_=new K.MenuBarMenuListView(ue);g.bind("isEnabled").to(h),_.set({ariaLabel:p("Text alignment"),role:"menu"}),g.buttonView.set({label:p("Text alignment")});for(const S of J){const I=new K.MenuBarMenuListItemView(ue,g),M=new K.MenuBarMenuListItemButtonView(ue);M.extendTemplate({attributes:{"aria-checked":M.bindTemplate.to("isOn")}}),M.delegate("execute").to(g),M.set({label:this.localizedOptionTitles[S.name],icon:R.get(S.name)}),M.on("execute",()=>{Ce.execute("alignment",{value:S.name}),Ce.editing.view.focus()}),M.bind("isOn").to(h,"value",ee=>ee===S.name),M.bind("isEnabled").to(h,"isEnabled"),I.children.add(M),_.items.add(I)}return g.panelView.children.add(_),g})}}class ge extends d.Plugin{static get requires(){return[$,Ee]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Revert autoformatting action":"Revert autoformatting action"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Autoformat:()=>v});var d=Q(782),w=Q(834),s=Q(783),u=Q(584);function C(K,R,Ee,ge){let Y,J=null;typeof ge=="function"?Y=ge:(J=K.commands.get(ge),Y=()=>{K.execute(ge)}),K.model.document.on("change:data",(Ce,ue)=>{if(J&&!J.isEnabled||!R.isEnabled)return;const h=(0,u.first)(K.model.document.selection.getRanges());if(!h.isCollapsed||ue.isUndo||!ue.isLocal)return;const p=Array.from(K.model.document.differ.getChanges()),g=p[0];if(p.length!=1||g.type!=="insert"||g.name!="$text"||g.length!=1)return;const _=g.position.parent;if(_.is("element","codeBlock")||_.is("element","listItem")&&typeof ge!="function"&&!["numberedList","bulletedList","todoList"].includes(ge)||J&&J.value===!0)return;const S=_.getChild(0),I=K.model.createRangeOn(S);if(!I.containsRange(h)&&!h.end.isEqual(I.end))return;const M=Ee.exec(S.data.substr(0,h.end.offset));M&&K.model.enqueueChange(ee=>{const H=ee.createPositionAt(_,0),re=ee.createPositionAt(_,M[0].length),O=new s.LiveRange(H,re);if(Y({match:M})!==!1){ee.remove(O);const W=K.model.document.selection.getFirstRange(),ie=ee.createRangeIn(_);!_.isEmpty||ie.isEqual(W)||ie.containsRange(W,!0)||ee.remove(_)}O.detach(),K.model.enqueueChange(()=>{K.plugins.get("Delete").requestUndoOnBackspace()})})})}function L(K,R,Ee,ge){let Y,J;Ee instanceof RegExp?Y=Ee:J=Ee,J=J||(Ce=>{let ue;const h=[],p=[];for(;(ue=Y.exec(Ce))!==null&&!(ue&&ue.length<4);){let{index:g,1:_,2:S,3:I}=ue;const M=_+S+I;g+=ue[0].length-M.length;const ee=[g,g+_.length],H=[g+_.length+S.length,g+_.length+S.length+I.length];h.push(ee),h.push(H),p.push([g+_.length,g+_.length+S.length])}return{remove:h,format:p}}),K.model.document.on("change:data",(Ce,ue)=>{if(ue.isUndo||!ue.isLocal||!R.isEnabled)return;const h=K.model,p=h.document.selection;if(!p.isCollapsed)return;const g=Array.from(h.document.differ.getChanges()),_=g[0];if(g.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const S=p.focus,I=S.parent,{text:M,range:ee}=function(W,ie){let we=W.start;return{text:Array.from(W.getItems()).reduce((He,it)=>!it.is("$text")&&!it.is("$textProxy")||it.getAttribute("code")?(we=ie.createPositionAfter(it),""):He+it.data,""),range:ie.createRange(we,W.end)}}(h.createRange(h.createPositionAt(I,0),S),h),H=J(M),re=k(ee.start,H.format,h),O=k(ee.start,H.remove,h);re.length&&O.length&&h.enqueueChange(W=>{if(ge(W,re)!==!1){for(const ie of O.reverse())W.remove(ie);h.enqueueChange(()=>{K.plugins.get("Delete").requestUndoOnBackspace()})}})})}function k(K,R,Ee){return R.filter(ge=>ge[0]!==void 0&&ge[1]!==void 0).map(ge=>Ee.createRange(K.getShiftedBy(ge[0]),K.getShiftedBy(ge[1])))}class v extends d.Plugin{static get requires(){return[w.Delete]}static get pluginName(){return"Autoformat"}afterInit(){const R=this.editor,Ee=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),R.accessibility.addKeystrokeInfos({keystrokes:[{label:Ee("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const R=this.editor.commands;R.get("bulletedList")&&C(this.editor,this,/^[*-]\s$/,"bulletedList"),R.get("numberedList")&&C(this.editor,this,/^1[.|)]\s$/,"numberedList"),R.get("todoList")&&C(this.editor,this,/^\[\s?\]\s$/,"todoList"),R.get("checkTodoList")&&C(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const R=this.editor.commands;if(R.get("bold")){const Ee=$(this.editor,"bold");L(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,Ee),L(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,Ee)}if(R.get("italic")){const Ee=$(this.editor,"italic");L(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,Ee),L(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,Ee)}if(R.get("code")){const Ee=$(this.editor,"code");L(this.editor,this,/(`)([^`]+)(`)$/g,Ee)}if(R.get("strikethrough")){const Ee=$(this.editor,"strikethrough");L(this.editor,this,/(~~)([^~]+)(~~)$/g,Ee)}}_addHeadingAutoformats(){const R=this.editor.commands.get("heading");R&&R.modelElements.filter(Ee=>Ee.match(/^heading[1-6]$/)).forEach(Ee=>{const ge=Ee[7],Y=new RegExp(`^(#{${ge}})\\s$`);C(this.editor,this,Y,()=>{if(!R.isEnabled||R.value===Ee)return!1;this.editor.execute("heading",{value:Ee})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&C(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const R=this.editor,Ee=R.model.document.selection;R.commands.get("codeBlock")&&C(R,this,/^```$/,()=>{if(Ee.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&C(this.editor,this,/^---$/,"horizontalLine")}}function $(K,R){return(Ee,ge)=>{if(!K.commands.get(R).isEnabled)return!1;const Y=K.model.schema.getValidRanges(ge,R);for(const J of Y)Ee.setAttribute(R,!0,J);Ee.removeSelectionAttribute(R)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{Bold:"Bold","Bold text":"Bold text",Code:"Code",Italic:"Italic","Italic text":"Italic text","Move out of an inline code style":"Move out of an inline code style",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline","Underline text":"Underline text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={598:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Bold:()=>$,BoldEditing:()=>u,BoldUI:()=>v,Code:()=>p,CodeEditing:()=>Ee,CodeUI:()=>h,Italic:()=>M,ItalicEditing:()=>_,ItalicUI:()=>I,Strikethrough:()=>W,StrikethroughEditing:()=>H,StrikethroughUI:()=>O,Subscript:()=>it,SubscriptEditing:()=>we,SubscriptUI:()=>He,Superscript:()=>Oe,SuperscriptEditing:()=>de,SuperscriptUI:()=>Re,Underline:()=>xe,UnderlineEditing:()=>Ie,UnderlineUI:()=>nt});var d=Q(782);class w extends d.Command{constructor(ye,Ze){super(ye),this.attributeKey=Ze}refresh(){const ye=this.editor.model,Ze=ye.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=ye.schema.checkAttributeInSelection(Ze.selection,this.attributeKey)}execute(ye={}){const Ze=this.editor.model,ot=Ze.document.selection,at=ye.forceValue===void 0?!this.value:ye.forceValue;Ze.change(mt=>{if(ot.isCollapsed)at?mt.setSelectionAttribute(this.attributeKey,!0):mt.removeSelectionAttribute(this.attributeKey);else{const Ut=Ze.schema.getValidRanges(ot.getRanges(),this.attributeKey);for(const $t of Ut)at?mt.setAttribute(this.attributeKey,at,$t):mt.removeAttribute(this.attributeKey,$t)}})}_getValueFromFirstAllowedNode(){const ye=this.editor.model,Ze=ye.schema,ot=ye.document.selection;if(ot.isCollapsed)return ot.hasAttribute(this.attributeKey);for(const at of ot.getRanges())for(const mt of at.getItems())if(Ze.checkAttribute(mt,this.attributeKey))return mt.hasAttribute(this.attributeKey);return!1}}const s="bold";class u extends d.Plugin{static get pluginName(){return"BoldEditing"}init(){const ye=this.editor,Ze=this.editor.t;ye.model.schema.extend("$text",{allowAttributes:s}),ye.model.schema.setAttributeProperties(s,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:s,view:"strong",upcastAlso:["b",ot=>{const at=ot.getStyle("font-weight");return at&&(at=="bold"||Number(at)>=600)?{name:!0,styles:["font-weight"]}:null}]}),ye.commands.add(s,new w(ye,s)),ye.keystrokes.set("CTRL+B",s),ye.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Bold text"),keystroke:"CTRL+B"}]})}}var C=Q(311);function L({editor:pe,commandName:ye,plugin:Ze,icon:ot,label:at,keystroke:mt}){return Ut=>{const $t=pe.commands.get(ye),St=new Ut(pe.locale);return St.set({label:at,icon:ot,keystroke:mt,isToggleable:!0}),St.bind("isEnabled").to($t,"isEnabled"),Ze.listenTo(St,"execute",()=>{pe.execute(ye),pe.editing.view.focus()}),St}}const k="bold";class v extends d.Plugin{static get pluginName(){return"BoldUI"}init(){const ye=this.editor,Ze=ye.locale.t,ot=ye.commands.get(k),at=L({editor:ye,commandName:k,plugin:this,icon:d.icons.bold,label:Ze("Bold"),keystroke:"CTRL+B"});ye.ui.componentFactory.add(k,()=>{const mt=at(C.ButtonView);return mt.set({tooltip:!0}),mt.bind("isOn").to(ot,"value"),mt}),ye.ui.componentFactory.add("menuBar:"+k,()=>at(C.MenuBarMenuListItemButtonView))}}class $ extends d.Plugin{static get requires(){return[u,v]}static get pluginName(){return"Bold"}}var K=Q(834);const R="code";class Ee extends d.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[K.TwoStepCaretMovement]}init(){const ye=this.editor,Ze=this.editor.t;ye.model.schema.extend("$text",{allowAttributes:R}),ye.model.schema.setAttributeProperties(R,{isFormatting:!0,copyOnEnter:!1}),ye.conversion.attributeToElement({model:R,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),ye.commands.add(R,new w(ye,R)),ye.plugins.get(K.TwoStepCaretMovement).registerAttribute(R),(0,K.inlineHighlight)(ye,R,"code","ck-code_selected"),ye.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}var ge=Q(591),Y=Q.n(ge),J=Q(598),Ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(J.A,Ce),J.A.locals;const ue="code";class h extends d.Plugin{static get pluginName(){return"CodeUI"}init(){const ye=this.editor,Ze=ye.locale.t,ot=L({editor:ye,commandName:ue,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',label:Ze("Code")});ye.ui.componentFactory.add(ue,()=>{const at=ot(C.ButtonView),mt=ye.commands.get(ue);return at.set({tooltip:!0}),at.bind("isOn").to(mt,"value"),at}),ye.ui.componentFactory.add("menuBar:"+ue,()=>ot(C.MenuBarMenuListItemButtonView))}}class p extends d.Plugin{static get requires(){return[Ee,h]}static get pluginName(){return"Code"}}const g="italic";class _ extends d.Plugin{static get pluginName(){return"ItalicEditing"}init(){const ye=this.editor,Ze=this.editor.t;ye.model.schema.extend("$text",{allowAttributes:g}),ye.model.schema.setAttributeProperties(g,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:g,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),ye.commands.add(g,new w(ye,g)),ye.keystrokes.set("CTRL+I",g),ye.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Italic text"),keystroke:"CTRL+I"}]})}}const S="italic";class I extends d.Plugin{static get pluginName(){return"ItalicUI"}init(){const ye=this.editor,Ze=ye.commands.get(S),ot=ye.locale.t,at=L({editor:ye,commandName:S,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:ot("Italic")});ye.ui.componentFactory.add(S,()=>{const mt=at(C.ButtonView);return mt.set({tooltip:!0}),mt.bind("isOn").to(Ze,"value"),mt}),ye.ui.componentFactory.add("menuBar:"+S,()=>at(C.MenuBarMenuListItemButtonView))}}class M extends d.Plugin{static get requires(){return[_,I]}static get pluginName(){return"Italic"}}const ee="strikethrough";class H extends d.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const ye=this.editor,Ze=this.editor.t;ye.model.schema.extend("$text",{allowAttributes:ee}),ye.model.schema.setAttributeProperties(ee,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:ee,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),ye.commands.add(ee,new w(ye,ee)),ye.keystrokes.set("CTRL+SHIFT+X","strikethrough"),ye.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const re="strikethrough";class O extends d.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const ye=this.editor,Ze=ye.locale.t,ot=L({editor:ye,commandName:re,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",label:Ze("Strikethrough")});ye.ui.componentFactory.add(re,()=>{const at=ot(C.ButtonView),mt=ye.commands.get(re);return at.set({tooltip:!0}),at.bind("isOn").to(mt,"value"),at}),ye.ui.componentFactory.add("menuBar:"+re,()=>ot(C.MenuBarMenuListItemButtonView))}}class W extends d.Plugin{static get requires(){return[H,O]}static get pluginName(){return"Strikethrough"}}const ie="subscript";class we extends d.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const ye=this.editor;ye.model.schema.extend("$text",{allowAttributes:ie}),ye.model.schema.setAttributeProperties(ie,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:ie,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),ye.commands.add(ie,new w(ye,ie))}}const Ae="subscript";class He extends d.Plugin{static get pluginName(){return"SubscriptUI"}init(){const ye=this.editor,Ze=ye.locale.t,ot=L({editor:ye,commandName:Ae,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',label:Ze("Subscript")});ye.ui.componentFactory.add(Ae,()=>{const at=ot(C.ButtonView),mt=ye.commands.get(Ae);return at.set({tooltip:!0}),at.bind("isOn").to(mt,"value"),at}),ye.ui.componentFactory.add("menuBar:"+Ae,()=>ot(C.MenuBarMenuListItemButtonView))}}class it extends d.Plugin{static get requires(){return[we,He]}static get pluginName(){return"Subscript"}}const ne="superscript";class de extends d.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const ye=this.editor;ye.model.schema.extend("$text",{allowAttributes:ne}),ye.model.schema.setAttributeProperties(ne,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:ne,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),ye.commands.add(ne,new w(ye,ne))}}const Se="superscript";class Re extends d.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const ye=this.editor,Ze=ye.locale.t,ot=L({editor:ye,commandName:Se,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',label:Ze("Superscript")});ye.ui.componentFactory.add(Se,()=>{const at=ot(C.ButtonView),mt=ye.commands.get(Se);return at.set({tooltip:!0}),at.bind("isOn").to(mt,"value"),at}),ye.ui.componentFactory.add("menuBar:"+Se,()=>ot(C.MenuBarMenuListItemButtonView))}}class Oe extends d.Plugin{static get requires(){return[de,Re]}static get pluginName(){return"Superscript"}}const G="underline";class Ie extends d.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const ye=this.editor,Ze=this.editor.t;ye.model.schema.extend("$text",{allowAttributes:G}),ye.model.schema.setAttributeProperties(G,{isFormatting:!0,copyOnEnter:!0}),ye.conversion.attributeToElement({model:G,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),ye.commands.add(G,new w(ye,G)),ye.keystrokes.set("CTRL+U","underline"),ye.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Underline text"),keystroke:"CTRL+U"}]})}}const Ue="underline";class nt extends d.Plugin{static get pluginName(){return"UnderlineUI"}init(){const ye=this.editor,Ze=ye.commands.get(Ue),ot=ye.locale.t,at=L({editor:ye,commandName:Ue,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',label:ot("Underline"),keystroke:"CTRL+U"});ye.ui.componentFactory.add(Ue,()=>{const mt=at(C.ButtonView);return mt.set({tooltip:!0}),mt.bind("isOn").to(Ze,"value"),mt}),ye.ui.componentFactory.add("menuBar:"+Ue,()=>at(C.MenuBarMenuListItemButtonView))}}class xe extends d.Plugin{static get requires(){return[Ie,nt]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Block quote":"Block quote"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={28:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},507:(d,w,s)=>{d.exports=s(237)("./src/enter.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{BlockQuote:()=>Ce,BlockQuoteEditing:()=>$,BlockQuoteUI:()=>J});var d=Q(782),w=Q(507),s=Q(834),u=Q(584);class C extends d.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(h={}){const p=this.editor.model,g=p.schema,_=p.document.selection,S=Array.from(_.getSelectedBlocks()),I=h.forceValue===void 0?!this.value:h.forceValue;p.change(M=>{if(I){const ee=S.filter(H=>L(H)||v(g,H));this._applyQuote(M,ee)}else this._removeQuote(M,S.filter(L))})}_getValue(){const h=this.editor.model.document.selection,p=(0,u.first)(h.getSelectedBlocks());return!(!p||!L(p))}_checkEnabled(){if(this.value)return!0;const h=this.editor.model.document.selection,p=this.editor.model.schema,g=(0,u.first)(h.getSelectedBlocks());return!!g&&v(p,g)}_removeQuote(h,p){k(h,p).reverse().forEach(g=>{if(g.start.isAtStart&&g.end.isAtEnd)return void h.unwrap(g.start.parent);if(g.start.isAtStart){const S=h.createPositionBefore(g.start.parent);return void h.move(g,S)}g.end.isAtEnd||h.split(g.end);const _=h.createPositionAfter(g.end.parent);h.move(g,_)})}_applyQuote(h,p){const g=[];k(h,p).reverse().forEach(_=>{let S=L(_.start);S||(S=h.createElement("blockQuote"),h.wrap(_,S)),g.push(S)}),g.reverse().reduce((_,S)=>_.nextSibling==S?(h.merge(h.createPositionAfter(_)),_):S)}}function L(ue){return ue.parent.name=="blockQuote"?ue.parent:null}function k(ue,h){let p,g=0;const _=[];for(;g<h.length;){const S=h[g],I=h[g+1];p||(p=ue.createPositionBefore(S)),I&&S.nextSibling==I||(_.push(ue.createRange(p,ue.createPositionAfter(S))),p=null),g++}return _}function v(ue,h){const p=ue.checkChild(h.parent,"blockQuote"),g=ue.checkChild(["$root","blockQuote"],h);return p&&g}class $ extends d.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[w.Enter,s.Delete]}init(){const h=this.editor,p=h.model.schema;h.commands.add("blockQuote",new C(h)),p.register("blockQuote",{inheritAllFrom:"$container"}),h.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),h.model.document.registerPostFixer(I=>{const M=h.model.document.differ.getChanges();for(const ee of M)if(ee.type=="insert"){const H=ee.position.nodeAfter;if(!H)continue;if(H.is("element","blockQuote")&&H.isEmpty)return I.remove(H),!0;if(H.is("element","blockQuote")&&!p.checkChild(ee.position,H))return I.unwrap(H),!0;if(H.is("element")){const re=I.createRangeIn(H);for(const O of re.getItems())if(O.is("element","blockQuote")&&!p.checkChild(I.createPositionBefore(O),O))return I.unwrap(O),!0}}else if(ee.type=="remove"){const H=ee.position.parent;if(H.is("element","blockQuote")&&H.isEmpty)return I.remove(H),!0}return!1});const g=this.editor.editing.view.document,_=h.model.document.selection,S=h.commands.get("blockQuote");this.listenTo(g,"enter",(I,M)=>{!_.isCollapsed||!S.value||_.getLastPosition().parent.isEmpty&&(h.execute("blockQuote"),h.editing.view.scrollToTheSelection(),M.preventDefault(),I.stop())},{context:"blockquote"}),this.listenTo(g,"delete",(I,M)=>{if(M.direction!="backward"||!_.isCollapsed||!S.value)return;const ee=_.getLastPosition().parent;ee.isEmpty&&!ee.previousSibling&&(h.execute("blockQuote"),h.editing.view.scrollToTheSelection(),M.preventDefault(),I.stop())},{context:"blockquote"})}}var K=Q(311),R=Q(591),Ee=Q.n(R),ge=Q(28),Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ee()(ge.A,Y),ge.A.locals;class J extends d.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const h=this.editor,p=h.commands.get("blockQuote");h.ui.componentFactory.add("blockQuote",()=>{const g=this._createButton(K.ButtonView);return g.set({tooltip:!0}),g.bind("isOn").to(p,"value"),g}),h.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(K.MenuBarMenuListItemButtonView))}_createButton(h){const p=this.editor,g=p.locale,_=p.commands.get("blockQuote"),S=new h(p.locale),I=g.t;return S.set({label:I("Block quote"),icon:d.icons.quote,isToggleable:!0}),S.bind("isEnabled").to(_,"isEnabled"),this.listenTo(S,"execute",()=>{p.execute("blockQuote"),p.editing.view.focus()}),S}}class Ce extends d.Plugin{static get requires(){return[$,J]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Code block":"Code block","Entering %0 code snippet":"Entering %0 code snippet","Entering code snippet":"Entering code snippet","Insert code block":"Insert code block","Leaving %0 code snippet":"Leaving %0 code snippet","Leaving code snippet":"Leaving code snippet","Plain text":"Plain text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={535:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},507:(d,w,s)=>{d.exports=s(237)("./src/enter.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{CodeBlock:()=>re,CodeBlockEditing:()=>h,CodeBlockUI:()=>H});var d=Q(782),w=Q(507),s=Q(783),u=Q(584);function C(O){const W=O.t,ie=O.config.get("codeBlock.languages");for(const we of ie)we.label==="Plain text"&&(we.label=W("Plain text")),we.class===void 0&&(we.class=`language-${we.language}`);return ie}function L(O,W,ie){const we={};for(const Ae of O)W==="class"?we[Ae[W].split(" ").shift()]=Ae[ie]:we[Ae[W]]=Ae[ie];return we}function k(O){return O.data.match(/^(\s*)/)[0]}function v(O){const W=O.document.selection,ie=[];if(W.isCollapsed)return[W.anchor];const we=W.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:Ae}of we){if(!Ae.is("$textProxy"))continue;const{parent:He,startOffset:it}=Ae.textNode;if(!He.is("element","codeBlock"))continue;const ne=k(Ae.textNode),de=O.createPositionAt(He,it+ne.length);ie.push(de)}return ie}function $(O){const W=(0,u.first)(O.getSelectedBlocks());return!!W&&W.is("element","codeBlock")}function K(O,W){return!W.is("rootElement")&&!O.isLimit(W)&&O.checkChild(W.parent,"codeBlock")}function R(O,W,ie,we){const Ae=L(W,"language","label"),He=ie.getAttribute("language");if(He in Ae){const it=Ae[He];return O(we==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",it)}return O(we==="enter"?"Entering code snippet":"Leaving code snippet")}class Ee extends d.Command{constructor(W){super(W),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(W={}){const ie=this.editor,we=ie.model,Ae=we.document.selection,He=C(ie)[0],it=Array.from(Ae.getSelectedBlocks()),ne=W.forceValue==null?!this.value:W.forceValue,de=function(Se,Re,Oe){return Se.language?Se.language:Se.usePreviousLanguageChoice&&Re?Re:Oe}(W,this._lastLanguage,He.language);we.change(Se=>{ne?this._applyCodeBlock(Se,it,de):this._removeCodeBlock(Se,it)})}_getValue(){const W=this.editor.model.document.selection,ie=(0,u.first)(W.getSelectedBlocks());return!(!ie||!ie.is("element","codeBlock"))&&ie.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const W=this.editor.model.document.selection,ie=this.editor.model.schema,we=(0,u.first)(W.getSelectedBlocks());return!!we&&K(ie,we)}_applyCodeBlock(W,ie,we){this._lastLanguage=we;const Ae=this.editor.model.schema,He=ie.filter(it=>K(Ae,it));for(const it of He)W.rename(it,"codeBlock"),W.setAttribute("language",we,it),Ae.removeDisallowedAttributes([it],W),Array.from(it.getChildren()).filter(ne=>!Ae.checkChild(it,ne)).forEach(ne=>W.remove(ne));He.reverse().forEach((it,ne)=>{const de=He[ne+1];it.previousSibling===de&&(W.appendElement("softBreak",de),W.merge(W.createPositionBefore(it)))})}_removeCodeBlock(W,ie){const we=ie.filter(Ae=>Ae.is("element","codeBlock"));for(const Ae of we){const He=W.createRangeOn(Ae);for(const it of Array.from(He.getItems()).reverse())if(it.is("element","softBreak")&&it.parent.is("element","codeBlock")){const{position:ne}=W.split(W.createPositionBefore(it)),de=ne.nodeAfter;W.rename(de,"paragraph"),W.removeAttribute("language",de),W.remove(it)}W.rename(Ae,"paragraph"),W.removeAttribute("language",Ae)}}}class ge extends d.Command{constructor(W){super(W),this._indentSequence=W.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const W=this.editor.model;W.change(ie=>{const we=v(W);for(const Ae of we){const He=ie.createText(this._indentSequence);W.insertContent(He,Ae)}})}_checkEnabled(){return!!this._indentSequence&&$(this.editor.model.document.selection)}}class Y extends d.Command{constructor(W){super(W),this._indentSequence=W.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const W=this.editor.model;W.change(()=>{const ie=v(W);for(const we of ie){const Ae=J(W,we,this._indentSequence);Ae&&W.deleteContent(W.createSelection(Ae))}})}_checkEnabled(){if(!this._indentSequence)return!1;const W=this.editor.model;return!!$(W.document.selection)&&v(W).some(ie=>J(W,ie,this._indentSequence))}}function J(O,W,ie){const we=function(de){let Se=de.parent.getChild(de.index);return Se&&!Se.is("element","softBreak")||(Se=de.nodeBefore),!Se||Se.is("element","softBreak")?null:Se}(W);if(!we)return null;const Ae=k(we),He=Ae.lastIndexOf(ie);if(He+ie.length!==Ae.length||He===-1)return null;const{parent:it,startOffset:ne}=we;return O.createRange(O.createPositionAt(it,ne+He),O.createPositionAt(it,ne+He+ie.length))}function Ce(O,W,ie=!1){const we=L(W,"language","class"),Ae=L(W,"language","label");return(He,it,ne)=>{const{writer:de,mapper:Se,consumable:Re}=ne;if(!Re.consume(it.item,"insert"))return;const Oe=it.item.getAttribute("language"),G=Se.toViewPosition(O.createPositionBefore(it.item)),Ie={};ie&&(Ie["data-language"]=Ae[Oe],Ie.spellcheck="false");const Ue=we[Oe]?{class:we[Oe]}:void 0,nt=de.createContainerElement("code",Ue),xe=de.createContainerElement("pre",Ie,nt);de.insert(G,xe),Se.bindElements(it.item,nt)}}const ue="paragraph";class h extends d.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[w.ShiftEnter]}constructor(W){super(W),W.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const W=this.editor,ie=W.model.schema,we=W.model,Ae=W.editing.view,He=W.plugins.has("ListEditing")?W.plugins.get("ListEditing"):null,it=C(W);W.commands.add("codeBlock",new Ee(W)),W.commands.add("indentCodeBlock",new ge(W)),W.commands.add("outdentCodeBlock",new Y(W)),this.listenTo(Ae.document,"tab",(ne,de)=>{const Se=de.shiftKey?"outdentCodeBlock":"indentCodeBlock";W.commands.get(Se).isEnabled&&(W.execute(Se),de.stopPropagation(),de.preventDefault(),ne.stop())},{context:"pre"}),ie.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),ie.addAttributeCheck((ne,de)=>!!(ne.endsWith("codeBlock")&&He&&He.getListAttributeNames().includes(de))||!ne.endsWith("codeBlock $text")&&void 0),W.model.schema.addChildCheck((ne,de)=>{if(ne.endsWith("codeBlock")&&de.isObject)return!1}),W.editing.downcastDispatcher.on("insert:codeBlock",Ce(we,it,!0)),W.data.downcastDispatcher.on("insert:codeBlock",Ce(we,it)),W.data.downcastDispatcher.on("insert:softBreak",function(ne){return(de,Se,Re)=>{if(Se.item.parent.name!=="codeBlock")return;const{writer:Oe,mapper:G,consumable:Ie}=Re;if(!Ie.consume(Se.item,"insert"))return;const Ue=G.toViewPosition(ne.createPositionBefore(Se.item));Oe.insert(Ue,Oe.createText(`
`))}}(we),{priority:"high"}),W.data.upcastDispatcher.on("element:code",function(ne,de){const Se=L(de,"class","language"),Re=de[0].language;return(Oe,G,Ie)=>{const Ue=G.viewItem,nt=Ue.parent;if(!nt||!nt.is("element","pre")||G.modelCursor.findAncestor("codeBlock"))return;const{consumable:xe,writer:pe}=Ie;if(!xe.test(Ue,{name:!0}))return;const ye=pe.createElement("codeBlock"),Ze=[...Ue.getClassNames()];Ze.length||Ze.push("");for(const ot of Ze){const at=Se[ot];if(at){pe.setAttribute("language",at,ye);break}}ye.hasAttribute("language")||pe.setAttribute("language",Re,ye),Ie.convertChildren(Ue,ye),Ie.safeInsert(ye,G.modelCursor)&&(xe.consume(Ue,{name:!0}),Ie.updateConversionResult(ye,G))}}(0,it)),W.data.upcastDispatcher.on("text",(ne,de,{consumable:Se,writer:Re})=>{let Oe=de.modelCursor;if(!Se.test(de.viewItem)||!Oe.findAncestor("codeBlock"))return;Se.consume(de.viewItem);const G=de.viewItem.data.split(`
`).map(Ue=>Re.createText(Ue)),Ie=G[G.length-1];for(const Ue of G)if(Re.insert(Ue,Oe),Oe=Oe.getShiftedBy(Ue.offsetSize),Ue!==Ie){const nt=Re.createElement("softBreak");Re.insert(nt,Oe),Oe=Re.createPositionAfter(nt)}de.modelRange=Re.createRange(de.modelCursor,Oe),de.modelCursor=Oe}),W.data.upcastDispatcher.on("element:pre",(ne,de,{consumable:Se})=>{const Re=de.viewItem;if(Re.findAncestor("pre"))return;const Oe=Array.from(Re.getChildren()),G=Oe.find(Ie=>Ie.is("element","code"));if(G)for(const Ie of Oe)Ie!==G&&Ie.is("$text")&&Se.consume(Ie,{name:!0})},{priority:"high"}),this.listenTo(W.editing.view.document,"clipboardInput",(ne,de)=>{let Se=we.createRange(we.document.selection.anchor);if(de.targetRanges&&(Se=W.editing.mapper.toModelRange(de.targetRanges[0])),!Se.start.parent.is("element","codeBlock"))return;const Re=de.dataTransfer.getData("text/plain"),Oe=new s.UpcastWriter(W.editing.view.document);de.content=function(G,Ie){const Ue=G.createDocumentFragment(),nt=Ie.split(`
`),xe=nt.reduce((pe,ye,Ze)=>(pe.push(ye),Ze<nt.length-1&&pe.push(G.createElement("br")),pe),[]);return G.appendChild(xe,Ue),Ue}(Oe,Re)}),this.listenTo(we,"getSelectedContent",(ne,[de])=>{const Se=de.anchor;!de.isCollapsed&&Se.parent.is("element","codeBlock")&&Se.hasSameParentAs(de.focus)&&we.change(Re=>{const Oe=ne.return;if(Se.parent.is("element")&&(Oe.childCount>1||de.containsEntireContent(Se.parent))){const Ie=Re.createElement("codeBlock",Se.parent.getAttributes());Re.append(Oe,Ie);const Ue=Re.createDocumentFragment();return Re.append(Ie,Ue),void(ne.return=Ue)}const G=Oe.getChild(0);ie.checkAttribute(G,"code")&&Re.setAttribute("code",!0,G)})})}afterInit(){const W=this.editor,ie=W.commands,we=ie.get("indent"),Ae=ie.get("outdent");we&&we.registerChildCommand(ie.get("indentCodeBlock"),{priority:"highest"}),Ae&&Ae.registerChildCommand(ie.get("outdentCodeBlock")),this.listenTo(W.editing.view.document,"enter",(He,it)=>{W.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(ne,de){const Se=ne.model,Re=Se.document,Oe=ne.editing.view,G=Re.selection.getLastPosition(),Ie=G.nodeAfter;return de||!Re.selection.isCollapsed||!G.isAtStart||!g(Ie)?!1:(ne.model.change(Ue=>{ne.execute("enter");const nt=Re.selection.anchor.parent.previousSibling;Ue.rename(nt,ue),Ue.setSelection(nt,"in"),ne.model.schema.removeDisallowedAttributes([nt],Ue),Ue.remove(Ie)}),Oe.scrollToTheSelection(),!0)}(W,it.isSoft)||function(ne,de){const Se=ne.model,Re=Se.document,Oe=ne.editing.view,G=Re.selection.getLastPosition(),Ie=G.nodeBefore;let Ue;if(de||!Re.selection.isCollapsed||!G.isAtEnd||!Ie||!Ie.previousSibling)return!1;if(g(Ie)&&g(Ie.previousSibling))Ue=Se.createRange(Se.createPositionBefore(Ie.previousSibling),Se.createPositionAfter(Ie));else if(p(Ie)&&g(Ie.previousSibling)&&g(Ie.previousSibling.previousSibling))Ue=Se.createRange(Se.createPositionBefore(Ie.previousSibling.previousSibling),Se.createPositionAfter(Ie));else{if(!(p(Ie)&&g(Ie.previousSibling)&&p(Ie.previousSibling.previousSibling)&&Ie.previousSibling.previousSibling&&g(Ie.previousSibling.previousSibling.previousSibling)))return!1;Ue=Se.createRange(Se.createPositionBefore(Ie.previousSibling.previousSibling.previousSibling),Se.createPositionAfter(Ie))}return ne.model.change(nt=>{nt.remove(Ue),ne.execute("enter");const xe=Re.selection.anchor.parent;nt.rename(xe,ue),ne.model.schema.removeDisallowedAttributes([xe],nt)}),Oe.scrollToTheSelection(),!0}(W,it.isSoft)||function(ne){const de=ne.model,Se=de.document,Re=Se.selection.getLastPosition(),Oe=Re.nodeBefore||Re.textNode;let G;Oe&&Oe.is("$text")&&(G=k(Oe)),ne.model.change(Ie=>{ne.execute("shiftEnter"),G&&Ie.insertText(G,Se.selection.anchor)})}(W),it.preventDefault(),He.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:W,ui:ie,t:we}=this.editor,Ae=C(this.editor);let He=null;W.document.selection.on("change:range",()=>{const it=W.document.selection.focus.parent;ie&&He!==it&&it.is("element")&&(He&&He.is("element","codeBlock")&&ie.ariaLiveAnnouncer.announce(R(we,Ae,He,"leave")),it.is("element","codeBlock")&&ie.ariaLiveAnnouncer.announce(R(we,Ae,it,"enter")),He=it)})}}function p(O){return O&&O.is("$text")&&!O.data.match(/\S/)}function g(O){return O&&O.is("element","softBreak")}var _=Q(311),S=Q(591),I=Q.n(S),M=Q(535),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};I()(M.A,ee),M.A.locals;class H extends d.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const W=this.editor,ie=W.t,we=W.ui.componentFactory,Ae=C(W),He=this._getLanguageListItemDefinitions(Ae),it=W.commands.get("codeBlock");we.add("codeBlock",ne=>{const de=(0,_.createDropdown)(ne,_.SplitButtonView),Se=de.buttonView,Re=ie("Insert code block");return Se.set({label:Re,tooltip:!0,icon:d.icons.codeBlock,isToggleable:!0}),Se.bind("isOn").to(it,"value",Oe=>!!Oe),Se.on("execute",()=>{W.execute("codeBlock",{usePreviousLanguageChoice:!0}),W.editing.view.focus()}),de.on("execute",Oe=>{W.execute("codeBlock",{language:Oe.source._codeBlockLanguage,forceValue:!0}),W.editing.view.focus()}),de.class="ck-code-block-dropdown",de.bind("isEnabled").to(it),(0,_.addListToDropdown)(de,He,{role:"menu",ariaLabel:Re}),de}),we.add("menuBar:codeBlock",ne=>{const de=new _.MenuBarMenuView(ne);de.buttonView.set({label:ie("Code block"),icon:d.icons.codeBlock}),de.bind("isEnabled").to(it);const Se=new _.MenuBarMenuListView(ne);Se.set({ariaLabel:ie("Insert code block")});for(const Re of He){const Oe=new _.MenuBarMenuListItemView(ne,de),G=new _.MenuBarMenuListItemButtonView(ne);G.bind(...Object.keys(Re.model)).to(Re.model),G.bind("ariaChecked").to(G,"isOn"),G.delegate("execute").to(de),G.on("execute",()=>{W.execute("codeBlock",{language:Re.model._codeBlockLanguage,forceValue:it.value!=Re.model._codeBlockLanguage}),W.editing.view.focus()}),Oe.children.add(G),Se.items.add(Oe)}return de.panelView.children.add(Se),de})}_getLanguageListItemDefinitions(W){const ie=this.editor.commands.get("codeBlock"),we=new u.Collection;for(const Ae of W){const He={type:"button",model:new _.ViewModel({_codeBlockLanguage:Ae.language,label:Ae.label,role:"menuitemradio",withText:!0})};He.model.bind("isOn").to(ie,"value",it=>it===He.model._codeBlockLanguage),we.add(He)}return we}}class re extends d.Plugin{static get requires(){return[h,H]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=ti})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Nt={331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},507:(d,w,s)=>{d.exports=s(237)("./src/enter.js")},727:(d,w,s)=>{d.exports=s(237)("./src/select-all.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,w,s)=>{d.exports=s(237)("./src/undo.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Essentials:()=>v});var d=Q(782),w=Q(331),s=Q(507),u=Q(727),C=Q(834),L=Q(251),k=Q(311);class v extends d.Plugin{static get requires(){return[k.AccessibilityHelp,w.Clipboard,s.Enter,u.SelectAll,s.ShiftEnter,C.Typing,L.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={485:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Font:()=>nt,FontBackgroundColor:()=>Ue,FontBackgroundColorEditing:()=>G,FontBackgroundColorUI:()=>Ie,FontColor:()=>Re,FontColorEditing:()=>ne,FontColorUI:()=>Se,FontFamily:()=>p,FontFamilyEditing:()=>J,FontFamilyUI:()=>h,FontSize:()=>He,FontSizeEditing:()=>H,FontSizeUI:()=>Ae});var d=Q(782);class w extends d.Command{constructor(pe,ye){super(pe),this.attributeKey=ye}refresh(){const pe=this.editor.model,ye=pe.document;this.value=ye.selection.getAttribute(this.attributeKey),this.isEnabled=pe.schema.checkAttributeInSelection(ye.selection,this.attributeKey)}execute(pe={}){const ye=this.editor.model,Ze=ye.document.selection,ot=pe.value,at=pe.batch,mt=Ut=>{if(Ze.isCollapsed)ot?Ut.setSelectionAttribute(this.attributeKey,ot):Ut.removeSelectionAttribute(this.attributeKey);else{const $t=ye.schema.getValidRanges(Ze.getRanges(),this.attributeKey);for(const St of $t)ot?Ut.setAttribute(this.attributeKey,ot,St):Ut.removeAttribute(this.attributeKey,St)}};at?ye.enqueueChange(at,Ut=>{mt(Ut)}):ye.change(Ut=>{mt(Ut)})}}var s=Q(311);const u="fontSize",C="fontFamily",L="fontColor",k="fontBackgroundColor";function v(xe,pe){const ye={model:{key:xe,values:[]},view:{},upcastAlso:{}};for(const Ze of pe)ye.model.values.push(Ze.model),ye.view[Ze.model]=Ze.view,Ze.upcastAlso&&(ye.upcastAlso[Ze.model]=Ze.upcastAlso);return ye}function $(xe){return pe=>pe.getStyle(xe).replace(/\s/g,"")}function K(xe){return(pe,{writer:ye})=>ye.createAttributeElement("span",{style:`${xe}:${pe}`},{priority:7})}class R extends w{constructor(pe){super(pe,C)}}function Ee(xe){return xe.map(ge).filter(pe=>pe!==void 0)}function ge(xe){return typeof xe=="object"?xe:xe==="default"?{title:"Default",model:void 0}:typeof xe=="string"?function(pe){const ye=pe.replace(/"|'/g,"").split(","),Ze=ye[0],ot=ye.map(Y).join(", ");return{title:Ze,model:ot,view:{name:"span",styles:{"font-family":ot},priority:7}}}(xe):void 0}function Y(xe){return(xe=xe.trim()).indexOf(" ")>0&&(xe=`'${xe}'`),xe}class J extends d.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(pe){super(pe),pe.config.define(C,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const pe=this.editor;pe.model.schema.extend("$text",{allowAttributes:C}),pe.model.schema.setAttributeProperties(C,{isFormatting:!0,copyOnEnter:!0});const ye=Ee(pe.config.get("fontFamily.options")).filter(ot=>ot.model),Ze=v(C,ye);pe.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):pe.conversion.attributeToElement(Ze),pe.commands.add(C,new R(pe))}_prepareAnyValueConverters(){const pe=this.editor;pe.conversion.for("downcast").attributeToElement({model:C,view:(ye,{writer:Ze})=>Ze.createAttributeElement("span",{style:"font-family:"+ye},{priority:7})}),pe.conversion.for("upcast").elementToAttribute({model:{key:C,value:ye=>ye.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:C,value:pe=>pe.getAttribute("face")}})}}var Ce=Q(584);const ue='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class h extends d.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const pe=this.editor,ye=pe.t,Ze=this._getLocalizedOptions(),ot=pe.commands.get(C),at=ye("Font Family"),mt=function(Ut,$t){const St=new Ce.Collection;for(const qt of Ut){const wt={type:"button",model:new s.ViewModel({commandName:C,commandParam:qt.model,label:qt.title,role:"menuitemradio",withText:!0})};wt.model.bind("isOn").to($t,"value",tt=>tt===qt.model||!(!tt||!qt.model)&&tt.split(",")[0].replace(/'/g,"").toLowerCase()===qt.model.toLowerCase()),qt.view&&typeof qt.view!="string"&&qt.view.styles&&wt.model.set("labelStyle",`font-family: ${qt.view.styles["font-family"]}`),St.add(wt)}return St}(Ze,ot);pe.ui.componentFactory.add(C,Ut=>{const $t=(0,s.createDropdown)(Ut);return(0,s.addListToDropdown)($t,mt,{role:"menu",ariaLabel:at}),$t.buttonView.set({label:at,icon:ue,tooltip:!0}),$t.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),$t.bind("isEnabled").to(ot),this.listenTo($t,"execute",St=>{pe.execute(St.source.commandName,{value:St.source.commandParam}),pe.editing.view.focus()}),$t}),pe.ui.componentFactory.add(`menuBar:${C}`,Ut=>{const $t=new s.MenuBarMenuView(Ut);$t.buttonView.set({label:at,icon:ue}),$t.bind("isEnabled").to(ot);const St=new s.MenuBarMenuListView(Ut);for(const qt of mt){const wt=new s.MenuBarMenuListItemView(Ut,$t),tt=new s.MenuBarMenuListItemButtonView(Ut);tt.bind(...Object.keys(qt.model)).to(qt.model),tt.bind("ariaChecked").to(tt,"isOn"),tt.delegate("execute").to($t),tt.on("execute",()=>{pe.execute(qt.model.commandName,{value:qt.model.commandParam}),pe.editing.view.focus()}),wt.children.add(tt),St.items.add(wt)}return $t.panelView.children.add(St),$t})}_getLocalizedOptions(){const pe=this.editor,ye=pe.t;return Ee(pe.config.get(C).options).map(Ze=>(Ze.title==="Default"&&(Ze.title=ye("Default")),Ze))}}class p extends d.Plugin{static get requires(){return[J,h]}static get pluginName(){return"FontFamily"}}var g=Q(783);class _ extends w{constructor(pe){super(pe,u)}}function S(xe){return xe.map(pe=>function(ye){if(typeof ye=="number"&&(ye=String(ye)),typeof ye=="object"&&(Ze=ye,Ze.title&&Ze.model&&Ze.view))return M(ye);var Ze;const ot=function(at){return typeof at=="string"?I[at]:I[at.model]}(ye);if(ot)return M(ot);if(ye==="default")return{model:void 0,title:"Default"};if(!function(at){let mt;if(typeof at=="object"){if(!at.model)throw new Ce.CKEditorError("font-size-invalid-definition",null,at);mt=parseFloat(at.model)}else mt=parseFloat(at);return isNaN(mt)}(ye))return function(at){return typeof at=="string"&&(at={title:at,model:`${parseFloat(at)}px`}),at.view={name:"span",styles:{"font-size":at.model}},M(at)}(ye)}(pe)).filter(pe=>pe!==void 0)}const I={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function M(xe){return xe.view&&typeof xe.view!="string"&&!xe.view.priority&&(xe.view.priority=7),xe}const ee=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class H extends d.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(pe){super(pe),pe.config.define(u,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const pe=this.editor;pe.model.schema.extend("$text",{allowAttributes:u}),pe.model.schema.setAttributeProperties(u,{isFormatting:!0,copyOnEnter:!0});const ye=pe.config.get("fontSize.supportAllValues"),Ze=S(this.editor.config.get("fontSize.options")).filter(at=>at.model),ot=v(u,Ze);ye?(this._prepareAnyValueConverters(ot),this._prepareCompatibilityConverter()):pe.conversion.attributeToElement(ot),pe.commands.add(u,new _(pe))}_prepareAnyValueConverters(pe){const ye=this.editor,Ze=pe.model.values.filter(ot=>!(0,g.isLength)(String(ot))&&!(0,g.isPercentage)(String(ot)));if(Ze.length)throw new Ce.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:Ze});ye.conversion.for("downcast").attributeToElement({model:u,view:(ot,{writer:at})=>{if(ot)return at.createAttributeElement("span",{style:"font-size:"+ot},{priority:7})}}),ye.conversion.for("upcast").elementToAttribute({model:{key:u,value:ot=>ot.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:u,value:pe=>{const ye=pe.getAttribute("size"),Ze=ye[0]==="-"||ye[0]==="+";let ot=parseInt(ye,10);Ze&&(ot=3+ot);const at=ee.length-1,mt=Math.min(Math.max(ot,0),at);return ee[mt]}}})}}var re=Q(591),O=Q.n(re),W=Q(485),ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};O()(W.A,ie),W.A.locals;const we='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class Ae extends d.Plugin{static get pluginName(){return"FontSizeUI"}init(){const pe=this.editor,ye=pe.t,Ze=this._getLocalizedOptions(),ot=pe.commands.get(u),at=ye("Font Size"),mt=function(Ut,$t){const St=new Ce.Collection;for(const qt of Ut){const wt={type:"button",model:new s.ViewModel({commandName:u,commandParam:qt.model,label:qt.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};qt.view&&typeof qt.view!="string"&&(qt.view.styles&&wt.model.set("labelStyle",`font-size:${qt.view.styles["font-size"]}`),qt.view.classes&&wt.model.set("class",`${wt.model.class} ${qt.view.classes}`)),wt.model.bind("isOn").to($t,"value",tt=>tt===qt.model),St.add(wt)}return St}(Ze,ot);pe.ui.componentFactory.add(u,Ut=>{const $t=(0,s.createDropdown)(Ut);return(0,s.addListToDropdown)($t,mt,{role:"menu",ariaLabel:at}),$t.buttonView.set({label:at,icon:we,tooltip:!0}),$t.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),$t.bind("isEnabled").to(ot),this.listenTo($t,"execute",St=>{pe.execute(St.source.commandName,{value:St.source.commandParam}),pe.editing.view.focus()}),$t}),pe.ui.componentFactory.add(`menuBar:${u}`,Ut=>{const $t=new s.MenuBarMenuView(Ut);$t.buttonView.set({label:at,icon:we}),$t.bind("isEnabled").to(ot);const St=new s.MenuBarMenuListView(Ut);for(const qt of mt){const wt=new s.MenuBarMenuListItemView(Ut,$t),tt=new s.MenuBarMenuListItemButtonView(Ut);tt.bind(...Object.keys(qt.model)).to(qt.model),tt.bind("ariaChecked").to(tt,"isOn"),tt.delegate("execute").to($t),tt.on("execute",()=>{pe.execute(qt.model.commandName,{value:qt.model.commandParam}),pe.editing.view.focus()}),wt.children.add(tt),St.items.add(wt)}return $t.panelView.children.add(St),$t})}_getLocalizedOptions(){const pe=this.editor,ye=pe.t,Ze={Default:ye("Default"),Tiny:ye("Tiny"),Small:ye("Small"),Big:ye("Big"),Huge:ye("Huge")};return S(pe.config.get(u).options).map(ot=>{const at=Ze[ot.title];return at&&at!=ot.title&&(ot=Object.assign({},ot,{title:at})),ot})}}class He extends d.Plugin{static get requires(){return[H,Ae]}static get pluginName(){return"FontSize"}normalizeSizeOptions(pe){return S(pe)}}class it extends w{constructor(pe){super(pe,L)}}class ne extends d.Plugin{static get pluginName(){return"FontColorEditing"}constructor(pe){super(pe),pe.config.define(L,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),pe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:L,value:$("color")}}),pe.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:L,value:ye=>ye.getAttribute("color")}}),pe.conversion.for("downcast").attributeToElement({model:L,view:K("color")}),pe.commands.add(L,new it(pe)),pe.model.schema.extend("$text",{allowAttributes:L}),pe.model.schema.setAttributeProperties(L,{isFormatting:!0,copyOnEnter:!0})}}class de extends d.Plugin{constructor(pe,{commandName:ye,componentName:Ze,icon:ot,dropdownLabel:at}){super(pe),this.commandName=ye,this.componentName=Ze,this.icon=ot,this.dropdownLabel=at,this.columns=pe.config.get(`${this.componentName}.columns`)}init(){const pe=this.editor,ye=pe.locale,Ze=ye.t,ot=pe.commands.get(this.commandName),at=pe.config.get(this.componentName),mt=(0,s.normalizeColorOptions)(at.colors),Ut=(0,s.getLocalizedColorOptions)(ye,mt),$t=at.documentColors,St=at.colorPicker!==!1;pe.ui.componentFactory.add(this.componentName,qt=>{const wt=(0,s.createDropdown)(qt);let tt=!1;const gt=function({dropdownView:gi,colors:Ti,columns:Pi,removeButtonLabel:Di,colorPickerLabel:Oi,documentColorsLabel:Wi,documentColorsCount:Gt,colorPickerViewConfig:xt}){const Ke=gi.locale,le=new s.ColorSelectorView(Ke,{colors:Ti,columns:Pi,removeButtonLabel:Di,colorPickerLabel:Oi,documentColorsLabel:Wi,documentColorsCount:Gt,colorPickerViewConfig:xt});return gi.colorSelectorView=le,gi.panelView.children.add(le),le}({dropdownView:wt,colors:Ut.map(gi=>({label:gi.label,color:gi.model,options:{hasBorder:gi.hasBorder}})),columns:this.columns,removeButtonLabel:Ze("Remove color"),colorPickerLabel:Ze("Color picker"),documentColorsLabel:$t!==0?Ze("Document colors"):"",documentColorsCount:$t===void 0?this.columns:$t,colorPickerViewConfig:!!St&&(at.colorPicker||{})});return gt.bind("selectedColor").to(ot,"value"),wt.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),wt.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),wt.bind("isEnabled").to(ot),gt.on("execute",(gi,Ti)=>{wt.isOpen&&pe.execute(this.commandName,{value:Ti.value,batch:this._undoStepBatch}),Ti.source!=="colorPicker"&&pe.editing.view.focus(),Ti.source==="colorPickerSaveButton"&&(wt.isOpen=!1)}),gt.on("colorPicker:show",()=>{this._undoStepBatch=pe.model.createBatch()}),gt.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(wt.isOpen=!1,pe.execute("undo",this._undoStepBatch)),pe.editing.view.focus()}),wt.on("change:isOpen",(gi,Ti,Pi)=>{tt||(tt=!0,wt.colorSelectorView.appendUI()),Pi&&($t!==0&&gt.updateDocumentColors(pe.model,this.componentName),gt.updateSelectedColors(),gt.showColorGridsFragment())}),(0,s.focusChildOnDropdownOpen)(wt,()=>wt.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(gi=>gi.isOn)),wt}),pe.ui.componentFactory.add(`menuBar:${this.componentName}`,qt=>{const wt=new s.MenuBarMenuView(qt);wt.buttonView.set({label:this.dropdownLabel,icon:this.icon}),wt.bind("isEnabled").to(ot);let tt=!1;const gt=new s.ColorSelectorView(qt,{colors:Ut.map(gi=>({label:gi.label,color:gi.model,options:{hasBorder:gi.hasBorder}})),columns:this.columns,removeButtonLabel:Ze("Remove color"),colorPickerLabel:Ze("Color picker"),documentColorsLabel:$t!==0?Ze("Document colors"):"",documentColorsCount:$t===void 0?this.columns:$t,colorPickerViewConfig:!1});return gt.bind("selectedColor").to(ot,"value"),gt.delegate("execute").to(wt),gt.on("execute",(gi,Ti)=>{pe.execute(this.commandName,{value:Ti.value,batch:this._undoStepBatch}),pe.editing.view.focus()}),wt.on("change:isOpen",(gi,Ti,Pi)=>{tt||(tt=!0,gt.appendUI()),Pi&&($t!==0&&gt.updateDocumentColors(pe.model,this.componentName),gt.updateSelectedColors(),gt.showColorGridsFragment())}),wt.panelView.children.add(gt),wt})}}class Se extends de{constructor(pe){const ye=pe.locale.t;super(pe,{commandName:L,componentName:L,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:ye("Font Color")})}static get pluginName(){return"FontColorUI"}}class Re extends d.Plugin{static get requires(){return[ne,Se]}static get pluginName(){return"FontColor"}}class Oe extends w{constructor(pe){super(pe,k)}}class G extends d.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(pe){super(pe),pe.config.define(k,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),pe.data.addStyleProcessorRules(g.addBackgroundRules),pe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:k,value:$("background-color")}}),pe.conversion.for("downcast").attributeToElement({model:k,view:K("background-color")}),pe.commands.add(k,new Oe(pe)),pe.model.schema.extend("$text",{allowAttributes:k}),pe.model.schema.setAttributeProperties(k,{isFormatting:!0,copyOnEnter:!0})}}class Ie extends de{constructor(pe){const ye=pe.locale.t;super(pe,{commandName:k,componentName:k,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:ye("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class Ue extends d.Plugin{static get requires(){return[G,Ie]}static get pluginName(){return"FontBackgroundColor"}}class nt extends d.Plugin{static get requires(){return[p,He,Re,Ue]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={707:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},179:(d,w,s)=>{d.exports=s(237)("./src/paragraph.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Heading:()=>J,HeadingButtonsUI:()=>ue,HeadingEditing:()=>k,HeadingUI:()=>Y,Title:()=>g});var d=Q(782),w=Q(179),s=Q(584);class u extends d.Command{constructor(W,ie){super(W),this.modelElements=ie}refresh(){const W=(0,s.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!W&&this.modelElements.includes(W.name)&&W.name,this.isEnabled=!!W&&this.modelElements.some(ie=>C(W,ie,this.editor.model.schema))}execute(W){const ie=this.editor.model,we=ie.document,Ae=W.value;ie.change(He=>{const it=Array.from(we.selection.getSelectedBlocks()).filter(ne=>C(ne,Ae,ie.schema));for(const ne of it)ne.is("element",Ae)||He.rename(ne,Ae)})}}function C(O,W,ie){return ie.checkChild(O.parent,W)&&!ie.isObject(O)}const L="paragraph";class k extends d.Plugin{static get pluginName(){return"HeadingEditing"}constructor(W){super(W),W.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[w.Paragraph]}init(){const W=this.editor,ie=W.config.get("heading.options"),we=[];for(const Ae of ie)Ae.model!=="paragraph"&&(W.model.schema.register(Ae.model,{inheritAllFrom:"$block"}),W.conversion.elementToElement(Ae),we.push(Ae.model));this._addDefaultH1Conversion(W),W.commands.add("heading",new u(W,we))}afterInit(){const W=this.editor,ie=W.commands.get("enter"),we=W.config.get("heading.options");ie&&this.listenTo(ie,"afterExecute",(Ae,He)=>{const it=W.model.document.selection.getFirstPosition().parent;we.some(ne=>it.is("element",ne.model))&&!it.is("element",L)&&it.childCount===0&&He.writer.rename(it,L)})}_addDefaultH1Conversion(W){W.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:s.priorities.low+1})}}var v=Q(311);function $(O){const W=O.t,ie={Paragraph:W("Paragraph"),"Heading 1":W("Heading 1"),"Heading 2":W("Heading 2"),"Heading 3":W("Heading 3"),"Heading 4":W("Heading 4"),"Heading 5":W("Heading 5"),"Heading 6":W("Heading 6")};return O.config.get("heading.options").map(we=>{const Ae=ie[we.title];return Ae&&Ae!=we.title&&(we.title=Ae),we})}var K=Q(591),R=Q.n(K),Ee=Q(707),ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};R()(Ee.A,ge),Ee.A.locals;class Y extends d.Plugin{static get pluginName(){return"HeadingUI"}init(){const W=this.editor,ie=W.t,we=$(W),Ae=ie("Choose heading"),He=ie("Heading");W.ui.componentFactory.add("heading",it=>{const ne={},de=new s.Collection,Se=W.commands.get("heading"),Re=W.commands.get("paragraph"),Oe=[Se];for(const Ie of we){const Ue={type:"button",model:new v.ViewModel({label:Ie.title,class:Ie.class,role:"menuitemradio",withText:!0})};Ie.model==="paragraph"?(Ue.model.bind("isOn").to(Re,"value"),Ue.model.set("commandName","paragraph"),Oe.push(Re)):(Ue.model.bind("isOn").to(Se,"value",nt=>nt===Ie.model),Ue.model.set({commandName:"heading",commandValue:Ie.model})),de.add(Ue),ne[Ie.model]=Ie.title}const G=(0,v.createDropdown)(it);return(0,v.addListToDropdown)(G,de,{ariaLabel:He,role:"menu"}),G.buttonView.set({ariaLabel:He,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:He}),G.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),G.bind("isEnabled").toMany(Oe,"isEnabled",(...Ie)=>Ie.some(Ue=>Ue)),G.buttonView.bind("label").to(Se,"value",Re,"value",(Ie,Ue)=>{const nt=Ue?"paragraph":Ie;return typeof nt=="boolean"?Ae:ne[nt]?ne[nt]:Ae}),G.buttonView.bind("ariaLabel").to(Se,"value",Re,"value",(Ie,Ue)=>{const nt=Ue?"paragraph":Ie;return typeof nt=="boolean"?He:ne[nt]?`${ne[nt]}, ${He}`:He}),this.listenTo(G,"execute",Ie=>{const{commandName:Ue,commandValue:nt}=Ie.source;W.execute(Ue,nt?{value:nt}:void 0),W.editing.view.focus()}),G}),W.ui.componentFactory.add("menuBar:heading",it=>{const ne=new v.MenuBarMenuView(it),de=W.commands.get("heading"),Se=W.commands.get("paragraph"),Re=[de],Oe=new v.MenuBarMenuListView(it);ne.set({class:"ck-heading-dropdown"}),Oe.set({ariaLabel:ie("Heading"),role:"menu"}),ne.buttonView.set({label:ie("Heading")}),ne.panelView.children.add(Oe);for(const G of we){const Ie=new v.MenuBarMenuListItemView(it,ne),Ue=new v.MenuBarMenuListItemButtonView(it);Ie.children.add(Ue),Oe.items.add(Ie),Ue.set({label:G.title,role:"menuitemradio",class:G.class}),Ue.bind("ariaChecked").to(Ue,"isOn"),Ue.delegate("execute").to(ne),Ue.on("execute",()=>{const nt=G.model==="paragraph"?"paragraph":"heading";W.execute(nt,{value:G.model}),W.editing.view.focus()}),G.model==="paragraph"?(Ue.bind("isOn").to(Se,"value"),Re.push(Se)):Ue.bind("isOn").to(de,"value",nt=>nt===G.model)}return ne.bind("isEnabled").toMany(Re,"isEnabled",(...G)=>G.some(Ie=>Ie)),ne})}}class J extends d.Plugin{static get requires(){return[k,Y]}static get pluginName(){return"Heading"}}const Ce={heading1:d.icons.heading1,heading2:d.icons.heading2,heading3:d.icons.heading3,heading4:d.icons.heading4,heading5:d.icons.heading5,heading6:d.icons.heading6};class ue extends d.Plugin{init(){$(this.editor).filter(W=>W.model!=="paragraph").map(W=>this._createButton(W))}_createButton(W){const ie=this.editor;ie.ui.componentFactory.add(W.model,we=>{const Ae=new v.ButtonView(we),He=ie.commands.get("heading");return Ae.label=W.title,Ae.icon=W.icon||Ce[W.model],Ae.tooltip=!0,Ae.isToggleable=!0,Ae.bind("isEnabled").to(He),Ae.bind("isOn").to(He,"value",it=>it==W.model),Ae.on("execute",()=>{ie.execute("heading",{value:W.model}),ie.editing.view.focus()}),Ae})}}var h=Q(783);const p=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class g extends d.Plugin{constructor(){super(...arguments),this._bodyPlaceholder=new Map}static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const W=this.editor,ie=W.model;ie.schema.register("title",{isBlock:!0,allowIn:"$root"}),ie.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),ie.schema.extend("$text",{allowIn:"title-content"}),ie.schema.addAttributeCheck(we=>{if(we.endsWith("title-content $text"))return!1}),W.editing.mapper.on("modelToViewPosition",S(W.editing.view)),W.data.mapper.on("modelToViewPosition",S(W.editing.view)),W.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),W.conversion.for("downcast").add(we=>we.on("insert:title",(Ae,He,it)=>{it.consumable.consume(He.item,Ae.name)})),W.data.upcastDispatcher.on("element:h1",_,{priority:"high"}),W.data.upcastDispatcher.on("element:h2",_,{priority:"high"}),W.data.upcastDispatcher.on("element:h3",_,{priority:"high"}),ie.document.registerPostFixer(we=>this._fixTitleContent(we)),ie.document.registerPostFixer(we=>this._fixTitleElement(we)),ie.document.registerPostFixer(we=>this._fixBodyElement(we)),ie.document.registerPostFixer(we=>this._fixExtraParagraph(we)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(W={}){const ie=W.rootName?W.rootName:void 0,we=this._getTitleElement(ie).getChild(0);return this.editor.data.stringify(we,W)}getBody(W={}){const ie=this.editor,we=ie.data,Ae=ie.model,He=W.rootName?W.rootName:void 0,it=ie.model.document.getRoot(He),ne=ie.editing.view,de=new h.DowncastWriter(ne.document),Se=Ae.createRangeIn(it),Re=de.createDocumentFragment(),Oe=Ae.createPositionAfter(it.getChild(0)),G=Ae.createRange(Oe,Ae.createPositionAt(it,"end")),Ie=new Map;for(const Ue of Ae.markers){const nt=G.getIntersection(Ue.getRange());nt&&Ie.set(Ue.name,nt)}return we.mapper.clearBindings(),we.mapper.bindElements(it,Re),we.downcastDispatcher.convert(Se,Ie,de,W),de.remove(de.createRangeOn(Re.getChild(0))),ie.data.processor.toData(Re)}_getTitleElement(W){const ie=this.editor.model.document.getRoot(W);for(const we of ie.getChildren())if(I(we))return we}_fixTitleContent(W){let ie=!1;for(const we of this.editor.model.document.getRootNames()){const Ae=this._getTitleElement(we);if(!Ae||Ae.maxOffset===1)continue;const He=Array.from(Ae.getChildren());He.shift();for(const it of He)W.move(W.createRangeOn(it),Ae,"after"),W.rename(it,"paragraph");ie=!0}return ie}_fixTitleElement(W){let ie=!1;const we=this.editor.model;for(const Ae of this.editor.model.document.getRoots()){const He=Array.from(Ae.getChildren()).filter(I),it=He[0],ne=Ae.getChild(0);if(ne.is("element","title"))He.length>1&&(ee(He,W,we),ie=!0);else if(it||p.has(ne.name))p.has(ne.name)?M(ne,W,we):W.move(W.createRangeOn(it),Ae,0),ee(He,W,we),ie=!0;else{const de=W.createElement("title");W.insert(de,Ae),W.insertElement("title-content",de),ie=!0}}return ie}_fixBodyElement(W){let ie=!1;for(const we of this.editor.model.document.getRootNames()){const Ae=this.editor.model.document.getRoot(we);if(Ae.childCount<2){const He=W.createElement("paragraph");W.insert(He,Ae,1),this._bodyPlaceholder.set(we,He),ie=!0}}return ie}_fixExtraParagraph(W){let ie=!1;for(const we of this.editor.model.document.getRootNames()){const Ae=this.editor.model.document.getRoot(we),He=this._bodyPlaceholder.get(we);re(He,Ae)&&(this._bodyPlaceholder.delete(we),W.remove(He),ie=!0)}return ie}_attachPlaceholders(){const W=this.editor,ie=W.t,we=W.editing.view,Ae=W.sourceElement,He=W.config.get("title.placeholder")||ie("Type your title"),it=W.config.get("placeholder")||Ae&&Ae.tagName.toLowerCase()==="textarea"&&Ae.getAttribute("placeholder")||ie("Type or paste your content here.");W.editing.downcastDispatcher.on("insert:title-content",(de,Se,Re)=>{const Oe=Re.mapper.toViewElement(Se.item);Oe.placeholder=He,(0,h.enablePlaceholder)({view:we,element:Oe,keepOnFocus:!0})});const ne=new Map;we.document.registerPostFixer(de=>{let Se=!1;for(const Re of we.document.roots){if(Re.isEmpty)continue;const Oe=Re.getChild(1),G=ne.get(Re.rootName);Oe!==G&&(G&&((0,h.hidePlaceholder)(de,G),de.removeAttribute("data-placeholder",G)),de.setAttribute("data-placeholder",it,Oe),ne.set(Re.rootName,Oe),Se=!0),Se=(0,h.needsPlaceholder)(Oe,!0)&&Re.childCount===2&&Oe.name==="p"?!!(0,h.showPlaceholder)(de,Oe)||Se:!!(0,h.hidePlaceholder)(de,Oe)||Se}return Se})}_attachTabPressHandling(){const W=this.editor,ie=W.model;W.keystrokes.set("TAB",(we,Ae)=>{ie.change(He=>{const it=ie.document.selection,ne=Array.from(it.getSelectedBlocks());if(ne.length===1&&ne[0].is("element","title-content")){const de=it.getFirstPosition().root.getChild(1);He.setSelection(de,0),Ae()}})}),W.keystrokes.set("SHIFT + TAB",(we,Ae)=>{ie.change(He=>{const it=ie.document.selection;if(!it.isCollapsed)return;const ne=(0,s.first)(it.getSelectedBlocks()),de=it.getFirstPosition(),Se=W.model.document.getRoot(de.root.rootName),Re=Se.getChild(0);ne===Se.getChild(1)&&de.isAtStart&&(He.setSelection(Re.getChild(0),0),Ae())})})}}function _(O,W,ie){const we=W.modelCursor,Ae=W.viewItem;if(!we.isAtStart||!we.parent.is("element","$root")||!ie.consumable.consume(Ae,{name:!0}))return;const He=ie.writer,it=He.createElement("title"),ne=He.createElement("title-content");He.append(ne,it),He.insert(it,we),ie.convertChildren(Ae,ne),ie.updateConversionResult(it,W)}function S(O){return(W,ie)=>{const we=ie.modelPosition.parent;if(!we.is("element","title"))return;const Ae=we.parent,He=ie.mapper.toViewElement(Ae);ie.viewPosition=O.createPositionAt(He,0),W.stop()}}function I(O){return O.is("element","title")}function M(O,W,ie){const we=W.createElement("title");W.insert(we,O,"before"),W.insert(O,we,0),W.rename(O,"title-content"),ie.schema.removeDisallowedAttributes([O],W)}function ee(O,W,ie){let we=!1;for(const Ae of O)Ae.index!==0&&(H(Ae,W,ie),we=!0);return we}function H(O,W,ie){const we=O.getChild(0);we.isEmpty?W.remove(O):(W.move(W.createRangeOn(we),O,"before"),W.rename(we,"paragraph"),W.remove(O),ie.schema.removeDisallowedAttributes([we],W))}function re(O,W){return!(!O||!O.is("element","paragraph")||O.childCount)&&!(W.childCount<=2||W.getChild(W.childCount-1)!==O)}})(),(window.CKEditor5=window.CKEditor5||{}).heading=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={809:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Highlight:()=>R,HighlightEditing:()=>s,HighlightUI:()=>$});var d=Q(782);class w extends d.Command{refresh(){const ge=this.editor.model,Y=ge.document;this.value=Y.selection.getAttribute("highlight"),this.isEnabled=ge.schema.checkAttributeInSelection(Y.selection,"highlight")}execute(ge={}){const Y=this.editor.model,J=Y.document.selection,Ce=ge.value;Y.change(ue=>{if(J.isCollapsed){const h=J.getFirstPosition();if(J.hasAttribute("highlight")){const p=I=>I.item.hasAttribute("highlight")&&I.item.getAttribute("highlight")===this.value,g=h.getLastMatchingPosition(p,{direction:"backward"}),_=h.getLastMatchingPosition(p),S=ue.createRange(g,_);Ce&&this.value!==Ce?(h.isEqual(_)||ue.setAttribute("highlight",Ce,S),ue.setSelectionAttribute("highlight",Ce)):(h.isEqual(_)||ue.removeAttribute("highlight",S),ue.removeSelectionAttribute("highlight"))}else Ce&&ue.setSelectionAttribute("highlight",Ce)}else{const h=Y.schema.getValidRanges(J.getRanges(),"highlight");for(const p of h)Ce?ue.setAttribute("highlight",Ce,p):ue.removeAttribute("highlight",p)}})}}class s extends d.Plugin{static get pluginName(){return"HighlightEditing"}constructor(ge){super(ge),ge.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const ge=this.editor;ge.model.schema.extend("$text",{allowAttributes:"highlight"});const Y=ge.config.get("highlight.options");ge.conversion.attributeToElement(function(J){const Ce={model:{key:"highlight",values:[]},view:{}};for(const ue of J)Ce.model.values.push(ue.model),Ce.view[ue.model]={name:"mark",classes:ue.class};return Ce}(Y)),ge.commands.add("highlight",new w(ge))}}var u=Q(311),C=Q(591),L=Q.n(C),k=Q(809),v={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(k.A,v),k.A.locals;class $ extends d.Plugin{get localizedOptionTitles(){const ge=this.editor.t;return{"Yellow marker":ge("Yellow marker"),"Green marker":ge("Green marker"),"Pink marker":ge("Pink marker"),"Blue marker":ge("Blue marker"),"Red pen":ge("Red pen"),"Green pen":ge("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const ge=this.editor.config.get("highlight.options");for(const Y of ge)this._addHighlighterButton(Y);this._addRemoveHighlightButton(),this._addDropdown(ge),this._addMenuBarButton(ge)}_addRemoveHighlightButton(){const ge=this.editor.t,Y=this.editor.commands.get("highlight");this._addButton("removeHighlight",ge("Remove highlight"),d.icons.eraser,null,J=>{J.bind("isEnabled").to(Y,"isEnabled")})}_addHighlighterButton(ge){const Y=this.editor.commands.get("highlight");this._addButton("highlight:"+ge.model,ge.title,K(ge.type),ge.model,function(J){J.bind("isEnabled").to(Y,"isEnabled"),J.bind("isOn").to(Y,"value",Ce=>Ce===ge.model),J.iconView.fillColor=ge.color,J.isToggleable=!0})}_addButton(ge,Y,J,Ce,ue){const h=this.editor;h.ui.componentFactory.add(ge,p=>{const g=new u.ButtonView(p),_=this.localizedOptionTitles[Y]?this.localizedOptionTitles[Y]:Y;return g.set({label:_,icon:J,tooltip:!0}),g.on("execute",()=>{h.execute("highlight",{value:Ce}),h.editing.view.focus()}),ue(g),g})}_addDropdown(ge){const Y=this.editor,J=Y.t,Ce=Y.ui.componentFactory,ue=ge[0],h=ge.reduce((p,g)=>(p[g.model]=g,p),{});Ce.add("highlight",p=>{const g=Y.commands.get("highlight"),_=(0,u.createDropdown)(p,u.SplitButtonView),S=_.buttonView;S.set({label:J("Highlight"),tooltip:!0,lastExecuted:ue.model,commandValue:ue.model,isToggleable:!0}),S.bind("icon").to(g,"value",M=>K(I(M,"type"))),S.bind("color").to(g,"value",M=>I(M,"color")),S.bind("commandValue").to(g,"value",M=>I(M,"model")),S.bind("isOn").to(g,"value",M=>!!M),S.delegate("execute").to(_);function I(M,ee){const H=M&&M!==S.lastExecuted?M:S.lastExecuted;return h[H][ee]}return _.bind("isEnabled").to(g,"isEnabled"),(0,u.addToolbarToDropdown)(_,()=>{const M=ge.map(ee=>{const H=Ce.create("highlight:"+ee.model);return this.listenTo(H,"execute",()=>{_.buttonView.set({lastExecuted:ee.model})}),H});return M.push(new u.ToolbarSeparatorView),M.push(Ce.create("removeHighlight")),M},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:J("Text highlight toolbar")}),function(M){M.buttonView.actionView.iconView.bind("fillColor").to(M.buttonView,"color")}(_),S.on("execute",()=>{Y.execute("highlight",{value:S.commandValue})}),this.listenTo(_,"execute",()=>{Y.editing.view.focus()}),_})}_addMenuBarButton(ge){const Y=this.editor,J=Y.t;Y.ui.componentFactory.add("menuBar:highlight",Ce=>{const ue=Y.commands.get("highlight"),h=new u.MenuBarMenuView(Ce);h.buttonView.set({label:J("Highlight"),icon:K("marker")}),h.bind("isEnabled").to(ue),h.buttonView.iconView.fillColor="transparent";const p=new u.MenuBarMenuListView(Ce);for(const S of ge){const I=new u.MenuBarMenuListItemView(Ce,h),M=new u.MenuBarMenuListItemButtonView(Ce);M.set({label:S.title,icon:K(S.type)}),M.delegate("execute").to(h),M.bind("isOn").to(ue,"value",ee=>ee===S.model),M.bind("ariaChecked").to(M,"isOn"),M.iconView.bind("fillColor").to(M,"isOn",ee=>ee?"transparent":S.color),M.on("execute",()=>{Y.execute("highlight",{value:S.model}),Y.editing.view.focus()}),I.children.add(M),p.items.add(I)}p.items.add(new u.ListSeparatorView(Ce));const g=new u.MenuBarMenuListItemView(Ce,h),_=new u.MenuBarMenuListItemButtonView(Ce);return _.set({label:J("Remove highlight"),icon:d.icons.eraser}),_.delegate("execute").to(h),_.on("execute",()=>{Y.execute("highlight",{value:null}),Y.editing.view.focus()}),g.children.add(_),p.items.add(g),h.panelView.children.add(p),h})}}function K(Ee){return Ee==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class R extends d.Plugin{static get requires(){return[s,$]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={199:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{HtmlEmbed:()=>Y,HtmlEmbedEditing:()=>R,HtmlEmbedUI:()=>ge});var d=Q(782),w=Q(901),s=Q(311),u=Q(584);class C extends d.Command{refresh(){const Ce=this.editor.model,ue=Ce.schema,h=Ce.document.selection,p=L(h);this.isEnabled=function(g,_,S){const I=function(M,ee){const H=(0,w.findOptimalInsertionRange)(M,ee),re=H.start.parent;return re.isEmpty&&!re.is("rootElement")?re.parent:re}(g,S);return _.checkChild(I,"rawHtml")}(h,ue,Ce),this.value=p?p.getAttribute("value")||"":null}execute(Ce){const ue=this.editor.model,h=ue.document.selection;ue.change(p=>{let g;this.value!==null?g=L(h):(g=p.createElement("rawHtml"),ue.insertObject(g,null,null,{setSelection:"on"})),p.setAttribute("value",Ce,g)})}}function L(J){const Ce=J.getSelectedElement();return Ce&&Ce.is("element","rawHtml")?Ce:null}var k=Q(591),v=Q.n(k),$=Q(199),K={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};v()($.A,K),$.A.locals;class R extends d.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(Ce){super(Ce),this._widgetButtonViewReferences=new Set,Ce.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:ue=>((0,u.logWarning)("html-embed-provide-sanitize-function"),{html:ue,hasChanged:!1})})}init(){const Ce=this.editor;Ce.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),Ce.commands.add("htmlEmbed",new C(Ce)),this._setupConversion()}_setupConversion(){const Ce=this.editor,ue=Ce.t,h=Ce.editing.view,p=this._widgetButtonViewReferences,g=Ce.config.get("htmlEmbed");function _({editor:I,domElement:M,state:ee,props:H}){M.textContent="";const re=M.ownerDocument;let O;if(ee.isEditable){const ie={isDisabled:!1,placeholder:H.textareaPlaceholder};O=S({domDocument:re,state:ee,props:ie}),M.append(O)}else if(ee.showPreviews){const ie={sanitizeHtml:H.sanitizeHtml};M.append(function({editor:we,domDocument:Ae,state:He,props:it}){const ne=it.sanitizeHtml(He.getRawHtmlValue()),de=He.getRawHtmlValue().length>0?ue("No preview available"):ue("Empty snippet content"),Se=(0,u.createElement)(Ae,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},de),Re=(0,u.createElement)(Ae,"div",{class:"raw-html-embed__preview-content",dir:we.locale.contentLanguageDirection}),Oe=Ae.createRange(),G=Oe.createContextualFragment(ne.html);return Re.appendChild(G),(0,u.createElement)(Ae,"div",{class:"raw-html-embed__preview"},[Se,Re])}({domDocument:re,state:ee,props:ie,editor:I}))}else{const ie={isDisabled:!0,placeholder:H.textareaPlaceholder};M.append(S({domDocument:re,state:ee,props:ie}))}const W={onEditClick:H.onEditClick,onSaveClick:()=>{H.onSaveClick(O.value)},onCancelClick:H.onCancelClick};M.prepend(function({editor:ie,domDocument:we,state:Ae,props:He}){const it=(0,u.createElement)(we,"div",{class:"raw-html-embed__buttons-wrapper"});if(Ae.isEditable){const ne=Ee(ie,"save",He.onSaveClick),de=Ee(ie,"cancel",He.onCancelClick);it.append(ne.element,de.element),p.add(ne).add(de)}else{const ne=Ee(ie,"edit",He.onEditClick);it.append(ne.element),p.add(ne)}return it}({editor:I,domDocument:re,state:ee,props:W}))}function S({domDocument:I,state:M,props:ee}){const H=(0,u.createElement)(I,"textarea",{placeholder:ee.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return H.disabled=ee.isDisabled,H.value=M.getRawHtmlValue(),H}this.editor.editing.view.on("render",()=>{for(const I of p){if(I.element&&I.element.isConnected)return;I.destroy(),p.delete(I)}},{priority:"lowest"}),Ce.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),Ce.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(I,{writer:M})=>M.createElement("rawHtml",{value:I.getCustomProperty("$rawContent")})}),Ce.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(I,{writer:M})=>M.createRawElement("div",{class:"raw-html-embed"},function(ee){ee.innerHTML=I.getAttribute("value")||""})}),Ce.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(I,{writer:M})=>{let ee,H,re;const O=M.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(we){ee=we,_({editor:Ce,domElement:we,state:H,props:re}),ee.addEventListener("mousedown",()=>{if(H.isEditable){const Ae=Ce.model;Ae.document.selection.getSelectedElement()!==I&&Ae.change(He=>He.setSelection(I,"on"))}},!0)}),W={makeEditable(){H=Object.assign({},H,{isEditable:!0}),_({domElement:ee,editor:Ce,state:H,props:re}),h.change(we=>{we.setAttribute("data-cke-ignore-events","true",O)}),ee.querySelector("textarea").focus()},save(we){we!==H.getRawHtmlValue()?(Ce.execute("htmlEmbed",we),Ce.editing.view.focus()):this.cancel()},cancel(){H=Object.assign({},H,{isEditable:!1}),_({domElement:ee,editor:Ce,state:H,props:re}),Ce.editing.view.focus(),h.change(we=>{we.removeAttribute("data-cke-ignore-events",O)})}};H={showPreviews:g.showPreviews,isEditable:!1,getRawHtmlValue:()=>I.getAttribute("value")||""},re={sanitizeHtml:g.sanitizeHtml,textareaPlaceholder:ue("Paste raw HTML here..."),onEditClick(){W.makeEditable()},onSaveClick(we){W.save(we)},onCancelClick(){W.cancel()}};const ie=M.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":ue("HTML snippet"),dir:Ce.locale.uiLanguageDirection},O);return M.setCustomProperty("rawHtmlApi",W,ie),M.setCustomProperty("rawHtml",!0,ie),(0,w.toWidget)(ie,M,{label:ue("HTML snippet"),hasSelectionHandle:!0})}})}}function Ee(J,Ce,ue){const{t:h}=J.locale,p=new s.ButtonView(J.locale),g=J.commands.get("htmlEmbed");return p.set({class:`raw-html-embed__${Ce}-button`,icon:d.icons.pencil,tooltip:!0,tooltipPosition:J.locale.uiLanguageDirection==="rtl"?"e":"w"}),p.render(),Ce==="edit"?(p.set({icon:d.icons.pencil,label:h("Edit source")}),p.bind("isEnabled").to(g)):Ce==="save"?(p.set({icon:d.icons.check,label:h("Save changes")}),p.bind("isEnabled").to(g)):p.set({icon:d.icons.cancel,label:h("Cancel")}),p.on("execute",ue),p}class ge extends d.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const Ce=this.editor,ue=Ce.locale.t;Ce.ui.componentFactory.add("htmlEmbed",()=>{const h=this._createButton(s.ButtonView);return h.set({tooltip:!0,label:ue("Insert HTML")}),h}),Ce.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const h=this._createButton(s.MenuBarMenuListItemButtonView);return h.set({label:ue("HTML snippet")}),h})}_createButton(Ce){const ue=this.editor,h=ue.commands.get("htmlEmbed"),p=new Ce(ue.locale);return p.set({icon:d.icons.html}),p.bind("isEnabled").to(h,"isEnabled"),this.listenTo(p,"execute",()=>{ue.execute("htmlEmbed"),ue.editing.view.focus(),ue.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),p}}class Y extends d.Plugin{static get requires(){return[R,ge,w.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Horizontal line":"Horizontal line"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={427:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{HorizontalLine:()=>R,HorizontalLineEditing:()=>v,HorizontalLineUI:()=>K});var d=Q(782),w=Q(901);class s extends d.Command{refresh(){const ge=this.editor.model,Y=ge.schema,J=ge.document.selection;this.isEnabled=function(Ce,ue,h){const p=function(g,_){const S=(0,w.findOptimalInsertionRange)(g,_),I=S.start.parent;return I.isEmpty&&!I.is("element","$root")?I.parent:I}(Ce,h);return ue.checkChild(p,"horizontalLine")}(J,Y,ge)}execute(){const ge=this.editor.model;ge.change(Y=>{const J=Y.createElement("horizontalLine");ge.insertObject(J,null,null,{setSelection:"after"})})}}var u=Q(591),C=Q.n(u),L=Q(427),k={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(L.A,k),L.A.locals;class v extends d.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const ge=this.editor,Y=ge.model.schema,J=ge.t,Ce=ge.conversion;Y.register("horizontalLine",{inheritAllFrom:"$blockObject"}),Ce.for("dataDowncast").elementToElement({model:"horizontalLine",view:(ue,{writer:h})=>h.createEmptyElement("hr")}),Ce.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(ue,{writer:h})=>{const p=J("Horizontal line"),g=h.createContainerElement("div",null,h.createEmptyElement("hr"));return h.addClass("ck-horizontal-line",g),h.setCustomProperty("hr",!0,g),function(_,S,I){return S.setCustomProperty("horizontalLine",!0,_),(0,w.toWidget)(_,S,{label:I})}(g,h,p)}}),Ce.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),ge.commands.add("horizontalLine",new s(ge))}}var $=Q(311);class K extends d.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const ge=this.editor;ge.ui.componentFactory.add("horizontalLine",()=>{const Y=this._createButton($.ButtonView);return Y.set({tooltip:!0}),Y}),ge.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton($.MenuBarMenuListItemButtonView))}_createButton(ge){const Y=this.editor,J=Y.locale,Ce=Y.commands.get("horizontalLine"),ue=new ge(Y.locale),h=J.t;return ue.set({label:h("Horizontal line"),icon:d.icons.horizontalLine}),ue.bind("isEnabled").to(Ce,"isEnabled"),this.listenTo(ue,"execute",()=>{Y.execute("horizontalLine"),Y.editing.view.focus()}),ue}}class R extends d.Plugin{static get requires(){return[v,K,w.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=ti})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Nt={331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Markdown:()=>yt,PasteFromMarkdownExperimental:()=>jt});var d=Q(782),w=Q(783);function s(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let u={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const C=/[&<>"']/,L=/[&<>"']/g,k=/[<>"']|&(?!#?\w+;)/,v=/[<>"']|&(?!#?\w+;)/g,$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},K=Te=>$[Te];function R(Te,V){if(V){if(C.test(Te))return Te.replace(L,K)}else if(k.test(Te))return Te.replace(v,K);return Te}const Ee=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ge(Te){return Te.replace(Ee,(V,N)=>(N=N.toLowerCase())==="colon"?":":N.charAt(0)==="#"?N.charAt(1)==="x"?String.fromCharCode(parseInt(N.substring(2),16)):String.fromCharCode(+N.substring(1)):"")}const Y=/(^|[^\[])\^/g;function J(Te,V){Te=Te.source||Te,V=V||"";const N={replace:(X,Pe)=>(Pe=(Pe=Pe.source||Pe).replace(Y,"$1"),Te=Te.replace(X,Pe),N),getRegex:()=>new RegExp(Te,V)};return N}const Ce=/[^\w:]/g,ue=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(Te,V,N){if(Te){let X;try{X=decodeURIComponent(ge(N)).replace(Ce,"").toLowerCase()}catch{return null}if(X.indexOf("javascript:")===0||X.indexOf("vbscript:")===0||X.indexOf("data:")===0)return null}V&&!ue.test(N)&&(N=function(X,Pe){p[" "+X]||(g.test(X)?p[" "+X]=X+"/":p[" "+X]=H(X,"/",!0)),X=p[" "+X];const We=X.indexOf(":")===-1;return Pe.substring(0,2)==="//"?We?Pe:X.replace(_,"$1")+Pe:Pe.charAt(0)==="/"?We?Pe:X.replace(S,"$1")+Pe:X+Pe}(V,N));try{N=encodeURI(N).replace(/%25/g,"%")}catch{return null}return N}const p={},g=/^[^:]+:\/*[^/]*$/,_=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/,I={exec:function(){}};function M(Te){let V,N,X=1;for(;X<arguments.length;X++)for(N in V=arguments[X],V)Object.prototype.hasOwnProperty.call(V,N)&&(Te[N]=V[N]);return Te}function ee(Te,V){const N=Te.replace(/\|/g,(Pe,We,oe)=>{let Me=!1,Je=We;for(;--Je>=0&&oe[Je]==="\\";)Me=!Me;return Me?"|":" |"}).split(/ \|/);let X=0;if(N[0].trim()||N.shift(),N.length>0&&!N[N.length-1].trim()&&N.pop(),N.length>V)N.splice(V);else for(;N.length<V;)N.push("");for(;X<N.length;X++)N[X]=N[X].trim().replace(/\\\|/g,"|");return N}function H(Te,V,N){const X=Te.length;if(X===0)return"";let Pe=0;for(;Pe<X;){const We=Te.charAt(X-Pe-1);if(We!==V||N){if(We===V||!N)break;Pe++}else Pe++}return Te.substr(0,X-Pe)}function re(Te){Te&&Te.sanitize&&!Te.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(Te,V){if(V<1)return"";let N="";for(;V>1;)1&V&&(N+=Te),V>>=1,Te+=Te;return N+Te}function W(Te,V,N,X){const Pe=V.href,We=V.title?R(V.title):null,oe=Te[1].replace(/\\([\[\]])/g,"$1");if(Te[0].charAt(0)!=="!"){X.state.inLink=!0;const Me={type:"link",raw:N,href:Pe,title:We,text:oe,tokens:X.inlineTokens(oe,[])};return X.state.inLink=!1,Me}return{type:"image",raw:N,href:Pe,title:We,text:R(oe)}}class ie{constructor(V){this.options=V||u}space(V){const N=this.rules.block.newline.exec(V);if(N&&N[0].length>0)return{type:"space",raw:N[0]}}code(V){const N=this.rules.block.code.exec(V);if(N){const X=N[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:N[0],codeBlockStyle:"indented",text:this.options.pedantic?X:H(X,`
`)}}}fences(V){const N=this.rules.block.fences.exec(V);if(N){const X=N[0],Pe=function(We,oe){const Me=We.match(/^(\s+)(?:```)/);if(Me===null)return oe;const Je=Me[1];return oe.split(`
`).map(Qe=>{const ut=Qe.match(/^\s+/);if(ut===null)return Qe;const[Ft]=ut;return Ft.length>=Je.length?Qe.slice(Je.length):Qe}).join(`
`)}(X,N[3]||"");return{type:"code",raw:X,lang:N[2]?N[2].trim():N[2],text:Pe}}}heading(V){const N=this.rules.block.heading.exec(V);if(N){let X=N[2].trim();if(/#$/.test(X)){const We=H(X,"#");this.options.pedantic?X=We.trim():We&&!/ $/.test(We)||(X=We.trim())}const Pe={type:"heading",raw:N[0],depth:N[1].length,text:X,tokens:[]};return this.lexer.inline(Pe.text,Pe.tokens),Pe}}hr(V){const N=this.rules.block.hr.exec(V);if(N)return{type:"hr",raw:N[0]}}blockquote(V){const N=this.rules.block.blockquote.exec(V);if(N){const X=N[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:N[0],tokens:this.lexer.blockTokens(X,[]),text:X}}}list(V){let N=this.rules.block.list.exec(V);if(N){let X,Pe,We,oe,Me,Je,Qe,ut,Ft,Pt,ri,bi,ui=N[1].trim();const Ei=ui.length>1,_i={type:"list",raw:"",ordered:Ei,start:Ei?+ui.slice(0,-1):"",loose:!1,items:[]};ui=Ei?`\\d{1,9}\\${ui.slice(-1)}`:`\\${ui}`,this.options.pedantic&&(ui=Ei?ui:"[*+-]");const bn=new RegExp(`^( {0,3}${ui})((?: [^\\n]*)?(?:\\n|$))`);for(;V&&(bi=!1,N=bn.exec(V))&&!this.rules.block.hr.test(V);){if(X=N[0],V=V.substring(X.length),ut=N[2].split(`
`,1)[0],Ft=V.split(`
`,1)[0],this.options.pedantic?(oe=2,ri=ut.trimLeft()):(oe=N[2].search(/[^ ]/),oe=oe>4?1:oe,ri=ut.slice(oe),oe+=N[1].length),Je=!1,!ut&&/^ *$/.test(Ft)&&(X+=Ft+`
`,V=V.substring(Ft.length+1),bi=!0),!bi){const yn=new RegExp(`^ {0,${Math.min(3,oe-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;V&&(Pt=V.split(`
`,1)[0],ut=Pt,this.options.pedantic&&(ut=ut.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!yn.test(ut));){if(ut.search(/[^ ]/)>=oe||!ut.trim())ri+=`
`+ut.slice(oe);else{if(Je)break;ri+=`
`+ut}Je||ut.trim()||(Je=!0),X+=Pt+`
`,V=V.substring(Pt.length+1)}}_i.loose||(Qe?_i.loose=!0:/\n *\n *$/.test(X)&&(Qe=!0)),this.options.gfm&&(Pe=/^\[[ xX]\] /.exec(ri),Pe&&(We=Pe[0]!=="[ ] ",ri=ri.replace(/^\[[ xX]\] +/,""))),_i.items.push({type:"list_item",raw:X,task:!!Pe,checked:We,loose:!1,text:ri}),_i.raw+=X}_i.items[_i.items.length-1].raw=X.trimRight(),_i.items[_i.items.length-1].text=ri.trimRight(),_i.raw=_i.raw.trimRight();const wn=_i.items.length;for(Me=0;Me<wn;Me++){this.lexer.state.top=!1,_i.items[Me].tokens=this.lexer.blockTokens(_i.items[Me].text,[]);const yn=_i.items[Me].tokens.filter(gn=>gn.type==="space"),An=yn.every(gn=>{const Yn=gn.raw.split("");let In=0;for(const Jn of Yn)if(Jn===`
`&&(In+=1),In>1)return!0;return!1});!_i.loose&&yn.length&&An&&(_i.loose=!0,_i.items[Me].loose=!0)}return _i}}html(V){const N=this.rules.block.html.exec(V);if(N){const X={type:"html",raw:N[0],pre:!this.options.sanitizer&&(N[1]==="pre"||N[1]==="script"||N[1]==="style"),text:N[0]};return this.options.sanitize&&(X.type="paragraph",X.text=this.options.sanitizer?this.options.sanitizer(N[0]):R(N[0]),X.tokens=[],this.lexer.inline(X.text,X.tokens)),X}}def(V){const N=this.rules.block.def.exec(V);if(N)return N[3]&&(N[3]=N[3].substring(1,N[3].length-1)),{type:"def",tag:N[1].toLowerCase().replace(/\s+/g," "),raw:N[0],href:N[2],title:N[3]}}table(V){const N=this.rules.block.table.exec(V);if(N){const X={type:"table",header:ee(N[1]).map(Pe=>({text:Pe})),align:N[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:N[3]&&N[3].trim()?N[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(X.header.length===X.align.length){X.raw=N[0];let Pe,We,oe,Me,Je=X.align.length;for(Pe=0;Pe<Je;Pe++)/^ *-+: *$/.test(X.align[Pe])?X.align[Pe]="right":/^ *:-+: *$/.test(X.align[Pe])?X.align[Pe]="center":/^ *:-+ *$/.test(X.align[Pe])?X.align[Pe]="left":X.align[Pe]=null;for(Je=X.rows.length,Pe=0;Pe<Je;Pe++)X.rows[Pe]=ee(X.rows[Pe],X.header.length).map(Qe=>({text:Qe}));for(Je=X.header.length,We=0;We<Je;We++)X.header[We].tokens=[],this.lexer.inlineTokens(X.header[We].text,X.header[We].tokens);for(Je=X.rows.length,We=0;We<Je;We++)for(Me=X.rows[We],oe=0;oe<Me.length;oe++)Me[oe].tokens=[],this.lexer.inlineTokens(Me[oe].text,Me[oe].tokens);return X}}}lheading(V){const N=this.rules.block.lheading.exec(V);if(N){const X={type:"heading",raw:N[0],depth:N[2].charAt(0)==="="?1:2,text:N[1],tokens:[]};return this.lexer.inline(X.text,X.tokens),X}}paragraph(V){const N=this.rules.block.paragraph.exec(V);if(N){const X={type:"paragraph",raw:N[0],text:N[1].charAt(N[1].length-1)===`
`?N[1].slice(0,-1):N[1],tokens:[]};return this.lexer.inline(X.text,X.tokens),X}}text(V){const N=this.rules.block.text.exec(V);if(N){const X={type:"text",raw:N[0],text:N[0],tokens:[]};return this.lexer.inline(X.text,X.tokens),X}}escape(V){const N=this.rules.inline.escape.exec(V);if(N)return{type:"escape",raw:N[0],text:R(N[1])}}tag(V){const N=this.rules.inline.tag.exec(V);if(N)return!this.lexer.state.inLink&&/^<a /i.test(N[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(N[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(N[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(N[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:N[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(N[0]):R(N[0]):N[0]}}link(V){const N=this.rules.inline.link.exec(V);if(N){const X=N[2].trim();if(!this.options.pedantic&&/^</.test(X)){if(!/>$/.test(X))return;const oe=H(X.slice(0,-1),"\\");if((X.length-oe.length)%2==0)return}else{const oe=function(Me,Je){if(Me.indexOf(Je[1])===-1)return-1;const Qe=Me.length;let ut=0,Ft=0;for(;Ft<Qe;Ft++)if(Me[Ft]==="\\")Ft++;else if(Me[Ft]===Je[0])ut++;else if(Me[Ft]===Je[1]&&(ut--,ut<0))return Ft;return-1}(N[2],"()");if(oe>-1){const Me=(N[0].indexOf("!")===0?5:4)+N[1].length+oe;N[2]=N[2].substring(0,oe),N[0]=N[0].substring(0,Me).trim(),N[3]=""}}let Pe=N[2],We="";if(this.options.pedantic){const oe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Pe);oe&&(Pe=oe[1],We=oe[3])}else We=N[3]?N[3].slice(1,-1):"";return Pe=Pe.trim(),/^</.test(Pe)&&(Pe=this.options.pedantic&&!/>$/.test(X)?Pe.slice(1):Pe.slice(1,-1)),W(N,{href:Pe&&Pe.replace(this.rules.inline._escapes,"$1"),title:We&&We.replace(this.rules.inline._escapes,"$1")},N[0],this.lexer)}}reflink(V,N){let X;if((X=this.rules.inline.reflink.exec(V))||(X=this.rules.inline.nolink.exec(V))){let Pe=(X[2]||X[1]).replace(/\s+/g," ");if(Pe=N[Pe.toLowerCase()],!Pe||!Pe.href){const We=X[0].charAt(0);return{type:"text",raw:We,text:We}}return W(X,Pe,X[0],this.lexer)}}emStrong(V,N,X=""){let Pe=this.rules.inline.emStrong.lDelim.exec(V);if(!Pe||Pe[3]&&X.match(/[\p{L}\p{N}]/u))return;const We=Pe[1]||Pe[2]||"";if(!We||We&&(X===""||this.rules.inline.punctuation.exec(X))){const oe=Pe[0].length-1;let Me,Je,Qe=oe,ut=0;const Ft=Pe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ft.lastIndex=0,N=N.slice(-1*V.length+oe);(Pe=Ft.exec(N))!=null;){if(Me=Pe[1]||Pe[2]||Pe[3]||Pe[4]||Pe[5]||Pe[6],!Me)continue;if(Je=Me.length,Pe[3]||Pe[4]){Qe+=Je;continue}if((Pe[5]||Pe[6])&&oe%3&&!((oe+Je)%3)){ut+=Je;continue}if(Qe-=Je,Qe>0)continue;if(Je=Math.min(Je,Je+Qe+ut),Math.min(oe,Je)%2){const ri=V.slice(1,oe+Pe.index+Je);return{type:"em",raw:V.slice(0,oe+Pe.index+Je+1),text:ri,tokens:this.lexer.inlineTokens(ri,[])}}const Pt=V.slice(2,oe+Pe.index+Je-1);return{type:"strong",raw:V.slice(0,oe+Pe.index+Je+1),text:Pt,tokens:this.lexer.inlineTokens(Pt,[])}}}}codespan(V){const N=this.rules.inline.code.exec(V);if(N){let X=N[2].replace(/\n/g," ");const Pe=/[^ ]/.test(X),We=/^ /.test(X)&&/ $/.test(X);return Pe&&We&&(X=X.substring(1,X.length-1)),X=R(X,!0),{type:"codespan",raw:N[0],text:X}}}br(V){const N=this.rules.inline.br.exec(V);if(N)return{type:"br",raw:N[0]}}del(V){const N=this.rules.inline.del.exec(V);if(N)return{type:"del",raw:N[0],text:N[2],tokens:this.lexer.inlineTokens(N[2],[])}}autolink(V,N){const X=this.rules.inline.autolink.exec(V);if(X){let Pe,We;return X[2]==="@"?(Pe=R(this.options.mangle?N(X[1]):X[1]),We="mailto:"+Pe):(Pe=R(X[1]),We=Pe),{type:"link",raw:X[0],text:Pe,href:We,tokens:[{type:"text",raw:Pe,text:Pe}]}}}url(V,N){let X;if(X=this.rules.inline.url.exec(V)){let Pe,We;if(X[2]==="@")Pe=R(this.options.mangle?N(X[0]):X[0]),We="mailto:"+Pe;else{let oe;do oe=X[0],X[0]=this.rules.inline._backpedal.exec(X[0])[0];while(oe!==X[0]);Pe=R(X[0]),We=X[1]==="www."?"http://"+Pe:Pe}return{type:"link",raw:X[0],text:Pe,href:We,tokens:[{type:"text",raw:Pe,text:Pe}]}}}inlineText(V,N){const X=this.rules.inline.text.exec(V);if(X){let Pe;return Pe=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(X[0]):R(X[0]):X[0]:R(this.options.smartypants?N(X[0]):X[0]),{type:"text",raw:X[0],text:Pe}}}}const we={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:I,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};we.def=J(we.def).replace("label",we._label).replace("title",we._title).getRegex(),we.bullet=/(?:[*+-]|\d{1,9}[.)])/,we.listItemStart=J(/^( *)(bull) */).replace("bull",we.bullet).getRegex(),we.list=J(we.list).replace(/bull/g,we.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+we.def.source+")").getRegex(),we._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",we._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,we.html=J(we.html,"i").replace("comment",we._comment).replace("tag",we._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),we.paragraph=J(we._paragraph).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.blockquote=J(we.blockquote).replace("paragraph",we.paragraph).getRegex(),we.normal=M({},we),we.gfm=M({},we.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),we.gfm.table=J(we.gfm.table).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.gfm.paragraph=J(we._paragraph).replace("hr",we.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",we.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we._tag).getRegex(),we.pedantic=M({},we.normal,{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",we._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I,paragraph:J(we.normal._paragraph).replace("hr",we.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",we.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ae={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:I,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:I,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function He(Te){return Te.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function it(Te){let V,N,X="";const Pe=Te.length;for(V=0;V<Pe;V++)N=Te.charCodeAt(V),Math.random()>.5&&(N="x"+N.toString(16)),X+="&#"+N+";";return X}Ae._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ae.punctuation=J(Ae.punctuation).replace(/punctuation/g,Ae._punctuation).getRegex(),Ae.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ae.escapedEmSt=/\\\*|\\_/g,Ae._comment=J(we._comment).replace("(?:-->|$)","-->").getRegex(),Ae.emStrong.lDelim=J(Ae.emStrong.lDelim).replace(/punct/g,Ae._punctuation).getRegex(),Ae.emStrong.rDelimAst=J(Ae.emStrong.rDelimAst,"g").replace(/punct/g,Ae._punctuation).getRegex(),Ae.emStrong.rDelimUnd=J(Ae.emStrong.rDelimUnd,"g").replace(/punct/g,Ae._punctuation).getRegex(),Ae._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ae._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ae._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ae.autolink=J(Ae.autolink).replace("scheme",Ae._scheme).replace("email",Ae._email).getRegex(),Ae._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ae.tag=J(Ae.tag).replace("comment",Ae._comment).replace("attribute",Ae._attribute).getRegex(),Ae._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ae._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ae._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ae.link=J(Ae.link).replace("label",Ae._label).replace("href",Ae._href).replace("title",Ae._title).getRegex(),Ae.reflink=J(Ae.reflink).replace("label",Ae._label).replace("ref",we._label).getRegex(),Ae.nolink=J(Ae.nolink).replace("ref",we._label).getRegex(),Ae.reflinkSearch=J(Ae.reflinkSearch,"g").replace("reflink",Ae.reflink).replace("nolink",Ae.nolink).getRegex(),Ae.normal=M({},Ae),Ae.pedantic=M({},Ae.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",Ae._label).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ae._label).getRegex()}),Ae.gfm=M({},Ae.normal,{escape:J(Ae.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ae.gfm.url=J(Ae.gfm.url,"i").replace("email",Ae.gfm._extended_email).getRegex(),Ae.breaks=M({},Ae.gfm,{br:J(Ae.br).replace("{2,}","*").getRegex(),text:J(Ae.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ne{constructor(V){this.tokens=[],this.tokens.links=Object.create(null),this.options=V||u,this.options.tokenizer=this.options.tokenizer||new ie,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const N={block:we.normal,inline:Ae.normal};this.options.pedantic?(N.block=we.pedantic,N.inline=Ae.pedantic):this.options.gfm&&(N.block=we.gfm,this.options.breaks?N.inline=Ae.breaks:N.inline=Ae.gfm),this.tokenizer.rules=N}static get rules(){return{block:we,inline:Ae}}static lex(V,N){return new ne(N).lex(V)}static lexInline(V,N){return new ne(N).inlineTokens(V)}lex(V){let N;for(V=V.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(V,this.tokens);N=this.inlineQueue.shift();)this.inlineTokens(N.src,N.tokens);return this.tokens}blockTokens(V,N=[]){let X,Pe,We,oe;for(this.options.pedantic&&(V=V.replace(/^ +$/gm,""));V;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Me=>!!(X=Me.call({lexer:this},V,N))&&(V=V.substring(X.raw.length),N.push(X),!0))))if(X=this.tokenizer.space(V))V=V.substring(X.raw.length),X.raw.length===1&&N.length>0?N[N.length-1].raw+=`
`:N.push(X);else if(X=this.tokenizer.code(V))V=V.substring(X.raw.length),Pe=N[N.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?N.push(X):(Pe.raw+=`
`+X.raw,Pe.text+=`
`+X.text,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(X=this.tokenizer.fences(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.heading(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.hr(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.blockquote(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.list(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.html(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.def(V))V=V.substring(X.raw.length),Pe=N[N.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?this.tokens.links[X.tag]||(this.tokens.links[X.tag]={href:X.href,title:X.title}):(Pe.raw+=`
`+X.raw,Pe.text+=`
`+X.raw,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(X=this.tokenizer.table(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.lheading(V))V=V.substring(X.raw.length),N.push(X);else{if(We=V,this.options.extensions&&this.options.extensions.startBlock){let Me=1/0;const Je=V.slice(1);let Qe;this.options.extensions.startBlock.forEach(function(ut){Qe=ut.call({lexer:this},Je),typeof Qe=="number"&&Qe>=0&&(Me=Math.min(Me,Qe))}),Me<1/0&&Me>=0&&(We=V.substring(0,Me+1))}if(this.state.top&&(X=this.tokenizer.paragraph(We)))Pe=N[N.length-1],oe&&Pe.type==="paragraph"?(Pe.raw+=`
`+X.raw,Pe.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):N.push(X),oe=We.length!==V.length,V=V.substring(X.raw.length);else if(X=this.tokenizer.text(V))V=V.substring(X.raw.length),Pe=N[N.length-1],Pe&&Pe.type==="text"?(Pe.raw+=`
`+X.raw,Pe.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):N.push(X);else if(V){const Me="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(Me);break}throw new Error(Me)}}return this.state.top=!0,N}inline(V,N){this.inlineQueue.push({src:V,tokens:N})}inlineTokens(V,N=[]){let X,Pe,We,oe,Me,Je,Qe=V;if(this.tokens.links){const ut=Object.keys(this.tokens.links);if(ut.length>0)for(;(oe=this.tokenizer.rules.inline.reflinkSearch.exec(Qe))!=null;)ut.includes(oe[0].slice(oe[0].lastIndexOf("[")+1,-1))&&(Qe=Qe.slice(0,oe.index)+"["+O("a",oe[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(oe=this.tokenizer.rules.inline.blockSkip.exec(Qe))!=null;)Qe=Qe.slice(0,oe.index)+"["+O("a",oe[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(oe=this.tokenizer.rules.inline.escapedEmSt.exec(Qe))!=null;)Qe=Qe.slice(0,oe.index)+"++"+Qe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;V;)if(Me||(Je=""),Me=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ut=>!!(X=ut.call({lexer:this},V,N))&&(V=V.substring(X.raw.length),N.push(X),!0))))if(X=this.tokenizer.escape(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.tag(V))V=V.substring(X.raw.length),Pe=N[N.length-1],Pe&&X.type==="text"&&Pe.type==="text"?(Pe.raw+=X.raw,Pe.text+=X.text):N.push(X);else if(X=this.tokenizer.link(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.reflink(V,this.tokens.links))V=V.substring(X.raw.length),Pe=N[N.length-1],Pe&&X.type==="text"&&Pe.type==="text"?(Pe.raw+=X.raw,Pe.text+=X.text):N.push(X);else if(X=this.tokenizer.emStrong(V,Qe,Je))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.codespan(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.br(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.del(V))V=V.substring(X.raw.length),N.push(X);else if(X=this.tokenizer.autolink(V,it))V=V.substring(X.raw.length),N.push(X);else if(this.state.inLink||!(X=this.tokenizer.url(V,it))){if(We=V,this.options.extensions&&this.options.extensions.startInline){let ut=1/0;const Ft=V.slice(1);let Pt;this.options.extensions.startInline.forEach(function(ri){Pt=ri.call({lexer:this},Ft),typeof Pt=="number"&&Pt>=0&&(ut=Math.min(ut,Pt))}),ut<1/0&&ut>=0&&(We=V.substring(0,ut+1))}if(X=this.tokenizer.inlineText(We,He))V=V.substring(X.raw.length),X.raw.slice(-1)!=="_"&&(Je=X.raw.slice(-1)),Me=!0,Pe=N[N.length-1],Pe&&Pe.type==="text"?(Pe.raw+=X.raw,Pe.text+=X.text):N.push(X);else if(V){const ut="Infinite loop on byte: "+V.charCodeAt(0);if(this.options.silent){console.error(ut);break}throw new Error(ut)}}else V=V.substring(X.raw.length),N.push(X);return N}}class de{constructor(V){this.options=V||u}code(V,N,X){const Pe=(N||"").match(/\S*/)[0];if(this.options.highlight){const We=this.options.highlight(V,Pe);We!=null&&We!==V&&(X=!0,V=We)}return V=V.replace(/\n$/,"")+`
`,Pe?'<pre><code class="'+this.options.langPrefix+R(Pe,!0)+'">'+(X?V:R(V,!0))+`</code></pre>
`:"<pre><code>"+(X?V:R(V,!0))+`</code></pre>
`}blockquote(V){return`<blockquote>
`+V+`</blockquote>
`}html(V){return V}heading(V,N,X,Pe){return this.options.headerIds?"<h"+N+' id="'+this.options.headerPrefix+Pe.slug(X)+'">'+V+"</h"+N+`>
`:"<h"+N+">"+V+"</h"+N+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(V,N,X){const Pe=N?"ol":"ul";return"<"+Pe+(N&&X!==1?' start="'+X+'"':"")+`>
`+V+"</"+Pe+`>
`}listitem(V){return"<li>"+V+`</li>
`}checkbox(V){return"<input "+(V?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(V){return"<p>"+V+`</p>
`}table(V,N){return N&&(N="<tbody>"+N+"</tbody>"),`<table>
<thead>
`+V+`</thead>
`+N+`</table>
`}tablerow(V){return`<tr>
`+V+`</tr>
`}tablecell(V,N){const X=N.header?"th":"td";return(N.align?"<"+X+' align="'+N.align+'">':"<"+X+">")+V+"</"+X+`>
`}strong(V){return"<strong>"+V+"</strong>"}em(V){return"<em>"+V+"</em>"}codespan(V){return"<code>"+V+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(V){return"<del>"+V+"</del>"}link(V,N,X){if((V=h(this.options.sanitize,this.options.baseUrl,V))===null)return X;let Pe='<a href="'+R(V)+'"';return N&&(Pe+=' title="'+N+'"'),Pe+=">"+X+"</a>",Pe}image(V,N,X){if((V=h(this.options.sanitize,this.options.baseUrl,V))===null)return X;let Pe='<img src="'+V+'" alt="'+X+'"';return N&&(Pe+=' title="'+N+'"'),Pe+=this.options.xhtml?"/>":">",Pe}text(V){return V}}class Se{strong(V){return V}em(V){return V}codespan(V){return V}del(V){return V}html(V){return V}text(V){return V}link(V,N,X){return""+X}image(V,N,X){return""+X}br(){return""}}class Re{constructor(){this.seen={}}serialize(V){return V.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(V,N){let X=V,Pe=0;if(this.seen.hasOwnProperty(X)){Pe=this.seen[V];do Pe++,X=V+"-"+Pe;while(this.seen.hasOwnProperty(X))}return N||(this.seen[V]=Pe,this.seen[X]=0),X}slug(V,N={}){const X=this.serialize(V);return this.getNextSafeSlug(X,N.dryrun)}}class Oe{constructor(V){this.options=V||u,this.options.renderer=this.options.renderer||new de,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Se,this.slugger=new Re}static parse(V,N){return new Oe(N).parse(V)}static parseInline(V,N){return new Oe(N).parseInline(V)}parse(V,N=!0){let X,Pe,We,oe,Me,Je,Qe,ut,Ft,Pt,ri,bi,ui,Ei,_i,bn,wn,yn,An,gn="";const Yn=V.length;for(X=0;X<Yn;X++)if(Pt=V[X],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Pt.type]&&(An=this.options.extensions.renderers[Pt.type].call({parser:this},Pt),An!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Pt.type)))gn+=An||"";else switch(Pt.type){case"space":continue;case"hr":gn+=this.renderer.hr();continue;case"heading":gn+=this.renderer.heading(this.parseInline(Pt.tokens),Pt.depth,ge(this.parseInline(Pt.tokens,this.textRenderer)),this.slugger);continue;case"code":gn+=this.renderer.code(Pt.text,Pt.lang,Pt.escaped);continue;case"table":for(ut="",Qe="",oe=Pt.header.length,Pe=0;Pe<oe;Pe++)Qe+=this.renderer.tablecell(this.parseInline(Pt.header[Pe].tokens),{header:!0,align:Pt.align[Pe]});for(ut+=this.renderer.tablerow(Qe),Ft="",oe=Pt.rows.length,Pe=0;Pe<oe;Pe++){for(Je=Pt.rows[Pe],Qe="",Me=Je.length,We=0;We<Me;We++)Qe+=this.renderer.tablecell(this.parseInline(Je[We].tokens),{header:!1,align:Pt.align[We]});Ft+=this.renderer.tablerow(Qe)}gn+=this.renderer.table(ut,Ft);continue;case"blockquote":Ft=this.parse(Pt.tokens),gn+=this.renderer.blockquote(Ft);continue;case"list":for(ri=Pt.ordered,bi=Pt.start,ui=Pt.loose,oe=Pt.items.length,Ft="",Pe=0;Pe<oe;Pe++)_i=Pt.items[Pe],bn=_i.checked,wn=_i.task,Ei="",_i.task&&(yn=this.renderer.checkbox(bn),ui?_i.tokens.length>0&&_i.tokens[0].type==="paragraph"?(_i.tokens[0].text=yn+" "+_i.tokens[0].text,_i.tokens[0].tokens&&_i.tokens[0].tokens.length>0&&_i.tokens[0].tokens[0].type==="text"&&(_i.tokens[0].tokens[0].text=yn+" "+_i.tokens[0].tokens[0].text)):_i.tokens.unshift({type:"text",text:yn}):Ei+=yn),Ei+=this.parse(_i.tokens,ui),Ft+=this.renderer.listitem(Ei,wn,bn);gn+=this.renderer.list(Ft,ri,bi);continue;case"html":gn+=this.renderer.html(Pt.text);continue;case"paragraph":gn+=this.renderer.paragraph(this.parseInline(Pt.tokens));continue;case"text":for(Ft=Pt.tokens?this.parseInline(Pt.tokens):Pt.text;X+1<Yn&&V[X+1].type==="text";)Pt=V[++X],Ft+=`
`+(Pt.tokens?this.parseInline(Pt.tokens):Pt.text);gn+=N?this.renderer.paragraph(Ft):Ft;continue;default:{const In='Token with "'+Pt.type+'" type was not found.';if(this.options.silent)return void console.error(In);throw new Error(In)}}return gn}parseInline(V,N){N=N||this.renderer;let X,Pe,We,oe="";const Me=V.length;for(X=0;X<Me;X++)if(Pe=V[X],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Pe.type]&&(We=this.options.extensions.renderers[Pe.type].call({parser:this},Pe),We!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Pe.type)))oe+=We||"";else switch(Pe.type){case"escape":case"text":oe+=N.text(Pe.text);break;case"html":oe+=N.html(Pe.text);break;case"link":oe+=N.link(Pe.href,Pe.title,this.parseInline(Pe.tokens,N));break;case"image":oe+=N.image(Pe.href,Pe.title,Pe.text);break;case"strong":oe+=N.strong(this.parseInline(Pe.tokens,N));break;case"em":oe+=N.em(this.parseInline(Pe.tokens,N));break;case"codespan":oe+=N.codespan(Pe.text);break;case"br":oe+=N.br();break;case"del":oe+=N.del(this.parseInline(Pe.tokens,N));break;default:{const Je='Token with "'+Pe.type+'" type was not found.';if(this.options.silent)return void console.error(Je);throw new Error(Je)}}return oe}}function G(Te,V,N){if(Te==null)throw new Error("marked(): input parameter is undefined or null");if(typeof Te!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Te)+", string expected");if(typeof V=="function"&&(N=V,V=null),re(V=M({},G.defaults,V||{})),N){const X=V.highlight;let Pe;try{Pe=ne.lex(Te,V)}catch(Me){return N(Me)}const We=function(Me){let Je;if(!Me)try{V.walkTokens&&G.walkTokens(Pe,V.walkTokens),Je=Oe.parse(Pe,V)}catch(Qe){Me=Qe}return V.highlight=X,Me?N(Me):N(null,Je)};if(!X||X.length<3||(delete V.highlight,!Pe.length))return We();let oe=0;return G.walkTokens(Pe,function(Me){Me.type==="code"&&(oe++,setTimeout(()=>{X(Me.text,Me.lang,function(Je,Qe){if(Je)return We(Je);Qe!=null&&Qe!==Me.text&&(Me.text=Qe,Me.escaped=!0),oe--,oe===0&&We()})},0))}),void(oe===0&&We())}try{const X=ne.lex(Te,V);return V.walkTokens&&G.walkTokens(X,V.walkTokens),Oe.parse(X,V)}catch(X){if(X.message+=`
Please report this to https://github.com/markedjs/marked.`,V.silent)return"<p>An error occurred:</p><pre>"+R(X.message+"",!0)+"</pre>";throw X}}G.options=G.setOptions=function(Te){var V;return M(G.defaults,Te),V=G.defaults,u=V,G},G.getDefaults=s,G.defaults=u,G.use=function(...Te){const V=M({},...Te),N=G.defaults.extensions||{renderers:{},childTokens:{}};let X;Te.forEach(Pe=>{if(Pe.extensions&&(X=!0,Pe.extensions.forEach(We=>{if(!We.name)throw new Error("extension name required");if(We.renderer){const oe=N.renderers?N.renderers[We.name]:null;N.renderers[We.name]=oe?function(...Me){let Je=We.renderer.apply(this,Me);return Je===!1&&(Je=oe.apply(this,Me)),Je}:We.renderer}if(We.tokenizer){if(!We.level||We.level!=="block"&&We.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");N[We.level]?N[We.level].unshift(We.tokenizer):N[We.level]=[We.tokenizer],We.start&&(We.level==="block"?N.startBlock?N.startBlock.push(We.start):N.startBlock=[We.start]:We.level==="inline"&&(N.startInline?N.startInline.push(We.start):N.startInline=[We.start]))}We.childTokens&&(N.childTokens[We.name]=We.childTokens)})),Pe.renderer){const We=G.defaults.renderer||new de;for(const oe in Pe.renderer){const Me=We[oe];We[oe]=(...Je)=>{let Qe=Pe.renderer[oe].apply(We,Je);return Qe===!1&&(Qe=Me.apply(We,Je)),Qe}}V.renderer=We}if(Pe.tokenizer){const We=G.defaults.tokenizer||new ie;for(const oe in Pe.tokenizer){const Me=We[oe];We[oe]=(...Je)=>{let Qe=Pe.tokenizer[oe].apply(We,Je);return Qe===!1&&(Qe=Me.apply(We,Je)),Qe}}V.tokenizer=We}if(Pe.walkTokens){const We=G.defaults.walkTokens;V.walkTokens=function(oe){Pe.walkTokens.call(this,oe),We&&We.call(this,oe)}}X&&(V.extensions=N),G.setOptions(V)})},G.walkTokens=function(Te,V){for(const N of Te)switch(V.call(G,N),N.type){case"table":for(const X of N.header)G.walkTokens(X.tokens,V);for(const X of N.rows)for(const Pe of X)G.walkTokens(Pe.tokens,V);break;case"list":G.walkTokens(N.items,V);break;default:G.defaults.extensions&&G.defaults.extensions.childTokens&&G.defaults.extensions.childTokens[N.type]?G.defaults.extensions.childTokens[N.type].forEach(function(X){G.walkTokens(N[X],V)}):N.tokens&&G.walkTokens(N.tokens,V)}},G.parseInline=function(Te,V){if(Te==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Te!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Te)+", string expected");re(V=M({},G.defaults,V||{}));try{const N=ne.lexInline(Te,V);return V.walkTokens&&G.walkTokens(N,V.walkTokens),Oe.parseInline(N,V)}catch(N){if(N.message+=`
Please report this to https://github.com/markedjs/marked.`,V.silent)return"<p>An error occurred:</p><pre>"+R(N.message+"",!0)+"</pre>";throw N}},G.Parser=Oe,G.parser=Oe.parse,G.Renderer=de,G.TextRenderer=Se,G.Lexer=ne,G.lexer=ne.lex,G.Tokenizer=ie,G.Slugger=Re,G.parse=G,G.options,G.setOptions,G.use,G.walkTokens,G.parseInline,Oe.parse,ne.lex;function Ie(Te,V){return Array(V+1).join(Te)}G.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...Te){return Object.getPrototypeOf(this).checkbox.call(this,...Te).trimRight()},code(...Te){return Object.getPrototypeOf(this).code.call(this,...Te).replace(`
</code>`,"</code>")}}});var Ue=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function nt(Te){return Ue.indexOf(Te.nodeName.toLowerCase())!==-1}var xe=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function pe(Te){return xe.indexOf(Te.nodeName.toLowerCase())!==-1}var ye=xe.join(),Ze={};function ot(Te){for(var V in this.options=Te,this._keep=[],this._remove=[],this.blankRule={replacement:Te.blankReplacement},this.keepReplacement=Te.keepReplacement,this.defaultRule={replacement:Te.defaultReplacement},this.array=[],Te.rules)this.array.push(Te.rules[V])}function at(Te,V,N){for(var X=0;X<Te.length;X++){var Pe=Te[X];if(mt(Pe,V,N))return Pe}}function mt(Te,V,N){var X=Te.filter;if(typeof X=="string"){if(X===V.nodeName.toLowerCase())return!0}else if(Array.isArray(X)){if(X.indexOf(V.nodeName.toLowerCase())>-1)return!0}else{if(typeof X!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(X.call(Te,V,N))return!0}}function Ut(Te){var V=Te.nextSibling||Te.parentNode;return Te.parentNode.removeChild(Te),V}function $t(Te,V,N){return Te&&Te.parentNode===V||N(V)?V.nextSibling||V.parentNode:V.firstChild||V.nextSibling||V.parentNode}Ze.paragraph={filter:"p",replacement:function(Te){return`

`+Te+`

`}},Ze.lineBreak={filter:"br",replacement:function(Te,V,N){return N.br+`
`}},Ze.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(Te,V,N){var X=Number(V.nodeName.charAt(1));return N.headingStyle==="setext"&&X<3?`

`+Te+`
`+Ie(X===1?"=":"-",Te.length)+`

`:`

`+Ie("#",X)+" "+Te+`

`}},Ze.blockquote={filter:"blockquote",replacement:function(Te){return`

`+(Te=(Te=Te.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Ze.list={filter:["ul","ol"],replacement:function(Te,V){var N=V.parentNode;return N.nodeName==="LI"&&N.lastElementChild===V?`
`+Te:`

`+Te+`

`}},Ze.listItem={filter:"li",replacement:function(Te,V,N){Te=Te.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var X=N.bulletListMarker+"   ",Pe=V.parentNode;if(Pe.nodeName==="OL"){var We=Pe.getAttribute("start"),oe=Array.prototype.indexOf.call(Pe.children,V);X=(We?Number(We)+oe:oe+1)+".  "}return X+Te+(V.nextSibling&&!/\n$/.test(Te)?`
`:"")}},Ze.indentedCodeBlock={filter:function(Te,V){return V.codeBlockStyle==="indented"&&Te.nodeName==="PRE"&&Te.firstChild&&Te.firstChild.nodeName==="CODE"},replacement:function(Te,V,N){return`

    `+V.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Ze.fencedCodeBlock={filter:function(Te,V){return V.codeBlockStyle==="fenced"&&Te.nodeName==="PRE"&&Te.firstChild&&Te.firstChild.nodeName==="CODE"},replacement:function(Te,V,N){for(var X,Pe=((V.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],We=V.firstChild.textContent,oe=N.fence.charAt(0),Me=3,Je=new RegExp("^"+oe+"{3,}","gm");X=Je.exec(We);)X[0].length>=Me&&(Me=X[0].length+1);var Qe=Ie(oe,Me);return`

`+Qe+Pe+`
`+We.replace(/\n$/,"")+`
`+Qe+`

`}},Ze.horizontalRule={filter:"hr",replacement:function(Te,V,N){return`

`+N.hr+`

`}},Ze.inlineLink={filter:function(Te,V){return V.linkStyle==="inlined"&&Te.nodeName==="A"&&Te.getAttribute("href")},replacement:function(Te,V){return"["+Te+"]("+V.getAttribute("href")+(V.title?' "'+V.title+'"':"")+")"}},Ze.referenceLink={filter:function(Te,V){return V.linkStyle==="referenced"&&Te.nodeName==="A"&&Te.getAttribute("href")},replacement:function(Te,V,N){var X,Pe,We=V.getAttribute("href"),oe=V.title?' "'+V.title+'"':"";switch(N.linkReferenceStyle){case"collapsed":X="["+Te+"][]",Pe="["+Te+"]: "+We+oe;break;case"shortcut":X="["+Te+"]",Pe="["+Te+"]: "+We+oe;break;default:var Me=this.references.length+1;X="["+Te+"]["+Me+"]",Pe="["+Me+"]: "+We+oe}return this.references.push(Pe),X},references:[],append:function(Te){var V="";return this.references.length&&(V=`

`+this.references.join(`
`)+`

`,this.references=[]),V}},Ze.emphasis={filter:["em","i"],replacement:function(Te,V,N){return Te.trim()?N.emDelimiter+Te+N.emDelimiter:""}},Ze.strong={filter:["strong","b"],replacement:function(Te,V,N){return Te.trim()?N.strongDelimiter+Te+N.strongDelimiter:""}},Ze.code={filter:function(Te){var V=Te.previousSibling||Te.nextSibling,N=Te.parentNode.nodeName==="PRE"&&!V;return Te.nodeName==="CODE"&&!N},replacement:function(Te){if(!Te.trim())return"";var V="`",N="",X="",Pe=Te.match(/`+/gm);if(Pe)for(/^`/.test(Te)&&(N=" "),/`$/.test(Te)&&(X=" ");Pe.indexOf(V)!==-1;)V+="`";return V+N+Te+X+V}},Ze.image={filter:"img",replacement:function(Te,V){var N=V.alt||"",X=V.getAttribute("src")||"",Pe=V.title||"";return X?"!["+N+"]("+X+(Pe?' "'+Pe+'"':"")+")":""}},ot.prototype={add:function(Te,V){this.array.unshift(V)},keep:function(Te){this._keep.unshift({filter:Te,replacement:this.keepReplacement})},remove:function(Te){this._remove.unshift({filter:Te,replacement:function(){return""}})},forNode:function(Te){return Te.isBlank?this.blankRule:(V=at(this.array,Te,this.options))||(V=at(this._keep,Te,this.options))||(V=at(this._remove,Te,this.options))?V:this.defaultRule;var V},forEach:function(Te){for(var V=0;V<this.array.length;V++)Te(this.array[V],V)}};var St=typeof window<"u"?window:{},qt,wt=function(){var Te=St.DOMParser,V=!1;try{new Te().parseFromString("","text/html")&&(V=!0)}catch{}return V}()?St.DOMParser:function(){var Te=function(){};return function(){var V=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(V=!0)}return V}()?Te.prototype.parseFromString=function(V){var N=new window.ActiveXObject("htmlfile");return N.designMode="on",N.open(),N.write(V),N.close(),N}:Te.prototype.parseFromString=function(V){var N=document.implementation.createHTMLDocument("");return N.open(),N.write(V),N.close(),N},Te}();function tt(Te){var V;return typeof Te=="string"?V=(qt=qt||new wt).parseFromString('<x-turndown id="turndown-root">'+Te+"</x-turndown>","text/html").getElementById("turndown-root"):V=Te.cloneNode(!0),function(N){var X=N.element,Pe=N.isBlock,We=N.isVoid,oe=N.isPre||function(ri){return ri.nodeName==="PRE"};if(X.firstChild&&!oe(X)){for(var Me=null,Je=!1,Qe=null,ut=$t(Qe,X,oe);ut!==X;){if(ut.nodeType===3||ut.nodeType===4){var Ft=ut.data.replace(/[ \r\n\t]+/g," ");if(Me&&!/ $/.test(Me.data)||Je||Ft[0]!==" "||(Ft=Ft.substr(1)),!Ft){ut=Ut(ut);continue}ut.data=Ft,Me=ut}else{if(ut.nodeType!==1){ut=Ut(ut);continue}Pe(ut)||ut.nodeName==="BR"?(Me&&(Me.data=Me.data.replace(/ $/,"")),Me=null,Je=!1):We(ut)&&(Me=null,Je=!0)}var Pt=$t(Qe,ut,oe);Qe=ut,ut=Pt}Me&&(Me.data=Me.data.replace(/ $/,""),Me.data||Ut(Me))}}({element:V,isBlock:nt,isVoid:pe}),V}function gt(Te){return Te.isBlock=nt(Te),Te.isCode=Te.nodeName.toLowerCase()==="code"||Te.parentNode.isCode,Te.isBlank=function(V){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(V.nodeName)===-1&&/^\s*$/i.test(V.textContent)&&!pe(V)&&!function(N){return N.querySelector&&N.querySelector(ye)}(V)}(Te),Te.flankingWhitespace=function(V){var N="",X="";if(!V.isBlock){var Pe=/^\s/.test(V.textContent),We=/\s$/.test(V.textContent),oe=V.isBlank&&Pe&&We;Pe&&!gi("left",V)&&(N=" "),oe||!We||gi("right",V)||(X=" ")}return{leading:N,trailing:X}}(Te),Te}function gi(Te,V){var N,X,Pe;return Te==="left"?(N=V.previousSibling,X=/ $/):(N=V.nextSibling,X=/^ /),N&&(N.nodeType===3?Pe=X.test(N.nodeValue):N.nodeType!==1||nt(N)||(Pe=X.test(N.textContent))),Pe}var Ti=Array.prototype.reduce,Pi=/^\n*/,Di=/\n*$/,Oi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Wi(Te){if(!(this instanceof Wi))return new Wi(Te);var V={rules:Ze,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(N,X){return X.isBlock?`

`:""},keepReplacement:function(N,X){return X.isBlock?`

`+X.outerHTML+`

`:X.outerHTML},defaultReplacement:function(N,X){return X.isBlock?`

`+N+`

`:N}};this.options=function(N){for(var X=1;X<arguments.length;X++){var Pe=arguments[X];for(var We in Pe)Pe.hasOwnProperty(We)&&(N[We]=Pe[We])}return N}({},V,Te),this.rules=new ot(this.options)}function Gt(Te){var V=this;return Ti.call(Te.childNodes,function(N,X){var Pe="";return(X=new gt(X)).nodeType===3?Pe=X.isCode?X.nodeValue:V.escape(X.nodeValue):X.nodeType===1&&(Pe=Ke.call(V,X)),le(N,Pe)},"")}function xt(Te){var V=this;return this.rules.forEach(function(N){typeof N.append=="function"&&(Te=le(Te,N.append(V.options)))}),Te.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Ke(Te){var V=this.rules.forNode(Te),N=Gt.call(this,Te),X=Te.flankingWhitespace;return(X.leading||X.trailing)&&(N=N.trim()),X.leading+V.replacement(N,Te,this.options)+X.trailing}function le(Te,V){var N,X,Pe,We=(N=V,X=[Te.match(Di)[0],N.match(Pi)[0]].sort(),(Pe=X[X.length-1]).length<2?Pe:`

`);return(Te=Te.replace(Di,""))+We+(V=V.replace(Pi,""))}Wi.prototype={turndown:function(Te){if(!function(N){return N!=null&&(typeof N=="string"||N.nodeType&&(N.nodeType===1||N.nodeType===9||N.nodeType===11))}(Te))throw new TypeError(Te+" is not a string, or an element/document/fragment node.");if(Te==="")return"";var V=Gt.call(this,new tt(Te));return xt.call(this,V)},use:function(Te){if(Array.isArray(Te))for(var V=0;V<Te.length;V++)this.use(Te[V]);else{if(typeof Te!="function")throw new TypeError("plugin must be a Function or an Array of Functions");Te(this)}return this},addRule:function(Te,V){return this.rules.add(Te,V),this},keep:function(Te){return this.rules.keep(Te),this},remove:function(Te){return this.rules.remove(Te),this},escape:function(Te){return Oi.reduce(function(V,N){return V.replace(N[0],N[1])},Te)}};const Le=Wi;var Be=/highlight-(?:text|source)-([a-z0-9]+)/;function dt(Te){Te.addRule("highlightedCodeBlock",{filter:function(V){var N=V.firstChild;return V.nodeName==="DIV"&&Be.test(V.className)&&N&&N.nodeName==="PRE"},replacement:function(V,N,X){var Pe=((N.className||"").match(Be)||[null,""])[1];return`

`+X.fence+Pe+`
`+N.firstChild.textContent+`
`+X.fence+`

`}})}function ht(Te){Te.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(V){return"~"+V+"~"}})}var _t=Array.prototype.indexOf,It=Array.prototype.every,zt={};function Jt(Te){var V,N,X=Te.parentNode;return X.nodeName==="THEAD"||X.firstChild===Te&&(X.nodeName==="TABLE"||(N=(V=X).previousSibling,V.nodeName==="TBODY"&&(!N||N.nodeName==="THEAD"&&/^\s*$/i.test(N.textContent))))&&It.call(Te.childNodes,function(Pe){return Pe.nodeName==="TH"})}function ai(Te,V){var N=" ";return _t.call(V.parentNode.childNodes,V)===0&&(N="| "),N+Te+" |"}function si(Te){for(var V in Te.keep(function(N){return N.nodeName==="TABLE"&&!Jt(N.rows[0])}),zt)Te.addRule(V,zt[V])}function Bi(Te){Te.addRule("taskListItems",{filter:function(V){return V.type==="checkbox"&&V.parentNode.nodeName==="LI"},replacement:function(V,N){return(N.checked?"[x]":"[ ]")+" "}})}zt.tableCell={filter:["th","td"],replacement:function(Te,V){return ai(Te,V)}},zt.tableRow={filter:"tr",replacement:function(Te,V){var N="",X={left:":--",right:"--:",center:":-:"};if(Jt(V))for(var Pe=0;Pe<V.childNodes.length;Pe++){var We="---",oe=(V.childNodes[Pe].getAttribute("align")||"").toLowerCase();oe&&(We=X[oe]||We),N+=ai(We,V.childNodes[Pe])}return`
`+Te+(N?`
`+N:"")}},zt.table={filter:function(Te){return Te.nodeName==="TABLE"&&Jt(Te.rows[0])},replacement:function(Te){return`

`+(Te=Te.replace(`

`,`
`))+`

`}},zt.tableSection={filter:["thead","tbody","tfoot"],replacement:function(Te){return Te}};const pi=Le.prototype.escape;function Ci(Te){return Te=(Te=pi(Te)).replace(/</g,"\\<")}Le.prototype.escape=function(Te){let V="",N=0;for(const X of function*(Pe){for(const We of Pe.matchAll(Ye)){const oe=We[0],Me=ct(oe);yield Object.assign([oe.substring(0,Me)],{index:We.index})}}(Te)){const Pe=X.index;Pe>N&&(V+=Ci(Te.substring(N,Pe)));const We=X[0];V+=We,N=Pe+We.length}return N<Te.length&&(V+=Ci(Te.substring(N,Te.length))),V};const vt=new Le({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});vt.use([function(Te){Te.use([dt,ht,si,Bi])},function(Te){Te.addRule("taskListItems",{filter:V=>V.type==="checkbox"&&(V.parentNode.nodeName==="LI"||V.parentNode.parentNode.nodeName==="LI"),replacement:(V,N)=>(N.checked?"[x]":"[ ]")+" "})}]);const Ye=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function ct(Te){let V=Te.length;for(;V>0;){const N=Te[V-1];if(`?!.,:*_~'"`.includes(N))V--;else{if(N!=")")break;{let X=0;for(let Pe=0;Pe<V;Pe++)Te[Pe]=="("?X++:Te[Pe]==")"&&X--;if(!(X<0))break;V--}}}return V}class qe{constructor(V){this._htmlDP=new w.HtmlDataProcessor(V)}keepHtml(V){vt.keep([V])}toView(V){const N=(X=V,G.parse(X,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var X;return this._htmlDP.toView(N)}toData(V){return function(N){return vt.turndown(N)}(this._htmlDP.toData(V))}registerRawContentMatcher(V){this._htmlDP.registerRawContentMatcher(V)}useFillerType(){}}class yt extends d.Plugin{constructor(V){super(V),V.data.processor=new qe(V.data.viewDocument)}static get pluginName(){return"Markdown"}}var Dt=Q(331);const Mt=["SPAN","BR","PRE","CODE"];class jt extends d.Plugin{constructor(V){super(V),this._gfmDataProcessor=new qe(V.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get requires(){return[Dt.ClipboardPipeline]}init(){const V=this.editor,N=V.editing.view.document,X=V.plugins.get("ClipboardPipeline");let Pe=!1;this.listenTo(N,"keydown",(We,oe)=>{Pe=oe.shiftKey}),this.listenTo(X,"inputTransformation",(We,oe)=>{if(Pe)return;const Me=oe.dataTransfer.getData("text/html");if(!Me){const Qe=oe.dataTransfer.getData("text/plain");return void(oe.content=this._gfmDataProcessor.toView(Qe))}const Je=this._parseMarkdownFromHtml(Me);Je&&(oe.content=this._gfmDataProcessor.toView(Je))})}_parseMarkdownFromHtml(V){const N=this._removeOsSpecificTags(V);if(!this._containsOnlyAllowedFirstLevelTags(N))return null;const X=this._removeFirstLevelWrapperTagsAndBrs(N);return this._containsAnyRemainingHtmlTags(X)?null:this._replaceHtmlReservedEntitiesWithCharacters(X)}_removeOsSpecificTags(V){return V.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(V){const N=new DOMParser,{body:X}=N.parseFromString(V,"text/html");return Array.from(X.children).map(Pe=>Pe.tagName).every(Pe=>Mt.includes(Pe))}_removeFirstLevelWrapperTagsAndBrs(V){const N=new DOMParser,{body:X}=N.parseFromString(V,"text/html"),Pe=X.querySelectorAll("br");for(const oe of Pe)oe.replaceWith(`
`);const We=X.querySelectorAll(":scope > *");for(const oe of We){const Me=oe.cloneNode(!0);oe.replaceWith(...Me.childNodes)}return X.innerHTML}_containsAnyRemainingHtmlTags(V){return V.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(V){return V.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={501:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const L=C},790:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const L=C},400:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const L=C},755:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,w,s)=>{d.exports=s(237)("./src/undo.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{AutoMediaEmbed:()=>I,MediaEmbed:()=>Ae,MediaEmbedEditing:()=>ue,MediaEmbedToolbar:()=>He,MediaEmbedUI:()=>W});var d=Q(782),w=Q(901),s=Q(584);function u(it,ne){const de=(Se,Re,Oe)=>{if(!Oe.consumable.consume(Re.item,Se.name))return;const G=Re.attributeNewValue,Ie=Oe.writer,Ue=Oe.mapper.toViewElement(Re.item),nt=[...Ue.getChildren()].find(pe=>pe.getCustomProperty("media-content"));Ie.remove(nt);const xe=it.getMediaViewElement(Ie,G,ne);Ie.insert(Ie.createPositionAt(Ue,0),xe)};return Se=>{Se.on("attribute:url:media",de)}}function C(it){const ne=it.getSelectedElement();return ne&&function(de){return!!de.getCustomProperty("media")&&(0,w.isWidget)(de)}(ne)?ne:null}function L(it,ne,de,Se){return it.createContainerElement("figure",{class:"media"},[ne.getMediaViewElement(it,de,Se),it.createSlot()])}function k(it){const ne=it.getSelectedElement();return ne&&ne.is("element","media")?ne:null}function v(it,ne,de,Se){it.change(Re=>{const Oe=Re.createElement("media",{url:ne});it.insertObject(Oe,de,null,{setSelection:"on",findOptimalPosition:Se?"auto":void 0})})}class $ extends d.Command{refresh(){const ne=this.editor.model,de=ne.document.selection,Se=k(de);this.value=Se?Se.getAttribute("url"):void 0,this.isEnabled=function(Re){const Oe=Re.getSelectedElement();return!!Oe&&Oe.name==="media"}(de)||function(Re,Oe){let Ie=(0,w.findOptimalInsertionRange)(Re,Oe).start.parent;return Ie.isEmpty&&!Oe.schema.isLimit(Ie)&&(Ie=Ie.parent),Oe.schema.checkChild(Ie,"media")}(de,ne)}execute(ne){const de=this.editor.model,Se=de.document.selection,Re=k(Se);Re?de.change(Oe=>{Oe.setAttribute("url",ne,Re)}):v(de,ne,Se,!0)}}var K=Q(311);class R{constructor(ne,de){const Se=de.providers,Re=de.extraProviders||[],Oe=new Set(de.removeProviders),G=Se.concat(Re).filter(Ie=>{const Ue=Ie.name;return Ue?!Oe.has(Ue):((0,s.logWarning)("media-embed-no-provider-name",{provider:Ie}),!1)});this.locale=ne,this.providerDefinitions=G}hasMedia(ne){return!!this._getMedia(ne)}getMediaViewElement(ne,de,Se){return this._getMedia(de).getViewElement(ne,Se)}_getMedia(ne){if(!ne)return new Ee(this.locale);ne=ne.trim();for(const de of this.providerDefinitions){const Se=de.html,Re=(0,s.toArray)(de.url);for(const Oe of Re){const G=this._getUrlMatches(ne,Oe);if(G)return new Ee(this.locale,ne,G,Se)}}return null}_getUrlMatches(ne,de){let Se=ne.match(de);if(Se)return Se;let Re=ne.replace(/^https?:\/\//,"");return Se=Re.match(de),Se||(Re=Re.replace(/^www\./,""),Se=Re.match(de),Se||null)}}class Ee{constructor(ne,de,Se,Re){this.url=this._getValidUrl(de),this._locale=ne,this._match=Se,this._previewRenderer=Re}getViewElement(ne,de){const Se={};let Re;if(de.renderForEditingView||de.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(Se["data-oembed-url"]=this.url),de.renderForEditingView&&(Se.class="ck-media__wrapper");const Oe=this._getPreviewHtml(de);Re=ne.createRawElement("div",Se,(G,Ie)=>{Ie.setContentOf(G,Oe)})}else this.url&&(Se.url=this.url),Re=ne.createEmptyElement(de.elementName,Se);return ne.setCustomProperty("media-content",!0,Re),Re}_getPreviewHtml(ne){return this._previewRenderer?this._previewRenderer(this._match):this.url&&ne.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const ne=new K.IconView,de=this._locale.t;return ne.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',ne.viewBox="0 0 64 42",new K.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[ne]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":de("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(ne){return ne?ne.match(/^https?/)?ne:"https://"+ne:null}}var ge=Q(591),Y=Q.n(ge),J=Q(400),Ce={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(J.A,Ce),J.A.locals;class ue extends d.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(ne){super(ne),ne.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:de=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${de[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:de=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${de[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:de=>{const Se=de[1],Re=de[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${Se}${Re?`?start=${Re}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:de=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${de[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new R(ne.locale,ne.config.get("mediaEmbed"))}init(){const ne=this.editor,de=ne.model.schema,Se=ne.t,Re=ne.conversion,Oe=ne.config.get("mediaEmbed.previewsInData"),G=ne.config.get("mediaEmbed.elementName"),Ie=this.registry;ne.commands.add("mediaEmbed",new $(ne)),de.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),Re.for("dataDowncast").elementToStructure({model:"media",view:(Ue,{writer:nt})=>{const xe=Ue.getAttribute("url");return L(nt,Ie,xe,{elementName:G,renderMediaPreview:!!xe&&Oe})}}),Re.for("dataDowncast").add(u(Ie,{elementName:G,renderMediaPreview:Oe})),Re.for("editingDowncast").elementToStructure({model:"media",view:(Ue,{writer:nt})=>{const xe=Ue.getAttribute("url");return function(pe,ye,Ze){return ye.setCustomProperty("media",!0,pe),(0,w.toWidget)(pe,ye,{label:Ze})}(L(nt,Ie,xe,{elementName:G,renderForEditingView:!0}),nt,Se("media widget"))}}),Re.for("editingDowncast").add(u(Ie,{elementName:G,renderForEditingView:!0})),Re.for("upcast").elementToElement({view:Ue=>["oembed",G].includes(Ue.name)&&Ue.getAttribute("url")?{name:!0}:null,model:(Ue,{writer:nt})=>{const xe=Ue.getAttribute("url");return Ie.hasMedia(xe)?nt.createElement("media",{url:xe}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(Ue,{writer:nt})=>{const xe=Ue.getAttribute("data-oembed-url");return Ie.hasMedia(xe)?nt.createElement("media",{url:xe}):null}}).add(Ue=>{Ue.on("element:figure",(nt,xe,pe)=>{if(!pe.consumable.consume(xe.viewItem,{name:!0,classes:"media"}))return;const{modelRange:ye,modelCursor:Ze}=pe.convertChildren(xe.viewItem,xe.modelCursor);xe.modelRange=ye,xe.modelCursor=Ze,(0,s.first)(ye.getItems())||pe.consumable.revert(xe.viewItem,{name:!0,classes:"media"})})})}}var h=Q(783),p=Q(331),g=Q(834),_=Q(251);const S=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class I extends d.Plugin{static get requires(){return[p.Clipboard,g.Delete,_.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(ne){super(ne),this._timeoutId=null,this._positionToInsert=null}init(){const ne=this.editor,de=ne.model.document,Se=ne.plugins.get("ClipboardPipeline");this.listenTo(Se,"inputTransformation",()=>{const Re=de.selection.getFirstRange(),Oe=h.LivePosition.fromPosition(Re.start);Oe.stickiness="toPrevious";const G=h.LivePosition.fromPosition(Re.end);G.stickiness="toNext",de.once("change:data",()=>{this._embedMediaBetweenPositions(Oe,G),Oe.detach(),G.detach()},{priority:"high"})}),ne.commands.get("undo").on("execute",()=>{this._timeoutId&&(s.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(ne,de){const Se=this.editor,Re=Se.plugins.get(ue).registry,Oe=new h.LiveRange(ne,de),G=Oe.getWalker({ignoreElementEnd:!0});let Ie="";for(const Ue of G)Ue.item.is("$textProxy")&&(Ie+=Ue.item.data);if(Ie=Ie.trim(),!Ie.match(S)||!Re.hasMedia(Ie))return void Oe.detach();Se.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=h.LivePosition.fromPosition(ne),this._timeoutId=s.global.window.setTimeout(()=>{Se.model.change(Ue=>{this._timeoutId=null,Ue.remove(Oe),Oe.detach();let nt=null;this._positionToInsert.root.rootName!=="$graveyard"&&(nt=this._positionToInsert),v(Se.model,Ie,nt,!1),this._positionToInsert.detach(),this._positionToInsert=null}),Se.plugins.get(g.Delete).requestUndoOnBackspace()},100)):Oe.detach()}}var M=Q(501),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(M.A,ee),M.A.locals;var H=Q(755),re={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(H.A,re),H.A.locals;class O extends K.View{constructor(ne,de){super(de);const Se=de.t;this.focusTracker=new s.FocusTracker,this.keystrokes=new s.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Se("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Se("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new K.ViewCollection,this._focusCycler=new K.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=ne,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,K.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(de=>{this._focusables.add(de),this.focusTracker.add(de.element)}),this.keystrokes.listenTo(this.element);const ne=de=>de.stopPropagation();this.keystrokes.set("arrowright",ne),this.keystrokes.set("arrowleft",ne),this.keystrokes.set("arrowup",ne),this.keystrokes.set("arrowdown",ne)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(ne){this.urlInputView.fieldView.element.value=ne.trim()}isValid(){this.resetFormStatus();for(const ne of this._validators){const de=ne(this);if(de)return this.urlInputView.errorText=de,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const ne=this.locale.t,de=new K.LabeledFieldView(this.locale,K.createLabeledInputText),Se=de.fieldView;return this._urlInputViewInfoDefault=ne("Paste the media URL in the input."),this._urlInputViewInfoTip=ne("Tip: Paste the URL into the content to embed faster."),de.label=ne("Media URL"),de.infoText=this._urlInputViewInfoDefault,Se.on("input",()=>{de.infoText=Se.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=Se.element.value.trim()}),de}_createButton(ne,de,Se,Re){const Oe=new K.ButtonView(this.locale);return Oe.set({label:ne,icon:de,tooltip:!0}),Oe.extendTemplate({attributes:{class:Se}}),Re&&Oe.delegate("execute").to(this,Re),Oe}}class W extends d.Plugin{static get requires(){return[ue]}static get pluginName(){return"MediaEmbedUI"}init(){const ne=this.editor,de=ne.commands.get("mediaEmbed");ne.ui.componentFactory.add("mediaEmbed",Se=>{const Re=(0,K.createDropdown)(Se);return this._setUpDropdown(Re,de),Re})}_setUpDropdown(ne,de){const Se=this.editor,Re=Se.t,Oe=ne.buttonView,G=Se.plugins.get(ue).registry;ne.once("change:isOpen",()=>{const Ie=new((0,K.CssTransitionDisablerMixin)(O))(function(Ue,nt){return[xe=>{if(!xe.url.length)return Ue("The URL must not be empty.")},xe=>{if(!nt.hasMedia(xe.url))return Ue("This media URL is not supported.")}]}(Se.t,G),Se.locale);ne.panelView.children.add(Ie),Oe.on("open",()=>{Ie.disableCssTransitions(),Ie.url=de.value||"",Ie.urlInputView.fieldView.select(),Ie.enableCssTransitions()},{priority:"low"}),ne.on("submit",()=>{Ie.isValid()&&(Se.execute("mediaEmbed",Ie.url),Se.editing.view.focus())}),ne.on("change:isOpen",()=>Ie.resetFormStatus()),ne.on("cancel",()=>{Se.editing.view.focus()}),Ie.delegate("submit","cancel").to(ne),Ie.urlInputView.fieldView.bind("value").to(de,"value"),Ie.urlInputView.on("change:errorText",()=>{Se.ui.update()}),Ie.urlInputView.bind("isEnabled").to(de,"isEnabled")}),ne.bind("isEnabled").to(de),Oe.set({label:Re("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var ie=Q(790),we={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ie.A,we),ie.A.locals;class Ae extends d.Plugin{static get requires(){return[ue,W,I,w.Widget]}static get pluginName(){return"MediaEmbed"}}class He extends d.Plugin{static get requires(){return[w.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const ne=this.editor,de=ne.t;ne.plugins.get(w.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:de("Media toolbar"),items:ne.config.get("mediaEmbed.toolbar")||[],getRelatedElement:C})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative",Custom:"Custom","Custom image size":"Custom image size","Enter image caption":"Enter image caption","Error during image upload":"Error during image upload","Full size image":"Full size image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative","The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Uploading image":"Uploading image","Wrap text":"Wrap text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={501:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const L=C},934:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const L=C},406:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const L=C},429:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}",""]);const L=C},489:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}",""]);const L=C},571:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}",""]);const L=C},278:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const L=C},895:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const L=C},854:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const L=C},424:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const L=C},184:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const L=C},285:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,w,s)=>{d.exports=s(237)("./src/undo.js")},260:(d,w,s)=>{d.exports=s(237)("./src/upload.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{AutoImage:()=>ue,Image:()=>St,ImageBlock:()=>mt,ImageBlockEditing:()=>Ue,ImageCaption:()=>Pi,ImageCaptionEditing:()=>tt,ImageCaptionUI:()=>gt,ImageCaptionUtils:()=>qt,ImageCustomResizeUI:()=>Br,ImageEditing:()=>de,ImageInline:()=>$t,ImageInsert:()=>yt,ImageInsertUI:()=>Ze,ImageInsertViaUrl:()=>qe,ImageResize:()=>$n,ImageResizeButtons:()=>vo,ImageResizeEditing:()=>xn,ImageResizeHandles:()=>ln,ImageSizeAttributes:()=>Se,ImageStyle:()=>Ds,ImageStyleEditing:()=>Ur,ImageStyleUI:()=>Ns,ImageTextAlternative:()=>ie,ImageTextAlternativeEditing:()=>p,ImageTextAlternativeUI:()=>W,ImageToolbar:()=>zs,ImageUpload:()=>vt,ImageUploadEditing:()=>pi,ImageUploadProgress:()=>_t,ImageUploadUI:()=>Gt,ImageUtils:()=>Y,PictureEditing:()=>$r});var d=Q(782),w=Q(331),s=Q(783),u=Q(251),C=Q(834),L=Q(584),k=Q(901);function v(U){return U.createContainerElement("figure",{class:"image"},[U.createEmptyElement("img"),U.createSlot("children")])}function $(U,A){const D=U.plugins.get("ImageUtils"),he=U.plugins.has("ImageInlineEditing")&&U.plugins.has("ImageBlockEditing");return ze=>D.isInlineImageView(ze)?he&&(ze.getStyle("display")=="block"||ze.findAncestor(D.isBlockImageView)?"imageBlock":"imageInline")!==A?null:Ve(ze):null;function Ve(ze){const Ge={name:!0};return ze.hasAttribute("src")&&(Ge.attributes=["src"]),Ge}}function K(U,A){const D=(0,L.first)(A.getSelectedBlocks());return!D||U.isObject(D)||D.isEmpty&&D.name!="listItem"?"imageBlock":"imageInline"}function R(U){return U&&U.endsWith("px")?parseInt(U):null}function Ee(U){const A=R(U.getStyle("width")),D=R(U.getStyle("height"));return!(!A||!D)}const ge=/^(image|image-inline)$/;class Y extends d.Plugin{constructor(){super(...arguments),this._domEmitter=new((0,L.DomEmitterMixin)())}static get pluginName(){return"ImageUtils"}isImage(A){return this.isInlineImage(A)||this.isBlockImage(A)}isInlineImageView(A){return!!A&&A.is("element","img")}isBlockImageView(A){return!!A&&A.is("element","figure")&&A.hasClass("image")}insertImage(A={},D=null,he=null,Ve={}){const ze=this.editor,Ge=ze.model,bt=Ge.document.selection,pt=J(ze,D||bt,he);A={...Object.fromEntries(bt.getAttributes()),...A};for(const kt in A)Ge.schema.checkAttribute(pt,kt)||delete A[kt];return Ge.change(kt=>{const{setImageSizes:Ot=!0}=Ve,Zt=kt.createElement(pt,A);return Ge.insertObject(Zt,D,null,{setSelection:"on",findOptimalPosition:D||pt=="imageInline"?void 0:"auto"}),Zt.parent?(Ot&&this.setImageNaturalSizeAttributes(Zt),Zt):null})}setImageNaturalSizeAttributes(A){const D=A.getAttribute("src");D&&(A.getAttribute("width")||A.getAttribute("height")||this.editor.model.change(he=>{const Ve=new L.global.window.Image;this._domEmitter.listenTo(Ve,"load",()=>{A.getAttribute("width")||A.getAttribute("height")||this.editor.model.enqueueChange(he.batch,ze=>{ze.setAttribute("width",Ve.naturalWidth,A),ze.setAttribute("height",Ve.naturalHeight,A)}),this._domEmitter.stopListening(Ve,"load")}),Ve.src=D}))}getClosestSelectedImageWidget(A){const D=A.getFirstPosition();if(!D)return null;const he=A.getSelectedElement();if(he&&this.isImageWidget(he))return he;let Ve=D.parent;for(;Ve;){if(Ve.is("element")&&this.isImageWidget(Ve))return Ve;Ve=Ve.parent}return null}getClosestSelectedImageElement(A){const D=A.getSelectedElement();return this.isImage(D)?D:A.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(A){return A.findAncestor({classes:ge})}isImageAllowed(){const A=this.editor.model.document.selection;return function(D,he){if(J(D,he,null)=="imageBlock"){const ze=function(Ge,bt){const pt=(0,k.findOptimalInsertionRange)(Ge,bt),kt=pt.start.parent;return kt.isEmpty&&!kt.is("element","$root")?kt.parent:kt}(he,D.model);if(D.model.schema.checkChild(ze,"imageBlock"))return!0}else if(D.model.schema.checkChild(he.focus,"imageInline"))return!0;return!1}(this.editor,A)&&function(D){return[...D.focus.getAncestors()].every(he=>!he.is("element","imageBlock"))}(A)}toImageWidget(A,D,he){return D.setCustomProperty("image",!0,A),(0,k.toWidget)(A,D,{label:()=>{const Ve=this.findViewImgElement(A).getAttribute("alt");return Ve?`${Ve} ${he}`:he}})}isImageWidget(A){return!!A.getCustomProperty("image")&&(0,k.isWidget)(A)}isBlockImage(A){return!!A&&A.is("element","imageBlock")}isInlineImage(A){return!!A&&A.is("element","imageInline")}findViewImgElement(A){if(this.isInlineImageView(A))return A;const D=this.editor.editing.view;for(const{item:he}of D.createRangeIn(A))if(this.isInlineImageView(he))return he}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function J(U,A,D){const he=U.model.schema,Ve=U.config.get("image.insert.type");return U.plugins.has("ImageBlockEditing")?U.plugins.has("ImageInlineEditing")?D||(Ve==="inline"?"imageInline":Ve!=="auto"?"imageBlock":A.is("selection")?K(he,A):he.checkChild(A,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const Ce=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class ue extends d.Plugin{static get requires(){return[w.Clipboard,Y,u.Undo,C.Delete]}static get pluginName(){return"AutoImage"}constructor(A){super(A),this._timeoutId=null,this._positionToInsert=null}init(){const A=this.editor,D=A.model.document,he=A.plugins.get("ClipboardPipeline");this.listenTo(he,"inputTransformation",()=>{const Ve=D.selection.getFirstRange(),ze=s.LivePosition.fromPosition(Ve.start);ze.stickiness="toPrevious";const Ge=s.LivePosition.fromPosition(Ve.end);Ge.stickiness="toNext",D.once("change:data",()=>{this._embedImageBetweenPositions(ze,Ge),ze.detach(),Ge.detach()},{priority:"high"})}),A.commands.get("undo").on("execute",()=>{this._timeoutId&&(L.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(A,D){const he=this.editor,Ve=new s.LiveRange(A,D),ze=Ve.getWalker({ignoreElementEnd:!0}),Ge=Object.fromEntries(he.model.document.selection.getAttributes()),bt=this.editor.plugins.get("ImageUtils");let pt="";for(const kt of ze)kt.item.is("$textProxy")&&(pt+=kt.item.data);pt=pt.trim(),pt.match(Ce)?(this._positionToInsert=s.LivePosition.fromPosition(A),this._timeoutId=setTimeout(()=>{if(!he.commands.get("insertImage").isEnabled)return void Ve.detach();he.model.change(kt=>{let Ot;this._timeoutId=null,kt.remove(Ve),Ve.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(Ot=this._positionToInsert.toPosition()),bt.insertImage({...Ge,src:pt},Ot),this._positionToInsert.detach(),this._positionToInsert=null}),he.plugins.get("Delete").requestUndoOnBackspace()},100)):Ve.detach()}}class h extends d.Command{refresh(){const A=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!A,this.isEnabled&&A.hasAttribute("alt")?this.value=A.getAttribute("alt"):this.value=!1}execute(A){const D=this.editor,he=D.plugins.get("ImageUtils"),Ve=D.model,ze=he.getClosestSelectedImageElement(Ve.document.selection);Ve.change(Ge=>{Ge.setAttribute("alt",A.newValue,ze)})}}class p extends d.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new h(this.editor))}}var g=Q(311),_=Q(591),S=Q.n(_),I=Q(285),M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(I.A,M),I.A.locals;var ee=Q(501),H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(ee.A,H),ee.A.locals;class re extends g.View{constructor(A){super(A);const D=this.locale.t;this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(D("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(D("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new g.ViewCollection,this._focusCycler=new g.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,g.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(A=>{this._focusables.add(A),this.focusTracker.add(A.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(A,D,he,Ve){const ze=new g.ButtonView(this.locale);return ze.set({label:A,icon:D,tooltip:!0}),ze.extendTemplate({attributes:{class:he}}),Ve&&ze.delegate("execute").to(this,Ve),ze}_createLabeledInputView(){const A=this.locale.t,D=new g.LabeledFieldView(this.locale,g.createLabeledInputText);return D.label=A("Text alternative"),D}}function O(U){const A=U.editing.view,D=g.BalloonPanelView.defaultPositions,he=U.plugins.get("ImageUtils");return{target:A.domConverter.mapViewToDom(he.getClosestSelectedImageWidget(A.document.selection)),positions:[D.northArrowSouth,D.northArrowSouthWest,D.northArrowSouthEast,D.southArrowNorth,D.southArrowNorthWest,D.southArrowNorthEast,D.viewportStickyNorth]}}class W extends d.Plugin{static get requires(){return[g.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const A=this.editor,D=A.t;A.ui.componentFactory.add("imageTextAlternative",he=>{const Ve=A.commands.get("imageTextAlternative"),ze=new g.ButtonView(he);return ze.set({label:D("Change image text alternative"),icon:d.icons.textAlternative,tooltip:!0}),ze.bind("isEnabled").to(Ve,"isEnabled"),ze.bind("isOn").to(Ve,"value",Ge=>!!Ge),this.listenTo(ze,"execute",()=>{this._showForm()}),ze})}_createForm(){const A=this.editor,D=A.editing.view.document,he=A.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,g.CssTransitionDisablerMixin)(re))(A.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{A.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Ve,ze)=>{this._hideForm(!0),ze()}),this.listenTo(A.ui,"update",()=>{he.getClosestSelectedImageWidget(D.selection)?this._isVisible&&function(Ve){const ze=Ve.plugins.get("ContextualBalloon");if(Ve.plugins.get("ImageUtils").getClosestSelectedImageWidget(Ve.editing.view.document.selection)){const Ge=O(Ve);ze.updatePosition(Ge)}}(A):this._hideForm(!0)}),(0,g.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const A=this.editor,D=A.commands.get("imageTextAlternative"),he=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:O(A)}),he.fieldView.value=he.fieldView.element.value=D.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(A=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),A&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class ie extends d.Plugin{static get requires(){return[p,W]}static get pluginName(){return"ImageTextAlternative"}}function we(U,A){const D=(he,Ve,ze)=>{if(!ze.consumable.consume(Ve.item,he.name))return;const Ge=ze.writer,bt=ze.mapper.toViewElement(Ve.item),pt=U.findViewImgElement(bt);Ve.attributeNewValue===null?(Ge.removeAttribute("srcset",pt),Ge.removeAttribute("sizes",pt)):Ve.attributeNewValue&&(Ge.setAttribute("srcset",Ve.attributeNewValue,pt),Ge.setAttribute("sizes","100vw",pt))};return he=>{he.on(`attribute:srcset:${A}`,D)}}function Ae(U,A,D){const he=(Ve,ze,Ge)=>{if(!Ge.consumable.consume(ze.item,Ve.name))return;const bt=Ge.writer,pt=Ge.mapper.toViewElement(ze.item),kt=U.findViewImgElement(pt);bt.setAttribute(ze.attributeKey,ze.attributeNewValue||"",kt)};return Ve=>{Ve.on(`attribute:${D}:${A}`,he)}}class He extends s.Observer{observe(A){this.listenTo(A,"load",(D,he)=>{const Ve=he.target;this.checkShouldIgnoreEventFromTarget(Ve)||Ve.tagName=="IMG"&&this._fireEvents(he)},{useCapture:!0})}stopObserving(A){this.stopListening(A)}_fireEvents(A){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",A))}}class it extends d.Command{constructor(A){super(A);const D=A.config.get("image.insert.type");A.plugins.has("ImageBlockEditing")||D==="block"&&(0,L.logWarning)("image-block-plugin-required"),A.plugins.has("ImageInlineEditing")||D==="inline"&&(0,L.logWarning)("image-inline-plugin-required")}refresh(){const A=this.editor.plugins.get("ImageUtils");this.isEnabled=A.isImageAllowed()}execute(A){const D=(0,L.toArray)(A.source),he=this.editor.model.document.selection,Ve=this.editor.plugins.get("ImageUtils"),ze=Object.fromEntries(he.getAttributes());D.forEach((Ge,bt)=>{const pt=he.getSelectedElement();if(typeof Ge=="string"&&(Ge={src:Ge}),bt&&pt&&Ve.isImage(pt)){const kt=this.editor.model.createPositionAfter(pt);Ve.insertImage({...Ge,...ze},kt)}else Ve.insertImage({...Ge,...ze})})}}class ne extends d.Command{constructor(A){super(A),this.decorate("cleanupImage")}refresh(){const A=this.editor.plugins.get("ImageUtils"),D=this.editor.model.document.selection.getSelectedElement();this.isEnabled=A.isImage(D),this.value=this.isEnabled?D.getAttribute("src"):null}execute(A){const D=this.editor.model.document.selection.getSelectedElement(),he=this.editor.plugins.get("ImageUtils");this.editor.model.change(Ve=>{Ve.setAttribute("src",A.source,D),this.cleanupImage(Ve,D),he.setImageNaturalSizeAttributes(D)})}cleanupImage(A,D){A.removeAttribute("srcset",D),A.removeAttribute("sizes",D),A.removeAttribute("sources",D),A.removeAttribute("width",D),A.removeAttribute("height",D),A.removeAttribute("alt",D)}}class de extends d.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageEditing"}init(){const A=this.editor,D=A.conversion;A.editing.view.addObserver(He),D.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const he=new it(A),Ve=new ne(A);A.commands.add("insertImage",he),A.commands.add("replaceImageSource",Ve),A.commands.add("imageInsert",he)}}class Se extends d.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(A){const D=this.editor,he=D.plugins.get("ImageUtils"),Ve=A==="imageBlock"?"figure":"img";function ze(Ge,bt,pt,kt){Ge.on(`attribute:${bt}:${A}`,(Ot,Zt,li)=>{if(!li.consumable.consume(Zt.item,Ot.name))return;const ii=li.writer,fi=li.mapper.toViewElement(Zt.item),vi=he.findViewImgElement(fi);if(Zt.attributeNewValue!==null?ii.setAttribute(pt,Zt.attributeNewValue,vi):ii.removeAttribute(pt,vi),Zt.item.hasAttribute("sources"))return;const cn=Zt.item.hasAttribute("resizedWidth");if(A==="imageInline"&&!cn&&!kt)return;const qn=Zt.item.getAttribute("width"),Vn=Zt.item.getAttribute("height");qn&&Vn&&ii.setStyle("aspect-ratio",`${qn}/${Vn}`,vi)})}D.conversion.for("upcast").attributeToAttribute({view:{name:Ve,styles:{width:/.+/}},model:{key:"width",value:Ge=>Ee(Ge)?R(Ge.getStyle("width")):null}}).attributeToAttribute({view:{name:Ve,key:"width"},model:"width"}).attributeToAttribute({view:{name:Ve,styles:{height:/.+/}},model:{key:"height",value:Ge=>Ee(Ge)?R(Ge.getStyle("height")):null}}).attributeToAttribute({view:{name:Ve,key:"height"},model:"height"}),D.conversion.for("editingDowncast").add(Ge=>{ze(Ge,"width","width",!0),ze(Ge,"height","height",!0)}),D.conversion.for("dataDowncast").add(Ge=>{ze(Ge,"width","width",!1),ze(Ge,"height","height",!1)})}}class Re extends d.Command{constructor(A,D){super(A),this._modelElementName=D}refresh(){const A=this.editor.plugins.get("ImageUtils"),D=A.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=A.isInlineImage(D):this.isEnabled=A.isBlockImage(D)}execute(A={}){const D=this.editor,he=this.editor.model,Ve=D.plugins.get("ImageUtils"),ze=Ve.getClosestSelectedImageElement(he.document.selection),Ge=Object.fromEntries(ze.getAttributes());return Ge.src||Ge.uploadId?he.change(bt=>{const{setImageSizes:pt=!0}=A,kt=Array.from(he.markers).filter(li=>li.getRange().containsItem(ze)),Ot=Ve.insertImage(Ge,he.createSelection(ze,"on"),this._modelElementName,{setImageSizes:pt});if(!Ot)return null;const Zt=bt.createRangeOn(Ot);for(const li of kt){const ii=li.getRange(),fi=ii.root.rootName!="$graveyard"?ii.getJoined(Zt,!0):Zt;bt.updateMarker(li,{range:fi})}return{oldElement:ze,newElement:Ot}}):null}}var Oe=Q(571),G={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Oe.A,G),Oe.A.locals;class Ie extends d.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const A=this.editor.model.schema;A.isRegistered("imageBlock")&&A.extend("imageBlock",{allowAttributes:["placeholder"]}),A.isRegistered("imageInline")&&A.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const A=this.editor,D=A.conversion,he=A.plugins.get("ImageUtils");D.for("editingDowncast").add(Ve=>{Ve.on("attribute:placeholder",(ze,Ge,bt)=>{if(!bt.consumable.test(Ge.item,ze.name)||!Ge.item.is("element","imageBlock")&&!Ge.item.is("element","imageInline"))return;bt.consumable.consume(Ge.item,ze.name);const pt=bt.writer,kt=bt.mapper.toViewElement(Ge.item),Ot=he.findViewImgElement(kt);Ge.attributeNewValue?(pt.addClass("image_placeholder",Ot),pt.setStyle("background-image",`url(${Ge.attributeNewValue})`,Ot),pt.setCustomProperty("editingPipeline:doNotReuseOnce",!0,Ot)):(pt.removeClass("image_placeholder",Ot),pt.removeStyle("background-image",Ot))})})}_setupLoadListener(){const A=this.editor,D=A.model,he=A.editing,Ve=he.view,ze=A.plugins.get("ImageUtils");Ve.addObserver(He),this.listenTo(Ve.document,"imageLoaded",(Ge,bt)=>{const pt=Ve.domConverter.mapDomToView(bt.target);if(!pt)return;const kt=ze.getImageWidgetFromImageView(pt);if(!kt)return;const Ot=he.mapper.toModelElement(kt);Ot&&Ot.hasAttribute("placeholder")&&D.enqueueChange({isUndoable:!1},Zt=>{Zt.removeAttribute("placeholder",Ot)})})}}class Ue extends d.Plugin{static get requires(){return[de,Se,Y,Ie,w.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const A=this.editor;A.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),A.plugins.has("ImageInlineEditing")&&(A.commands.add("imageTypeBlock",new Re(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const A=this.editor,D=A.t,he=A.conversion,Ve=A.plugins.get("ImageUtils");he.for("dataDowncast").elementToStructure({model:"imageBlock",view:(ze,{writer:Ge})=>v(Ge)}),he.for("editingDowncast").elementToStructure({model:"imageBlock",view:(ze,{writer:Ge})=>Ve.toImageWidget(v(Ge),Ge,D("image widget"))}),he.for("downcast").add(Ae(Ve,"imageBlock","src")).add(Ae(Ve,"imageBlock","alt")).add(we(Ve,"imageBlock")),he.for("upcast").elementToElement({view:$(A,"imageBlock"),model:(ze,{writer:Ge})=>Ge.createElement("imageBlock",ze.hasAttribute("src")?{src:ze.getAttribute("src")}:void 0)}).add(function(ze){const Ge=(bt,pt,kt)=>{if(!kt.consumable.test(pt.viewItem,{name:!0,classes:"image"}))return;const Ot=ze.findViewImgElement(pt.viewItem);if(!Ot||!kt.consumable.test(Ot,{name:!0}))return;kt.consumable.consume(pt.viewItem,{name:!0,classes:"image"});const Zt=kt.convertItem(Ot,pt.modelCursor),li=(0,L.first)(Zt.modelRange.getItems());li?(kt.convertChildren(pt.viewItem,li),kt.updateConversionResult(li,pt)):kt.consumable.revert(pt.viewItem,{name:!0,classes:"image"})};return bt=>{bt.on("element:figure",Ge)}}(Ve))}_setupClipboardIntegration(){const A=this.editor,D=A.model,he=A.editing.view,Ve=A.plugins.get("ImageUtils"),ze=A.plugins.get("ClipboardPipeline");this.listenTo(ze,"inputTransformation",(Ge,bt)=>{const pt=Array.from(bt.content.getChildren());let kt;if(!pt.every(Ve.isInlineImageView))return;kt=bt.targetRanges?A.editing.mapper.toModelRange(bt.targetRanges[0]):D.document.selection.getFirstRange();const Ot=D.createSelection(kt);if(K(D.schema,Ot)==="imageBlock"){const Zt=new s.UpcastWriter(he.document),li=pt.map(ii=>Zt.createElement("figure",{class:"image"},ii));bt.content=Zt.createDocumentFragment(li)}}),this.listenTo(ze,"contentInsertion",(Ge,bt)=>{bt.method==="paste"&&D.change(pt=>{const kt=pt.createRangeIn(bt.content);for(const Ot of kt.getItems())Ot.is("element","imageBlock")&&Ve.setImageNaturalSizeAttributes(Ot)})})}}var nt=Q(489),xe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(nt.A,xe),nt.A.locals;class pe extends g.View{constructor(A,D=[]){super(A),this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this._focusables=new g.ViewCollection,this.children=this.createCollection(),this._focusCycler=new g.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const he of D)this.children.add(he),this._focusables.add(he),he instanceof g.CollapsibleView&&this._focusables.addMany(he.children);if(this._focusables.length>1)for(const he of this._focusables)ye(he)&&(he.focusCycler.on("forwardCycle",Ve=>{this._focusCycler.focusNext(),Ve.stop()}),he.focusCycler.on("backwardCycle",Ve=>{this._focusCycler.focusPrevious(),Ve.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),(0,g.submitHandler)({view:this});for(const D of this._focusables)this.focusTracker.add(D.element);this.keystrokes.listenTo(this.element);const A=D=>D.stopPropagation();this.keystrokes.set("arrowright",A),this.keystrokes.set("arrowleft",A),this.keystrokes.set("arrowup",A),this.keystrokes.set("arrowdown",A)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function ye(U){return"focusCycler"in U}class Ze extends d.Plugin{static get pluginName(){return"ImageInsertUI"}static get requires(){return[Y]}constructor(A){super(A),this._integrations=new Map,A.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const A=this.editor,D=A.model.document.selection,he=A.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(A.model.document,"change",()=>{this.isImageSelected=he.isImage(D.getSelectedElement())});const Ve=ze=>this._createToolbarComponent(ze);A.ui.componentFactory.add("insertImage",Ve),A.ui.componentFactory.add("imageInsert",Ve)}registerIntegration({name:A,observable:D,buttonViewCreator:he,formViewCreator:Ve,requiresForm:ze}){this._integrations.has(A)&&(0,L.logWarning)("image-insert-integration-exists",{name:A}),this._integrations.set(A,{observable:D,buttonViewCreator:he,formViewCreator:Ve,requiresForm:!!ze})}_createToolbarComponent(A){const D=this.editor,he=A.t,Ve=this._prepareIntegrations();if(!Ve.length)return null;let ze;const Ge=Ve[0];if(Ve.length==1){if(!Ge.requiresForm)return Ge.buttonViewCreator(!0);ze=Ge.buttonViewCreator(!0)}else{const kt=Ge.buttonViewCreator(!1);ze=new g.SplitButtonView(A,kt),ze.tooltip=!0,ze.bind("label").to(this,"isImageSelected",Ot=>he(Ot?"Replace image":"Insert image"))}const bt=this.dropdownView=(0,g.createDropdown)(A,ze),pt=Ve.map(({observable:kt})=>typeof kt=="function"?kt():kt);return bt.bind("isEnabled").toMany(pt,"isEnabled",(...kt)=>kt.some(Ot=>Ot)),bt.once("change:isOpen",()=>{const kt=Ve.map(({formViewCreator:Zt})=>Zt(Ve.length==1)),Ot=new pe(D.locale,kt);bt.panelView.children.add(Ot)}),bt}_prepareIntegrations(){const A=this.editor.config.get("image.insert.integrations"),D=[];if(!A.length)return(0,L.logWarning)("image-insert-integrations-not-specified"),D;for(const he of A)this._integrations.has(he)?D.push(this._integrations.get(he)):["upload","assetManager","url"].includes(he)||(0,L.logWarning)("image-insert-unknown-integration",{item:he});return D.length||(0,L.logWarning)("image-insert-integrations-not-registered"),D}}var ot=Q(934),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(ot.A,at),ot.A.locals;class mt extends d.Plugin{static get requires(){return[Ue,k.Widget,ie,Ze]}static get pluginName(){return"ImageBlock"}}class Ut extends d.Plugin{static get requires(){return[de,Se,Y,Ie,w.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const A=this.editor,D=A.model.schema;D.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),D.addChildCheck((he,Ve)=>{if(he.endsWith("caption")&&Ve.name==="imageInline")return!1}),this._setupConversion(),A.plugins.has("ImageBlockEditing")&&(A.commands.add("imageTypeInline",new Re(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const A=this.editor,D=A.t,he=A.conversion,Ve=A.plugins.get("ImageUtils");he.for("dataDowncast").elementToElement({model:"imageInline",view:(ze,{writer:Ge})=>Ge.createEmptyElement("img")}),he.for("editingDowncast").elementToStructure({model:"imageInline",view:(ze,{writer:Ge})=>Ve.toImageWidget(function(bt){return bt.createContainerElement("span",{class:"image-inline"},bt.createEmptyElement("img"))}(Ge),Ge,D("image widget"))}),he.for("downcast").add(Ae(Ve,"imageInline","src")).add(Ae(Ve,"imageInline","alt")).add(we(Ve,"imageInline")),he.for("upcast").elementToElement({view:$(A,"imageInline"),model:(ze,{writer:Ge})=>Ge.createElement("imageInline",ze.hasAttribute("src")?{src:ze.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const A=this.editor,D=A.model,he=A.editing.view,Ve=A.plugins.get("ImageUtils"),ze=A.plugins.get("ClipboardPipeline");this.listenTo(ze,"inputTransformation",(Ge,bt)=>{const pt=Array.from(bt.content.getChildren());let kt;if(!pt.every(Ve.isBlockImageView))return;kt=bt.targetRanges?A.editing.mapper.toModelRange(bt.targetRanges[0]):D.document.selection.getFirstRange();const Ot=D.createSelection(kt);if(K(D.schema,Ot)==="imageInline"){const Zt=new s.UpcastWriter(he.document),li=pt.map(ii=>ii.childCount===1?(Array.from(ii.getAttributes()).forEach(fi=>Zt.setAttribute(...fi,Ve.findViewImgElement(ii))),ii.getChild(0)):ii);bt.content=Zt.createDocumentFragment(li)}}),this.listenTo(ze,"contentInsertion",(Ge,bt)=>{bt.method==="paste"&&D.change(pt=>{const kt=pt.createRangeIn(bt.content);for(const Ot of kt.getItems())Ot.is("element","imageInline")&&Ve.setImageNaturalSizeAttributes(Ot)})})}}class $t extends d.Plugin{static get requires(){return[Ut,k.Widget,ie,Ze]}static get pluginName(){return"ImageInline"}}class St extends d.Plugin{static get requires(){return[mt,$t]}static get pluginName(){return"Image"}}class qt extends d.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Y]}getCaptionFromImageModelElement(A){for(const D of A.getChildren())if(D&&D.is("element","caption"))return D;return null}getCaptionFromModelSelection(A){const D=this.editor.plugins.get("ImageUtils"),he=A.getFirstPosition().findAncestor("caption");return he&&D.isBlockImage(he.parent)?he:null}matchImageCaptionViewElement(A){const D=this.editor.plugins.get("ImageUtils");return A.name=="figcaption"&&D.isBlockImageView(A.parent)?{name:!0}:null}}class wt extends d.Command{refresh(){const A=this.editor,D=A.plugins.get("ImageCaptionUtils"),he=A.plugins.get("ImageUtils");if(!A.plugins.has(Ue))return this.isEnabled=!1,void(this.value=!1);const Ve=A.model.document.selection,ze=Ve.getSelectedElement();if(!ze){const Ge=D.getCaptionFromModelSelection(Ve);return this.isEnabled=!!Ge,void(this.value=!!Ge)}this.isEnabled=he.isImage(ze),this.isEnabled?this.value=!!D.getCaptionFromImageModelElement(ze):this.value=!1}execute(A={}){const{focusCaptionOnShow:D}=A;this.editor.model.change(he=>{this.value?this._hideImageCaption(he):this._showImageCaption(he,D)})}_showImageCaption(A,D){const he=this.editor.model.document.selection,Ve=this.editor.plugins.get("ImageCaptionEditing"),ze=this.editor.plugins.get("ImageUtils");let Ge=he.getSelectedElement();const bt=Ve._getSavedCaption(Ge);ze.isInlineImage(Ge)&&(this.editor.execute("imageTypeBlock"),Ge=he.getSelectedElement());const pt=bt||A.createElement("caption");A.append(pt,Ge),D&&A.setSelection(pt,"in")}_hideImageCaption(A){const D=this.editor,he=D.model.document.selection,Ve=D.plugins.get("ImageCaptionEditing"),ze=D.plugins.get("ImageCaptionUtils");let Ge,bt=he.getSelectedElement();bt?Ge=ze.getCaptionFromImageModelElement(bt):(Ge=ze.getCaptionFromModelSelection(he),bt=Ge.parent),Ve._saveCaption(bt,Ge),A.setSelection(bt,"on"),A.remove(Ge)}}class tt extends d.Plugin{static get requires(){return[Y,qt]}static get pluginName(){return"ImageCaptionEditing"}constructor(A){super(A),this._savedCaptionsMap=new WeakMap}init(){const A=this.editor,D=A.model.schema;D.isRegistered("caption")?D.extend("caption",{allowIn:"imageBlock"}):D.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),A.commands.add("toggleImageCaption",new wt(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const A=this.editor,D=A.editing.view,he=A.plugins.get("ImageUtils"),Ve=A.plugins.get("ImageCaptionUtils"),ze=A.t;A.conversion.for("upcast").elementToElement({view:Ge=>Ve.matchImageCaptionViewElement(Ge),model:"caption"}),A.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Ge,{writer:bt})=>he.isBlockImage(Ge.parent)?bt.createContainerElement("figcaption"):null}),A.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Ge,{writer:bt})=>{if(!he.isBlockImage(Ge.parent))return null;const pt=bt.createEditableElement("figcaption");bt.setCustomProperty("imageCaption",!0,pt),pt.placeholder=ze("Enter image caption"),(0,s.enablePlaceholder)({view:D,element:pt,keepOnFocus:!0});const kt=Ge.parent.getAttribute("alt"),Ot=kt?ze("Caption for image: %0",[kt]):ze("Caption for the image");return(0,k.toWidgetEditable)(pt,bt,{label:Ot})}})}_setupImageTypeCommandsIntegration(){const A=this.editor,D=A.plugins.get("ImageUtils"),he=A.plugins.get("ImageCaptionUtils"),Ve=A.commands.get("imageTypeInline"),ze=A.commands.get("imageTypeBlock"),Ge=bt=>{if(!bt.return)return;const{oldElement:pt,newElement:kt}=bt.return;if(!pt)return;if(D.isBlockImage(pt)){const Zt=he.getCaptionFromImageModelElement(pt);if(Zt)return void this._saveCaption(kt,Zt)}const Ot=this._getSavedCaption(pt);Ot&&this._saveCaption(kt,Ot)};Ve&&this.listenTo(Ve,"execute",Ge,{priority:"low"}),ze&&this.listenTo(ze,"execute",Ge,{priority:"low"})}_getSavedCaption(A){const D=this._savedCaptionsMap.get(A);return D?s.Element.fromJSON(D):null}_saveCaption(A,D){this._savedCaptionsMap.set(A,D.toJSON())}_registerCaptionReconversion(){const A=this.editor,D=A.model,he=A.plugins.get("ImageUtils"),Ve=A.plugins.get("ImageCaptionUtils");D.document.on("change:data",()=>{const ze=D.document.differ.getChanges();for(const Ge of ze){if(Ge.attributeKey!=="alt")continue;const bt=Ge.range.start.nodeAfter;if(he.isBlockImage(bt)){const pt=Ve.getCaptionFromImageModelElement(bt);if(!pt)return;A.editing.reconvertItem(pt)}}})}}class gt extends d.Plugin{static get requires(){return[qt]}static get pluginName(){return"ImageCaptionUI"}init(){const A=this.editor,D=A.editing.view,he=A.plugins.get("ImageCaptionUtils"),Ve=A.t;A.ui.componentFactory.add("toggleImageCaption",ze=>{const Ge=A.commands.get("toggleImageCaption"),bt=new g.ButtonView(ze);return bt.set({icon:d.icons.caption,tooltip:!0,isToggleable:!0}),bt.bind("isOn","isEnabled").to(Ge,"value","isEnabled"),bt.bind("label").to(Ge,"value",pt=>Ve(pt?"Toggle caption off":"Toggle caption on")),this.listenTo(bt,"execute",()=>{A.execute("toggleImageCaption",{focusCaptionOnShow:!0});const pt=he.getCaptionFromModelSelection(A.model.document.selection);if(pt){const kt=A.editing.mapper.toViewElement(pt);D.scrollToTheSelection(),D.change(Ot=>{Ot.addClass("image__caption_highlighted",kt)})}A.editing.view.focus()}),bt})}}var gi=Q(406),Ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(gi.A,Ti),gi.A.locals;class Pi extends d.Plugin{static get requires(){return[tt,gt]}static get pluginName(){return"ImageCaption"}}function Di(U){const A=U.map(D=>D.replace("+","\\+"));return new RegExp(`^image\\/(${A.join("|")})$`)}function Oi(U){return new Promise((A,D)=>{const he=U.getAttribute("src");fetch(he).then(Ve=>Ve.blob()).then(Ve=>{const ze=Wi(Ve,he),Ge=ze.replace("image/",""),bt=new File([Ve],`image.${Ge}`,{type:ze});A(bt)}).catch(Ve=>Ve&&Ve.name==="TypeError"?function(ze){return function(Ge){return new Promise((bt,pt)=>{const kt=L.global.document.createElement("img");kt.addEventListener("load",()=>{const Ot=L.global.document.createElement("canvas");Ot.width=kt.width,Ot.height=kt.height,Ot.getContext("2d").drawImage(kt,0,0),Ot.toBlob(Zt=>Zt?bt(Zt):pt())}),kt.addEventListener("error",()=>pt()),kt.src=Ge})}(ze).then(Ge=>{const bt=Wi(Ge,ze),pt=bt.replace("image/","");return new File([Ge],`image.${pt}`,{type:bt})})}(he).then(A).catch(D):D(Ve))})}function Wi(U,A){return U.type?U.type:A.match(/data:(image\/\w+);base64/)?A.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Gt extends d.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const A=this.editor,D=A.t,he=()=>{const Ve=this._createButton(g.FileDialogButtonView);return Ve.set({label:D("Upload image from computer"),tooltip:!0}),Ve};if(A.ui.componentFactory.add("uploadImage",he),A.ui.componentFactory.add("imageUpload",he),A.ui.componentFactory.add("menuBar:uploadImage",()=>{const Ve=this._createButton(g.MenuBarMenuListItemFileDialogButtonView);return Ve.label=D("Image from computer"),Ve}),A.plugins.has("ImageInsertUI")){const Ve=A.plugins.get("ImageInsertUI");Ve.registerIntegration({name:"upload",observable:()=>A.commands.get("uploadImage"),buttonViewCreator:()=>{const ze=A.ui.componentFactory.create("uploadImage");return ze.bind("label").to(Ve,"isImageSelected",Ge=>D(Ge?"Replace image from computer":"Upload image from computer")),ze},formViewCreator:()=>{const ze=A.ui.componentFactory.create("uploadImage");return ze.withText=!0,ze.bind("label").to(Ve,"isImageSelected",Ge=>D(Ge?"Replace from computer":"Upload from computer")),ze.on("execute",()=>{Ve.dropdownView.isOpen=!1}),ze}})}}_createButton(A){const D=this.editor,he=D.locale,Ve=D.commands.get("uploadImage"),ze=D.config.get("image.upload.types"),Ge=Di(ze),bt=new A(D.locale),pt=he.t;return bt.set({acceptedType:ze.map(kt=>`image/${kt}`).join(","),allowMultipleFiles:!0,label:pt("Upload image from computer"),icon:d.icons.imageUpload}),bt.bind("isEnabled").to(Ve),bt.on("done",(kt,Ot)=>{const Zt=Array.from(Ot).filter(li=>Ge.test(li.type));Zt.length&&(D.execute("uploadImage",{file:Zt}),D.editing.view.focus())}),bt}}var xt=Q(260),Ke=Q(184),le={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Ke.A,le),Ke.A.locals;var Le=Q(854),Be={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Le.A,Be),Le.A.locals;var dt=Q(424),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(dt.A,ht),dt.A.locals;class _t extends d.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(A){super(A),this.uploadStatusChange=(D,he,Ve)=>{const ze=this.editor,Ge=he.item,bt=Ge.getAttribute("uploadId");if(!Ve.consumable.consume(he.item,D.name))return;const pt=ze.plugins.get("ImageUtils"),kt=ze.plugins.get(xt.FileRepository),Ot=bt?he.attributeNewValue:null,Zt=this.placeholder,li=ze.editing.mapper.toViewElement(Ge),ii=Ve.writer;if(Ot=="reading")return It(li,ii),void zt(pt,Zt,li,ii);if(Ot=="uploading"){const fi=kt.loaders.get(bt);return It(li,ii),void(fi?(Jt(li,ii),function(vi,cn,qn,Vn){const Kn=function(Do){const Pr=Do.createUIElement("div",{class:"ck-progress-bar"});return Do.setCustomProperty("progressBar",!0,Pr),Pr}(cn);cn.insert(cn.createPositionAt(vi,"end"),Kn),qn.on("change:uploadedPercent",(Do,Pr,Fs)=>{Vn.change(ws=>{ws.setStyle("width",Fs+"%",Kn)})})}(li,ii,fi,ze.editing.view),function(vi,cn,qn,Vn){if(Vn.data){const Kn=vi.findViewImgElement(cn);qn.setAttribute("src",Vn.data,Kn)}}(pt,li,ii,fi)):zt(pt,Zt,li,ii))}Ot=="complete"&&kt.loaders.get(bt)&&function(fi,vi,cn){const qn=vi.createUIElement("div",{class:"ck-image-upload-complete-icon"});vi.insert(vi.createPositionAt(fi,"end"),qn),setTimeout(()=>{cn.change(Vn=>Vn.remove(Vn.createRangeOn(qn)))},3e3)}(li,ii,ze.editing.view),function(fi,vi){si(fi,vi,"progressBar")}(li,ii),Jt(li,ii),function(fi,vi){vi.removeClass("ck-appear",fi)}(li,ii)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const A=this.editor;A.plugins.has("ImageBlockEditing")&&A.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),A.plugins.has("ImageInlineEditing")&&A.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function It(U,A){U.hasClass("ck-appear")||A.addClass("ck-appear",U)}function zt(U,A,D,he){D.hasClass("ck-image-upload-placeholder")||he.addClass("ck-image-upload-placeholder",D);const Ve=U.findViewImgElement(D);Ve.getAttribute("src")!==A&&he.setAttribute("src",A,Ve),ai(D,"placeholder")||he.insert(he.createPositionAfter(Ve),function(ze){const Ge=ze.createUIElement("div",{class:"ck-upload-placeholder-loader"});return ze.setCustomProperty("placeholder",!0,Ge),Ge}(he))}function Jt(U,A){U.hasClass("ck-image-upload-placeholder")&&A.removeClass("ck-image-upload-placeholder",U),si(U,A,"placeholder")}function ai(U,A){for(const D of U.getChildren())if(D.getCustomProperty(A))return D}function si(U,A,D){const he=ai(U,D);he&&A.remove(A.createRangeOn(he))}class Bi extends d.Command{refresh(){const A=this.editor,D=A.plugins.get("ImageUtils"),he=A.model.document.selection.getSelectedElement();this.isEnabled=D.isImageAllowed()||D.isImage(he)}execute(A){const D=(0,L.toArray)(A.file),he=this.editor.model.document.selection,Ve=this.editor.plugins.get("ImageUtils"),ze=Object.fromEntries(he.getAttributes());D.forEach((Ge,bt)=>{const pt=he.getSelectedElement();if(bt&&pt&&Ve.isImage(pt)){const kt=this.editor.model.createPositionAfter(pt);this._uploadImage(Ge,ze,kt)}else this._uploadImage(Ge,ze)})}_uploadImage(A,D,he){const Ve=this.editor,ze=Ve.plugins.get(xt.FileRepository).createLoader(A),Ge=Ve.plugins.get("ImageUtils");ze&&Ge.insertImage({...D,uploadId:ze.id},he)}}class pi extends d.Plugin{static get requires(){return[xt.FileRepository,g.Notification,w.ClipboardPipeline,Y]}static get pluginName(){return"ImageUploadEditing"}constructor(A){super(A),A.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const A=this.editor,D=A.model.document,he=A.conversion,Ve=A.plugins.get(xt.FileRepository),ze=A.plugins.get("ImageUtils"),Ge=A.plugins.get("ClipboardPipeline"),bt=Di(A.config.get("image.upload.types")),pt=new Bi(A);A.commands.add("uploadImage",pt),A.commands.add("imageUpload",pt),he.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(A.editing.view.document,"clipboardInput",(kt,Ot)=>{if(Zt=Ot.dataTransfer,Array.from(Zt.types).includes("text/html")&&Zt.getData("text/html")!=="")return;var Zt;const li=Array.from(Ot.dataTransfer.files).filter(ii=>!!ii&&bt.test(ii.type));li.length&&(kt.stop(),A.model.change(ii=>{Ot.targetRanges&&ii.setSelection(Ot.targetRanges.map(fi=>A.editing.mapper.toModelRange(fi))),A.execute("uploadImage",{file:li})}))}),this.listenTo(Ge,"inputTransformation",(kt,Ot)=>{const Zt=Array.from(A.editing.view.createRangeIn(Ot.content)).map(ii=>ii.item).filter(ii=>function(fi,vi){return!(!fi.isInlineImageView(vi)||!vi.getAttribute("src")||!vi.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!vi.getAttribute("src").match(/^blob:/g))}(ze,ii)&&!ii.getAttribute("uploadProcessed")).map(ii=>({promise:Oi(ii),imageElement:ii}));if(!Zt.length)return;const li=new s.UpcastWriter(A.editing.view.document);for(const ii of Zt){li.setAttribute("uploadProcessed",!0,ii.imageElement);const fi=Ve.createLoader(ii.promise);fi&&(li.setAttribute("src","",ii.imageElement),li.setAttribute("uploadId",fi.id,ii.imageElement))}}),A.editing.view.document.on("dragover",(kt,Ot)=>{Ot.preventDefault()}),D.on("change",()=>{const kt=D.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Ot=new Set;for(const Zt of kt)if(Zt.type=="insert"&&Zt.name!="$text"){const li=Zt.position.nodeAfter,ii=Zt.position.root.rootName=="$graveyard";for(const fi of Ci(A,li)){const vi=fi.getAttribute("uploadId");if(!vi)continue;const cn=Ve.loaders.get(vi);cn&&(ii?Ot.has(vi)||cn.abort():(Ot.add(vi),this._uploadImageElements.set(vi,fi),cn.status=="idle"&&this._readAndUpload(cn)))}}}),this.on("uploadComplete",(kt,{imageElement:Ot,data:Zt})=>{const li=Zt.urls?Zt.urls:Zt;this.editor.model.change(ii=>{ii.setAttribute("src",li.default,Ot),this._parseAndSetSrcsetAttributeOnImage(li,Ot,ii),ze.setImageNaturalSizeAttributes(Ot)})},{priority:"low"})}afterInit(){const A=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&A.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&A.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(A){const D=this.editor,he=D.model,Ve=D.locale.t,ze=D.plugins.get(xt.FileRepository),Ge=D.plugins.get(g.Notification),bt=D.plugins.get("ImageUtils"),pt=this._uploadImageElements;return he.enqueueChange({isUndoable:!1},Ot=>{Ot.setAttribute("uploadStatus","reading",pt.get(A.id))}),A.read().then(()=>{const Ot=A.upload(),Zt=pt.get(A.id);if(L.env.isSafari){const li=D.editing.mapper.toViewElement(Zt),ii=bt.findViewImgElement(li);D.editing.view.once("render",()=>{if(!ii.parent)return;const fi=D.editing.view.domConverter.mapViewToDom(ii.parent);if(!fi)return;const vi=fi.style.display;fi.style.display="none",fi._ckHack=fi.offsetHeight,fi.style.display=vi})}return D.ui&&D.ui.ariaLiveAnnouncer.announce(Ve("Uploading image")),he.enqueueChange({isUndoable:!1},li=>{li.setAttribute("uploadStatus","uploading",Zt)}),Ot}).then(Ot=>{he.enqueueChange({isUndoable:!1},Zt=>{const li=pt.get(A.id);Zt.setAttribute("uploadStatus","complete",li),D.ui&&D.ui.ariaLiveAnnouncer.announce(Ve("Image upload complete")),this.fire("uploadComplete",{data:Ot,imageElement:li})}),kt()}).catch(Ot=>{if(D.ui&&D.ui.ariaLiveAnnouncer.announce(Ve("Error during image upload")),A.status!=="error"&&A.status!=="aborted")throw Ot;A.status=="error"&&Ot&&Ge.showWarning(Ot,{title:Ve("Upload failed"),namespace:"upload"}),he.enqueueChange({isUndoable:!1},Zt=>{Zt.remove(pt.get(A.id))}),kt()});function kt(){he.enqueueChange({isUndoable:!1},Ot=>{const Zt=pt.get(A.id);Ot.removeAttribute("uploadId",Zt),Ot.removeAttribute("uploadStatus",Zt),pt.delete(A.id)}),ze.destroyLoader(A)}}_parseAndSetSrcsetAttributeOnImage(A,D,he){let Ve=0;const ze=Object.keys(A).filter(Ge=>{const bt=parseInt(Ge,10);if(!isNaN(bt))return Ve=Math.max(Ve,bt),!0}).map(Ge=>`${A[Ge]} ${Ge}w`).join(", ");if(ze!=""){const Ge={srcset:ze};D.hasAttribute("width")||D.hasAttribute("height")||(Ge.width=Ve),he.setAttributes(Ge,D)}}}function Ci(U,A){const D=U.plugins.get("ImageUtils");return Array.from(U.model.createRangeOn(A)).filter(he=>D.isImage(he.item)).map(he=>he.item)}class vt extends d.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[pi,Gt,_t]}}class Ye extends g.View{constructor(A){super(A),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this._focusables=new g.ViewCollection,this.focusCycler=new g.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.urlInputView=this._createUrlInputView(),this.insertButtonView=this._createInsertButton(),this.cancelButtonView=this._createCancelButton(),this._focusables.addMany([this.urlInputView,this.insertButtonView,this.cancelButtonView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]},children:[this.insertButtonView,this.cancelButtonView]}]})}render(){super.render();for(const A of this._focusables)this.focusTracker.add(A.element);this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const A=this.locale,D=A.t,he=new g.LabeledFieldView(A,g.createLabeledInputText);return he.bind("label").to(this,"isImageSelected",Ve=>D(Ve?"Update image URL":"Insert image via URL")),he.bind("isEnabled").to(this),he.fieldView.placeholder="https://example.com/image.png",he.fieldView.bind("value").to(this,"imageURLInputValue",Ve=>Ve||""),he.fieldView.on("input",()=>{this.imageURLInputValue=he.fieldView.element.value.trim()}),he}_createInsertButton(){const A=this.locale,D=A.t,he=new g.ButtonView(A);return he.set({icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),he.bind("label").to(this,"isImageSelected",Ve=>D(Ve?"Update":"Insert")),he.bind("isEnabled").to(this,"imageURLInputValue",this,"isEnabled",(...Ve)=>Ve.every(ze=>ze)),he.delegate("execute").to(this,"submit"),he}_createCancelButton(){const A=this.locale,D=A.t,he=new g.ButtonView(A);return he.set({label:D("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),he.bind("isEnabled").to(this),he.delegate("execute").to(this,"cancel"),he}focus(A){A===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}}class ct extends d.Plugin{static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[Ze]}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),requiresForm:!0,buttonViewCreator:A=>this._createInsertUrlButton(A),formViewCreator:A=>this._createInsertUrlView(A)})}_createInsertUrlView(A){const D=this.editor,he=D.locale,Ve=he.t,ze=D.commands.get("replaceImageSource"),Ge=D.commands.get("insertImage"),bt=new Ye(he),pt=A?null:new g.CollapsibleView(he,[bt]);return bt.bind("isImageSelected").to(this._imageInsertUI),bt.bind("isEnabled").toMany([Ge,ze],"isEnabled",(...kt)=>kt.some(Ot=>Ot)),bt.imageURLInputValue=ze.value||"",this._imageInsertUI.dropdownView.on("change:isOpen",()=>{this._imageInsertUI.dropdownView.isOpen&&(bt.imageURLInputValue=ze.value||"",pt&&(pt.isCollapsed=!0))},{priority:"low"}),bt.on("submit",()=>{ze.isEnabled?D.execute("replaceImageSource",{source:bt.imageURLInputValue}):D.execute("insertImage",{source:bt.imageURLInputValue}),this._closePanel()}),bt.on("cancel",()=>this._closePanel()),pt?(pt.set({isCollapsed:!0}),pt.bind("label").to(this._imageInsertUI,"isImageSelected",kt=>Ve(kt?"Update image URL":"Insert image via URL")),pt):bt}_createInsertUrlButton(A){const D=A?g.DropdownButtonView:g.ButtonView,he=this.editor,Ve=new D(he.locale),ze=he.locale.t;return Ve.set({icon:d.icons.imageUrl,tooltip:!0}),Ve.bind("label").to(this._imageInsertUI,"isImageSelected",Ge=>ze(Ge?"Update image URL":"Insert image via URL")),Ve}_closePanel(){this.editor.editing.view.focus(),this._imageInsertUI.dropdownView.isOpen=!1}}class qe extends d.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[ct,Ze]}}class yt extends d.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[vt,qe,Ze]}}const Dt=function(U,A){for(var D=-1,he=U==null?0:U.length,Ve=Array(he);++D<he;)Ve[D]=A(U[D],D,U);return Ve},Mt=function(){this.__data__=[],this.size=0},jt=function(U,A){return U===A||U!=U&&A!=A},Te=function(U,A){for(var D=U.length;D--;)if(jt(U[D][0],A))return D;return-1};var V=Array.prototype.splice;const N=function(U){var A=this.__data__,D=Te(A,U);return!(D<0)&&(D==A.length-1?A.pop():V.call(A,D,1),--this.size,!0)},X=function(U){var A=this.__data__,D=Te(A,U);return D<0?void 0:A[D][1]},Pe=function(U){return Te(this.__data__,U)>-1},We=function(U,A){var D=this.__data__,he=Te(D,U);return he<0?(++this.size,D.push([U,A])):D[he][1]=A,this};function oe(U){var A=-1,D=U==null?0:U.length;for(this.clear();++A<D;){var he=U[A];this.set(he[0],he[1])}}oe.prototype.clear=Mt,oe.prototype.delete=N,oe.prototype.get=X,oe.prototype.has=Pe,oe.prototype.set=We;const Me=oe,Je=function(){this.__data__=new Me,this.size=0},Qe=function(U){var A=this.__data__,D=A.delete(U);return this.size=A.size,D},ut=function(U){return this.__data__.get(U)},Ft=function(U){return this.__data__.has(U)},Pt=typeof global=="object"&&global&&global.Object===Object&&global;var ri=typeof self=="object"&&self&&self.Object===Object&&self;const bi=Pt||ri||Function("return this")(),ui=bi.Symbol;var Ei=Object.prototype,_i=Ei.hasOwnProperty,bn=Ei.toString,wn=ui?ui.toStringTag:void 0;const yn=function(U){var A=_i.call(U,wn),D=U[wn];try{U[wn]=void 0;var he=!0}catch{}var Ve=bn.call(U);return he&&(A?U[wn]=D:delete U[wn]),Ve};var An=Object.prototype.toString;const gn=function(U){return An.call(U)};var Yn=ui?ui.toStringTag:void 0;const In=function(U){return U==null?U===void 0?"[object Undefined]":"[object Null]":Yn&&Yn in Object(U)?yn(U):gn(U)},Jn=function(U){var A=typeof U;return U!=null&&(A=="object"||A=="function")},xo=function(U){if(!Jn(U))return!1;var A=In(U);return A=="[object Function]"||A=="[object GeneratorFunction]"||A=="[object AsyncFunction]"||A=="[object Proxy]"},Xn=bi["__core-js_shared__"];var Co,eo=(Co=/[^.]+$/.exec(Xn&&Xn.keys&&Xn.keys.IE_PROTO||""))?"Symbol(src)_1."+Co:"";const Go=function(U){return!!eo&&eo in U};var hn=Function.prototype.toString;const Sn=function(U){if(U!=null){try{return hn.call(U)}catch{}try{return U+""}catch{}}return""};var zn=/^\[object .+?Constructor\]$/,go=Function.prototype,ir=Object.prototype,po=go.toString,Ao=ir.hasOwnProperty,Mo=RegExp("^"+po.call(Ao).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Fo=function(U){return!(!Jn(U)||Go(U))&&(xo(U)?Mo:zn).test(Sn(U))},Fn=function(U,A){return U?.[A]},to=function(U,A){var D=Fn(U,A);return Fo(D)?D:void 0},Tn=to(bi,"Map"),wo=to(Object,"create"),Lo=function(){this.__data__=wo?wo(null):{},this.size=0},Ho=function(U){var A=this.has(U)&&delete this.__data__[U];return this.size-=A?1:0,A};var nr=Object.prototype.hasOwnProperty;const To=function(U){var A=this.__data__;if(wo){var D=A[U];return D==="__lodash_hash_undefined__"?void 0:D}return nr.call(A,U)?A[U]:void 0};var io=Object.prototype.hasOwnProperty;const fo=function(U){var A=this.__data__;return wo?A[U]!==void 0:io.call(A,U)},no=function(U,A){var D=this.__data__;return this.size+=this.has(U)?0:1,D[U]=wo&&A===void 0?"__lodash_hash_undefined__":A,this};function Pn(U){var A=-1,D=U==null?0:U.length;for(this.clear();++A<D;){var he=U[A];this.set(he[0],he[1])}}Pn.prototype.clear=Lo,Pn.prototype.delete=Ho,Pn.prototype.get=To,Pn.prototype.has=fo,Pn.prototype.set=no;const Hn=Pn,un=function(){this.size=0,this.__data__={hash:new Hn,map:new(Tn||Me),string:new Hn}},Un=function(U){var A=typeof U;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?U!=="__proto__":U===null},ji=function(U,A){var D=U.__data__;return Un(A)?D[typeof A=="string"?"string":"hash"]:D.map},mn=function(U){var A=ji(this,U).delete(U);return this.size-=A?1:0,A},co=function(U){return ji(this,U).get(U)},Xt=function(U){return ji(this,U).has(U)},oo=function(U,A){var D=ji(this,U),he=D.size;return D.set(U,A),this.size+=D.size==he?0:1,this};function uo(U){var A=-1,D=U==null?0:U.length;for(this.clear();++A<D;){var he=U[A];this.set(he[0],he[1])}}uo.prototype.clear=un,uo.prototype.delete=mn,uo.prototype.get=co,uo.prototype.has=Xt,uo.prototype.set=oo;const Bn=uo,Uo=function(U,A){var D=this.__data__;if(D instanceof Me){var he=D.__data__;if(!Tn||he.length<199)return he.push([U,A]),this.size=++D.size,this;D=this.__data__=new Bn(he)}return D.set(U,A),this.size=D.size,this};function ho(U){var A=this.__data__=new Me(U);this.size=A.size}ho.prototype.clear=Je,ho.prototype.delete=Qe,ho.prototype.get=ut,ho.prototype.has=Ft,ho.prototype.set=Uo;const Lt=ho,mo=function(U){return this.__data__.set(U,"__lodash_hash_undefined__"),this},_e=function(U){return this.__data__.has(U)};function B(U){var A=-1,D=U==null?0:U.length;for(this.__data__=new Bn;++A<D;)this.add(U[A])}B.prototype.add=B.prototype.push=mo,B.prototype.has=_e;const ce=B,$e=function(U,A){for(var D=-1,he=U==null?0:U.length;++D<he;)if(A(U[D],D,U))return!0;return!1},F=function(U,A){return U.has(A)},y=function(U,A,D,he,Ve,ze){var Ge=1&D,bt=U.length,pt=A.length;if(bt!=pt&&!(Ge&&pt>bt))return!1;var kt=ze.get(U),Ot=ze.get(A);if(kt&&Ot)return kt==A&&Ot==U;var Zt=-1,li=!0,ii=2&D?new ce:void 0;for(ze.set(U,A),ze.set(A,U);++Zt<bt;){var fi=U[Zt],vi=A[Zt];if(he)var cn=Ge?he(vi,fi,Zt,A,U,ze):he(fi,vi,Zt,U,A,ze);if(cn!==void 0){if(cn)continue;li=!1;break}if(ii){if(!$e(A,function(qn,Vn){if(!F(ii,Vn)&&(fi===qn||Ve(fi,qn,D,he,ze)))return ii.push(Vn)})){li=!1;break}}else if(fi!==vi&&!Ve(fi,vi,D,he,ze)){li=!1;break}}return ze.delete(U),ze.delete(A),li},j=bi.Uint8Array,Z=function(U){var A=-1,D=Array(U.size);return U.forEach(function(he,Ve){D[++A]=[Ve,he]}),D},se=function(U){var A=-1,D=Array(U.size);return U.forEach(function(he){D[++A]=he}),D};var me=ui?ui.prototype:void 0,ke=me?me.valueOf:void 0;const fe=function(U,A,D,he,Ve,ze,Ge){switch(D){case"[object DataView]":if(U.byteLength!=A.byteLength||U.byteOffset!=A.byteOffset)return!1;U=U.buffer,A=A.buffer;case"[object ArrayBuffer]":return!(U.byteLength!=A.byteLength||!ze(new j(U),new j(A)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jt(+U,+A);case"[object Error]":return U.name==A.name&&U.message==A.message;case"[object RegExp]":case"[object String]":return U==A+"";case"[object Map]":var bt=Z;case"[object Set]":var pt=1&he;if(bt||(bt=se),U.size!=A.size&&!pt)return!1;var kt=Ge.get(U);if(kt)return kt==A;he|=2,Ge.set(U,A);var Ot=y(bt(U),bt(A),he,Ve,ze,Ge);return Ge.delete(U),Ot;case"[object Symbol]":if(ke)return ke.call(U)==ke.call(A)}return!1},je=function(U,A){for(var D=-1,he=A.length,Ve=U.length;++D<he;)U[Ve+D]=A[D];return U},Ne=Array.isArray,et=function(U,A,D){var he=A(U);return Ne(U)?he:je(he,D(U))},rt=function(U,A){for(var D=-1,he=U==null?0:U.length,Ve=0,ze=[];++D<he;){var Ge=U[D];A(Ge,D,U)&&(ze[Ve++]=Ge)}return ze},Ct=function(){return[]};var Et=Object.prototype.propertyIsEnumerable,Bt=Object.getOwnPropertySymbols;const Tt=Bt?function(U){return U==null?[]:(U=Object(U),rt(Bt(U),function(A){return Et.call(U,A)}))}:Ct,Yt=function(U,A){for(var D=-1,he=Array(U);++D<U;)he[D]=A(D);return he},Qt=function(U){return U!=null&&typeof U=="object"},wi=function(U){return Qt(U)&&In(U)=="[object Arguments]"};var Ai=Object.prototype,Ii=Ai.hasOwnProperty,Mi=Ai.propertyIsEnumerable;const nn=wi(function(){return arguments}())?wi:function(U){return Qt(U)&&Ii.call(U,"callee")&&!Mi.call(U,"callee")},_n=function(){return!1};var ro=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=ro&&typeof module=="object"&&module&&!module.nodeType&&module,Gr=Oo&&Oo.exports===ro?bi.Buffer:void 0;const kr=(Gr?Gr.isBuffer:void 0)||_n;var vs=/^(?:0|[1-9]\d*)$/;const Zr=function(U,A){var D=typeof U;return!!(A=A??9007199254740991)&&(D=="number"||D!="symbol"&&vs.test(U))&&U>-1&&U%1==0&&U<A},_r=function(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=9007199254740991};var vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Arguments]"]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object Boolean]"]=vn["[object DataView]"]=vn["[object Date]"]=vn["[object Error]"]=vn["[object Function]"]=vn["[object Map]"]=vn["[object Number]"]=vn["[object Object]"]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object WeakMap]"]=!1;const or=function(U){return Qt(U)&&_r(U.length)&&!!vn[In(U)]},Qr=function(U){return function(A){return U(A)}};var Lr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vo=Lr&&typeof module=="object"&&module&&!module.nodeType&&module,rr=Vo&&Vo.exports===Lr&&Pt.process,Eo=function(){try{var U=Vo&&Vo.require&&Vo.require("util").types;return U||rr&&rr.binding&&rr.binding("util")}catch{}}(),Jr=Eo&&Eo.isTypedArray;const Xr=Jr?Qr(Jr):or;var ys=Object.prototype.hasOwnProperty;const xs=function(U,A){var D=Ne(U),he=!D&&nn(U),Ve=!D&&!he&&kr(U),ze=!D&&!he&&!Ve&&Xr(U),Ge=D||he||Ve||ze,bt=Ge?Yt(U.length,String):[],pt=bt.length;for(var kt in U)!A&&!ys.call(U,kt)||Ge&&(kt=="length"||Ve&&(kt=="offset"||kt=="parent")||ze&&(kt=="buffer"||kt=="byteLength"||kt=="byteOffset")||Zr(kt,pt))||bt.push(kt);return bt};var Cs=Object.prototype;const As=function(U){var A=U&&U.constructor;return U===(typeof A=="function"&&A.prototype||Cs)},Ts=function(U,A){return function(D){return U(A(D))}}(Object.keys,Object);var qs=Object.prototype.hasOwnProperty;const bo=function(U){if(!As(U))return Ts(U);var A=[];for(var D in Object(U))qs.call(U,D)&&D!="constructor"&&A.push(D);return A},sr=function(U){return U!=null&&_r(U.length)&&!xo(U)},vr=function(U){return sr(U)?xs(U):bo(U)},yr=function(U){return et(U,vr,Tt)};var ko=Object.prototype.hasOwnProperty;const es=function(U,A,D,he,Ve,ze){var Ge=1&D,bt=yr(U),pt=bt.length;if(pt!=yr(A).length&&!Ge)return!1;for(var kt=pt;kt--;){var Ot=bt[kt];if(!(Ge?Ot in A:ko.call(A,Ot)))return!1}var Zt=ze.get(U),li=ze.get(A);if(Zt&&li)return Zt==A&&li==U;var ii=!0;ze.set(U,A),ze.set(A,U);for(var fi=Ge;++kt<pt;){var vi=U[Ot=bt[kt]],cn=A[Ot];if(he)var qn=Ge?he(cn,vi,Ot,A,U,ze):he(vi,cn,Ot,U,A,ze);if(!(qn===void 0?vi===cn||Ve(vi,cn,D,he,ze):qn)){ii=!1;break}fi||(fi=Ot=="constructor")}if(ii&&!fi){var Vn=U.constructor,Kn=A.constructor;Vn==Kn||!("constructor"in U)||!("constructor"in A)||typeof Vn=="function"&&Vn instanceof Vn&&typeof Kn=="function"&&Kn instanceof Kn||(ii=!1)}return ze.delete(U),ze.delete(A),ii},xr=to(bi,"DataView"),Wo=to(bi,"Promise"),ar=to(bi,"Set"),lr=to(bi,"WeakMap");var ts="[object Map]",is="[object Promise]",Or="[object Set]",on="[object WeakMap]",Vr="[object DataView]",ns=Sn(xr),Es=Sn(Tn),$o=Sn(Wo),Rn=Sn(ar),os=Sn(lr),jo=In;(xr&&jo(new xr(new ArrayBuffer(1)))!=Vr||Tn&&jo(new Tn)!=ts||Wo&&jo(Wo.resolve())!=is||ar&&jo(new ar)!=Or||lr&&jo(new lr)!=on)&&(jo=function(U){var A=In(U),D=A=="[object Object]"?U.constructor:void 0,he=D?Sn(D):"";if(he)switch(he){case ns:return Vr;case Es:return ts;case $o:return is;case Rn:return Or;case os:return on}return A});const Ro=jo;var rs="[object Arguments]",cr="[object Array]",Wn="[object Object]",dr=Object.prototype.hasOwnProperty;const ss=function(U,A,D,he,Ve,ze){var Ge=Ne(U),bt=Ne(A),pt=Ge?cr:Ro(U),kt=bt?cr:Ro(A),Ot=(pt=pt==rs?Wn:pt)==Wn,Zt=(kt=kt==rs?Wn:kt)==Wn,li=pt==kt;if(li&&kr(U)){if(!kr(A))return!1;Ge=!0,Ot=!1}if(li&&!Ot)return ze||(ze=new Lt),Ge||Xr(U)?y(U,A,D,he,Ve,ze):fe(U,A,pt,D,he,Ve,ze);if(!(1&D)){var ii=Ot&&dr.call(U,"__wrapped__"),fi=Zt&&dr.call(A,"__wrapped__");if(ii||fi){var vi=ii?U.value():U,cn=fi?A.value():A;return ze||(ze=new Lt),Ve(vi,cn,D,he,ze)}}return!!li&&(ze||(ze=new Lt),es(U,A,D,he,Ve,ze))},as=function U(A,D,he,Ve,ze){return A===D||(A==null||D==null||!Qt(A)&&!Qt(D)?A!=A&&D!=D:ss(A,D,he,Ve,U,ze))},Ks=function(U,A,D,he){var Ve=D.length,ze=Ve,Ge=!he;if(U==null)return!ze;for(U=Object(U);Ve--;){var bt=D[Ve];if(Ge&&bt[2]?bt[1]!==U[bt[0]]:!(bt[0]in U))return!1}for(;++Ve<ze;){var pt=(bt=D[Ve])[0],kt=U[pt],Ot=bt[1];if(Ge&&bt[2]){if(kt===void 0&&!(pt in U))return!1}else{var Zt=new Lt;if(he)var li=he(kt,Ot,pt,U,A,Zt);if(!(li===void 0?as(Ot,kt,3,he,Zt):li))return!1}}return!0},Zo=function(U){return U==U&&!Jn(U)},Cr=function(U){for(var A=vr(U),D=A.length;D--;){var he=A[D],Ve=U[he];A[D]=[he,Ve,Zo(Ve)]}return A},qo=function(U,A){return function(D){return D!=null&&D[U]===A&&(A!==void 0||U in Object(D))}},Ys=function(U){var A=Cr(U);return A.length==1&&A[0][2]?qo(A[0][0],A[0][1]):function(D){return D===U||Ks(D,U,A)}},jr=function(U){return typeof U=="symbol"||Qt(U)&&In(U)=="[object Symbol]"};var Ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Is=/^\w*$/;const Ar=function(U,A){if(Ne(U))return!1;var D=typeof U;return!(D!="number"&&D!="symbol"&&D!="boolean"&&U!=null&&!jr(U))||Is.test(U)||!Ss.test(U)||A!=null&&U in Object(A)};function Rr(U,A){if(typeof U!="function"||A!=null&&typeof A!="function")throw new TypeError("Expected a function");var D=function(){var he=arguments,Ve=A?A.apply(this,he):he[0],ze=D.cache;if(ze.has(Ve))return ze.get(Ve);var Ge=U.apply(this,he);return D.cache=ze.set(Ve,Ge)||ze,Ge};return D.cache=new(Rr.Cache||Bn),D}Rr.Cache=Bn;const ls=Rr;var Gs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ps=/\\(\\)?/g;const No=function(U){var A=ls(U,function(he){return D.size===500&&D.clear(),he}),D=A.cache;return A}(function(U){var A=[];return U.charCodeAt(0)===46&&A.push(""),U.replace(Gs,function(D,he,Ve,ze){A.push(Ve?ze.replace(Ps,"$1"):he||D)}),A});var Nr=ui?ui.prototype:void 0,cs=Nr?Nr.toString:void 0;const ds=function U(A){if(typeof A=="string")return A;if(Ne(A))return Dt(A,U)+"";if(jr(A))return cs?cs.call(A):"";var D=A+"";return D=="0"&&1/A==-1/0?"-0":D},Zs=function(U){return U==null?"":ds(U)},Ms=function(U,A){return Ne(U)?U:Ar(U,A)?[U]:No(Zs(U))},ur=function(U){if(typeof U=="string"||jr(U))return U;var A=U+"";return A=="0"&&1/U==-1/0?"-0":A},us=function(U,A){for(var D=0,he=(A=Ms(A,U)).length;U!=null&&D<he;)U=U[ur(A[D++])];return D&&D==he?U:void 0},so=function(U,A,D){var he=U==null?void 0:us(U,A);return he===void 0?D:he},Ko=function(U,A){return U!=null&&A in Object(U)},hr=function(U,A,D){for(var he=-1,Ve=(A=Ms(A,U)).length,ze=!1;++he<Ve;){var Ge=ur(A[he]);if(!(ze=U!=null&&D(U,Ge)))break;U=U[Ge]}return ze||++he!=Ve?ze:!!(Ve=U==null?0:U.length)&&_r(Ve)&&Zr(Ge,Ve)&&(Ne(U)||nn(U))},So=function(U,A){return U!=null&&hr(U,A,Ko)},Ls=function(U,A){return Ar(U)&&Zo(A)?qo(ur(U),A):function(D){var he=so(D,U);return he===void 0&&he===A?So(D,U):as(A,he,3)}},_o=function(U){return U},mr=function(U){return function(A){return A?.[U]}},Os=function(U){return function(A){return us(A,U)}},an=function(U){return Ar(U)?mr(ur(U)):Os(U)},Nn=function(U){return typeof U=="function"?U:U==null?_o:typeof U=="object"?Ne(U)?Ls(U[0],U[1]):Ys(U):an(U)},pn=function(U){return function(A,D,he){for(var Ve=-1,ze=Object(A),Ge=he(A),bt=Ge.length;bt--;){var pt=Ge[U?bt:++Ve];if(D(ze[pt],pt,ze)===!1)break}return A}}(),kn=function(U,A){return function(D,he){if(D==null)return D;if(!sr(D))return U(D,he);for(var Ve=D.length,ze=A?Ve:-1,Ge=Object(D);(A?ze--:++ze<Ve)&&he(Ge[ze],ze,Ge)!==!1;);return D}}(function(U,A){return U&&pn(U,A,vr)}),Gn=function(U,A){var D=-1,he=sr(U)?Array(U.length):[];return kn(U,function(Ve,ze,Ge){he[++D]=A(Ve,ze,Ge)}),he},Vs=function(U,A){return(Ne(U)?Dt:Gn)(U,Nn(A,3))};class Mn extends d.Command{refresh(){const A=this.editor,D=A.plugins.get("ImageUtils").getClosestSelectedImageElement(A.model.document.selection);this.isEnabled=!!D,D&&D.hasAttribute("resizedWidth")?this.value={width:D.getAttribute("resizedWidth"),height:null}:this.value=null}execute(A){const D=this.editor,he=D.model,Ve=D.plugins.get("ImageUtils"),ze=Ve.getClosestSelectedImageElement(he.document.selection);this.value={width:A.width,height:null},ze&&he.change(Ge=>{Ge.setAttribute("resizedWidth",A.width,ze),Ge.removeAttribute("resizedHeight",ze),Ve.setImageNaturalSizeAttributes(ze)})}}class xn extends d.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageResizeEditing"}constructor(A){super(A),A.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const A=this.editor,D=new Mn(A);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),A.commands.add("resizeImage",D),A.commands.add("imageResize",D)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(A){const D=this.editor,he=D.plugins.get("ImageUtils");D.conversion.for("downcast").add(Ve=>Ve.on(`attribute:resizedWidth:${A}`,(ze,Ge,bt)=>{if(!bt.consumable.consume(Ge.item,ze.name))return;const pt=bt.writer,kt=bt.mapper.toViewElement(Ge.item);Ge.attributeNewValue!==null?(pt.setStyle("width",Ge.attributeNewValue,kt),pt.addClass("image_resized",kt)):(pt.removeStyle("width",kt),pt.removeClass("image_resized",kt))})),D.conversion.for("dataDowncast").attributeToAttribute({model:{name:A,key:"resizedHeight"},view:Ve=>({key:"style",value:{height:Ve}})}),D.conversion.for("editingDowncast").add(Ve=>Ve.on(`attribute:resizedHeight:${A}`,(ze,Ge,bt)=>{if(!bt.consumable.consume(Ge.item,ze.name))return;const pt=bt.writer,kt=bt.mapper.toViewElement(Ge.item),Ot=A==="imageInline"?he.findViewImgElement(kt):kt;Ge.attributeNewValue!==null?pt.setStyle("height",Ge.attributeNewValue,Ot):pt.removeStyle("height",Ot)})),D.conversion.for("upcast").attributeToAttribute({view:{name:A==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:Ve=>Ee(Ve)?null:Ve.getStyle("width")}}),D.conversion.for("upcast").attributeToAttribute({view:{name:A==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:Ve=>Ee(Ve)?null:Ve.getStyle("height")}})}}const Dn={small:d.icons.objectSizeSmall,medium:d.icons.objectSizeMedium,large:d.icons.objectSizeLarge,custom:d.icons.objectSizeCustom,original:d.icons.objectSizeFull};class vo extends d.Plugin{static get requires(){return[xn]}static get pluginName(){return"ImageResizeButtons"}constructor(A){super(A),this._resizeUnit=A.config.get("image.resizeUnit")}init(){const A=this.editor,D=A.config.get("image.resizeOptions"),he=A.commands.get("resizeImage");this.bind("isEnabled").to(he);for(const Ve of D)this._registerImageResizeButton(Ve);this._registerImageResizeDropdown(D)}_registerImageResizeButton(A){const D=this.editor,{name:he,value:Ve,icon:ze}=A;D.ui.componentFactory.add(he,Ge=>{const bt=new g.ButtonView(Ge),pt=D.commands.get("resizeImage"),kt=this._getOptionLabelValue(A,!0);if(!Dn[ze])throw new L.CKEditorError("imageresizebuttons-missing-icon",D,A);if(bt.set({label:kt,icon:Dn[ze],tooltip:kt,isToggleable:!0}),bt.bind("isEnabled").to(this),D.plugins.has("ImageCustomResizeUI")&&Zn(A)){const Ot=D.plugins.get("ImageCustomResizeUI");this.listenTo(bt,"execute",()=>{Ot._showForm(this._resizeUnit)})}else{const Ot=Ve?Ve+this._resizeUnit:null;bt.bind("isOn").to(pt,"value",ao(Ot)),this.listenTo(bt,"execute",()=>{D.execute("resizeImage",{width:Ot})})}return bt})}_registerImageResizeDropdown(A){const D=this.editor,he=D.t,Ve=A.find(Ge=>!Ge.value),ze=Ge=>{const bt=D.commands.get("resizeImage"),pt=(0,g.createDropdown)(Ge,g.DropdownButtonView),kt=pt.buttonView,Ot=he("Resize image");return kt.set({tooltip:Ot,commandValue:Ve.value,icon:Dn.medium,isToggleable:!0,label:this._getOptionLabelValue(Ve),withText:!0,class:"ck-resize-image-button",ariaLabel:Ot,ariaLabelledBy:void 0}),kt.bind("label").to(bt,"value",Zt=>Zt&&Zt.width?Zt.width:this._getOptionLabelValue(Ve)),pt.bind("isEnabled").to(this),(0,g.addListToDropdown)(pt,()=>this._getResizeDropdownListItemDefinitions(A,bt),{ariaLabel:he("Image resize list"),role:"menu"}),this.listenTo(pt,"execute",Zt=>{"onClick"in Zt.source?Zt.source.onClick():(D.execute(Zt.source.commandName,{width:Zt.source.commandValue}),D.editing.view.focus())}),pt};D.ui.componentFactory.add("resizeImage",ze),D.ui.componentFactory.add("imageResize",ze)}_getOptionLabelValue(A,D=!1){const he=this.editor.t;return A.label?A.label:D?Zn(A)?he("Custom image size"):A.value?he("Resize image to %0",A.value+this._resizeUnit):he("Resize image to the original size"):Zn(A)?he("Custom"):A.value?A.value+this._resizeUnit:he("Original")}_getResizeDropdownListItemDefinitions(A,D){const{editor:he}=this,Ve=new L.Collection,ze=A.map(Ge=>Zn(Ge)?{...Ge,valueWithUnits:"custom"}:Ge.value?{...Ge,valueWithUnits:`${Ge.value}${this._resizeUnit}`}:{...Ge,valueWithUnits:null});for(const Ge of ze){let bt=null;if(he.plugins.has("ImageCustomResizeUI")&&Zn(Ge)){const pt=he.plugins.get("ImageCustomResizeUI");bt={type:"button",model:new g.ViewModel({label:this._getOptionLabelValue(Ge),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{pt._showForm(this._resizeUnit)}})};const kt=Vs(ze,"valueWithUnits");bt.model.bind("isOn").to(D,"value",Io(kt))}else bt={type:"button",model:new g.ViewModel({commandName:"resizeImage",commandValue:Ge.valueWithUnits,label:this._getOptionLabelValue(Ge),role:"menuitemradio",withText:!0,icon:null})},bt.model.bind("isOn").to(D,"value",ao(Ge.valueWithUnits));bt.model.bind("isEnabled").to(D,"isEnabled"),Ve.add(bt)}return Ve}}function Zn(U){return U.value==="custom"}function ao(U){return A=>U===null&&A===U||A!==null&&A.width===U}function Io(U){return A=>!U.some(D=>ao(D)(A))}const Yo="image_resized";class ln extends d.Plugin{static get requires(){return[k.WidgetResize,Y]}static get pluginName(){return"ImageResizeHandles"}init(){const A=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(A),this._setupResizerCreator()}_setupResizerCreator(){const A=this.editor,D=A.editing.view,he=A.plugins.get("ImageUtils");D.addObserver(He),this.listenTo(D.document,"imageLoaded",(Ve,ze)=>{if(!ze.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const Ge=A.editing.view.domConverter,bt=Ge.domToView(ze.target),pt=he.getImageWidgetFromImageView(bt);let kt=this.editor.plugins.get(k.WidgetResize).getResizerByViewElement(pt);if(kt)return void kt.redraw();const Ot=A.editing.mapper,Zt=Ot.toModelElement(pt);kt=A.plugins.get(k.WidgetResize).attachTo({unit:A.config.get("image.resizeUnit"),modelElement:Zt,viewElement:pt,editor:A,getHandleHost:li=>li.querySelector("img"),getResizeHost:()=>Ge.mapViewToDom(Ot.toViewElement(Zt)),isCentered:()=>Zt.getAttribute("imageStyle")=="alignCenter",onCommit(li){D.change(ii=>{ii.removeClass(Yo,pt)}),A.execute("resizeImage",{width:li})}}),kt.on("updateSize",()=>{pt.hasClass(Yo)||D.change(ii=>{ii.addClass(Yo,pt)});const li=Zt.name==="imageInline"?bt:pt;li.getStyle("height")&&D.change(ii=>{ii.removeStyle("height",li)})}),kt.bind("isEnabled").to(this)})}}function Qo(U){if(!U)return null;const[,A,D]=U.trim().match(/([.,\d]+)(%|px)$/)||[],he=Number.parseFloat(A);return Number.isNaN(he)?null:{value:he,unit:D}}function gr(U,A,D){return D==="px"?{value:A.value,unit:"px"}:{value:A.value/U*100,unit:"%"}}function js(U){const{editing:A}=U,D=U.plugins.get("ImageUtils").getClosestSelectedImageElement(U.model.document.selection);if(!D)return null;const he=A.mapper.toViewElement(D);return{model:D,view:he,dom:A.view.domConverter.mapViewToDom(he)}}var Jo=Q(429),Tr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Jo.A,Tr),Jo.A.locals;class Rs extends g.View{constructor(A,D,he){super(A);const Ve=this.locale.t;this.focusTracker=new L.FocusTracker,this.keystrokes=new L.KeystrokeHandler,this.unit=D,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ve("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ve("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new g.ViewCollection,this._validators=he,this._focusCycler=new g.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,g.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(A=>{this._focusables.add(A),this.focusTracker.add(A.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(A,D,he,Ve){const ze=new g.ButtonView(this.locale);return ze.set({label:A,icon:D,tooltip:!0}),ze.extendTemplate({attributes:{class:he}}),Ve&&ze.delegate("execute").to(this,Ve),ze}_createLabeledInputView(){const A=this.locale.t,D=new g.LabeledFieldView(this.locale,g.createLabeledInputNumber);return D.label=A("Resize image (in %0)",this.unit),D.fieldView.set({step:.1}),D}isValid(){this.resetFormStatus();for(const A of this._validators){const D=A(this);if(D)return this.labeledInput.errorText=D,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:A}=this.labeledInput.fieldView;return A?A.value:null}get parsedSize(){const{rawSize:A}=this;if(A===null)return null;const D=Number.parseFloat(A);return Number.isNaN(D)?null:D}get sizeWithUnits(){const{parsedSize:A,unit:D}=this;return A===null?null:`${A}${D}`}}class Br extends d.Plugin{static get requires(){return[g.ContextualBalloon]}static get pluginName(){return"ImageCustomResizeUI"}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(A){const D=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,g.CssTransitionDisablerMixin)(Rs))(D.locale,A,function(he){const Ve=he.t;return[ze=>ze.rawSize.trim()===""?Ve("The value must not be empty."):ze.parsedSize===null?Ve("The value should be a plain number."):void 0]}(D)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(D.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{D.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(he,Ve)=>{this._hideForm(!0),Ve()}),(0,g.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(A){if(this._isVisible)return;this._form||this._createForm(A);const D=this.editor,he=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:O(D)});const Ve=function(bt,pt){const kt=js(bt);if(!kt)return null;const Ot=Qo(kt.model.getAttribute("resizedWidth")||null);return Ot?Ot.unit===pt?Ot:gr((0,k.calculateResizeHostAncestorWidth)(kt.dom),{unit:"px",value:new L.Rect(kt.dom).width},pt):null}(D,A),ze=Ve?Ve.value.toFixed(1):"",Ge=function(bt,pt){const kt=js(bt);if(!kt)return null;const Ot=(0,k.calculateResizeHostAncestorWidth)(kt.dom),Zt=Qo(window.getComputedStyle(kt.dom).minWidth)||{value:1,unit:"px"};return{unit:pt,lower:Math.max(.1,gr(Ot,Zt,pt).value),upper:pt==="px"?Ot:100}}(D,A);he.fieldView.value=he.fieldView.element.value=ze,Ge&&Object.assign(he.fieldView,{min:Ge.lower.toFixed(1),max:Math.ceil(Ge.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(A=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),A&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}var hs=Q(278),Xo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(hs.A,Xo),hs.A.locals;class $n extends d.Plugin{static get requires(){return[xn,ln,Br,vo]}static get pluginName(){return"ImageResize"}}class Qs extends d.Command{constructor(A,D){super(A),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(D.map(he=>{if(he.isDefault)for(const Ve of he.modelElements)this._defaultStyles[Ve]=he.name;return[he.name,he]}))}refresh(){const A=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!A,this.isEnabled?A.hasAttribute("imageStyle")?this.value=A.getAttribute("imageStyle"):this.value=this._defaultStyles[A.name]:this.value=!1}execute(A={}){const D=this.editor,he=D.model,Ve=D.plugins.get("ImageUtils");he.change(ze=>{const Ge=A.value,{setImageSizes:bt=!0}=A;let pt=Ve.getClosestSelectedImageElement(he.document.selection);Ge&&this.shouldConvertImageType(Ge,pt)&&(this.editor.execute(Ve.isBlockImage(pt)?"imageTypeInline":"imageTypeBlock",{setImageSizes:bt}),pt=Ve.getClosestSelectedImageElement(he.document.selection)),!Ge||this._styles.get(Ge).isDefault?ze.removeAttribute("imageStyle",pt):ze.setAttribute("imageStyle",Ge,pt),bt&&Ve.setImageNaturalSizeAttributes(pt)})}shouldConvertImageType(A,D){return!this._styles.get(A).modelElements.includes(D.name)}}const{objectFullWidth:Js,objectInline:Bo,objectLeft:Dr,objectRight:ms,objectCenter:zr,objectBlockLeft:er,objectBlockRight:gs}=d.icons,Fr={get inline(){return{name:"inline",title:"In line",icon:Bo,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Dr,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:er,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:zr,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:ms,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:gs,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:zr,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:ms,modelElements:["imageBlock"],className:"image-style-side"}}},Er={full:Js,left:er,right:gs,center:zr,inlineLeft:Dr,inlineRight:ms,inline:Bo},Sr=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function ps(U){(0,L.logWarning)("image-style-configuration-definition-invalid",U)}const Hr={normalizeStyles:function(U){return(U.configuredStyles.options||[]).map(A=>function(D){return D=typeof D=="string"?Fr[D]?{...Fr[D]}:{name:D}:function(he,Ve){const ze={...Ve};for(const Ge in he)Object.prototype.hasOwnProperty.call(Ve,Ge)||(ze[Ge]=he[Ge]);return ze}(Fr[D.name],D),typeof D.icon=="string"&&(D.icon=Er[D.icon]||D.icon),D}(A)).filter(A=>function(D,{isBlockPluginLoaded:he,isInlinePluginLoaded:Ve}){const{modelElements:ze,name:Ge}=D;if(!(ze&&ze.length&&Ge))return ps({style:D}),!1;{const bt=[he?"imageBlock":null,Ve?"imageInline":null];if(!ze.some(pt=>bt.includes(pt)))return(0,L.logWarning)("image-style-missing-dependency",{style:D,missingPlugins:ze.map(pt=>pt==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(A,U))},getDefaultStylesConfiguration:function(U,A){return U&&A?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:U?{options:["block","side"]}:A?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(U){return U.has("ImageBlockEditing")&&U.has("ImageInlineEditing")?[...Sr]:[]},warnInvalidStyle:ps,DEFAULT_OPTIONS:Fr,DEFAULT_ICONS:Er,DEFAULT_DROPDOWN_DEFINITIONS:Sr};function fs(U,A){for(const D of A)if(D.name===U)return D}class Ur extends d.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Y]}init(){const{normalizeStyles:A,getDefaultStylesConfiguration:D}=Hr,he=this.editor,Ve=he.plugins.has("ImageBlockEditing"),ze=he.plugins.has("ImageInlineEditing");he.config.define("image.styles",D(Ve,ze)),this.normalizedStyles=A({configuredStyles:he.config.get("image.styles"),isBlockPluginLoaded:Ve,isInlinePluginLoaded:ze}),this._setupConversion(Ve,ze),this._setupPostFixer(),he.commands.add("imageStyle",new Qs(he,this.normalizedStyles))}_setupConversion(A,D){const he=this.editor,Ve=he.model.schema,ze=(Ge=this.normalizedStyles,(pt,kt,Ot)=>{if(!Ot.consumable.consume(kt.item,pt.name))return;const Zt=fs(kt.attributeNewValue,Ge),li=fs(kt.attributeOldValue,Ge),ii=Ot.mapper.toViewElement(kt.item),fi=Ot.writer;li&&fi.removeClass(li.className,ii),Zt&&fi.addClass(Zt.className,ii)});var Ge;const bt=function(pt){const kt={imageInline:pt.filter(Ot=>!Ot.isDefault&&Ot.modelElements.includes("imageInline")),imageBlock:pt.filter(Ot=>!Ot.isDefault&&Ot.modelElements.includes("imageBlock"))};return(Ot,Zt,li)=>{if(!Zt.modelRange)return;const ii=Zt.viewItem,fi=(0,L.first)(Zt.modelRange.getItems());if(fi&&li.schema.checkAttribute(fi,"imageStyle"))for(const vi of kt[fi.name])li.consumable.consume(ii,{classes:vi.className})&&li.writer.setAttribute("imageStyle",vi.name,fi)}}(this.normalizedStyles);he.editing.downcastDispatcher.on("attribute:imageStyle",ze),he.data.downcastDispatcher.on("attribute:imageStyle",ze),A&&(Ve.extend("imageBlock",{allowAttributes:"imageStyle"}),he.data.upcastDispatcher.on("element:figure",bt,{priority:"low"})),D&&(Ve.extend("imageInline",{allowAttributes:"imageStyle"}),he.data.upcastDispatcher.on("element:img",bt,{priority:"low"}))}_setupPostFixer(){const A=this.editor,D=A.model.document,he=A.plugins.get(Y),Ve=new Map(this.normalizedStyles.map(ze=>[ze.name,ze]));D.registerPostFixer(ze=>{let Ge=!1;for(const bt of D.differ.getChanges())if(bt.type=="insert"||bt.type=="attribute"&&bt.attributeKey=="imageStyle"){let pt=bt.type=="insert"?bt.position.nodeAfter:bt.range.start.nodeAfter;if(pt&&pt.is("element","paragraph")&&pt.childCount>0&&(pt=pt.getChild(0)),!he.isImage(pt))continue;const kt=pt.getAttribute("imageStyle");if(!kt)continue;const Ot=Ve.get(kt);Ot&&Ot.modelElements.includes(pt.name)||(ze.removeAttribute("imageStyle",pt),Ge=!0)}return Ge})}}var Ir=Q(895),pr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(Ir.A,pr),Ir.A.locals;class Ns extends d.Plugin{static get requires(){return[Ur]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const A=this.editor.t;return{"Wrap text":A("Wrap text"),"Break text":A("Break text"),"In line":A("In line"),"Full size image":A("Full size image"),"Side image":A("Side image"),"Left aligned image":A("Left aligned image"),"Centered image":A("Centered image"),"Right aligned image":A("Right aligned image")}}init(){const A=this.editor.plugins,D=this.editor.config.get("image.toolbar")||[],he=Bs(A.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const ze of he)this._createButton(ze);const Ve=Bs([...D.filter(Jn),...Hr.getDefaultDropdownDefinitions(A)],this.localizedDefaultStylesTitles);for(const ze of Ve)this._createDropdown(ze,he)}_createDropdown(A,D){const he=this.editor.ui.componentFactory;he.add(A.name,Ve=>{let ze;const{defaultItem:Ge,items:bt,title:pt}=A,kt=bt.filter(ii=>D.find(({name:fi})=>bs(fi)===ii)).map(ii=>{const fi=he.create(ii);return ii===Ge&&(ze=fi),fi});bt.length!==kt.length&&Hr.warnInvalidStyle({dropdown:A});const Ot=(0,g.createDropdown)(Ve,g.SplitButtonView),Zt=Ot.buttonView,li=Zt.arrowView;return(0,g.addToolbarToDropdown)(Ot,kt,{enableActiveItemFocusOnDropdownOpen:!0}),Zt.set({label:Wr(pt,ze.label),class:null,tooltip:!0}),li.unbind("label"),li.set({label:pt}),Zt.bind("icon").toMany(kt,"isOn",(...ii)=>{const fi=ii.findIndex(_o);return fi<0?ze.icon:kt[fi].icon}),Zt.bind("label").toMany(kt,"isOn",(...ii)=>{const fi=ii.findIndex(_o);return Wr(pt,fi<0?ze.label:kt[fi].label)}),Zt.bind("isOn").toMany(kt,"isOn",(...ii)=>ii.some(_o)),Zt.bind("class").toMany(kt,"isOn",(...ii)=>ii.some(_o)?"ck-splitbutton_flatten":void 0),Zt.on("execute",()=>{kt.some(({isOn:ii})=>ii)?Ot.isOpen=!Ot.isOpen:ze.fire("execute")}),Ot.bind("isEnabled").toMany(kt,"isEnabled",(...ii)=>ii.some(_o)),this.listenTo(Ot,"execute",()=>{this.editor.editing.view.focus()}),Ot})}_createButton(A){const D=A.name;this.editor.ui.componentFactory.add(bs(D),he=>{const Ve=this.editor.commands.get("imageStyle"),ze=new g.ButtonView(he);return ze.set({label:A.title,icon:A.icon,tooltip:!0,isToggleable:!0}),ze.bind("isEnabled").to(Ve,"isEnabled"),ze.bind("isOn").to(Ve,"value",Ge=>Ge===D),ze.on("execute",this._executeCommand.bind(this,D)),ze})}_executeCommand(A){this.editor.execute("imageStyle",{value:A}),this.editor.editing.view.focus()}}function Bs(U,A){for(const D of U)A[D.title]&&(D.title=A[D.title]);return U}function bs(U){return`imageStyle:${U}`}function Wr(U,A){return(U?U+": ":"")+A}class Ds extends d.Plugin{static get requires(){return[Ur,Ns]}static get pluginName(){return"ImageStyle"}}class zs extends d.Plugin{static get requires(){return[k.WidgetToolbarRepository,Y]}static get pluginName(){return"ImageToolbar"}afterInit(){const A=this.editor,D=A.t,he=A.plugins.get(k.WidgetToolbarRepository),Ve=A.plugins.get("ImageUtils");var ze;he.register("image",{ariaLabel:D("Image toolbar"),items:(ze=A.config.get("image.toolbar")||[],ze.map(Ge=>Jn(Ge)?Ge.name:Ge)),getRelatedElement:Ge=>Ve.getClosestSelectedImageWidget(Ge)})}}class $r extends d.Plugin{static get requires(){return[de,Y]}static get pluginName(){return"PictureEditing"}afterInit(){const A=this.editor;A.plugins.has("ImageBlockEditing")&&A.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),A.plugins.has("ImageInlineEditing")&&A.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const A=this.editor,D=A.conversion,he=A.plugins.get("ImageUtils");D.for("upcast").add(function(Ve){const ze=["srcset","media","type","sizes"],Ge=(bt,pt,kt)=>{const Ot=pt.viewItem;if(!kt.consumable.test(Ot,{name:!0}))return;const Zt=new Map;for(const fi of Ot.getChildren())if(fi.is("element","source")){const vi={};for(const cn of ze)fi.hasAttribute(cn)&&kt.consumable.test(fi,{attributes:cn})&&(vi[cn]=fi.getAttribute(cn));Object.keys(vi).length&&Zt.set(fi,vi)}const li=Ve.findViewImgElement(Ot);if(!li)return;let ii=pt.modelCursor.parent;if(!ii.is("element","imageBlock")){const fi=kt.convertItem(li,pt.modelCursor);pt.modelRange=fi.modelRange,pt.modelCursor=fi.modelCursor,ii=(0,L.first)(fi.modelRange.getItems())}kt.consumable.consume(Ot,{name:!0});for(const[fi,vi]of Zt)kt.consumable.consume(fi,{attributes:Object.keys(vi)});Zt.size&&kt.writer.setAttribute("sources",Array.from(Zt.values()),ii),kt.convertChildren(Ot,ii)};return bt=>{bt.on("element:picture",Ge)}}(he)),D.for("downcast").add(function(Ve){const ze=(Ge,bt,pt)=>{if(!pt.consumable.consume(bt.item,Ge.name))return;const kt=pt.writer,Ot=pt.mapper.toViewElement(bt.item),Zt=Ve.findViewImgElement(Ot),li=bt.attributeNewValue;if(li&&li.length){const ii=kt.createContainerElement("picture",null,li.map(cn=>kt.createEmptyElement("source",cn))),fi=[];let vi=Zt.parent;for(;vi&&vi.is("attributeElement");){const cn=vi.parent;kt.unwrap(kt.createRangeOn(Zt),vi),fi.unshift(vi),vi=cn}kt.insert(kt.createPositionBefore(Zt),ii),kt.move(kt.createRangeOn(Zt),kt.createPositionAt(ii,"end"));for(const cn of fi)kt.wrap(kt.createRangeOn(ii),cn)}else if(Zt.parent.is("element","picture")){const ii=Zt.parent;kt.move(kt.createRangeOn(Zt),kt.createPositionBefore(ii)),kt.remove(ii)}};return Ge=>{Ge.on("attribute:sources:imageBlock",ze),Ge.on("attribute:sources:imageInline",ze)}}(he))}_setupImageUploadEditingIntegration(){const A=this.editor;if(!A.plugins.has("ImageUploadEditing"))return;const D=A.plugins.get("ImageUploadEditing");this.listenTo(D,"uploadComplete",(he,{imageElement:Ve,data:ze})=>{const Ge=ze.sources;Ge&&A.model.change(bt=>{bt.setAttributes({sources:Ge},Ve)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{Indent:()=>C,IndentBlock:()=>Ee,IndentEditing:()=>w,IndentUI:()=>u});var d=Q(782);class w extends d.Plugin{static get pluginName(){return"IndentEditing"}init(){const Y=this.editor;Y.commands.add("indent",new d.MultiCommand(Y)),Y.commands.add("outdent",new d.MultiCommand(Y))}}var s=Q(311);class u extends d.Plugin{static get pluginName(){return"IndentUI"}init(){const Y=this.editor,J=Y.locale,Ce=Y.t,ue=J.uiLanguageDirection=="ltr"?d.icons.indent:d.icons.outdent,h=J.uiLanguageDirection=="ltr"?d.icons.outdent:d.icons.indent;this._defineButton("indent",Ce("Increase indent"),ue),this._defineButton("outdent",Ce("Decrease indent"),h)}_defineButton(Y,J,Ce){const ue=this.editor;ue.ui.componentFactory.add(Y,()=>{const h=this._createButton(s.ButtonView,Y,J,Ce);return h.set({tooltip:!0}),h}),ue.ui.componentFactory.add("menuBar:"+Y,()=>this._createButton(s.MenuBarMenuListItemButtonView,Y,J,Ce))}_createButton(Y,J,Ce,ue){const h=this.editor,p=h.commands.get(J),g=new Y(h.locale);return g.set({label:Ce,icon:ue}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{h.execute(J),h.editing.view.focus()}),g}}class C extends d.Plugin{static get pluginName(){return"Indent"}static get requires(){return[w,u]}}var L=Q(783),k=Q(584);class v extends d.Command{constructor(Y,J){super(Y),this._indentBehavior=J}refresh(){const Y=this.editor.model,J=(0,k.first)(Y.document.selection.getSelectedBlocks());J&&this._isIndentationChangeAllowed(J)?this.isEnabled=this._indentBehavior.checkEnabled(J.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const Y=this.editor.model,J=this._getBlocksToChange();Y.change(Ce=>{for(const ue of J){const h=ue.getAttribute("blockIndent"),p=this._indentBehavior.getNextIndent(h);p?Ce.setAttribute("blockIndent",p,ue):Ce.removeAttribute("blockIndent",ue)}})}_getBlocksToChange(){const Y=this.editor.model.document.selection;return Array.from(Y.getSelectedBlocks()).filter(J=>this._isIndentationChangeAllowed(J))}_isIndentationChangeAllowed(Y){const J=this.editor;return J.model.schema.checkAttribute(Y,"blockIndent")?!J.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!J.plugins.get("ListUtils").isListItemBlock(Y):!1}}class ${constructor(Y){this.isForward=Y.direction==="forward",this.offset=Y.offset,this.unit=Y.unit}checkEnabled(Y){const J=parseFloat(Y||"0");return this.isForward||J>0}getNextIndent(Y){const J=parseFloat(Y||"0");if(!(!Y||Y.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const Ce=J+(this.isForward?this.offset:-this.offset);return Ce>0?Ce+this.unit:void 0}}class K{constructor(Y){this.isForward=Y.direction==="forward",this.classes=Y.classes}checkEnabled(Y){const J=this.classes.indexOf(Y);return this.isForward?J<this.classes.length-1:J>=0}getNextIndent(Y){const J=this.classes.indexOf(Y),Ce=this.isForward?1:-1;return this.classes[J+Ce]}}const R=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Ee extends d.Plugin{constructor(Y){super(Y),Y.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const Y=this.editor,J=Y.config.get("indentBlock");J.classes&&J.classes.length?(this._setupConversionUsingClasses(J.classes),Y.commands.add("indentBlock",new v(Y,new K({direction:"forward",classes:J.classes}))),Y.commands.add("outdentBlock",new v(Y,new K({direction:"backward",classes:J.classes})))):(Y.data.addStyleProcessorRules(L.addMarginRules),this._setupConversionUsingOffset(),Y.commands.add("indentBlock",new v(Y,new $({direction:"forward",offset:J.offset,unit:J.unit}))),Y.commands.add("outdentBlock",new v(Y,new $({direction:"backward",offset:J.offset,unit:J.unit}))))}afterInit(){const Y=this.editor,J=Y.model.schema,Ce=Y.commands.get("indent"),ue=Y.commands.get("outdent"),h=Y.config.get("heading.options");(h&&h.map(p=>p.model)||R).forEach(p=>{J.isRegistered(p)&&J.extend(p,{allowAttributes:"blockIndent"})}),J.setAttributeProperties("blockIndent",{isFormatting:!0}),Ce.registerChildCommand(Y.commands.get("indentBlock")),ue.registerChildCommand(Y.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const Y=this.editor.conversion,J=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";Y.for("upcast").attributeToAttribute({view:{styles:{[J]:/[\s\S]+/}},model:{key:"blockIndent",value:Ce=>{if(!Ce.is("element","li"))return Ce.getStyle(J)}}}),Y.for("downcast").attributeToAttribute({model:"blockIndent",view:Ce=>({key:"style",value:{[J]:Ce}})})}_setupConversionUsingClasses(Y){const J={model:{key:"blockIndent",values:[]},view:{}};for(const Ce of Y)J.model.values.push(Ce),J.view[Ce]={key:"class",value:[Ce]};this.editor.conversion.attributeToAttribute(J)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Create link":"Create link",Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","Move out of a link":"Move out of a link","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={501:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const L=C},429:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const L=C},356:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const L=C},627:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const L=C},654:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{AutoLink:()=>qe,Link:()=>Dt,LinkCommand:()=>gt,LinkEditing:()=>le,LinkImage:()=>Pe,LinkImageEditing:()=>Mt,LinkImageUI:()=>V,LinkUI:()=>vt,UnlinkCommand:()=>Ti});var d=Q(782),w=Q(834),s=Q(331),u=Q(584);class C{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(oe){Array.isArray(oe)?oe.forEach(Me=>this._definitions.add(Me)):this._definitions.add(oe)}getDispatcher(){return oe=>{oe.on("attribute:linkHref",(Me,Je,Qe)=>{if(!Qe.consumable.test(Je.item,"attribute:linkHref")||!Je.item.is("selection")&&!Qe.schema.isInline(Je.item))return;const ut=Qe.writer,Ft=ut.document.selection;for(const Pt of this._definitions){const ri=ut.createAttributeElement("a",Pt.attributes,{priority:5});Pt.classes&&ut.addClass(Pt.classes,ri);for(const bi in Pt.styles)ut.setStyle(bi,Pt.styles[bi],ri);ut.setCustomProperty("link",!0,ri),Pt.callback(Je.attributeNewValue)?Je.item.is("selection")?ut.wrap(Ft.getFirstRange(),ri):ut.wrap(Qe.mapper.toViewRange(Je.range),ri):ut.unwrap(Qe.mapper.toViewRange(Je.range),ri)}},{priority:"high"})}}getDispatcherForLinkedImage(){return oe=>{oe.on("attribute:linkHref:imageBlock",(Me,Je,{writer:Qe,mapper:ut})=>{const Ft=ut.toViewElement(Je.item),Pt=Array.from(Ft.getChildren()).find(ri=>ri.is("element","a"));for(const ri of this._definitions){const bi=(0,u.toMap)(ri.attributes);if(ri.callback(Je.attributeNewValue)){for(const[ui,Ei]of bi)ui==="class"?Qe.addClass(Ei,Pt):Qe.setAttribute(ui,Ei,Pt);ri.classes&&Qe.addClass(ri.classes,Pt);for(const ui in ri.styles)Qe.setStyle(ui,ri.styles[ui],Pt)}else{for(const[ui,Ei]of bi)ui==="class"?Qe.removeClass(Ei,Pt):Qe.removeAttribute(ui,Pt);ri.classes&&Qe.removeClass(ri.classes,Pt);for(const ui in ri.styles)Qe.removeStyle(ui,Pt)}}})}}}const L=function(We,oe,Me){var Je=-1,Qe=We.length;oe<0&&(oe=-oe>Qe?0:Qe+oe),(Me=Me>Qe?Qe:Me)<0&&(Me+=Qe),Qe=oe>Me?0:Me-oe>>>0,oe>>>=0;for(var ut=Array(Qe);++Je<Qe;)ut[Je]=We[Je+oe];return ut},k=function(We,oe,Me){var Je=We.length;return Me=Me===void 0?Je:Me,!oe&&Me>=Je?We:L(We,oe,Me)};var v=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const $=function(We){return v.test(We)},K=function(We){return We.split("")};var R="\\ud800-\\udfff",Ee="["+R+"]",ge="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Y="\\ud83c[\\udffb-\\udfff]",J="[^"+R+"]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+ge+"|"+Y+")?",p="[\\ufe0e\\ufe0f]?",g=p+h+("(?:\\u200d(?:"+[J,Ce,ue].join("|")+")"+p+h+")*"),_="(?:"+[J+ge+"?",ge,Ce,ue,Ee].join("|")+")",S=RegExp(Y+"(?="+Y+")|"+_+g,"g");const I=function(We){return We.match(S)||[]},M=function(We){return $(We)?I(We):K(We)},ee=typeof global=="object"&&global&&global.Object===Object&&global;var H=typeof self=="object"&&self&&self.Object===Object&&self;const re=(ee||H||Function("return this")()).Symbol,O=function(We,oe){for(var Me=-1,Je=We==null?0:We.length,Qe=Array(Je);++Me<Je;)Qe[Me]=oe(We[Me],Me,We);return Qe},W=Array.isArray;var ie=Object.prototype,we=ie.hasOwnProperty,Ae=ie.toString,He=re?re.toStringTag:void 0;const it=function(We){var oe=we.call(We,He),Me=We[He];try{We[He]=void 0;var Je=!0}catch{}var Qe=Ae.call(We);return Je&&(oe?We[He]=Me:delete We[He]),Qe};var ne=Object.prototype.toString;const de=function(We){return ne.call(We)};var Se=re?re.toStringTag:void 0;const Re=function(We){return We==null?We===void 0?"[object Undefined]":"[object Null]":Se&&Se in Object(We)?it(We):de(We)},Oe=function(We){return We!=null&&typeof We=="object"},G=function(We){return typeof We=="symbol"||Oe(We)&&Re(We)=="[object Symbol]"};var Ie=re?re.prototype:void 0,Ue=Ie?Ie.toString:void 0;const nt=function We(oe){if(typeof oe=="string")return oe;if(W(oe))return O(oe,We)+"";if(G(oe))return Ue?Ue.call(oe):"";var Me=oe+"";return Me=="0"&&1/oe==-1/0?"-0":Me},xe=function(We){return We==null?"":nt(We)},pe=function(We){return function(oe){oe=xe(oe);var Me=$(oe)?M(oe):void 0,Je=Me?Me[0]:oe.charAt(0),Qe=Me?k(Me,1).join(""):oe.slice(1);return Je[We]()+Qe}}("toUpperCase"),ye=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ze=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,ot=/^((\w+:(\/{2,})?)|(\W))/i,at=["https?","ftps?","mailto"],mt="Ctrl+K";function Ut(We,{writer:oe}){const Me=oe.createAttributeElement("a",{href:We},{priority:5});return oe.setCustomProperty("link",!0,Me),Me}function $t(We,oe=at){const Me=String(We),Je=oe.join("|");return function(Qe,ut){return!!Qe.replace(ye,"").match(ut)}(Me,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",Je)}`,"i"))?Me:"#"}function St(We,oe){return!!We&&oe.checkAttribute(We.name,"linkHref")}function qt(We,oe){const Me=(Je=We,Ze.test(Je)?"mailto:":oe);var Je;const Qe=!!Me&&!wt(We);return We&&Qe?Me+We:We}function wt(We){return ot.test(We)}function tt(We){window.open(We,"_blank","noopener")}class gt extends d.Command{constructor(){super(...arguments),this.manualDecorators=new u.Collection,this.automaticDecorators=new C}restoreManualDecoratorStates(){for(const oe of this.manualDecorators)oe.value=this._getDecoratorStateFromModel(oe.id)}refresh(){const oe=this.editor.model,Me=oe.document.selection,Je=Me.getSelectedElement()||(0,u.first)(Me.getSelectedBlocks());St(Je,oe.schema)?(this.value=Je.getAttribute("linkHref"),this.isEnabled=oe.schema.checkAttribute(Je,"linkHref")):(this.value=Me.getAttribute("linkHref"),this.isEnabled=oe.schema.checkAttributeInSelection(Me,"linkHref"));for(const Qe of this.manualDecorators)Qe.value=this._getDecoratorStateFromModel(Qe.id)}execute(oe,Me={}){const Je=this.editor.model,Qe=Je.document.selection,ut=[],Ft=[];for(const Pt in Me)Me[Pt]?ut.push(Pt):Ft.push(Pt);Je.change(Pt=>{if(Qe.isCollapsed){const ri=Qe.getFirstPosition();if(Qe.hasAttribute("linkHref")){const bi=gi(Qe);let ui=(0,w.findAttributeRange)(ri,"linkHref",Qe.getAttribute("linkHref"),Je);Qe.getAttribute("linkHref")===bi&&(ui=this._updateLinkContent(Je,Pt,ui,oe)),Pt.setAttribute("linkHref",oe,ui),ut.forEach(Ei=>{Pt.setAttribute(Ei,!0,ui)}),Ft.forEach(Ei=>{Pt.removeAttribute(Ei,ui)}),Pt.setSelection(Pt.createPositionAfter(ui.end.nodeBefore))}else if(oe!==""){const bi=(0,u.toMap)(Qe.getAttributes());bi.set("linkHref",oe),ut.forEach(Ei=>{bi.set(Ei,!0)});const{end:ui}=Je.insertContent(Pt.createText(oe,bi),ri);Pt.setSelection(ui)}["linkHref",...ut,...Ft].forEach(bi=>{Pt.removeSelectionAttribute(bi)})}else{const ri=Je.schema.getValidRanges(Qe.getRanges(),"linkHref"),bi=[];for(const Ei of Qe.getSelectedBlocks())Je.schema.checkAttribute(Ei,"linkHref")&&bi.push(Pt.createRangeOn(Ei));const ui=bi.slice();for(const Ei of ri)this._isRangeToUpdate(Ei,bi)&&ui.push(Ei);for(const Ei of ui){let _i=Ei;if(ui.length===1){const bn=gi(Qe);Qe.getAttribute("linkHref")===bn&&(_i=this._updateLinkContent(Je,Pt,Ei,oe),Pt.setSelection(Pt.createSelection(_i)))}Pt.setAttribute("linkHref",oe,_i),ut.forEach(bn=>{Pt.setAttribute(bn,!0,_i)}),Ft.forEach(bn=>{Pt.removeAttribute(bn,_i)})}}})}_getDecoratorStateFromModel(oe){const Me=this.editor.model,Je=Me.document.selection,Qe=Je.getSelectedElement();return St(Qe,Me.schema)?Qe.getAttribute(oe):Je.getAttribute(oe)}_isRangeToUpdate(oe,Me){for(const Je of Me)if(Je.containsRange(oe))return!1;return!0}_updateLinkContent(oe,Me,Je,Qe){const ut=Me.createText(Qe,{linkHref:Qe});return oe.insertContent(ut,Je)}}function gi(We){if(We.isCollapsed){const oe=We.getFirstPosition();return oe.textNode&&oe.textNode.data}{const oe=Array.from(We.getFirstRange().getItems());if(oe.length>1)return null;const Me=oe[0];return Me.is("$text")||Me.is("$textProxy")?Me.data:null}}class Ti extends d.Command{refresh(){const oe=this.editor.model,Me=oe.document.selection,Je=Me.getSelectedElement();St(Je,oe.schema)?this.isEnabled=oe.schema.checkAttribute(Je,"linkHref"):this.isEnabled=oe.schema.checkAttributeInSelection(Me,"linkHref")}execute(){const oe=this.editor,Me=this.editor.model,Je=Me.document.selection,Qe=oe.commands.get("link");Me.change(ut=>{const Ft=Je.isCollapsed?[(0,w.findAttributeRange)(Je.getFirstPosition(),"linkHref",Je.getAttribute("linkHref"),Me)]:Me.schema.getValidRanges(Je.getRanges(),"linkHref");for(const Pt of Ft)if(ut.removeAttribute("linkHref",Pt),Qe)for(const ri of Qe.manualDecorators)ut.removeAttribute(ri.id,Pt)})}}class Pi extends(0,u.ObservableMixin)(){constructor({id:oe,label:Me,attributes:Je,classes:Qe,styles:ut,defaultValue:Ft}){super(),this.id=oe,this.set("value",void 0),this.defaultValue=Ft,this.label=Me,this.attributes=Je,this.classes=Qe,this.styles=ut}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Di=Q(591),Oi=Q.n(Di),Wi=Q(429),Gt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oi()(Wi.A,Gt),Wi.A.locals;const xt="automatic",Ke=/^(https?:)?\/\//;class le extends d.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[w.TwoStepCaretMovement,w.Input,s.ClipboardPipeline]}constructor(oe){super(oe),oe.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const oe=this.editor,Me=this.editor.config.get("link.allowedProtocols");oe.model.schema.extend("$text",{allowAttributes:"linkHref"}),oe.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ut}),oe.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(Qe,ut)=>Ut($t(Qe,Me),ut)}),oe.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:Qe=>Qe.getAttribute("href")}}),oe.commands.add("link",new gt(oe)),oe.commands.add("unlink",new Ti(oe));const Je=function(Qe,ut){const Ft={"Open in a new tab":Qe("Open in a new tab"),Downloadable:Qe("Downloadable")};return ut.forEach(Pt=>("label"in Pt&&Ft[Pt.label]&&(Pt.label=Ft[Pt.label]),Pt)),ut}(oe.t,function(Qe){const ut=[];if(Qe)for(const[Ft,Pt]of Object.entries(Qe)){const ri=Object.assign({},Pt,{id:`link${pe(Ft)}`});ut.push(ri)}return ut}(oe.config.get("link.decorators")));this._enableAutomaticDecorators(Je.filter(Qe=>Qe.mode===xt)),this._enableManualDecorators(Je.filter(Qe=>Qe.mode==="manual")),oe.plugins.get(w.TwoStepCaretMovement).registerAttribute("linkHref"),(0,w.inlineHighlight)(oe,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(oe){const Me=this.editor,Je=Me.commands.get("link").automaticDecorators;Me.config.get("link.addTargetToExternalLinks")&&Je.add({id:"linkIsExternal",mode:xt,callback:Qe=>!!Qe&&Ke.test(Qe),attributes:{target:"_blank",rel:"noopener noreferrer"}}),Je.add(oe),Je.length&&Me.conversion.for("downcast").add(Je.getDispatcher())}_enableManualDecorators(oe){if(!oe.length)return;const Me=this.editor,Je=Me.commands.get("link").manualDecorators;oe.forEach(Qe=>{Me.model.schema.extend("$text",{allowAttributes:Qe.id});const ut=new Pi(Qe);Je.add(ut),Me.conversion.for("downcast").attributeToElement({model:ut.id,view:(Ft,{writer:Pt,schema:ri},{item:bi})=>{if((bi.is("selection")||ri.isInline(bi))&&Ft){const ui=Pt.createAttributeElement("a",ut.attributes,{priority:5});ut.classes&&Pt.addClass(ut.classes,ui);for(const Ei in ut.styles)Pt.setStyle(Ei,ut.styles[Ei],ui);return Pt.setCustomProperty("link",!0,ui),ui}}}),Me.conversion.for("upcast").elementToAttribute({view:{name:"a",...ut._createPattern()},model:{key:ut.id}})})}_enableLinkOpen(){const oe=this.editor,Me=oe.editing.view.document;this.listenTo(Me,"click",(Je,Qe)=>{if(!(u.env.isMac?Qe.domEvent.metaKey:Qe.domEvent.ctrlKey))return;let ut=Qe.domTarget;if(ut.tagName.toLowerCase()!="a"&&(ut=ut.closest("a")),!ut)return;const Ft=ut.getAttribute("href");Ft&&(Je.stop(),Qe.preventDefault(),tt(Ft))},{context:"$capture"}),this.listenTo(Me,"keydown",(Je,Qe)=>{const ut=oe.commands.get("link").value;ut&&Qe.keyCode===u.keyCodes.enter&&Qe.altKey&&(Je.stop(),tt(ut))})}_enableSelectionAttributesFixer(){const oe=this.editor.model,Me=oe.document.selection;this.listenTo(Me,"change:attribute",(Je,{attributeKeys:Qe})=>{Qe.includes("linkHref")&&!Me.hasAttribute("linkHref")&&oe.change(ut=>{var Ft;(function(Pt,ri){Pt.removeSelectionAttribute("linkHref");for(const bi of ri)Pt.removeSelectionAttribute(bi)})(ut,(Ft=oe.schema,Ft.getDefinition("$text").allowAttributes.filter(Pt=>Pt.startsWith("link"))))})})}_enableClipboardIntegration(){const oe=this.editor,Me=oe.model,Je=this.editor.config.get("link.defaultProtocol");Je&&this.listenTo(oe.plugins.get("ClipboardPipeline"),"contentInsertion",(Qe,ut)=>{Me.change(Ft=>{const Pt=Ft.createRangeIn(ut.content);for(const ri of Pt.getItems())if(ri.hasAttribute("linkHref")){const bi=qt(ri.getAttribute("linkHref"),Je);Ft.setAttribute("linkHref",bi,ri)}})})}}var Le=Q(783),Be=Q(311),dt=Q(901),ht=Q(501),_t={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oi()(ht.A,_t),ht.A.locals;var It=Q(627),zt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oi()(It.A,zt),It.A.locals;class Jt extends Be.View{constructor(oe,Me,Je){super(oe),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusables=new Be.ViewCollection;const Qe=oe.t;this._validators=Je,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Qe("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Qe("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(Me),this.children=this._createFormChildren(Me.manualDecorators),this._focusCycler=new Be.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const ut=["ck","ck-link-form","ck-responsive-form"];Me.manualDecorators.length&&ut.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:ut,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((oe,Me)=>(oe[Me.name]=Me.isOn,oe),{})}render(){super.render(),(0,Be.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(oe=>{this._focusables.add(oe),this.focusTracker.add(oe.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const oe of this._validators){const Me=oe(this);if(Me)return this.urlInputView.errorText=Me,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const oe=this.locale.t,Me=new Be.LabeledFieldView(this.locale,Be.createLabeledInputText);return Me.label=oe("Link URL"),Me}_createButton(oe,Me,Je,Qe){const ut=new Be.ButtonView(this.locale);return ut.set({label:oe,icon:Me,tooltip:!0}),ut.extendTemplate({attributes:{class:Je}}),Qe&&ut.delegate("execute").to(this,Qe),ut}_createManualDecoratorSwitches(oe){const Me=this.createCollection();for(const Je of oe.manualDecorators){const Qe=new Be.SwitchButtonView(this.locale);Qe.set({name:Je.id,label:Je.label,withText:!0}),Qe.bind("isOn").toMany([Je,oe],"value",(ut,Ft)=>Ft===void 0&&ut===void 0?!!Je.defaultValue:!!ut),Qe.on("execute",()=>{Je.set("value",!Qe.isOn)}),Me.add(Qe)}return Me}_createFormChildren(oe){const Me=this.createCollection();if(Me.add(this.urlInputView),oe.length){const Je=new Be.View;Je.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(Qe=>({tag:"li",children:[Qe],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),Me.add(Je)}return Me.add(this.saveButtonView),Me.add(this.cancelButtonView),Me}get url(){const{element:oe}=this.urlInputView.fieldView;return oe?oe.value.trim():null}}var ai=Q(356),si={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oi()(ai.A,si),ai.A.locals;class Bi extends Be.View{constructor(oe,Me={}){super(oe),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusables=new Be.ViewCollection;const Je=oe.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(Je("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(Je("Edit link"),d.icons.pencil,"edit"),this.set("href",void 0),this._linkConfig=Me,this._focusCycler=new Be.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(oe=>{this._focusables.add(oe),this.focusTracker.add(oe.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(oe,Me,Je){const Qe=new Be.ButtonView(this.locale);return Qe.set({label:oe,icon:Me,tooltip:!0}),Qe.delegate("execute").to(this,Je),Qe}_createPreviewButton(){const oe=new Be.ButtonView(this.locale),Me=this.bindTemplate,Je=this.t;return oe.set({withText:!0,tooltip:Je("Open link in new tab")}),oe.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:Me.to("href",Qe=>Qe&&$t(Qe,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),oe.bind("label").to(this,"href",Qe=>Qe||Je("This link has no URL")),oe.bind("isEnabled").to(this,"href",Qe=>!!Qe),oe.template.tag="a",oe.template.eventListeners={},oe}}const pi='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Ci="link-ui";class vt extends d.Plugin{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Be.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const oe=this.editor,Me=this.editor.t;oe.editing.view.addObserver(Le.ClickObserver),this._balloon=oe.plugins.get(Be.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),oe.conversion.for("editingDowncast").markerToHighlight({model:Ci,view:{classes:["ck-fake-link-selection"]}}),oe.conversion.for("editingDowncast").markerToElement({model:Ci,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),oe.accessibility.addKeystrokeInfos({keystrokes:[{label:Me("Create link"),keystroke:mt},{label:Me("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const oe=this.editor,Me=new Bi(oe.locale,oe.config.get("link")),Je=oe.commands.get("link"),Qe=oe.commands.get("unlink");return Me.bind("href").to(Je,"value"),Me.editButtonView.bind("isEnabled").to(Je),Me.unlinkButtonView.bind("isEnabled").to(Qe),this.listenTo(Me,"edit",()=>{this._addFormView()}),this.listenTo(Me,"unlink",()=>{oe.execute("unlink"),this._hideUI()}),Me.keystrokes.set("Esc",(ut,Ft)=>{this._hideUI(),Ft()}),Me.keystrokes.set(mt,(ut,Ft)=>{this._addFormView(),Ft()}),Me}_createFormView(){const oe=this.editor,Me=oe.commands.get("link"),Je=oe.config.get("link.defaultProtocol"),Qe=new((0,Be.CssTransitionDisablerMixin)(Jt))(oe.locale,Me,function(ut){const Ft=ut.t,Pt=ut.config.get("link.allowCreatingEmptyLinks");return[ri=>{if(!Pt&&!ri.url.length)return Ft("Link URL must not be empty.")}]}(oe));return Qe.urlInputView.fieldView.bind("value").to(Me,"value"),Qe.urlInputView.bind("isEnabled").to(Me,"isEnabled"),Qe.saveButtonView.bind("isEnabled").to(Me,"isEnabled"),this.listenTo(Qe,"submit",()=>{if(Qe.isValid()){const{value:ut}=Qe.urlInputView.fieldView.element,Ft=qt(ut,Je);oe.execute("link",Ft,Qe.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(Qe.urlInputView,"change:errorText",()=>{oe.ui.update()}),this.listenTo(Qe,"cancel",()=>{this._closeFormView()}),Qe.keystrokes.set("Esc",(ut,Ft)=>{this._closeFormView(),Ft()}),Qe}_createToolbarLinkButton(){const oe=this.editor,Me=oe.commands.get("link");oe.ui.componentFactory.add("link",()=>{const Je=this._createButton(Be.ButtonView);return Je.set({tooltip:!0,isToggleable:!0}),Je.bind("isOn").to(Me,"value",Qe=>!!Qe),Je}),oe.ui.componentFactory.add("menuBar:link",()=>this._createButton(Be.MenuBarMenuListItemButtonView))}_createButton(oe){const Me=this.editor,Je=Me.locale,Qe=Me.commands.get("link"),ut=new oe(Me.locale),Ft=Je.t;return ut.set({label:Ft("Link"),icon:pi,keystroke:mt}),ut.bind("isEnabled").to(Qe,"isEnabled"),this.listenTo(ut,"execute",()=>this._showUI(!0)),ut}_enableBalloonActivators(){const oe=this.editor,Me=oe.editing.view.document;this.listenTo(Me,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),oe.keystrokes.set(mt,(Je,Qe)=>{Qe(),oe.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(oe,Me)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),Me())},{priority:"high"}),this.editor.keystrokes.set("Esc",(oe,Me)=>{this._isUIVisible&&(this._hideUI(),Me())}),(0,Be.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const oe=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=oe.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const oe=this.editor.commands.get("link");oe.restoreManualDecoratorStates(),oe.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(oe=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),oe&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),oe&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const oe=this.editor;this.stopListening(oe.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),oe.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const oe=this.editor,Me=oe.editing.view.document;let Je=this._getSelectedLinkElement(),Qe=Ft();const ut=()=>{const Pt=this._getSelectedLinkElement(),ri=Ft();Je&&!Pt||!Je&&ri!==Qe?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),Je=Pt,Qe=ri};function Ft(){return Me.selection.focus.getAncestors().reverse().find(Pt=>Pt.is("element"))}this.listenTo(oe.ui,"update",ut),this.listenTo(this._balloon,"change:visibleView",ut)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const oe=this._balloon.visibleView;return!!this.formView&&oe==this.formView||this._areActionsVisible}_getBalloonPositionData(){const oe=this.editor.editing.view,Me=this.editor.model,Je=oe.document;let Qe;if(Me.markers.has(Ci)){const ut=Array.from(this.editor.editing.mapper.markerNameToElements(Ci)),Ft=oe.createRange(oe.createPositionBefore(ut[0]),oe.createPositionAfter(ut[ut.length-1]));Qe=oe.domConverter.viewRangeToDom(Ft)}else Qe=()=>{const ut=this._getSelectedLinkElement();return ut?oe.domConverter.mapViewToDom(ut):oe.domConverter.viewRangeToDom(Je.selection.getFirstRange())};return{target:Qe}}_getSelectedLinkElement(){const oe=this.editor.editing.view,Me=oe.document.selection,Je=Me.getSelectedElement();if(Me.isCollapsed||Je&&(0,dt.isWidget)(Je))return Ye(Me.getFirstPosition());{const Qe=Me.getFirstRange().getTrimmed(),ut=Ye(Qe.start),Ft=Ye(Qe.end);return ut&&ut==Ft&&oe.createRangeIn(ut).getTrimmed().isEqual(Qe)?ut:null}}_showFakeVisualSelection(){const oe=this.editor.model;oe.change(Me=>{const Je=oe.document.selection.getFirstRange();if(oe.markers.has(Ci))Me.updateMarker(Ci,{range:Je});else if(Je.start.isAtEnd){const Qe=Je.start.getLastMatchingPosition(({item:ut})=>!oe.schema.isContent(ut),{boundaries:Je});Me.addMarker(Ci,{usingOperation:!1,affectsData:!1,range:Me.createRange(Qe,Je.end)})}else Me.addMarker(Ci,{usingOperation:!1,affectsData:!1,range:Je})})}_hideFakeVisualSelection(){const oe=this.editor.model;oe.markers.has(Ci)&&oe.change(Me=>{Me.removeMarker(Ci)})}}function Ye(We){return We.getAncestors().find(oe=>{return(Me=oe).is("attributeElement")&&!!Me.getCustomProperty("link");var Me})||null}const ct=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class qe extends d.Plugin{static get requires(){return[w.Delete,le]}static get pluginName(){return"AutoLink"}init(){const oe=this.editor.model.document.selection;oe.on("change:range",()=>{this.isEnabled=!oe.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(oe,Me){return Me.textNode&&Me.textNode.hasAttribute("linkHref")?(0,w.findAttributeRange)(Me,"linkHref",Me.textNode.getAttribute("linkHref"),oe):null}_selectEntireLinks(oe,Me){const Je=this.editor.model,Qe=Je.document.selection,ut=Qe.getFirstPosition(),Ft=Qe.getLastPosition();let Pt=Me.getJoined(this._expandLinkRange(Je,ut)||Me);Pt&&(Pt=Pt.getJoined(this._expandLinkRange(Je,Ft)||Me)),Pt&&(Pt.start.isBefore(ut)||Pt.end.isAfter(Ft))&&oe.setSelection(Pt)}_enablePasteLinking(){const oe=this.editor,Me=oe.model,Je=Me.document.selection,Qe=oe.plugins.get("ClipboardPipeline"),ut=oe.commands.get("link");Qe.on("inputTransformation",(Ft,Pt)=>{if(!this.isEnabled||!ut.isEnabled||Je.isCollapsed||Pt.method!=="paste"||Je.rangeCount>1)return;const ri=Je.getFirstRange(),bi=Pt.dataTransfer.getData("text/plain");if(!bi)return;const ui=bi.match(ct);ui&&ui[2]===bi&&(Me.change(Ei=>{this._selectEntireLinks(Ei,ri),ut.execute(bi)}),Ft.stop())},{priority:"high"})}_enableTypingHandling(){const oe=this.editor,Me=new w.TextWatcher(oe.model,Je=>{if(!function(ut){return ut.length>4&&ut[ut.length-1]===" "&&ut[ut.length-2]!==" "}(Je))return;const Qe=yt(Je.substr(0,Je.length-1));return Qe?{url:Qe}:void 0});Me.on("matched:data",(Je,Qe)=>{const{batch:ut,range:Ft,url:Pt}=Qe;if(!ut.isTyping)return;const ri=Ft.end.getShiftedBy(-1),bi=ri.getShiftedBy(-Pt.length),ui=oe.model.createRange(bi,ri);this._applyAutoLink(Pt,ui)}),Me.bind("isEnabled").to(this)}_enableEnterHandling(){const oe=this.editor,Me=oe.model,Je=oe.commands.get("enter");Je&&Je.on("execute",()=>{const Qe=Me.document.selection.getFirstPosition();if(!Qe.parent.previousSibling)return;const ut=Me.createRangeIn(Qe.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(ut)})}_enableShiftEnterHandling(){const oe=this.editor,Me=oe.model,Je=oe.commands.get("shiftEnter");Je&&Je.on("execute",()=>{const Qe=Me.document.selection.getFirstPosition(),ut=Me.createRange(Me.createPositionAt(Qe.parent,0),Qe.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(ut)})}_checkAndApplyAutoLinkOnRange(oe){const Me=this.editor.model,{text:Je,range:Qe}=(0,w.getLastTextLine)(oe,Me),ut=yt(Je);if(ut){const Ft=Me.createRange(Qe.end.getShiftedBy(-ut.length),Qe.end);this._applyAutoLink(ut,Ft)}}_applyAutoLink(oe,Me){const Je=this.editor.model,Qe=qt(oe,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(ut,Ft){return Ft.schema.checkAttributeInSelection(Ft.createSelection(ut),"linkHref")}(Me,Je)&&wt(Qe)&&!function(ut){const Ft=ut.start.nodeAfter;return!!Ft&&Ft.hasAttribute("linkHref")}(Me)&&this._persistAutoLink(Qe,Me)}_persistAutoLink(oe,Me){const Je=this.editor.model,Qe=this.editor.plugins.get("Delete");Je.enqueueChange(ut=>{ut.setAttribute("linkHref",oe,Me),Je.enqueueChange(()=>{Qe.requestUndoOnBackspace()})})}}function yt(We){const oe=ct.exec(We);return oe?oe[2]:null}class Dt extends d.Plugin{static get requires(){return[le,vt,qe]}static get pluginName(){return"Link"}}class Mt extends d.Plugin{static get requires(){return["ImageEditing","ImageUtils",le]}static get pluginName(){return"LinkImageEditing"}afterInit(){const oe=this.editor,Me=oe.model.schema;oe.plugins.has("ImageBlockEditing")&&Me.extend("imageBlock",{allowAttributes:["linkHref"]}),oe.conversion.for("upcast").add(function(Je){const Qe=Je.plugins.has("ImageInlineEditing"),ut=Je.plugins.get("ImageUtils");return Ft=>{Ft.on("element:a",(Pt,ri,bi)=>{const ui=ri.viewItem,Ei=ut.findViewImgElement(ui);if(!Ei)return;const _i=Ei.findAncestor(An=>ut.isBlockImageView(An));if(Qe&&!_i)return;const bn={attributes:["href"]};if(!bi.consumable.consume(ui,bn))return;const wn=ui.getAttribute("href");if(!wn)return;let yn=ri.modelCursor.parent;if(!yn.is("element","imageBlock")){const An=bi.convertItem(Ei,ri.modelCursor);ri.modelRange=An.modelRange,ri.modelCursor=An.modelCursor,yn=ri.modelCursor.nodeBefore}yn&&yn.is("element","imageBlock")&&bi.writer.setAttribute("linkHref",wn,yn)},{priority:"high"})}}(oe)),oe.conversion.for("downcast").add(function(Je){const Qe=Je.plugins.get("ImageUtils");return ut=>{ut.on("attribute:linkHref:imageBlock",(Ft,Pt,ri)=>{if(!ri.consumable.consume(Pt.item,Ft.name))return;const bi=ri.mapper.toViewElement(Pt.item),ui=ri.writer,Ei=Array.from(bi.getChildren()).find(wn=>wn.is("element","a")),_i=Qe.findViewImgElement(bi),bn=_i.parent.is("element","picture")?_i.parent:_i;if(Ei)Pt.attributeNewValue?ui.setAttribute("href",Pt.attributeNewValue,Ei):(ui.move(ui.createRangeOn(bn),ui.createPositionAt(bi,0)),ui.remove(Ei));else{const wn=ui.createContainerElement("a",{href:Pt.attributeNewValue});ui.insert(ui.createPositionAt(bi,0),wn),ui.move(ui.createRangeOn(bn),ui.createPositionAt(wn,0))}},{priority:"high"})}}(oe)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const oe=this.editor,Me=oe.commands.get("link").automaticDecorators;Me.length&&oe.conversion.for("downcast").add(Me.getDispatcherForLinkedImage())}_enableManualDecorators(){const oe=this.editor,Me=oe.commands.get("link");for(const Je of Me.manualDecorators)oe.plugins.has("ImageBlockEditing")&&oe.model.schema.extend("imageBlock",{allowAttributes:Je.id}),oe.plugins.has("ImageInlineEditing")&&oe.model.schema.extend("imageInline",{allowAttributes:Je.id}),oe.conversion.for("downcast").add(jt(Je)),oe.conversion.for("upcast").add(Te(oe,Je))}}function jt(We){return oe=>{oe.on(`attribute:${We.id}:imageBlock`,(Me,Je,Qe)=>{const ut=Qe.mapper.toViewElement(Je.item),Ft=Array.from(ut.getChildren()).find(Pt=>Pt.is("element","a"));if(Ft){for(const[Pt,ri]of(0,u.toMap)(We.attributes))Qe.writer.setAttribute(Pt,ri,Ft);We.classes&&Qe.writer.addClass(We.classes,Ft);for(const Pt in We.styles)Qe.writer.setStyle(Pt,We.styles[Pt],Ft)}})}}function Te(We,oe){const Me=We.plugins.has("ImageInlineEditing"),Je=We.plugins.get("ImageUtils");return Qe=>{Qe.on("element:a",(ut,Ft,Pt)=>{const ri=Ft.viewItem,bi=Je.findViewImgElement(ri);if(!bi)return;const ui=bi.findAncestor(bn=>Je.isBlockImageView(bn));if(Me&&!ui)return;const Ei=new Le.Matcher(oe._createPattern()).match(ri);if(!Ei||!Pt.consumable.consume(ri,Ei.match))return;const _i=Ft.modelCursor.nodeBefore||Ft.modelCursor.parent;Pt.writer.setAttribute(oe.id,!0,_i)},{priority:"high"})}}class V extends d.Plugin{static get requires(){return[le,vt,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const oe=this.editor,Me=oe.editing.view.document;this.listenTo(Me,"click",(Je,Qe)=>{this._isSelectedLinkedImage(oe.model.document.selection)&&(Qe.preventDefault(),Je.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const oe=this.editor,Me=oe.t;oe.ui.componentFactory.add("linkImage",Je=>{const Qe=new Be.ButtonView(Je),ut=oe.plugins.get("LinkUI"),Ft=oe.commands.get("link");return Qe.set({isEnabled:!0,label:Me("Link image"),icon:pi,keystroke:mt,tooltip:!0,isToggleable:!0}),Qe.bind("isEnabled").to(Ft,"isEnabled"),Qe.bind("isOn").to(Ft,"value",Pt=>!!Pt),this.listenTo(Qe,"execute",()=>{this._isSelectedLinkedImage(oe.model.document.selection)?ut._addActionsView():ut._showUI(!0)}),Qe})}_isSelectedLinkedImage(oe){const Me=oe.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(Me)&&Me.hasAttribute("linkHref")}}var N=Q(654),X={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Oi()(N.A,X),N.A.locals;class Pe extends d.Plugin{static get requires(){return[Mt,V]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease list item indent":"Decrease list item indent",Disc:"Disc","Entering a to-do list":"Entering a to-do list","Increase list item indent":"Increase list item indent","Invalid start index value.":"Invalid start index value.","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Leaving a to-do list":"Leaving a to-do list","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={358:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const L=C},137:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const L=C},266:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const L=C},263:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const L=C},825:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},507:(d,w,s)=>{d.exports=s(237)("./src/enter.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{AdjacentListsSupport:()=>mo,DocumentList:()=>B,DocumentListProperties:()=>ce,LegacyIndentCommand:()=>bi,LegacyList:()=>wo,LegacyListEditing:()=>to,LegacyListProperties:()=>Un,LegacyListPropertiesEditing:()=>io,LegacyListUtils:()=>Xn,LegacyTodoList:()=>Lt,LegacyTodoListEditing:()=>Uo,List:()=>Di,ListCommand:()=>W,ListEditing:()=>wt,ListIndentCommand:()=>re,ListProperties:()=>Mt,ListPropertiesEditing:()=>ai,ListPropertiesUI:()=>Ye,ListPropertiesUtils:()=>zt,ListUI:()=>Pi,ListUtils:()=>Ae,TodoDocumentList:()=>$e,TodoList:()=>ut,TodoListEditing:()=>N,TodoListUI:()=>Me});var d=Q(782),w=Q(834),s=Q(507),u=Q(584);class C{constructor(y,j){this._startElement=y,this._referenceIndent=y.getAttribute("listIndent"),this._isForward=j.direction=="forward",this._includeSelf=!!j.includeSelf,this._sameAttributes=(0,u.toArray)(j.sameAttributes||[]),this._sameIndent=!!j.sameIndent,this._lowerIndent=!!j.lowerIndent,this._higherIndent=!!j.higherIndent}static first(y,j){const Z=new this(y,j)[Symbol.iterator]();return(0,u.first)(Z)}*[Symbol.iterator](){const y=[];for(const{node:j}of L(this._getStartNode(),this._isForward?"forward":"backward")){const Z=j.getAttribute("listIndent");if(Z<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=Z}else if(Z>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){y.push(j);continue}}else{if(!this._sameIndent){if(this._higherIndent){y.length&&(yield*y,y.length=0);break}continue}if(this._sameAttributes.some(se=>j.getAttribute(se)!==this._startElement.getAttribute(se)))break}y.length&&(yield*y,y.length=0),yield j}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*L(F,y="forward"){const j=y=="forward",Z=[];let se=null;for(;$(F);){let me=null;if(se){const ke=F.getAttribute("listIndent"),fe=se.getAttribute("listIndent");ke>fe?Z[fe]=se:ke<fe?(me=Z[ke],Z.length=ke):me=se}yield{node:F,previous:se,previousNodeInList:me},se=F,F=j?F.nextSibling:F.previousSibling}}class k{constructor(y){this._listHead=y}[Symbol.iterator](){return L(this._listHead,"forward")}}class v{static next(){return(0,u.uid)()}}function $(F){return!!F&&F.is("element")&&F.hasAttribute("listItemId")}function K(F,y={}){return[...R(F,{...y,direction:"backward"}),...R(F,{...y,direction:"forward"})]}function R(F,y={}){const j=y.direction=="forward",Z=Array.from(new C(F,{...y,includeSelf:j,sameIndent:!0,sameAttributes:"listItemId"}));return j?Z:Z.reverse()}function Ee(F,y){const j=new C(F,{sameIndent:!0,sameAttributes:"listType",...y}),Z=new C(F,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...y});return[...Array.from(j).reverse(),...Z]}function ge(F){return!C.first(F,{sameIndent:!0,sameAttributes:"listItemId"})}function Y(F){return!C.first(F,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function J(F,y={}){F=(0,u.toArray)(F);const j=y.withNested!==!1,Z=new Set;for(const se of F)for(const me of K(se,{higherIndent:j}))Z.add(me);return S(Z)}function Ce(F){F=(0,u.toArray)(F);const y=new Set;for(const j of F)for(const Z of Ee(j))y.add(Z);return S(y)}function ue(F,y){const j=R(F,{direction:"forward"}),Z=v.next();for(const se of j)y.setAttribute("listItemId",Z,se);return j}function h(F,y,j){const Z={};for(const[me,ke]of y.getAttributes())me.startsWith("list")&&(Z[me]=ke);const se=R(F,{direction:"forward"});for(const me of se)j.setAttributes(Z,me);return se}function p(F,y,{expand:j,indentBy:Z=1}={}){F=(0,u.toArray)(F);const se=j?J(F):F;for(const me of se){const ke=me.getAttribute("listIndent")+Z;ke<0?g(me,y):y.setAttribute("listIndent",ke,me)}return se}function g(F,y){F=(0,u.toArray)(F);for(const j of F)j.is("element","listItem")&&y.rename(j,"paragraph");for(const j of F)for(const Z of j.getAttributeKeys())Z.startsWith("list")&&y.removeAttribute(Z,j);return F}function _(F){if(!F.length)return!1;const y=F[0].getAttribute("listItemId");return!!y&&!F.some(j=>j.getAttribute("listItemId")!=y)}function S(F){return Array.from(F).filter(y=>y.root.rootName!=="$graveyard").sort((y,j)=>y.index-j.index)}function I(F){const y=F.document.selection.getSelectedElement();return y&&F.schema.isObject(y)&&F.schema.isBlock(y)?y:null}function M(F,y){return y.checkChild(F.parent,"listItem")&&y.checkChild(F,"$text")&&!y.isObject(F)}function ee(F){return F=="numbered"||F=="customNumbered"}function H(F,y,j){return R(y,{direction:"forward"}).pop().index>F.index?h(F,y,j):[]}class re extends d.Command{constructor(y,j){super(y),this._direction=j}refresh(){this.isEnabled=this._checkEnabled()}execute(){const y=this.editor.model,j=O(y.document.selection);y.change(Z=>{const se=[];_(j)&&!ge(j[0])?(this._direction=="forward"&&se.push(...p(j,Z)),se.push(...ue(j[0],Z))):this._direction=="forward"?se.push(...p(j,Z,{expand:!0})):se.push(...function(me,ke){const fe=J(me=(0,u.toArray)(me)),je=new Set,Ne=Math.min(...fe.map(rt=>rt.getAttribute("listIndent"))),et=new Map;for(const rt of fe)et.set(rt,C.first(rt,{lowerIndent:!0}));for(const rt of fe){if(je.has(rt))continue;je.add(rt);const Ct=rt.getAttribute("listIndent")-1;if(Ct<0)g(rt,ke);else{if(rt.getAttribute("listIndent")==Ne){const Et=H(rt,et.get(rt),ke);for(const Bt of Et)je.add(Bt);if(Et.length)continue}ke.setAttribute("listIndent",Ct,rt)}}return S(je)}(j,Z));for(const me of se){if(!me.hasAttribute("listType"))continue;const ke=C.first(me,{sameIndent:!0});ke&&Z.setAttribute("listType",ke.getAttribute("listType"),me)}this._fireAfterExecute(se)})}_fireAfterExecute(y){this.fire("afterExecute",S(new Set(y)))}_checkEnabled(){let y=O(this.editor.model.document.selection),j=y[0];if(!j)return!1;if(this._direction=="backward"||_(y)&&!ge(y[0]))return!0;y=J(y),j=y[0];const Z=C.first(j,{sameIndent:!0});return!!Z&&Z.getAttribute("listType")==j.getAttribute("listType")}}function O(F){const y=Array.from(F.getSelectedBlocks()),j=y.findIndex(Z=>!$(Z));return j!=-1&&(y.length=j),y}class W extends d.Command{constructor(y,j,Z={}){super(y),this.type=j,this._listWalkerOptions=Z.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(y={}){const j=this.editor.model,Z=j.document,se=I(j),me=Array.from(Z.selection.getSelectedBlocks()).filter(fe=>j.schema.checkAttribute(fe,"listType")||M(fe,j.schema)),ke=y.forceValue!==void 0?!y.forceValue:this.value;j.change(fe=>{if(ke){const je=me[me.length-1],Ne=R(je,{direction:"forward"}),et=[];Ne.length>1&&et.push(...ue(Ne[1],fe)),et.push(...g(me,fe)),et.push(...function(rt,Ct){const Et=[];let Bt=Number.POSITIVE_INFINITY;for(const{node:Tt}of L(rt.nextSibling,"forward")){const Yt=Tt.getAttribute("listIndent");if(Yt==0)break;Yt<Bt&&(Bt=Yt);const Qt=Yt-Bt;Ct.setAttribute("listIndent",Qt,Tt),Et.push(Tt)}return Et}(je,fe)),this._fireAfterExecute(et)}else if((se||Z.selection.isCollapsed)&&$(me[0])){const je=Ee(se||me[0],this._listWalkerOptions);for(const Ne of je)fe.setAttributes({...y.additionalAttributes,listType:this.type},Ne);this._fireAfterExecute(je)}else{const je=[];for(const Ne of me)if(Ne.hasAttribute("listType"))for(const et of J(Ne,{withNested:!1}))et.getAttribute("listType")!=this.type&&(fe.setAttributes({...y.additionalAttributes,listType:this.type},et),je.push(et));else!Ne.is("element","listItem")&&M(Ne,j.schema)&&fe.rename(Ne,"listItem"),fe.setAttributes({...y.additionalAttributes,listIndent:0,listItemId:v.next(),listType:this.type},Ne),je.push(Ne);this._fireAfterExecute(je)}})}_fireAfterExecute(y){this.fire("afterExecute",S(new Set(y)))}_getValue(){const y=this.editor.model.document.selection,j=Array.from(y.getSelectedBlocks());if(!j.length)return!1;for(const Z of j)if(Z.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const y=this.editor.model,j=y.schema,Z=y.document.selection,se=Array.from(Z.getSelectedBlocks());if(!se.length)return!1;if(this.value)return!0;for(const me of se)if(j.checkAttribute(me,"listType")||M(me,j))return!0;return!1}}class ie extends d.Command{constructor(y,j){super(y),this._direction=j}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:y=!1}={}){const j=this.editor.model,Z=j.document.selection,se=[];j.change(me=>{const{firstElement:ke,lastElement:fe}=this._getMergeSubjectElements(Z,y),je=ke.getAttribute("listIndent")||0,Ne=fe.getAttribute("listIndent"),et=fe.getAttribute("listItemId");if(je!=Ne){const Ct=(rt=fe,Array.from(new C(rt,{direction:"forward",higherIndent:!0})));se.push(...p([fe,...Ct],me,{indentBy:je-Ne,expand:je<Ne}))}var rt;if(y){let Ct=Z;Z.isCollapsed&&(Ct=me.createSelection(me.createRange(me.createPositionAt(ke,"end"),me.createPositionAt(fe,0)))),j.deleteContent(Ct,{doNotResetEntireContent:Z.isCollapsed});const Et=Ct.getLastPosition().parent,Bt=Et.nextSibling;se.push(Et),Bt&&Bt!==fe&&Bt.getAttribute("listItemId")==et&&se.push(...h(Bt,Et,me))}else se.push(...h(fe,ke,me));this._fireAfterExecute(se)})}_fireAfterExecute(y){this.fire("afterExecute",S(new Set(y)))}_checkEnabled(){const y=this.editor.model,j=y.document.selection,Z=I(y);if(j.isCollapsed||Z){const se=Z||j.getFirstPosition().parent;if(!$(se))return!1;const me=this._direction=="backward"?se.previousSibling:se.nextSibling;if(!me||_([se,me]))return!1}else{const se=j.getLastPosition(),me=j.getFirstPosition();if(se.parent===me.parent||!$(se.parent))return!1}return!0}_getMergeSubjectElements(y,j){const Z=I(this.editor.model);let se,me;if(y.isCollapsed||Z){const ke=Z||y.getFirstPosition().parent,fe=ge(ke);this._direction=="backward"?(me=ke,se=fe&&!j?C.first(ke,{sameIndent:!0,lowerIndent:!0}):ke.previousSibling):(se=ke,me=ke.nextSibling)}else se=y.getFirstPosition().parent,me=y.getLastPosition().parent;return{firstElement:se,lastElement:me}}}class we extends d.Command{constructor(y,j){super(y),this._direction=j}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(y=>{const j=ue(this._getStartBlock(),y);this._fireAfterExecute(j)})}_fireAfterExecute(y){this.fire("afterExecute",S(new Set(y)))}_checkEnabled(){const y=this.editor.model.document.selection,j=this._getStartBlock();return y.isCollapsed&&$(j)&&!ge(j)}_getStartBlock(){const y=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?y:y.nextSibling}}class Ae extends d.Plugin{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(y){return Ce(y)}isFirstBlockOfListItem(y){return ge(y)}isListItemBlock(y){return $(y)}expandListBlocksToCompleteItems(y,j={}){return J(y,j)}isNumberedListType(y){return ee(y)}}var He=Q(783);function it(F){return F.is("element","ol")||F.is("element","ul")}function ne(F){return F.is("element","li")}function de(F,y,j,Z=Oe(j,y)){return F.createAttributeElement(Re(j),null,{priority:2*y/100-100,id:Z})}function Se(F,y,j){return F.createAttributeElement("li",null,{priority:(2*y+1)/100-100,id:j})}function Re(F){return F=="numbered"||F=="customNumbered"?"ol":"ul"}function Oe(F,y){return`list-${F}-${y}`}function G(F,y){const j=F.nodeBefore;if($(j)){let Z=j;for(const{node:se}of L(Z,"backward"))if(Z=se,y.has(Z))return;y.set(j,Z)}else{const Z=F.nodeAfter;$(Z)&&y.set(Z,Z)}}function Ie(){return(F,y,j)=>{const{writer:Z,schema:se}=j;if(!y.modelRange)return;const me=Array.from(y.modelRange.getItems({shallow:!0})).filter(rt=>se.checkAttribute(rt,"listItemId"));if(!me.length)return;const ke=v.next(),fe=function(rt){let Ct=0,Et=rt.parent;for(;Et;){if(ne(Et))Ct++;else{const Bt=Et.previousSibling;Bt&&ne(Bt)&&Ct++}Et=Et.parent}return Ct}(y.viewItem);let je=y.viewItem.parent&&y.viewItem.parent.is("element","ol")?"numbered":"bulleted";const Ne=me[0].getAttribute("listType");Ne&&(je=Ne);const et={listItemId:ke,listIndent:fe,listType:je};for(const rt of me)rt.hasAttribute("listItemId")||Z.setAttributes(et,rt);me.length>1&&me[1].getAttribute("listItemId")!=et.listItemId&&j.keepEmptyElement(me[0])}}function Ue(){return(F,y,j)=>{if(!j.consumable.test(y.viewItem,{name:!0}))return;const Z=new He.UpcastWriter(y.viewItem.document);for(const se of Array.from(y.viewItem.getChildren()))ne(se)||it(se)||Z.remove(se)}}function nt(F,y,j,{dataPipeline:Z}={}){const se=function(me){return(ke,fe)=>{const je=[];for(const Ne of me)ke.hasAttribute(Ne)&&je.push(`attribute:${Ne}`);return!!je.every(Ne=>fe.test(ke,Ne)!==!1)&&(je.forEach(Ne=>fe.consume(ke,Ne)),!0)}}(F);return(me,ke,fe)=>{const{writer:je,mapper:Ne,consumable:et}=fe,rt=ke.item;if(!F.includes(ke.attributeKey)||!se(rt,et))return;const Ct=function(Bt,Tt,Yt){const Qt=Yt.createRangeOn(Bt);return Tt.toViewRange(Qt).getTrimmed().end.nodeBefore}(rt,Ne,j);pe(Ct,je,Ne),function(Bt,Tt){let Yt=Bt.parent;for(;Yt.is("attributeElement")&&["ul","ol","li"].includes(Yt.name);){const Qt=Yt.parent;Tt.unwrap(Tt.createRangeOn(Bt),Yt),Yt=Qt}}(Ct,je);const Et=function(Bt,Tt,Yt,Qt,{dataPipeline:wi}){let Ai=Qt.createRangeOn(Tt);if(!ge(Bt))return Ai;for(const Ii of Yt){if(Ii.scope!="itemMarker")continue;const Mi=Ii.createElement(Qt,Bt,{dataPipeline:wi});if(!Mi||(Qt.setCustomProperty("listItemMarker",!0,Mi),Ii.canInjectMarkerIntoElement&&Ii.canInjectMarkerIntoElement(Bt)?Qt.insert(Qt.createPositionAt(Tt,0),Mi):(Qt.insert(Ai.start,Mi),Ai=Qt.createRange(Qt.createPositionBefore(Mi),Qt.createPositionAfter(Tt))),!Ii.createWrapperElement||!Ii.canWrapElement))continue;const nn=Ii.createWrapperElement(Qt,Bt,{dataPipeline:wi});Qt.setCustomProperty("listItemWrapper",!0,nn),Ii.canWrapElement(Bt)?Ai=Qt.wrap(Ai,nn):(Ai=Qt.wrap(Qt.createRangeOn(Mi),nn),Ai=Qt.createRange(Ai.start,Qt.createPositionAfter(Tt)))}return Ai}(rt,Ct,y,je,{dataPipeline:Z});(function(Bt,Tt,Yt,Qt){if(!Bt.hasAttribute("listIndent"))return;const wi=Bt.getAttribute("listIndent");let Ai=Bt;for(let Ii=wi;Ii>=0;Ii--){const Mi=Se(Qt,Ii,Ai.getAttribute("listItemId")),nn=de(Qt,Ii,Ai.getAttribute("listType"));for(const _n of Yt)_n.scope!="list"&&_n.scope!="item"||!Ai.hasAttribute(_n.attributeName)||_n.setAttributeOnDowncast(Qt,Ai.getAttribute(_n.attributeName),_n.scope=="list"?nn:Mi);if(Tt=Qt.wrap(Tt,Mi),Tt=Qt.wrap(Tt,nn),Ii==0||(Ai=C.first(Ai,{lowerIndent:!0}),!Ai))break}})(rt,Et,y,je)}}function xe(F,{dataPipeline:y}={}){return(j,{writer:Z})=>{if(!ye(j,F))return null;if(!y)return Z.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const se=Z.createContainerElement("p");return Z.setCustomProperty("dataPipeline:transparentRendering",!0,se),se}}function pe(F,y,j){for(;F.parent.is("attributeElement")&&F.parent.getCustomProperty("listItemWrapper");)y.unwrap(y.createRangeOn(F),F.parent);const Z=[];se(y.createPositionBefore(F).getWalker({direction:"backward"})),se(y.createRangeIn(F).getWalker());for(const me of Z)y.remove(me);function se(me){for(const{item:ke}of me){if(ke.is("element")&&j.toModelElement(ke))break;ke.is("element")&&ke.getCustomProperty("listItemMarker")&&Z.push(ke)}}}function ye(F,y,j=K(F)){if(!$(F))return!1;for(const Z of F.getAttributeKeys())if(!Z.startsWith("selection:")&&!y.includes(Z))return!1;return j.length<2}var Ze=Q(331),ot=Q(591),at=Q.n(ot),mt=Q(358),Ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(mt.A,Ut),mt.A.locals;var $t=Q(137),St={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()($t.A,St),$t.A.locals;const qt=["listType","listIndent","listItemId"];class wt extends d.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[s.Enter,w.Delete,Ae,Ze.ClipboardPipeline]}constructor(y){super(y),this._downcastStrategies=[],y.config.define("list.multiBlock",!0)}init(){const y=this.editor,j=y.model,Z=y.config.get("list.multiBlock");if(y.plugins.has("LegacyListEditing"))throw new u.CKEditorError("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});j.schema.register("$listItem",{allowAttributes:qt}),Z?(j.schema.extend("$container",{allowAttributesOf:"$listItem"}),j.schema.extend("$block",{allowAttributesOf:"$listItem"}),j.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):j.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const se of qt)j.schema.setAttributeProperties(se,{copyOnReplace:!0});y.commands.add("numberedList",new W(y,"numbered")),y.commands.add("bulletedList",new W(y,"bulleted")),y.commands.add("customNumberedList",new W(y,"customNumbered",{multiLevel:!0})),y.commands.add("customBulletedList",new W(y,"customBulleted",{multiLevel:!0})),y.commands.add("indentList",new re(y,"forward")),y.commands.add("outdentList",new re(y,"backward")),y.commands.add("splitListItemBefore",new we(y,"before")),y.commands.add("splitListItemAfter",new we(y,"after")),Z&&(y.commands.add("mergeListItemBackward",new ie(y,"backward")),y.commands.add("mergeListItemForward",new ie(y,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const y=this.editor.commands,j=y.get("indent"),Z=y.get("outdent");j&&j.registerChildCommand(y.get("indentList"),{priority:"high"}),Z&&Z.registerChildCommand(y.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(y){this._downcastStrategies.push(y)}getListAttributeNames(){return[...qt,...this._downcastStrategies.map(y=>y.attributeName)]}_setupDeleteIntegration(){const y=this.editor,j=y.commands.get("mergeListItemBackward"),Z=y.commands.get("mergeListItemForward");this.listenTo(y.editing.view.document,"delete",(se,me)=>{const ke=y.model.document.selection;I(y.model)||y.model.change(()=>{const fe=ke.getFirstPosition();if(ke.isCollapsed&&me.direction=="backward"){if(!fe.isAtStart)return;const je=fe.parent;if(!$(je))return;if(C.first(je,{sameAttributes:"listType",sameIndent:!0})||je.getAttribute("listIndent")!==0){if(!j||!j.isEnabled)return;j.execute({shouldMergeOnBlocksContentLevel:tt(y.model,"backward")})}else Y(je)||y.execute("splitListItemAfter"),y.execute("outdentList");me.preventDefault(),se.stop()}else{if(ke.isCollapsed&&!ke.getLastPosition().isAtEnd||!Z||!Z.isEnabled)return;Z.execute({shouldMergeOnBlocksContentLevel:tt(y.model,"forward")}),me.preventDefault(),se.stop()}})},{context:"li"})}_setupEnterIntegration(){const y=this.editor,j=y.model,Z=y.commands,se=Z.get("enter");this.listenTo(y.editing.view.document,"enter",(me,ke)=>{const fe=j.document,je=fe.selection.getFirstPosition().parent;if(fe.selection.isCollapsed&&$(je)&&je.isEmpty&&!ke.isSoft){const Ne=ge(je),et=Y(je);Ne&&et?(y.execute("outdentList"),ke.preventDefault(),me.stop()):Ne&&!et?(y.execute("splitListItemAfter"),ke.preventDefault(),me.stop()):et&&(y.execute("splitListItemBefore"),ke.preventDefault(),me.stop())}},{context:"li"}),this.listenTo(se,"afterExecute",()=>{const me=Z.get("splitListItemBefore");me.refresh(),me.isEnabled&&K(y.model.document.selection.getLastPosition().parent).length===2&&me.execute()})}_setupTabIntegration(){const y=this.editor;this.listenTo(y.editing.view.document,"tab",(j,Z)=>{const se=Z.shiftKey?"outdentList":"indentList";this.editor.commands.get(se).isEnabled&&(y.execute(se),Z.stopPropagation(),Z.preventDefault(),j.stop())},{context:"li"})}_setupConversion(){const y=this.editor,j=y.model,Z=this.getListAttributeNames(),se=y.config.get("list.multiBlock"),me=se?"paragraph":"listItem";y.conversion.for("upcast").elementToElement({view:"li",model:(Ne,{writer:et})=>et.createElement(me,{listType:""})}).elementToElement({view:"p",model:(Ne,{writer:et})=>Ne.parent&&Ne.parent.is("element","li")?et.createElement(me,{listType:""}):null,converterPriority:"high"}).add(Ne=>{Ne.on("element:li",Ie()),Ne.on("element:ul",Ue(),{priority:"high"}),Ne.on("element:ol",Ue(),{priority:"high"})}),se||y.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),y.conversion.for("editingDowncast").elementToElement({model:me,view:xe(Z),converterPriority:"high"}).add(Ne=>{var et;Ne.on("attribute",nt(Z,this._downcastStrategies,j)),Ne.on("remove",(et=j.schema,(rt,Ct,Et)=>{const{writer:Bt,mapper:Tt}=Et,Yt=rt.name.split(":")[1];if(!et.checkAttribute(Yt,"listItemId"))return;const Qt=Tt.toViewPosition(Ct.position),wi=Ct.position.getShiftedBy(Ct.length),Ai=Tt.toViewPosition(wi,{isPhantom:!0}),Ii=Bt.createRange(Qt,Ai).getTrimmed().end.nodeBefore;Ii&&pe(Ii,Bt,Tt)}))}),y.conversion.for("dataDowncast").elementToElement({model:me,view:xe(Z,{dataPipeline:!0}),converterPriority:"high"}).add(Ne=>{Ne.on("attribute",nt(Z,this._downcastStrategies,j,{dataPipeline:!0}))});const ke=(fe=this._downcastStrategies,je=y.editing.view,(Ne,et)=>{if(et.modelPosition.offset>0)return;const rt=et.modelPosition.parent;if(!$(rt)||!fe.some(Yt=>Yt.scope=="itemMarker"&&Yt.canInjectMarkerIntoElement&&Yt.canInjectMarkerIntoElement(rt)))return;const Ct=et.mapper.toViewElement(rt),Et=je.createRangeIn(Ct),Bt=Et.getWalker();let Tt=Et.start;for(const{item:Yt}of Bt){if(Yt.is("element")&&et.mapper.toModelElement(Yt)||Yt.is("$textProxy"))break;Yt.is("element")&&Yt.getCustomProperty("listItemMarker")&&(Tt=je.createPositionAfter(Yt),Bt.skip(({previousPosition:Qt})=>!Qt.isEqual(Tt)))}et.viewPosition=Tt});var fe,je;y.editing.mapper.on("modelToViewPosition",ke),y.data.mapper.on("modelToViewPosition",ke),this.listenTo(j.document,"change:data",function(Ne,et,rt,Ct){return()=>{const Yt=Ne.document.differ.getChanges(),Qt=[],wi=new Map,Ai=new Set;for(const Ii of Yt)if(Ii.type=="insert"&&Ii.name!="$text")G(Ii.position,wi),Ii.attributes.has("listItemId")?Ai.add(Ii.position.nodeAfter):G(Ii.position.getShiftedBy(Ii.length),wi);else if(Ii.type=="remove"&&Ii.attributes.has("listItemId"))G(Ii.position,wi);else if(Ii.type=="attribute"){const Mi=Ii.range.start.nodeAfter;rt.includes(Ii.attributeKey)?(G(Ii.range.start,wi),Ii.attributeNewValue===null?(G(Ii.range.start.getShiftedBy(1),wi),Bt(Mi)&&Qt.push(Mi)):Ai.add(Mi)):$(Mi)&&Bt(Mi)&&Qt.push(Mi)}for(const Ii of wi.values())Qt.push(...Et(Ii,Ai));for(const Ii of new Set(Qt))et.reconvertItem(Ii)};function Et(Yt,Qt){const wi=[],Ai=new Set,Ii=[];for(const{node:Mi,previous:nn}of L(Yt,"forward")){if(Ai.has(Mi))continue;const _n=Mi.getAttribute("listIndent");nn&&_n<nn.getAttribute("listIndent")&&(Ii.length=_n+1),Ii[_n]=Object.fromEntries(Array.from(Mi.getAttributes()).filter(([Oo])=>rt.includes(Oo)));const ro=R(Mi,{direction:"forward"});for(const Oo of ro)Ai.add(Oo),(Bt(Oo,ro)||Tt(Oo,Ii,Qt))&&wi.push(Oo)}return wi}function Bt(Yt,Qt){const wi=et.mapper.toViewElement(Yt);if(!wi)return!1;if(Ct.fire("checkElement",{modelElement:Yt,viewElement:wi}))return!0;if(!Yt.is("element","paragraph")&&!Yt.is("element","listItem"))return!1;const Ai=ye(Yt,rt,Qt);return!(!Ai||!wi.is("element","p"))||!(Ai||!wi.is("element","span"))}function Tt(Yt,Qt,wi){if(wi.has(Yt))return!1;const Ai=et.mapper.toViewElement(Yt);let Ii=Qt.length-1;for(let Mi=Ai.parent;!Mi.is("editableElement");Mi=Mi.parent){const nn=ne(Mi),_n=it(Mi);if(!_n&&!nn)continue;const ro="checkAttributes:"+(nn?"item":"list");if(Ct.fire(ro,{viewElement:Mi,modelAttributes:Qt[Ii]}))break;if(_n&&(Ii--,Ii<0))return!1}return!0}}(j,y.editing,Z,this),{priority:"high"}),this.on("checkAttributes:item",(Ne,{viewElement:et,modelAttributes:rt})=>{et.id!=rt.listItemId&&(Ne.return=!0,Ne.stop())}),this.on("checkAttributes:list",(Ne,{viewElement:et,modelAttributes:rt})=>{et.name==Re(rt.listType)&&et.id==Oe(rt.listType,rt.listIndent)||(Ne.return=!0,Ne.stop())})}_setupModelPostFixing(){const y=this.editor.model,j=this.getListAttributeNames();y.document.registerPostFixer(Z=>function(se,me,ke,fe){const je=se.document.differ.getChanges(),Ne=new Map,et=fe.editor.config.get("list.multiBlock");let rt=!1;for(const Et of je){if(Et.type=="insert"&&Et.name!="$text"){const Bt=Et.position.nodeAfter;if(!se.schema.checkAttribute(Bt,"listItemId"))for(const Tt of Array.from(Bt.getAttributeKeys()))ke.includes(Tt)&&(me.removeAttribute(Tt,Bt),rt=!0);G(Et.position,Ne),Et.attributes.has("listItemId")||G(Et.position.getShiftedBy(Et.length),Ne);for(const{item:Tt,previousPosition:Yt}of se.createRangeIn(Bt))$(Tt)&&G(Yt,Ne)}else Et.type=="remove"?G(Et.position,Ne):Et.type=="attribute"&&ke.includes(Et.attributeKey)&&(G(Et.range.start,Ne),Et.attributeNewValue===null&&G(Et.range.start.getShiftedBy(1),Ne));if(!et&&Et.type=="attribute"&&qt.includes(Et.attributeKey)){const Bt=Et.range.start.nodeAfter;Et.attributeNewValue===null&&Bt&&Bt.is("element","listItem")?(me.rename(Bt,"paragraph"),rt=!0):Et.attributeOldValue===null&&Bt&&Bt.is("element")&&Bt.name!="listItem"&&(me.rename(Bt,"listItem"),rt=!0)}}const Ct=new Set;for(const Et of Ne.values())rt=fe.fire("postFixer",{listNodes:new k(Et),listHead:Et,writer:me,seenIds:Ct})||rt;return rt}(y,Z,j,this)),this.on("postFixer",(Z,{listNodes:se,writer:me})=>{Z.return=function(ke,fe){let je=0,Ne=-1,et=null,rt=!1;for(const{node:Ct}of ke){const Et=Ct.getAttribute("listIndent");if(Et>je){let Bt;et===null?(et=Et-je,Bt=je):(et>Et&&(et=Et),Bt=Et-et),Bt>Ne+1&&(Bt=Ne+1),fe.setAttribute("listIndent",Bt,Ct),rt=!0,Ne=Bt}else et=null,je=Et+1,Ne=Et}return rt}(se,me)||Z.return},{priority:"high"}),this.on("postFixer",(Z,{listNodes:se,writer:me,seenIds:ke})=>{Z.return=function(fe,je,Ne){const et=new Set;let rt=!1;for(const{node:Ct}of fe){if(et.has(Ct))continue;let Et=Ct.getAttribute("listType"),Bt=Ct.getAttribute("listItemId");if(je.has(Bt)&&(Bt=v.next()),je.add(Bt),Ct.is("element","listItem"))Ct.getAttribute("listItemId")!=Bt&&(Ne.setAttribute("listItemId",Bt,Ct),rt=!0);else for(const Tt of R(Ct,{direction:"forward"}))et.add(Tt),Tt.getAttribute("listType")!=Et&&(Bt=v.next(),Et=Tt.getAttribute("listType")),Tt.getAttribute("listItemId")!=Bt&&(Ne.setAttribute("listItemId",Bt,Tt),rt=!0)}return rt}(se,ke,me)||Z.return},{priority:"high"})}_setupClipboardIntegration(){const y=this.editor.model,j=this.editor.plugins.get("ClipboardPipeline");this.listenTo(y,"insertContent",function(Z){return(se,[me,ke])=>{const fe=me.is("documentFragment")?Array.from(me.getChildren()):[me];if(!fe.length)return;const je=(ke?Z.createSelection(ke):Z.document.selection).getFirstPosition();let Ne;if($(je.parent))Ne=je.parent;else{if(!$(je.nodeBefore))return;Ne=je.nodeBefore}Z.change(et=>{const rt=Ne.getAttribute("listType"),Ct=Ne.getAttribute("listIndent"),Et=fe[0].getAttribute("listIndent")||0,Bt=Math.max(Ct-Et,0);for(const Tt of fe){const Yt=$(Tt);Ne.is("element","listItem")&&Tt.is("element","paragraph")&&et.rename(Tt,"listItem"),et.setAttributes({listIndent:(Yt?Tt.getAttribute("listIndent"):0)+Bt,listItemId:Yt?Tt.getAttribute("listItemId"):v.next(),listType:rt},Tt)}})}}(y),{priority:"high"}),this.listenTo(j,"outputTransformation",(Z,se)=>{y.change(me=>{const ke=Array.from(se.content.getChildren()),fe=ke[ke.length-1];if(ke.length>1&&fe.is("element")&&fe.isEmpty&&ke.slice(0,-1).every($)&&me.remove(fe),se.method=="copy"||se.method=="cut"){const je=Array.from(se.content.getChildren());_(je)&&g(je,me)}})})}_setupAccessibilityIntegration(){const y=this.editor,j=y.t;y.accessibility.addKeystrokeInfoGroup({id:"list",label:j("Keystrokes that can be used in a list"),keystrokes:[{label:j("Increase list item indent"),keystroke:"Tab"},{label:j("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function tt(F,y){const j=F.document.selection;if(!j.isCollapsed)return!I(F);if(y==="forward")return!0;const Z=j.getFirstPosition().parent,se=Z.previousSibling;return!F.schema.isObject(se)&&(!!se.isEmpty||_([Z,se]))}var gt=Q(311);function gi(F,y,j,Z){F.ui.componentFactory.add(y,()=>{const se=Ti(gt.ButtonView,F,y,j,Z);return se.set({tooltip:!0,isToggleable:!0}),se}),F.ui.componentFactory.add(`menuBar:${y}`,()=>Ti(gt.MenuBarMenuListItemButtonView,F,y,j,Z))}function Ti(F,y,j,Z,se){const me=y.commands.get(j),ke=new F(y.locale);return ke.set({label:Z,icon:se}),ke.bind("isOn","isEnabled").to(me,"value","isEnabled"),ke.on("execute",()=>{y.execute(j),y.editing.view.focus()}),ke}class Pi extends d.Plugin{static get pluginName(){return"ListUI"}init(){const y=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||gi(this.editor,"numberedList",y("Numbered List"),d.icons.numberedList),this.editor.ui.componentFactory.has("bulletedList")||gi(this.editor,"bulletedList",y("Bulleted List"),d.icons.bulletedList)}}class Di extends d.Plugin{static get requires(){return[wt,Pi]}static get pluginName(){return"List"}}class Oi extends d.Command{refresh(){const y=this._getValue();this.value=y,this.isEnabled=y!=null}execute({startIndex:y=1}={}){const j=this.editor.model,Z=j.document;let se=Array.from(Z.selection.getSelectedBlocks()).filter(me=>$(me)&&ee(me.getAttribute("listType")));se=Ce(se),j.change(me=>{for(const ke of se)me.setAttribute("listStart",y>=0?y:1,ke)})}_getValue(){const y=this.editor.model.document,j=(0,u.first)(y.selection.getSelectedBlocks());return j&&$(j)&&ee(j.getAttribute("listType"))?j.getAttribute("listStart"):null}}const Wi={},Gt={},xt={},Ke=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:F,typeAttribute:y,listType:j}of Ke)Wi[F]=j,Gt[F]=y,y&&(xt[y]=F);function le(){return Ke.map(F=>F.listStyle)}function Le(F){return Wi[F]||null}function Be(F){return xt[F]||null}function dt(F){return Gt[F]||null}class ht extends d.Command{constructor(y,j,Z){super(y),this.defaultType=j,this._supportedTypes=Z}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(y={}){const j=this.editor.model,Z=j.document;j.change(se=>{this._tryToConvertItemsToList(y);let me=Array.from(Z.selection.getSelectedBlocks()).filter(ke=>ke.hasAttribute("listType"));if(me.length){me=Ce(me);for(const ke of me)se.setAttribute("listStyle",y.type||this.defaultType,ke)}})}isStyleTypeSupported(y){return!this._supportedTypes||this._supportedTypes.includes(y)}_getValue(){const y=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());return $(y)?y.getAttribute("listStyle"):null}_checkEnabled(){const y=this.editor,j=y.commands.get("numberedList"),Z=y.commands.get("bulletedList");return j.isEnabled||Z.isEnabled}_tryToConvertItemsToList(y){if(!y.type)return;const j=Le(y.type);if(!j)return;const Z=this.editor,se=`${j}List`;Z.commands.get(se).value||Z.execute(se)}}class _t extends d.Command{refresh(){const y=this._getValue();this.value=y,this.isEnabled=y!=null}execute(y={}){const j=this.editor.model,Z=j.document;let se=Array.from(Z.selection.getSelectedBlocks()).filter(me=>$(me)&&me.getAttribute("listType")=="numbered");se=Ce(se),j.change(me=>{for(const ke of se)me.setAttribute("listReversed",!!y.reversed,ke)})}_getValue(){const y=this.editor.model.document,j=(0,u.first)(y.selection.getSelectedBlocks());return $(j)&&j.getAttribute("listType")=="numbered"?j.getAttribute("listReversed"):null}}function It(F){return(y,j,Z)=>{const{writer:se,schema:me,consumable:ke}=Z;if(ke.test(j.viewItem,F.viewConsumables)===!1)return;j.modelRange||Object.assign(j,Z.convertChildren(j.viewItem,j.modelCursor));let fe=!1;for(const je of j.modelRange.getItems({shallow:!0}))me.checkAttribute(je,F.attributeName)&&F.appliesToListItem(je)&&(je.hasAttribute(F.attributeName)||(se.setAttribute(F.attributeName,F.getAttributeOnUpcast(j.viewItem),je),fe=!0));fe&&ke.consume(j.viewItem,F.viewConsumables)}}class zt extends d.Plugin{static get pluginName(){return"ListPropertiesUtils"}getAllSupportedStyleTypes(){return le()}getListTypeFromListStyleType(y){return Le(y)}getListStyleTypeFromTypeAttribute(y){return Be(y)}getTypeAttributeFromListStyleType(y){return dt(y)}}const Jt="default";class ai extends d.Plugin{static get requires(){return[wt,zt]}static get pluginName(){return"ListPropertiesEditing"}constructor(y){super(y),y.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const y=this.editor,j=y.model,Z=y.plugins.get(wt),se=function(me){const ke=[];if(me.styles){const fe=typeof me.styles=="object"&&me.styles.useAttribute;ke.push({attributeName:"listStyle",defaultValue:Jt,viewConsumables:{styles:"list-style-type"},addCommand(je){let Ne=le();fe&&(Ne=Ne.filter(et=>!!dt(et))),je.commands.add("listStyle",new ht(je,Jt,Ne))},appliesToListItem:je=>je.getAttribute("listType")=="numbered"||je.getAttribute("listType")=="bulleted",hasValidAttribute(je){if(!this.appliesToListItem(je))return!je.hasAttribute("listStyle");if(!je.hasAttribute("listStyle"))return!1;const Ne=je.getAttribute("listStyle");return Ne==Jt||Le(Ne)==je.getAttribute("listType")},setAttributeOnDowncast(je,Ne,et){if(Ne&&Ne!==Jt){if(!fe)return void je.setStyle("list-style-type",Ne,et);{const rt=dt(Ne);if(rt)return void je.setAttribute("type",rt,et)}}je.removeStyle("list-style-type",et),je.removeAttribute("type",et)},getAttributeOnUpcast(je){const Ne=je.getStyle("list-style-type");if(Ne)return Ne;const et=je.getAttribute("type");return et?Be(et):Jt}})}return me.reversed&&ke.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(fe){fe.commands.add("listReversed",new _t(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",hasValidAttribute(fe){return this.appliesToListItem(fe)==fe.hasAttribute("listReversed")},setAttributeOnDowncast(fe,je,Ne){je?fe.setAttribute("reversed","reversed",Ne):fe.removeAttribute("reversed",Ne)},getAttributeOnUpcast:fe=>fe.hasAttribute("reversed")}),me.startIndex&&ke.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(fe){fe.commands.add("listStart",new Oi(fe))},appliesToListItem:fe=>ee(fe.getAttribute("listType")),hasValidAttribute(fe){return this.appliesToListItem(fe)==fe.hasAttribute("listStart")},setAttributeOnDowncast(fe,je,Ne){je==0||je>1?fe.setAttribute("start",je,Ne):fe.removeAttribute("start",Ne)},getAttributeOnUpcast(fe){const je=fe.getAttribute("start");return je>=0?je:1}}),ke}(y.config.get("list.properties"));for(const me of se)me.addCommand(y),j.schema.extend("$listItem",{allowAttributes:me.attributeName}),Z.registerDowncastStrategy({scope:"list",attributeName:me.attributeName,setAttributeOnDowncast(ke,fe,je){me.setAttributeOnDowncast(ke,fe,je)}});y.conversion.for("upcast").add(me=>{for(const ke of se)me.on("element:ol",It(ke)),me.on("element:ul",It(ke))}),Z.on("checkAttributes:list",(me,{viewElement:ke,modelAttributes:fe})=>{for(const je of se)je.getAttributeOnUpcast(ke)!=fe[je.attributeName]&&(me.return=!0,me.stop())}),this.listenTo(y.commands.get("indentList"),"afterExecute",(me,ke)=>{j.change(fe=>{for(const je of ke)for(const Ne of se)Ne.appliesToListItem(je)&&fe.setAttribute(Ne.attributeName,Ne.defaultValue,je)})}),Z.on("postFixer",(me,{listNodes:ke,writer:fe})=>{for(const{node:je}of ke)for(const Ne of se)Ne.hasValidAttribute(je)||(Ne.appliesToListItem(je)?fe.setAttribute(Ne.attributeName,Ne.defaultValue,je):fe.removeAttribute(Ne.attributeName,je),me.return=!0)}),Z.on("postFixer",(me,{listNodes:ke,writer:fe})=>{for(const{node:je,previousNodeInList:Ne}of ke)if(Ne&&Ne.getAttribute("listType")==je.getAttribute("listType"))for(const et of se){const{attributeName:rt}=et;if(!et.appliesToListItem(je))continue;const Ct=Ne.getAttribute(rt);je.getAttribute(rt)!=Ct&&(fe.setAttribute(rt,Ct,je),me.return=!0)}})}}var si=Q(266),Bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(si.A,Bi),si.A.locals;class pi extends gt.View{constructor(y,{enabledProperties:j,styleButtonViews:Z,styleGridAriaLabel:se}){super(y),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this.focusables=new gt.ViewCollection;const me=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new gt.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),j.styles?(this.stylesView=this._createStylesView(Z,se),this.children.add(this.stylesView)):me.push("ck-list-properties_without-styles"),(j.startIndex||j.reversed)&&(this._addNumberedListPropertyViews(j),me.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:me},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const y of this.stylesView.children)this.stylesView.focusTracker.add(y.element);(0,gt.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>u.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const y=j=>j.stopPropagation();this.keystrokes.set("arrowright",y),this.keystrokes.set("arrowleft",y),this.keystrokes.set("arrowup",y),this.keystrokes.set("arrowdown",y)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(y,j){const Z=new gt.View(this.locale);return Z.children=Z.createCollection(),Z.children.addMany(y),Z.setTemplate({tag:"div",attributes:{"aria-label":j,class:["ck","ck-list-styles-list"]},children:Z.children}),Z.children.delegate("execute").to(this),Z.focus=function(){this.children.first.focus()},Z.focusTracker=new u.FocusTracker,Z.keystrokes=new u.KeystrokeHandler,Z.render(),Z.keystrokes.listenTo(Z.element),Z}_addNumberedListPropertyViews(y){const j=this.locale.t,Z=[];y.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),Z.push(this.startIndexFieldView)),y.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),Z.push(this.reversedSwitchButtonView)),y.styles?(this.additionalPropertiesCollapsibleView=new gt.CollapsibleView(this.locale,Z),this.additionalPropertiesCollapsibleView.set({label:j("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(Z,"isEnabled",(...se)=>se.some(me=>me)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(se,me,ke)=>{ke||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(Z)}_createStartIndexField(){const y=this.locale.t,j=new gt.LabeledFieldView(this.locale,gt.createLabeledInputNumber);return j.set({label:y("Start at"),class:"ck-numbered-list-properties__start-index"}),j.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),j.fieldView.on("input",()=>{const Z=j.fieldView.element,se=Z.valueAsNumber;Number.isNaN(se)?j.errorText=y("Invalid start index value."):Z.checkValidity()?this.fire("listStart",{startIndex:se}):j.errorText=y("Start index must be greater than 0.")}),j}_createReversedSwitchButton(){const y=this.locale.t,j=new gt.SwitchButtonView(this.locale);return j.set({withText:!0,label:y("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),j.delegate("execute").to(this,"listReversed"),j}}var Ci=Q(263),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Ci.A,vt),Ci.A.locals;class Ye extends d.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const y=this.editor,j=y.locale.t,Z=y.config.get("list.properties");if(Z.styles){const se=[{label:j("Toggle the disc list style"),tooltip:j("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:j("Toggle the circle list style"),tooltip:j("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:j("Toggle the square list style"),tooltip:j("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}],me=j("Bulleted List"),ke=j("Bulleted list styles toolbar"),fe="bulletedList";y.ui.componentFactory.add(fe,ct({editor:y,propertiesConfig:Z,parentCommandName:fe,buttonLabel:me,buttonIcon:d.icons.bulletedList,styleGridAriaLabel:ke,styleDefinitions:se})),y.ui.componentFactory.add(`menuBar:${fe}`,yt({editor:y,propertiesConfig:Z,parentCommandName:fe,buttonLabel:me,styleGridAriaLabel:ke,styleDefinitions:se}))}if(Z.styles||Z.startIndex||Z.reversed){const se=[{label:j("Toggle the decimal list style"),tooltip:j("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:j("Toggle the decimal with leading zero list style"),tooltip:j("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:j("Toggle the lower\u2013roman list style"),tooltip:j("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:j("Toggle the upper\u2013roman list style"),tooltip:j("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:j("Toggle the lower\u2013latin list style"),tooltip:j("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:j("Toggle the upper\u2013latin list style"),tooltip:j("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}],me=j("Numbered List"),ke=j("Numbered list styles toolbar"),fe="numberedList";y.ui.componentFactory.add(fe,ct({editor:y,propertiesConfig:Z,parentCommandName:fe,buttonLabel:me,buttonIcon:d.icons.numberedList,styleGridAriaLabel:ke,styleDefinitions:se})),Z.styles&&y.ui.componentFactory.add(`menuBar:${fe}`,yt({editor:y,propertiesConfig:Z,parentCommandName:fe,buttonLabel:me,styleGridAriaLabel:ke,styleDefinitions:se}))}}}function ct({editor:F,propertiesConfig:y,parentCommandName:j,buttonLabel:Z,buttonIcon:se,styleGridAriaLabel:me,styleDefinitions:ke}){const fe=F.commands.get(j);return je=>{const Ne=(0,gt.createDropdown)(je,gt.SplitButtonView),et=Ne.buttonView;return Ne.bind("isEnabled").to(fe),Ne.class="ck-list-styles-dropdown",et.on("execute",()=>{F.execute(j),F.editing.view.focus()}),et.set({label:Z,icon:se,tooltip:!0,isToggleable:!0}),et.bind("isOn").to(fe,"value",rt=>!!rt),Ne.once("change:isOpen",()=>{const rt=function({editor:Ct,propertiesConfig:Et,dropdownView:Bt,parentCommandName:Tt,styleDefinitions:Yt,styleGridAriaLabel:Qt}){const wi=Ct.locale,Ai={...Et};Tt!="numberedList"&&(Ai.startIndex=!1,Ai.reversed=!1);let Ii=null;if(Ai.styles){const nn=Ct.commands.get("listStyle"),_n=qe({editor:Ct,parentCommandName:Tt,listStyleCommand:nn}),ro=Dt(nn);Ii=Yt.filter(ro).map(_n)}const Mi=new pi(wi,{styleGridAriaLabel:Qt,enabledProperties:Ai,styleButtonViews:Ii});if(Ai.styles&&(0,gt.focusChildOnDropdownOpen)(Bt,()=>Mi.stylesView.children.find(nn=>nn.isOn)),Ai.startIndex){const nn=Ct.commands.get("listStart");Mi.startIndexFieldView.bind("isEnabled").to(nn),Mi.startIndexFieldView.fieldView.bind("value").to(nn),Mi.on("listStart",(_n,ro)=>Ct.execute("listStart",ro))}if(Ai.reversed){const nn=Ct.commands.get("listReversed");Mi.reversedSwitchButtonView.bind("isEnabled").to(nn),Mi.reversedSwitchButtonView.bind("isOn").to(nn,"value",_n=>!!_n),Mi.on("listReversed",()=>{const _n=nn.value;Ct.execute("listReversed",{reversed:!_n})})}return Mi.delegate("execute").to(Bt),Mi}({editor:F,propertiesConfig:y,dropdownView:Ne,parentCommandName:j,styleGridAriaLabel:me,styleDefinitions:ke});Ne.panelView.children.add(rt)}),Ne.on("execute",()=>{F.editing.view.focus()}),Ne}}function qe({editor:F,listStyleCommand:y,parentCommandName:j}){const Z=F.locale,se=F.commands.get(j);return({label:me,type:ke,icon:fe,tooltip:je})=>{const Ne=new gt.ButtonView(Z);return Ne.set({label:me,icon:fe,tooltip:je}),y.on("change:value",()=>{Ne.isOn=y.value===ke}),Ne.on("execute",()=>{se.value?y.value===ke?F.execute(j):y.value!==ke&&F.execute("listStyle",{type:ke}):F.model.change(()=>{F.execute("listStyle",{type:ke})})}),Ne}}function yt({editor:F,propertiesConfig:y,parentCommandName:j,buttonLabel:Z,styleGridAriaLabel:se,styleDefinitions:me}){return ke=>{const fe=new gt.MenuBarMenuView(ke),je=F.commands.get(j),Ne=F.commands.get("listStyle"),et=Dt(Ne),rt=qe({editor:F,parentCommandName:j,listStyleCommand:Ne}),Ct=me.filter(et).map(rt),Et=new pi(ke,{styleGridAriaLabel:se,enabledProperties:{...y,startIndex:!1,reversed:!1},styleButtonViews:Ct});return Et.delegate("execute").to(fe),fe.buttonView.set({label:Z,icon:d.icons[j]}),fe.panelView.children.add(Et),fe.bind("isEnabled").to(je,"isEnabled"),fe.on("execute",()=>{F.editing.view.focus()}),fe}}function Dt(F){return typeof F.isStyleTypeSupported=="function"?y=>F.isStyleTypeSupported(y.type):()=>!0}class Mt extends d.Plugin{static get requires(){return[ai,Ye]}static get pluginName(){return"ListProperties"}}class jt extends d.Command{constructor(y){super(y),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const y=this._getSelectedItems();this.value=this._getValue(y),this.isEnabled=!!y.length}execute(y={}){this.editor.model.change(j=>{const Z=this._getSelectedItems(),se=y.forceValue===void 0?!this._getValue(Z):y.forceValue;for(const me of Z)se?j.setAttribute("todoListChecked",!0,me):j.removeAttribute("todoListChecked",me)})}_getValue(y){return y.every(j=>j.getAttribute("todoListChecked"))}_getSelectedItems(){const y=this.editor.model,j=y.schema,Z=y.document.selection.getFirstRange(),se=Z.start.parent,me=[];j.checkAttribute(se,"todoListChecked")&&me.push(...K(se));for(const ke of Z.getItems({shallow:!0}))j.checkAttribute(ke,"todoListChecked")&&!me.includes(ke)&&me.push(...K(ke));return me}}class Te extends He.DomEventObserver{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(y){if(y.target){const j=this.view.domConverter.mapDomToView(y.target);j&&j.is("element","input")&&j.getAttribute("type")=="checkbox"&&j.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",y)}}}const V=(0,u.parseKeystroke)("Ctrl+Enter");class N extends d.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[wt]}init(){const y=this.editor,j=y.model,Z=y.editing,se=y.plugins.get(wt),me=y.config.get("list.multiBlock")?"paragraph":"listItem";y.commands.add("todoList",new W(y,"todo")),y.commands.add("checkTodoList",new jt(y)),Z.view.addObserver(Te),j.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),j.schema.addAttributeCheck((ke,fe)=>{const je=ke.last;if(fe=="todoListChecked")return!(!je.getAttribute("listItemId")||je.getAttribute("listType")!="todo")&&void 0}),y.conversion.for("upcast").add(ke=>{ke.on("element:input",(fe,je,Ne)=>{const et=je.modelCursor,rt=et.parent,Ct=je.viewItem;if(!Ne.consumable.test(Ct,{name:!0})||Ct.getAttribute("type")!="checkbox"||!et.isAtStart||!rt.hasAttribute("listType"))return;Ne.consumable.consume(Ct,{name:!0});const Et=Ne.writer;Et.setAttribute("listType","todo",rt),je.viewItem.hasAttribute("checked")&&Et.setAttribute("todoListChecked",!0,rt),je.modelRange=Et.createRange(et)}),ke.on("element:label",X({name:"label",classes:"todo-list__label"})),ke.on("element:label",X({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),ke.on("element:span",X({name:"span",classes:"todo-list__label__description"})),ke.on("element:ul",function(fe){const je=new He.Matcher(fe);return(Ne,et,rt)=>{const Ct=je.match(et.viewItem);if(!Ct)return;const Et=Ct.match;Et.name=!1,rt.consumable.consume(et.viewItem,Et)}}({name:"ul",classes:"todo-list"}))}),y.conversion.for("downcast").elementToElement({model:me,view:(ke,{writer:fe})=>{if(Pe(ke,se.getListAttributeNames()))return fe.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),se.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(ke,fe,je){fe=="todo"?ke.addClass("todo-list",je):ke.removeClass("todo-list",je)}}),se.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(ke,fe,{dataPipeline:je}){if(fe.getAttribute("listType")!="todo")return null;const Ne=ke.createUIElement("input",{type:"checkbox",...fe.getAttribute("todoListChecked")?{checked:"checked"}:null,...je?{disabled:"disabled"}:{tabindex:"-1"}});if(je)return Ne;const et=ke.createContainerElement("span",{contenteditable:"false"},Ne);return et.getFillerOffset=()=>null,et},canWrapElement:ke=>Pe(ke,se.getListAttributeNames()),createWrapperElement(ke,fe,{dataPipeline:je}){const Ne=["todo-list__label"];return Pe(fe,se.getListAttributeNames())||Ne.push("todo-list__label_without-description"),ke.createAttributeElement(je?"label":"span",{class:Ne.join(" ")})}}),se.on("checkElement",(ke,{modelElement:fe,viewElement:je})=>{const Ne=Pe(fe,se.getListAttributeNames());je.hasClass("todo-list__label__description")!=Ne&&(ke.return=!0,ke.stop())}),se.on("checkElement",(ke,{modelElement:fe,viewElement:je})=>{const Ne=fe.getAttribute("listType")=="todo"&&ge(fe);let et=!1;const rt=y.editing.view.createPositionBefore(je).getWalker({direction:"backward"});for(const{item:Ct}of rt){if(Ct.is("element")&&y.editing.mapper.toModelElement(Ct))break;Ct.is("element","input")&&Ct.getAttribute("type")=="checkbox"&&(et=!0)}et!=Ne&&(ke.return=!0,ke.stop())}),se.on("postFixer",(ke,{listNodes:fe,writer:je})=>{for(const{node:Ne,previousNodeInList:et}of fe){if(!et||et.getAttribute("listItemId")!=Ne.getAttribute("listItemId"))continue;const rt=et.hasAttribute("todoListChecked"),Ct=Ne.hasAttribute("todoListChecked");Ct&&!rt?(je.removeAttribute("todoListChecked",Ne),ke.return=!0):!Ct&&rt&&(je.setAttribute("todoListChecked",!0,Ne),ke.return=!0)}}),j.document.registerPostFixer(ke=>{const fe=j.document.differ.getChanges();let je=!1;for(const Ne of fe)if(Ne.type=="attribute"&&Ne.attributeKey=="listType"){const et=Ne.range.start.nodeAfter;Ne.attributeOldValue=="todo"&&et.hasAttribute("todoListChecked")&&(ke.removeAttribute("todoListChecked",et),je=!0)}else if(Ne.type=="insert"&&Ne.name!="$text")for(const{item:et}of ke.createRangeOn(Ne.position.nodeAfter))et.is("element")&&et.getAttribute("listType")!="todo"&&et.hasAttribute("todoListChecked")&&(ke.removeAttribute("todoListChecked",et),je=!0);return je}),this.listenTo(Z.view.document,"keydown",(ke,fe)=>{(0,u.getCode)(fe)===V&&(y.execute("checkTodoList"),ke.stop())},{priority:"high"}),this.listenTo(Z.view.document,"todoCheckboxChange",(ke,fe)=>{const je=fe.target;if(!je||!je.is("element","input"))return;const Ne=Z.view.createPositionAfter(je),et=Z.mapper.toModelPosition(Ne).parent;et&&$(et)&&et.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(et)}),this.listenTo(Z.view.document,"arrowKey",function(ke,fe){return(je,Ne)=>{const et=(0,u.getLocalizedArrowKeyCodeDirection)(Ne.keyCode,fe.contentLanguageDirection),rt=ke.schema,Ct=ke.document.selection;if(!Ct.isCollapsed)return;const Et=Ct.getFirstPosition(),Bt=Et.parent;if(et=="right"&&Et.isAtEnd){const Tt=rt.getNearestSelectionRange(ke.createPositionAfter(Bt),"forward");if(!Tt)return;const Yt=Tt.start.parent;Yt&&$(Yt)&&Yt.getAttribute("listType")=="todo"&&(ke.change(Qt=>Qt.setSelection(Tt)),Ne.preventDefault(),Ne.stopPropagation(),je.stop())}else if(et=="left"&&Et.isAtStart&&$(Bt)&&Bt.getAttribute("listType")=="todo"){const Tt=rt.getNearestSelectionRange(ke.createPositionBefore(Bt),"backward");if(!Tt)return;ke.change(Yt=>Yt.setSelection(Tt)),Ne.preventDefault(),Ne.stopPropagation(),je.stop()}}}(j,y.locale),{context:"$text"}),this.listenTo(Z.mapper,"viewToModelPosition",(ke,fe)=>{const je=fe.viewPosition.parent,Ne=je.is("attributeElement","li")&&fe.viewPosition.offset==0,et=We(je)&&fe.viewPosition.offset<=1,rt=je.is("element","span")&&je.getAttribute("contenteditable")=="false"&&We(je.parent);if(!Ne&&!et&&!rt)return;const Ct=fe.modelPosition.nodeAfter;Ct&&Ct.getAttribute("listType")=="todo"&&(fe.modelPosition=j.createPositionAt(Ct,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(y){const j=this.editor,Z=j.model,se=Array.from(Z.document.selection.getRanges());Z.change(me=>{me.setSelection(y,"end"),j.execute("checkTodoList"),me.setSelection(se)})}_initAriaAnnouncements(){const{model:y,ui:j,t:Z}=this.editor;let se=null;j&&y.document.selection.on("change:range",()=>{const me=y.document.selection.focus.parent,ke=oe(se),fe=oe(me);ke&&!fe?j.ariaLiveAnnouncer.announce(Z("Leaving a to-do list")):!ke&&fe&&j.ariaLiveAnnouncer.announce(Z("Entering a to-do list")),se=me})}}function X(F){const y=new He.Matcher(F);return(j,Z,se)=>{const me=y.match(Z.viewItem);me&&se.consumable.consume(Z.viewItem,me.match)&&Object.assign(Z,se.convertChildren(Z.viewItem,Z.modelCursor))}}function Pe(F,y){return(F.is("element","paragraph")||F.is("element","listItem"))&&F.getAttribute("listType")=="todo"&&ge(F)&&function(j,Z){for(const se of j.getAttributeKeys())if(!se.startsWith("selection:")&&!Z.includes(se))return!1;return!0}(F,y)}function We(F){return!!F&&F.is("attributeElement")&&F.hasClass("todo-list__label")}function oe(F){return!!F&&!(!F.is("element","paragraph")&&!F.is("element","listItem"))&&F.getAttribute("listType")=="todo"}class Me extends d.Plugin{static get pluginName(){return"TodoListUI"}init(){const y=this.editor.t;gi(this.editor,"todoList",y("To-do List"),d.icons.todoList)}}var Je=Q(825),Qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};at()(Je.A,Qe),Je.A.locals;class ut extends d.Plugin{static get requires(){return[N,Me]}static get pluginName(){return"TodoList"}}class Ft extends d.Command{constructor(y,j){super(y),this.type=j}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(y={}){const j=this.editor.model,Z=j.document,se=Array.from(Z.selection.getSelectedBlocks()).filter(ke=>ri(ke,j.schema)),me=y.forceValue!==void 0?!y.forceValue:this.value;j.change(ke=>{if(me){let fe=se[se.length-1].nextSibling,je=Number.POSITIVE_INFINITY,Ne=[];for(;fe&&fe.name=="listItem"&&fe.getAttribute("listIndent")!==0;){const et=fe.getAttribute("listIndent");et<je&&(je=et);const rt=et-je;Ne.push({element:fe,listIndent:rt}),fe=fe.nextSibling}Ne=Ne.reverse();for(const et of Ne)ke.setAttribute("listIndent",et.listIndent,et.element)}if(!me){let fe=Number.POSITIVE_INFINITY;for(const je of se)je.is("element","listItem")&&je.getAttribute("listIndent")<fe&&(fe=je.getAttribute("listIndent"));fe=fe===0?1:fe,Pt(se,!0,fe),Pt(se,!1,fe)}for(const fe of se.reverse())me&&fe.name=="listItem"?ke.rename(fe,"paragraph"):me||fe.name=="listItem"?me||fe.name!="listItem"||fe.getAttribute("listType")==this.type||ke.setAttribute("listType",this.type,fe):(ke.setAttributes({listType:this.type,listIndent:0},fe),ke.rename(fe,"listItem"));this.fire("_executeCleanup",se)})}_getValue(){const y=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());return!!y&&y.is("element","listItem")&&y.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const y=this.editor.model.document.selection,j=this.editor.model.schema,Z=(0,u.first)(y.getSelectedBlocks());return!!Z&&ri(Z,j)}}function Pt(F,y,j){const Z=y?F[0]:F[F.length-1];if(Z.is("element","listItem")){let se=Z[y?"previousSibling":"nextSibling"],me=Z.getAttribute("listIndent");for(;se&&se.is("element","listItem")&&se.getAttribute("listIndent")>=j;)me>se.getAttribute("listIndent")&&(me=se.getAttribute("listIndent")),se.getAttribute("listIndent")==me&&F[y?"unshift":"push"](se),se=se[y?"previousSibling":"nextSibling"]}}function ri(F,y){return y.checkChild(F.parent,"listItem")&&!y.isObject(F)}class bi extends d.Command{constructor(y,j){super(y),this._indentBy=j=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const y=this.editor.model,j=y.document;let Z=Array.from(j.selection.getSelectedBlocks());y.change(se=>{const me=Z[Z.length-1];let ke=me.nextSibling;for(;ke&&ke.name=="listItem"&&ke.getAttribute("listIndent")>me.getAttribute("listIndent");)Z.push(ke),ke=ke.nextSibling;this._indentBy<0&&(Z=Z.reverse());for(const fe of Z){const je=fe.getAttribute("listIndent")+this._indentBy;je<0?se.rename(fe,"paragraph"):se.setAttribute("listIndent",je,fe)}this.fire("_executeCleanup",Z)})}_checkEnabled(){const y=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());if(!y||!y.is("element","listItem"))return!1;if(this._indentBy>0){const j=y.getAttribute("listIndent"),Z=y.getAttribute("listType");let se=y.previousSibling;for(;se&&se.is("element","listItem")&&se.getAttribute("listIndent")>=j;){if(se.getAttribute("listIndent")==j)return se.getAttribute("listType")==Z;se=se.previousSibling}return!1}return!0}}function ui(F,y){const j=y.mapper,Z=y.writer,se=F.getAttribute("listType")=="numbered"?"ol":"ul",me=function(fe){const je=fe.createContainerElement("li");return je.getFillerOffset=xo,je}(Z),ke=Z.createContainerElement(se,null);return Z.insert(Z.createPositionAt(ke,0),me),j.bindElements(F,me),me}function Ei(F,y,j,Z){const se=y.parent,me=j.mapper,ke=j.writer;let fe=me.toViewPosition(Z.createPositionBefore(F));const je=wn(F.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:F.getAttribute("listIndent")}),Ne=F.previousSibling;if(je&&je.getAttribute("listIndent")==F.getAttribute("listIndent")){const et=me.toViewElement(je);fe=ke.breakContainer(ke.createPositionAfter(et))}else if(Ne&&Ne.name=="listItem"){fe=me.toViewPosition(Z.createPositionAt(Ne,"end"));const et=me.findMappedViewAncestor(fe),rt=yn(et);fe=rt?ke.createPositionBefore(rt):ke.createPositionAt(et,"end")}else fe=me.toViewPosition(Z.createPositionBefore(F));if(fe=bn(fe),ke.insert(fe,se),Ne&&Ne.name=="listItem"){const et=me.toViewElement(Ne),rt=ke.createRange(ke.createPositionAt(et,0),fe).getWalker({ignoreElementEnd:!0});for(const Ct of rt)if(Ct.item.is("element","li")){const Et=ke.breakContainer(ke.createPositionBefore(Ct.item)),Bt=Ct.item.parent,Tt=ke.createPositionAt(y,"end");_i(ke,Tt.nodeBefore,Tt.nodeAfter),ke.move(ke.createRangeOn(Bt),Tt),rt._position=Et}}else{const et=se.nextSibling;if(et&&(et.is("element","ul")||et.is("element","ol"))){let rt=null;for(const Ct of et.getChildren()){const Et=me.toModelElement(Ct);if(!(Et&&Et.getAttribute("listIndent")>F.getAttribute("listIndent")))break;rt=Ct}rt&&(ke.breakContainer(ke.createPositionAfter(rt)),ke.move(ke.createRangeOn(rt.parent),ke.createPositionAt(y,"end")))}}_i(ke,se,se.nextSibling),_i(ke,se.previousSibling,se)}function _i(F,y,j){return!y||!j||y.name!="ul"&&y.name!="ol"||y.name!=j.name||y.getAttribute("class")!==j.getAttribute("class")?null:F.mergeContainers(F.createPositionAfter(y))}function bn(F){return F.getLastMatchingPosition(y=>y.item.is("uiElement"))}function wn(F,y){const j=!!y.sameIndent,Z=!!y.smallerIndent,se=y.listIndent;let me=F;for(;me&&me.name=="listItem";){const ke=me.getAttribute("listIndent");if(j&&se==ke||Z&&se>ke)return me;me=y.direction==="forward"?me.nextSibling:me.previousSibling}return null}function yn(F){for(const y of F.getChildren())if(y.name=="ul"||y.name=="ol")return y;return null}function An(F,y){const j=[],Z=F.parent,se={ignoreElementEnd:!1,startPosition:F,shallow:!0,direction:y},me=Z.getAttribute("listIndent"),ke=[...new He.TreeWalker(se)].filter(fe=>fe.item.is("element")).map(fe=>fe.item);for(const fe of ke){if(!fe.is("element","listItem")||fe.getAttribute("listIndent")<me)break;if(!(fe.getAttribute("listIndent")>me)){if(fe.getAttribute("listType")!==Z.getAttribute("listType")||fe.getAttribute("listStyle")!==Z.getAttribute("listStyle")||fe.getAttribute("listReversed")!==Z.getAttribute("listReversed")||fe.getAttribute("listStart")!==Z.getAttribute("listStart"))break;y==="backward"?j.unshift(fe):j.push(fe)}}return j}function gn(F){let y=[...F.document.selection.getSelectedBlocks()].filter(j=>j.is("element","listItem")).map(j=>{const Z=F.change(se=>se.createPositionAt(j,0));return[...An(Z,"backward"),...An(Z,"forward")]}).flat();return y=[...new Set(y)],y}const Yn=["disc","circle","square"],In=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Jn(F){return Yn.includes(F)?"bulleted":In.includes(F)?"numbered":null}function xo(){const F=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||F?0:He.getFillerOffset.call(this)}class Xn extends d.Plugin{static get pluginName(){return"LegacyListUtils"}getListTypeFromListStyleType(y){return Jn(y)}getSelectedListItems(y){return gn(y)}getSiblingNodes(y,j){return An(y,j)}}function Co(F){return(y,j,Z)=>{const se=Z.consumable;if(!se.test(j.item,"insert")||!se.test(j.item,"attribute:listType")||!se.test(j.item,"attribute:listIndent"))return;se.consume(j.item,"insert"),se.consume(j.item,"attribute:listType"),se.consume(j.item,"attribute:listIndent");const me=j.item;Ei(me,ui(me,Z),Z,F)}}const eo=(F,y,j)=>{if(!j.consumable.test(y.item,F.name))return;const Z=j.mapper.toViewElement(y.item),se=j.writer;se.breakContainer(se.createPositionBefore(Z)),se.breakContainer(se.createPositionAfter(Z));const me=Z.parent,ke=y.attributeNewValue=="numbered"?"ol":"ul";se.rename(ke,me)},Go=(F,y,j)=>{j.consumable.consume(y.item,F.name);const Z=j.mapper.toViewElement(y.item).parent,se=j.writer;_i(se,Z,Z.nextSibling),_i(se,Z.previousSibling,Z)},hn=(F,y,j)=>{if(j.consumable.test(y.item,F.name)&&y.item.name!="listItem"){let Z=j.mapper.toViewPosition(y.range.start);const se=j.writer,me=[];for(;(Z.parent.name=="ul"||Z.parent.name=="ol")&&(Z=se.breakContainer(Z),Z.parent.name=="li");){const ke=Z,fe=se.createPositionAt(Z.parent,"end");if(!ke.isEqual(fe)){const je=se.remove(se.createRange(ke,fe));me.push(je)}Z=se.createPositionAfter(Z.parent)}if(me.length>0){for(let ke=0;ke<me.length;ke++){const fe=Z.nodeBefore;if(Z=se.insert(Z,me[ke]).end,ke>0){const je=_i(se,fe,fe.nextSibling);je&&je.parent==fe&&Z.offset--}}_i(se,Z.nodeBefore,Z.nodeAfter)}}},Sn=(F,y,j)=>{const Z=j.mapper.toViewPosition(y.position),se=Z.nodeBefore,me=Z.nodeAfter;_i(j.writer,se,me)},zn=(F,y,j)=>{if(j.consumable.consume(y.viewItem,{name:!0})){const Z=j.writer,se=Z.createElement("listItem"),me=function(je){let Ne=0,et=je.parent;for(;et;){if(et.is("element","li"))Ne++;else{const rt=et.previousSibling;rt&&rt.is("element","li")&&Ne++}et=et.parent}return Ne}(y.viewItem);Z.setAttribute("listIndent",me,se);const ke=y.viewItem.parent&&y.viewItem.parent.name=="ol"?"numbered":"bulleted";if(Z.setAttribute("listType",ke,se),!j.safeInsert(se,y.modelCursor))return;const fe=function(je,Ne,et){const{writer:rt,schema:Ct}=et;let Et=rt.createPositionAfter(je);for(const Bt of Ne)if(Bt.name=="ul"||Bt.name=="ol")Et=et.convertItem(Bt,Et).modelCursor;else{const Tt=et.convertItem(Bt,rt.createPositionAt(je,"end")),Yt=Tt.modelRange.start.nodeAfter;Yt&&Yt.is("element")&&!Ct.checkChild(je,Yt.name)&&(je=Tt.modelCursor.parent.is("element","listItem")?Tt.modelCursor.parent:Mo(Tt.modelCursor),Et=rt.createPositionAfter(je))}return Et}(se,y.viewItem.getChildren(),j);y.modelRange=Z.createRange(y.modelCursor,fe),j.updateConversionResult(se,y)}},go=(F,y,j)=>{if(j.consumable.test(y.viewItem,{name:!0})){const Z=Array.from(y.viewItem.getChildren());for(const se of Z)!(se.is("element","li")||Fn(se))&&se._remove()}},ir=(F,y,j)=>{if(j.consumable.test(y.viewItem,{name:!0})){if(y.viewItem.childCount===0)return;const Z=[...y.viewItem.getChildren()];let se=!1;for(const me of Z)se&&!Fn(me)&&me._remove(),Fn(me)&&(se=!0)}};function po(F){return(y,j)=>{if(j.isPhantom)return;const Z=j.modelPosition.nodeBefore;if(Z&&Z.is("element","listItem")){const se=j.mapper.toViewElement(Z),me=se.getAncestors().find(Fn),ke=F.createPositionAt(se,0).getWalker();for(const fe of ke){if(fe.type=="elementStart"&&fe.item.is("element","li")){j.viewPosition=fe.previousPosition;break}if(fe.type=="elementEnd"&&fe.item==me){j.viewPosition=fe.nextPosition;break}}}}}const Ao=function(F,[y,j]){const Z=this;let se,me=y.is("documentFragment")?y.getChild(0):y;if(se=j?Z.createSelection(j):Z.document.selection,me&&me.is("element","listItem")){const ke=se.getFirstPosition();let fe=null;if(ke.parent.is("element","listItem")?fe=ke.parent:ke.nodeBefore&&ke.nodeBefore.is("element","listItem")&&(fe=ke.nodeBefore),fe){const je=fe.getAttribute("listIndent");if(je>0)for(;me&&me.is("element","listItem");)me._setAttribute("listIndent",me.getAttribute("listIndent")+je),me=me.nextSibling}}};function Mo(F){const y=new He.TreeWalker({startPosition:F});let j;do j=y.next();while(!j.value.item.is("element","listItem"));return j.value.item}function Fo(F,y,j,Z,se,me){const ke=wn(y.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:F}),fe=se.mapper,je=se.writer,Ne=ke?ke.getAttribute("listIndent"):null;let et;if(ke)if(Ne==F){const rt=fe.toViewElement(ke).parent;et=je.createPositionAfter(rt)}else{const rt=me.createPositionAt(ke,"end");et=fe.toViewPosition(rt)}else et=j;et=bn(et);for(const rt of[...Z.getChildren()])Fn(rt)&&(et=je.move(je.createRangeOn(rt),et).end,_i(je,rt,rt.nextSibling),_i(je,rt.previousSibling,rt))}function Fn(F){return F.is("element","ol")||F.is("element","ul")}class to extends d.Plugin{static get pluginName(){return"LegacyListEditing"}static get requires(){return[s.Enter,w.Delete,Xn]}init(){const y=this.editor;y.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const j=y.data,Z=y.editing;var se;y.model.document.registerPostFixer(ke=>function(fe,je){const Ne=fe.document.differ.getChanges(),et=new Map;let rt=!1;for(const Tt of Ne)if(Tt.type=="insert"&&Tt.name=="listItem")Ct(Tt.position);else if(Tt.type=="insert"&&Tt.name!="listItem"){if(Tt.name!="$text"){const Yt=Tt.position.nodeAfter;Yt.hasAttribute("listIndent")&&(je.removeAttribute("listIndent",Yt),rt=!0),Yt.hasAttribute("listType")&&(je.removeAttribute("listType",Yt),rt=!0),Yt.hasAttribute("listStyle")&&(je.removeAttribute("listStyle",Yt),rt=!0),Yt.hasAttribute("listReversed")&&(je.removeAttribute("listReversed",Yt),rt=!0),Yt.hasAttribute("listStart")&&(je.removeAttribute("listStart",Yt),rt=!0);for(const Qt of Array.from(fe.createRangeIn(Yt)).filter(wi=>wi.item.is("element","listItem")))Ct(Qt.previousPosition)}Ct(Tt.position.getShiftedBy(Tt.length))}else Tt.type=="remove"&&Tt.name=="listItem"?Ct(Tt.position):(Tt.type=="attribute"&&Tt.attributeKey=="listIndent"||Tt.type=="attribute"&&Tt.attributeKey=="listType")&&Ct(Tt.range.start);for(const Tt of et.values())Et(Tt),Bt(Tt);return rt;function Ct(Tt){const Yt=Tt.nodeBefore;if(Yt&&Yt.is("element","listItem")){let Qt=Yt;if(et.has(Qt))return;for(let wi=Qt.previousSibling;wi&&wi.is("element","listItem");wi=Qt.previousSibling)if(Qt=wi,et.has(Qt))return;et.set(Yt,Qt)}else{const Qt=Tt.nodeAfter;Qt&&Qt.is("element","listItem")&&et.set(Qt,Qt)}}function Et(Tt){let Yt=0,Qt=null;for(;Tt&&Tt.is("element","listItem");){const wi=Tt.getAttribute("listIndent");if(wi>Yt){let Ai;Qt===null?(Qt=wi-Yt,Ai=Yt):(Qt>wi&&(Qt=wi),Ai=wi-Qt),je.setAttribute("listIndent",Ai,Tt),rt=!0}else Qt=null,Yt=Tt.getAttribute("listIndent")+1;Tt=Tt.nextSibling}}function Bt(Tt){let Yt=[],Qt=null;for(;Tt&&Tt.is("element","listItem");){const wi=Tt.getAttribute("listIndent");if(Qt&&Qt.getAttribute("listIndent")>wi&&(Yt=Yt.slice(0,wi+1)),wi!=0)if(Yt[wi]){const Ai=Yt[wi];Tt.getAttribute("listType")!=Ai&&(je.setAttribute("listType",Ai,Tt),rt=!0)}else Yt[wi]=Tt.getAttribute("listType");Qt=Tt,Tt=Tt.nextSibling}}}(y.model,ke)),Z.mapper.registerViewToModelLength("li",Tn),j.mapper.registerViewToModelLength("li",Tn),Z.mapper.on("modelToViewPosition",po(Z.view)),Z.mapper.on("viewToModelPosition",(se=y.model,(ke,fe)=>{const je=fe.viewPosition,Ne=je.parent,et=fe.mapper;if(Ne.name=="ul"||Ne.name=="ol"){if(je.isAtEnd){const rt=et.toModelElement(je.nodeBefore),Ct=et.getModelLength(je.nodeBefore);fe.modelPosition=se.createPositionBefore(rt).getShiftedBy(Ct)}else{const rt=et.toModelElement(je.nodeAfter);fe.modelPosition=se.createPositionBefore(rt)}ke.stop()}else if(Ne.name=="li"&&je.nodeBefore&&(je.nodeBefore.name=="ul"||je.nodeBefore.name=="ol")){const rt=et.toModelElement(Ne);let Ct=1,Et=je.nodeBefore;for(;Et&&Fn(Et);)Ct+=et.getModelLength(Et),Et=Et.previousSibling;fe.modelPosition=se.createPositionBefore(rt).getShiftedBy(Ct),ke.stop()}})),j.mapper.on("modelToViewPosition",po(Z.view)),y.conversion.for("editingDowncast").add(ke=>{ke.on("insert",hn,{priority:"high"}),ke.on("insert:listItem",Co(y.model)),ke.on("attribute:listType:listItem",eo,{priority:"high"}),ke.on("attribute:listType:listItem",Go,{priority:"low"}),ke.on("attribute:listIndent:listItem",function(fe){return(je,Ne,et)=>{if(!et.consumable.consume(Ne.item,"attribute:listIndent"))return;const rt=et.mapper.toViewElement(Ne.item),Ct=et.writer;Ct.breakContainer(Ct.createPositionBefore(rt)),Ct.breakContainer(Ct.createPositionAfter(rt));const Et=rt.parent,Bt=Et.previousSibling,Tt=Ct.createRangeOn(Et);Ct.remove(Tt),Bt&&Bt.nextSibling&&_i(Ct,Bt,Bt.nextSibling),Fo(Ne.attributeOldValue+1,Ne.range.start,Tt.start,rt,et,fe),Ei(Ne.item,rt,et,fe);for(const Yt of Ne.item.getChildren())et.consumable.consume(Yt,"insert")}}(y.model)),ke.on("remove:listItem",function(fe){return(je,Ne,et)=>{const rt=et.mapper.toViewPosition(Ne.position).getLastMatchingPosition(Qt=>!Qt.item.is("element","li")).nodeAfter,Ct=et.writer;Ct.breakContainer(Ct.createPositionBefore(rt)),Ct.breakContainer(Ct.createPositionAfter(rt));const Et=rt.parent,Bt=Et.previousSibling,Tt=Ct.createRangeOn(Et),Yt=Ct.remove(Tt);Bt&&Bt.nextSibling&&_i(Ct,Bt,Bt.nextSibling),Fo(et.mapper.toModelElement(rt).getAttribute("listIndent")+1,Ne.position,Tt.start,rt,et,fe);for(const Qt of Ct.createRangeIn(Yt).getItems())et.mapper.unbindViewElement(Qt);je.stop()}}(y.model)),ke.on("remove",Sn,{priority:"low"})}),y.conversion.for("dataDowncast").add(ke=>{ke.on("insert",hn,{priority:"high"}),ke.on("insert:listItem",Co(y.model))}),y.conversion.for("upcast").add(ke=>{ke.on("element:ul",go,{priority:"high"}),ke.on("element:ol",go,{priority:"high"}),ke.on("element:li",ir,{priority:"high"}),ke.on("element:li",zn)}),y.model.on("insertContent",Ao,{priority:"high"}),y.commands.add("numberedList",new Ft(y,"numbered")),y.commands.add("bulletedList",new Ft(y,"bulleted")),y.commands.add("indentList",new bi(y,"forward")),y.commands.add("outdentList",new bi(y,"backward"));const me=Z.view.document;this.listenTo(me,"enter",(ke,fe)=>{const je=this.editor.model.document,Ne=je.selection.getLastPosition().parent;je.selection.isCollapsed&&Ne.name=="listItem"&&Ne.isEmpty&&(this.editor.execute("outdentList"),fe.preventDefault(),ke.stop())},{context:"li"}),this.listenTo(me,"delete",(ke,fe)=>{if(fe.direction!=="backward")return;const je=this.editor.model.document.selection;if(!je.isCollapsed)return;const Ne=je.getFirstPosition();if(!Ne.isAtStart)return;const et=Ne.parent;et.name==="listItem"&&(et.previousSibling&&et.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),fe.preventDefault(),ke.stop()))},{context:"li"}),this.listenTo(y.editing.view.document,"tab",(ke,fe)=>{const je=fe.shiftKey?"outdentList":"indentList";this.editor.commands.get(je).isEnabled&&(y.execute(je),fe.stopPropagation(),fe.preventDefault(),ke.stop())},{context:"li"})}afterInit(){const y=this.editor.commands,j=y.get("indent"),Z=y.get("outdent");j&&j.registerChildCommand(y.get("indentList")),Z&&Z.registerChildCommand(y.get("outdentList"))}}function Tn(F){let y=1;for(const j of F.getChildren())if(j.name=="ul"||j.name=="ol")for(const Z of j.getChildren())y+=Tn(Z);return y}class wo extends d.Plugin{static get requires(){return[to,Pi]}static get pluginName(){return"LegacyList"}}class Lo extends d.Command{constructor(y,j){super(y),this.defaultType=j}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(y={}){this._tryToConvertItemsToList(y);const j=this.editor.model,Z=gn(j);Z.length&&j.change(se=>{for(const me of Z)se.setAttribute("listStyle",y.type||this.defaultType,me)})}_getValue(){const y=this.editor.model.document.selection.getFirstPosition().parent;return y&&y.is("element","listItem")?y.getAttribute("listStyle"):null}_checkEnabled(){const y=this.editor,j=y.commands.get("numberedList"),Z=y.commands.get("bulletedList");return j.isEnabled||Z.isEnabled}_tryToConvertItemsToList(y){if(!y.type)return;const j=Jn(y.type);if(!j)return;const Z=this.editor,se=`${j}List`;Z.commands.get(se).value||Z.execute(se)}}class Ho extends d.Command{refresh(){const y=this._getValue();this.value=y,this.isEnabled=y!=null}execute(y={}){const j=this.editor.model,Z=gn(j).filter(se=>se.getAttribute("listType")=="numbered");j.change(se=>{for(const me of Z)se.setAttribute("listReversed",!!y.reversed,me)})}_getValue(){const y=this.editor.model.document.selection.getFirstPosition().parent;return y&&y.is("element","listItem")&&y.getAttribute("listType")=="numbered"?y.getAttribute("listReversed"):null}}class nr extends d.Command{refresh(){const y=this._getValue();this.value=y,this.isEnabled=y!=null}execute({startIndex:y=1}={}){const j=this.editor.model,Z=gn(j).filter(se=>se.getAttribute("listType")=="numbered");j.change(se=>{for(const me of Z)se.setAttribute("listStart",y>=0?y:1,me)})}_getValue(){const y=this.editor.model.document.selection.getFirstPosition().parent;return y&&y.is("element","listItem")&&y.getAttribute("listType")=="numbered"?y.getAttribute("listStart"):null}}const To="default";class io extends d.Plugin{static get requires(){return[to]}static get pluginName(){return"LegacyListPropertiesEditing"}constructor(y){super(y),y.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const y=this.editor,j=y.model,Z=function(me){const ke=[];return me.styles&&ke.push({attributeName:"listStyle",defaultValue:To,addCommand(fe){fe.commands.add("listStyle",new Lo(fe,To))},appliesToListItem:()=>!0,setAttributeOnDowncast(fe,je,Ne){je&&je!==To?fe.setStyle("list-style-type",je,Ne):fe.removeStyle("list-style-type",Ne)},getAttributeOnUpcast:fe=>fe.getStyle("list-style-type")||To}),me.reversed&&ke.push({attributeName:"listReversed",defaultValue:!1,addCommand(fe){fe.commands.add("listReversed",new Ho(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",setAttributeOnDowncast(fe,je,Ne){je?fe.setAttribute("reversed","reversed",Ne):fe.removeAttribute("reversed",Ne)},getAttributeOnUpcast:fe=>fe.hasAttribute("reversed")}),me.startIndex&&ke.push({attributeName:"listStart",defaultValue:1,addCommand(fe){fe.commands.add("listStart",new nr(fe))},appliesToListItem:fe=>fe.getAttribute("listType")=="numbered",setAttributeOnDowncast(fe,je,Ne){je==0||je>1?fe.setAttribute("start",je,Ne):fe.removeAttribute("start",Ne)},getAttributeOnUpcast(fe){const je=fe.getAttribute("start");return je>=0?je:1}}),ke}(y.config.get("list.properties"));j.schema.extend("listItem",{allowAttributes:Z.map(me=>me.attributeName)});for(const me of Z)me.addCommand(y);var se;this.listenTo(y.commands.get("indentList"),"_executeCleanup",function(me,ke){return(fe,je)=>{const Ne=je[0],et=Ne.getAttribute("listIndent"),rt=je.filter(Et=>Et.getAttribute("listIndent")===et);let Ct=null;Ne.previousSibling.getAttribute("listIndent")+1!==et&&(Ct=wn(Ne.previousSibling,{sameIndent:!0,direction:"backward",listIndent:et})),me.model.change(Et=>{for(const Bt of rt)for(const Tt of ke)if(Tt.appliesToListItem(Bt)){const Yt=Ct==null?Tt.defaultValue:Ct.getAttribute(Tt.attributeName);Et.setAttribute(Tt.attributeName,Yt,Bt)}})}}(y,Z)),this.listenTo(y.commands.get("outdentList"),"_executeCleanup",function(me,ke){return(fe,je)=>{if(!(je=je.reverse().filter(Ct=>Ct.is("element","listItem"))).length)return;const Ne=je[0].getAttribute("listIndent"),et=je[0].getAttribute("listType");let rt=je[0].previousSibling;if(rt.is("element","listItem"))for(;rt.getAttribute("listIndent")!==Ne;)rt=rt.previousSibling;else rt=null;rt||(rt=je[je.length-1].nextSibling),rt&&rt.is("element","listItem")&&rt.getAttribute("listType")===et&&me.model.change(Ct=>{const Et=je.filter(Bt=>Bt.getAttribute("listIndent")===Ne);for(const Bt of Et)for(const Tt of ke)if(Tt.appliesToListItem(Bt)){const Yt=Tt.attributeName,Qt=rt.getAttribute(Yt);Ct.setAttribute(Yt,Qt,Bt)}})}}(y,Z)),this.listenTo(y.commands.get("bulletedList"),"_executeCleanup",Pn(y)),this.listenTo(y.commands.get("numberedList"),"_executeCleanup",Pn(y)),j.document.registerPostFixer(function(me,ke){return fe=>{let je=!1;const Ne=Hn(me.model.document.differ.getChanges()).filter(rt=>rt.getAttribute("listType")!=="todo");if(!Ne.length)return je;let et=Ne[Ne.length-1].nextSibling;if((!et||!et.is("element","listItem"))&&(et=Ne[0].previousSibling,et)){const rt=Ne[0].getAttribute("listIndent");for(;et.is("element","listItem")&&et.getAttribute("listIndent")!==rt&&(et=et.previousSibling,et););}for(const rt of ke){const Ct=rt.attributeName;for(const Et of Ne)if(rt.appliesToListItem(Et))if(Et.hasAttribute(Ct)){const Bt=Et.previousSibling;no(Bt,Et,rt.attributeName)&&(fe.setAttribute(Ct,Bt.getAttribute(Ct),Et),je=!0)}else fo(et,Et,rt)?fe.setAttribute(Ct,et.getAttribute(Ct),Et):fe.setAttribute(Ct,rt.defaultValue,Et),je=!0;else fe.removeAttribute(Ct,Et)}return je}}(y,Z)),y.conversion.for("upcast").add((se=Z,me=>{me.on("element:li",(ke,fe,je)=>{if(!fe.modelRange)return;const Ne=fe.viewItem.parent,et=fe.modelRange.start.nodeAfter||fe.modelRange.end.nodeBefore;for(const rt of se)if(rt.appliesToListItem(et)){const Ct=rt.getAttributeOnUpcast(Ne);je.writer.setAttribute(rt.attributeName,Ct,et)}},{priority:"low"})})),y.conversion.for("downcast").add(function(me){return fe=>{for(const je of me)fe.on(`attribute:${je.attributeName}:listItem`,(Ne,et,rt)=>{const Ct=rt.writer,Et=et.item,Bt=wn(Et.previousSibling,{sameIndent:!0,listIndent:Et.getAttribute("listIndent"),direction:"backward"}),Tt=rt.mapper.toViewElement(Et);ke(Et,Bt)||Ct.breakContainer(Ct.createPositionBefore(Tt)),je.setAttributeOnDowncast(Ct,et.attributeNewValue,Tt.parent)},{priority:"low"})};function ke(fe,je){return je&&fe.getAttribute("listType")===je.getAttribute("listType")&&fe.getAttribute("listIndent")===je.getAttribute("listIndent")&&fe.getAttribute("listStyle")===je.getAttribute("listStyle")&&fe.getAttribute("listReversed")===je.getAttribute("listReversed")&&fe.getAttribute("listStart")===je.getAttribute("listStart")}}(Z)),this._mergeListAttributesWhileMergingLists(Z)}afterInit(){const y=this.editor;y.commands.get("todoList")&&y.model.document.registerPostFixer(function(j){return Z=>{const se=Hn(j.model.document.differ.getChanges()).filter(me=>me.getAttribute("listType")==="todo"&&(me.hasAttribute("listStyle")||me.hasAttribute("listReversed")||me.hasAttribute("listStart")));if(!se.length)return!1;for(const me of se)Z.removeAttribute("listStyle",me),Z.removeAttribute("listReversed",me),Z.removeAttribute("listStart",me);return!0}}(y))}_mergeListAttributesWhileMergingLists(y){const j=this.editor.model;let Z;this.listenTo(j,"deleteContent",(se,[me])=>{const ke=me.getFirstPosition(),fe=me.getLastPosition();if(ke.parent===fe.parent||!ke.parent.is("element","listItem"))return;const je=fe.parent.nextSibling;if(!je||!je.is("element","listItem"))return;const Ne=wn(ke.parent,{sameIndent:!0,listIndent:je.getAttribute("listIndent")});Ne&&Ne.getAttribute("listType")===je.getAttribute("listType")&&(Z=Ne)},{priority:"high"}),this.listenTo(j,"deleteContent",()=>{Z&&(j.change(se=>{const me=wn(Z.nextSibling,{sameIndent:!0,listIndent:Z.getAttribute("listIndent"),direction:"forward"});if(!me)return void(Z=null);const ke=[me,...An(se.createPositionAt(me,0),"forward")];for(const fe of ke)for(const je of y)if(je.appliesToListItem(fe)){const Ne=je.attributeName,et=Z.getAttribute(Ne);se.setAttribute(Ne,et,fe)}}),Z=null)},{priority:"low"})}}function fo(F,y,j){if(!F)return!1;const Z=F.getAttribute(j.attributeName);return!!Z&&Z!=j.defaultValue&&F.getAttribute("listType")===y.getAttribute("listType")}function no(F,y,j){if(!F||!F.is("element","listItem")||y.getAttribute("listType")!==F.getAttribute("listType"))return!1;const Z=F.getAttribute("listIndent");if(Z<1||Z!==y.getAttribute("listIndent"))return!1;const se=F.getAttribute(j);return!(!se||se===y.getAttribute(j))}function Pn(F){return(y,j)=>{j=j.filter(Z=>Z.is("element","listItem")),F.model.change(Z=>{for(const se of j)Z.removeAttribute("listStyle",se)})}}function Hn(F){const y=[];for(const j of F){const Z=un(j);Z&&Z.is("element","listItem")&&y.push(Z)}return y}function un(F){return F.type==="attribute"?F.range.start.nodeAfter:F.type==="insert"?F.position.nodeAfter:null}class Un extends d.Plugin{static get requires(){return[io,Ye]}static get pluginName(){return"LegacyListProperties"}}const ji="todoListChecked";class mn extends d.Command{constructor(y){super(y),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(y=>!!y.getAttribute(ji)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const y=this.editor.model,j=y.schema,Z=y.document.selection.getFirstRange(),se=Z.start.parent,me=[];j.checkAttribute(se,ji)&&me.push(se);for(const ke of Z.getItems())j.checkAttribute(ke,ji)&&!me.includes(ke)&&me.push(ke);return me}execute(y={}){this.editor.model.change(j=>{for(const Z of this._selectedElements)(y.forceValue===void 0?!this.value:y.forceValue)?j.setAttribute(ji,!0,Z):j.removeAttribute(ji,Z)})}}const co=(F,y,j)=>{const Z=y.modelCursor,se=Z.parent,me=y.viewItem;if(me.getAttribute("type")!="checkbox"||se.name!="listItem"||!Z.isAtStart||!j.consumable.consume(me,{name:!0}))return;const ke=j.writer;ke.setAttribute("listType","todo",se),y.viewItem.hasAttribute("checked")&&ke.setAttribute("todoListChecked",!0,se),y.modelRange=ke.createRange(Z)};function Xt(F){return(y,j)=>{const Z=j.modelPosition,se=Z.parent;if(!se.is("element","listItem")||se.getAttribute("listType")!="todo")return;const me=uo(j.mapper.toViewElement(se),F);me&&(j.viewPosition=j.mapper.findPositionIn(me,Z.offset))}}function oo(F,y,j,Z){return y.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(se){const me=(0,u.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});j&&me.setAttribute("checked","checked"),me.addEventListener("change",()=>Z(F));const ke=this.toDomElement(se);return ke.appendChild(me),ke})}function uo(F,y){const j=y.createRangeIn(F);for(const Z of j)if(Z.item.is("containerElement","span")&&Z.item.hasClass("todo-list__label__description"))return Z.item}const Bn=(0,u.parseKeystroke)("Ctrl+Enter");class Uo extends d.Plugin{static get pluginName(){return"LegacyTodoListEditing"}static get requires(){return[to]}init(){const y=this.editor,{editing:j,data:Z,model:se}=y;se.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),se.schema.addAttributeCheck((Ne,et)=>{const rt=Ne.last;if(et=="todoListChecked"&&rt.name=="listItem"&&rt.getAttribute("listType")!="todo")return!1}),y.commands.add("todoList",new Ft(y,"todo"));const me=new mn(y);var ke,fe;y.commands.add("checkTodoList",me),y.commands.add("todoListCheck",me),Z.downcastDispatcher.on("insert:listItem",function(Ne){return(et,rt,Ct)=>{const Et=Ct.consumable;if(!Et.test(rt.item,"insert")||!Et.test(rt.item,"attribute:listType")||!Et.test(rt.item,"attribute:listIndent")||rt.item.getAttribute("listType")!="todo")return;const Bt=rt.item;Et.consume(Bt,"insert"),Et.consume(Bt,"attribute:listType"),Et.consume(Bt,"attribute:listIndent"),Et.consume(Bt,"attribute:todoListChecked");const Tt=Ct.writer,Yt=ui(Bt,Ct);Tt.addClass("todo-list",Yt.parent);const Qt=Tt.createContainerElement("label",{class:"todo-list__label"}),wi=Tt.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Ai=Tt.createContainerElement("span",{class:"todo-list__label__description"});Bt.getAttribute("todoListChecked")&&Tt.setAttribute("checked","checked",wi),Tt.insert(Tt.createPositionAt(Yt,0),Qt),Tt.insert(Tt.createPositionAt(Qt,0),wi),Tt.insert(Tt.createPositionAfter(wi),Ai),Ei(Bt,Yt,Ct,Ne)}}(se),{priority:"high"}),Z.upcastDispatcher.on("element:input",co,{priority:"high"}),j.downcastDispatcher.on("insert:listItem",function(Ne,et){return(rt,Ct,Et)=>{const Bt=Et.consumable;if(!Bt.test(Ct.item,"insert")||!Bt.test(Ct.item,"attribute:listType")||!Bt.test(Ct.item,"attribute:listIndent")||Ct.item.getAttribute("listType")!="todo")return;const Tt=Ct.item;Bt.consume(Tt,"insert"),Bt.consume(Tt,"attribute:listType"),Bt.consume(Tt,"attribute:listIndent"),Bt.consume(Tt,"attribute:todoListChecked");const Yt=Et.writer,Qt=ui(Tt,Et),wi=!!Tt.getAttribute("todoListChecked"),Ai=oo(Tt,Yt,wi,et),Ii=Yt.createContainerElement("span",{class:"todo-list__label__description"});Yt.addClass("todo-list",Qt.parent),Yt.insert(Yt.createPositionAt(Qt,0),Ai),Yt.insert(Yt.createPositionAfter(Ai),Ii),Ei(Tt,Qt,Et,Ne)}}(se,Ne=>this._handleCheckmarkChange(Ne)),{priority:"high"}),j.downcastDispatcher.on("attribute:listType:listItem",(ke=Ne=>this._handleCheckmarkChange(Ne),fe=j.view,(Ne,et,rt)=>{if(!rt.consumable.consume(et.item,Ne.name))return;const Ct=rt.mapper.toViewElement(et.item),Et=rt.writer,Bt=function(Tt,Yt){const Qt=Yt.createRangeIn(Tt);for(const wi of Qt)if(wi.item.is("uiElement","label"))return wi.item}(Ct,fe);if(et.attributeNewValue=="todo"){const Tt=!!et.item.getAttribute("todoListChecked"),Yt=oo(et.item,Et,Tt,ke),Qt=Et.createContainerElement("span",{class:"todo-list__label__description"}),wi=Et.createRangeIn(Ct),Ai=yn(Ct),Ii=bn(wi.start),Mi=Ai?Et.createPositionBefore(Ai):wi.end,nn=Et.createRange(Ii,Mi);Et.addClass("todo-list",Ct.parent),Et.move(nn,Et.createPositionAt(Qt,0)),Et.insert(Et.createPositionAt(Ct,0),Yt),Et.insert(Et.createPositionAfter(Yt),Qt)}else if(et.attributeOldValue=="todo"){const Tt=uo(Ct,fe);Et.removeClass("todo-list",Ct.parent),Et.remove(Bt),Et.move(Et.createRangeIn(Tt),Et.createPositionBefore(Tt)),Et.remove(Tt)}})),j.downcastDispatcher.on("attribute:todoListChecked:listItem",function(Ne){return(et,rt,Ct)=>{if(rt.item.getAttribute("listType")!="todo"||!Ct.consumable.consume(rt.item,"attribute:todoListChecked"))return;const{mapper:Et,writer:Bt}=Ct,Tt=!!rt.item.getAttribute("todoListChecked"),Yt=Et.toViewElement(rt.item).getChild(0),Qt=oo(rt.item,Bt,Tt,Ne);Bt.insert(Bt.createPositionAfter(Yt),Qt),Bt.remove(Yt)}}(Ne=>this._handleCheckmarkChange(Ne))),j.mapper.on("modelToViewPosition",Xt(j.view)),Z.mapper.on("modelToViewPosition",Xt(j.view)),this.listenTo(j.view.document,"arrowKey",function(Ne,et){return(rt,Ct)=>{if((0,u.getLocalizedArrowKeyCodeDirection)(Ct.keyCode,et.contentLanguageDirection)!="left")return;const Et=Ne.schema,Bt=Ne.document.selection;if(!Bt.isCollapsed)return;const Tt=Bt.getFirstPosition(),Yt=Tt.parent;if(Yt.name==="listItem"&&Yt.getAttribute("listType")=="todo"&&Tt.isAtStart){const Qt=Et.getNearestSelectionRange(Ne.createPositionBefore(Yt),"backward");Qt&&Ne.change(wi=>wi.setSelection(Qt)),Ct.preventDefault(),Ct.stopPropagation(),rt.stop()}}}(se,y.locale),{context:"li"}),this.listenTo(j.view.document,"keydown",(Ne,et)=>{(0,u.getCode)(et)===Bn&&(y.execute("checkTodoList"),Ne.stop())},{priority:"high"});const je=new Set;this.listenTo(se,"applyOperation",(Ne,et)=>{const rt=et[0];if(rt.type=="rename"&&rt.oldName=="listItem"){const Ct=rt.position.nodeAfter;Ct.hasAttribute("todoListChecked")&&je.add(Ct)}else if(rt.type=="changeAttribute"&&rt.key=="listType"&&rt.oldValue==="todo")for(const Ct of rt.range.getItems())Ct.hasAttribute("todoListChecked")&&Ct.getAttribute("listType")!=="todo"&&je.add(Ct)}),se.document.registerPostFixer(Ne=>{let et=!1;for(const rt of je)Ne.removeAttribute("todoListChecked",rt),et=!0;return je.clear(),et}),this._initAriaAnnouncements()}_handleCheckmarkChange(y){const j=this.editor,Z=j.model,se=Array.from(Z.document.selection.getRanges());Z.change(me=>{me.setSelection(y,"end"),j.execute("checkTodoList"),me.setSelection(se)})}_initAriaAnnouncements(){const{model:y,ui:j,t:Z}=this.editor;let se=null;j&&y.document.selection.on("change:range",()=>{const me=y.document.selection.focus.parent,ke=ho(se),fe=ho(me);ke&&!fe?j.ariaLiveAnnouncer.announce(Z("Leaving a to-do list")):!ke&&fe&&j.ariaLiveAnnouncer.announce(Z("Entering a to-do list")),se=me})}}function ho(F){return!!F&&F.is("element","listItem")&&F.getAttribute("listType")==="todo"}class Lt extends d.Plugin{static get requires(){return[Uo,Me]}static get pluginName(){return"LegacyTodoList"}}class mo extends d.Plugin{static get pluginName(){return"AdjacentListsSupport"}init(){const y=this.editor;y.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),y.conversion.for("upcast").add(j=>{j.on("element:ol",_e()),j.on("element:ul",_e())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),y.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),y.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(j,Z)=>{const se=Z.writer.createContainerElement("ck-list-separator");return Z.writer.setCustomProperty("dataPipeline:transparentRendering",!0,se),se.getFillerOffset=()=>null,se}})}}function _e(){return(F,y,j)=>{const Z=y.viewItem,se=Z.nextSibling;if(!se||Z.name!==se.name)return;y.modelRange||Object.assign(y,j.convertChildren(y.viewItem,y.modelCursor));const me=j.writer,ke=me.createElement("listSeparator");if(!j.safeInsert(ke,y.modelCursor))return;const fe=j.getSplitParts(ke);y.modelRange=me.createRange(y.modelRange.start,me.createPositionAfter(fe[fe.length-1])),j.updateConversionResult(ke,y)}}class B extends d.Plugin{static get requires(){return[Di]}static get pluginName(){return"DocumentList"}constructor(y){super(y),(0,u.logWarning)("plugin-obsolete-documentlist",{pluginName:"DocumentList"})}}class ce extends d.Plugin{static get requires(){return[Mt]}static get pluginName(){return"DocumentListProperties"}constructor(y){super(y),(0,u.logWarning)("plugin-obsolete-documentlistproperties",{pluginName:"DocumentListProperties"})}}class $e extends d.Plugin{static get requires(){return[ut]}static get pluginName(){return"TodoDocumentList"}constructor(y){super(y),(0,u.logWarning)("plugin-obsolete-tododocumentlist",{pluginName:"TodoDocumentList"})}}})(),(window.CKEditor5=window.CKEditor5||{}).list=ti})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Nt={331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{MSWordNormalizer:()=>p,PasteFromOffice:()=>O,parseHtml:()=>re});var d=Q(782),w=Q(331),s=Q(783);function u(W){return W!==void 0&&W.endsWith("px")}function C(W){return W.toFixed(2).replace(/\.?0+$/,"")+"px"}function L(W,ie,we){if(!W.childCount)return;const Ae=new s.UpcastWriter(W.document),He=function(de,Se){const Re=Se.createRangeIn(de),Oe=[],G=new Set;for(const Ie of Re.getItems()){if(!Ie.is("element")||!Ie.name.match(/^(p|h\d+|li|div)$/))continue;let Ue=Y(Ie);if(Ue===void 0||parseFloat(Ue)!=0||Array.from(Ie.getClassNames()).find(nt=>nt.startsWith("MsoList"))||(Ue=void 0),Ie.hasStyle("mso-list")||Ue!==void 0&&G.has(Ue)){const nt=Ee(Ie);Oe.push({element:Ie,id:nt.id,order:nt.order,indent:nt.indent,marginLeft:Ue}),Ue!==void 0&&G.add(Ue)}else G.clear()}return Oe}(W,Ae);if(!He.length)return;const it={},ne=[];for(const de of He)if(de.indent!==void 0){k(de)||(ne.length=0);const Se=`${de.id}:${de.indent}`,Re=Math.min(de.indent-1,ne.length);if(Re<ne.length&&ne[Re].id!==de.id&&(ne.length=Re),Re<ne.length-1)ne.length=Re+1;else{const G=$(de,ie);if(Re>ne.length-1||ne[Re].listElement.name!=G.type){Re==0&&G.type=="ol"&&de.id!==void 0&&it[Se]&&(G.startIndex=it[Se]);const Ie=R(G,Ae,we);if(u(de.marginLeft)&&(Re==0||u(ne[Re-1].marginLeft))){let Ue=de.marginLeft;Re>0&&(Ue=C(parseFloat(Ue)-parseFloat(ne[Re-1].marginLeft))),Ae.setStyle("padding-left",Ue,Ie)}if(ne.length==0){const Ue=de.element.parent,nt=Ue.getChildIndex(de.element)+1;Ae.insertChild(nt,Ie,Ue)}else{const Ue=ne[Re-1].listItemElements;Ae.appendChild(Ie,Ue[Ue.length-1])}ne[Re]={...de,listElement:Ie,listItemElements:[]},Re==0&&de.id!==void 0&&(it[Se]=G.startIndex||1)}}const Oe=de.element.name=="li"?de.element:Ae.createElement("li");Ae.appendChild(Oe,ne[Re].listElement),ne[Re].listItemElements.push(Oe),Re==0&&de.id!==void 0&&it[Se]++,de.element!=Oe&&Ae.appendChild(de.element,Oe),ge(de.element,Ae),Ae.removeStyle("text-indent",de.element),Ae.removeStyle("margin-left",de.element)}else{const Se=ne.find(Re=>Re.marginLeft==de.marginLeft);if(Se){const Re=Se.listItemElements;Ae.appendChild(de.element,Re[Re.length-1]),Ae.removeStyle("margin-left",de.element)}else ne.length=0}}function k(W){const ie=W.element.previousSibling;return v(ie||W.element.parent)}function v(W){return W.is("element","ol")||W.is("element","ul")}function $(W,ie){const we=new RegExp(`@list l${W.id}:level${W.indent}\\s*({[^}]*)`,"gi"),Ae=/mso-level-number-format:([^;]{0,100});/gi,He=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,it=new RegExp(`@list\\s+l${W.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),ne=new RegExp(`@list l${W.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),de=it.exec(ie),Se=ne.exec(ie),Re=de&&!Se,Oe=we.exec(ie);let G="decimal",Ie="ol",Ue=null;if(Oe&&Oe[1]){const nt=Ae.exec(Oe[1]);if(nt&&nt[1]&&(G=nt[1].trim(),Ie=G!=="bullet"&&G!=="image"?"ol":"ul"),G==="bullet"){const xe=function(pe){if(pe.name=="li"&&pe.parent.name=="ul"&&pe.parent.hasAttribute("type"))return pe.parent.getAttribute("type");const ye=function(ot){if(ot.getChild(0).is("$text"))return null;for(const at of ot.getChildren()){if(!at.is("element","span"))continue;const mt=at.getChild(0);if(mt)return mt.is("$text")?mt:mt.getChild(0)}return null}(pe);if(!ye)return null;const Ze=ye._data;return Ze==="o"?"circle":Ze==="\xB7"?"disc":Ze==="\xA7"?"square":null}(W.element);xe&&(G=xe)}else{const xe=He.exec(Oe[1]);xe&&xe[1]&&(Ue=parseInt(xe[1]))}Re&&(Ie="ol")}return{type:Ie,startIndex:Ue,style:K(G),isLegalStyleList:Re}}function K(W){if(W.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(W){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return W;default:return null}}function R(W,ie,we){const Ae=ie.createElement(W.type);return W.style&&ie.setStyle("list-style-type",W.style,Ae),W.startIndex&&W.startIndex>1&&ie.setAttribute("start",W.startIndex,Ae),W.isLegalStyleList&&we&&ie.addClass("legal-list",Ae),Ae}function Ee(W){const ie=W.getStyle("mso-list");if(ie===void 0)return{};const we=ie.match(/(^|\s{1,100})l(\d+)/i),Ae=ie.match(/\s{0,100}lfo(\d+)/i),He=ie.match(/\s{0,100}level(\d+)/i);return we&&Ae&&He?{id:we[2],order:Ae[1],indent:parseInt(He[1])}:{indent:1}}function ge(W,ie){const we=new s.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),Ae=ie.createRangeIn(W);for(const He of Ae)He.type==="elementStart"&&we.match(He.item)&&ie.remove(He.item)}function Y(W){const ie=W.getStyle("margin-left");return ie===void 0||ie.endsWith("px")?ie:function(we){const Ae=parseFloat(we);return we.endsWith("pt")?C(96*Ae/72):we.endsWith("pc")?C(12*Ae*96/72):we.endsWith("in")?C(96*Ae):we.endsWith("cm")?C(96*Ae/2.54):we.endsWith("mm")?C(Ae/10*96/2.54):we}(ie)}function J(W,ie){if(!W.childCount)return;const we=new s.UpcastWriter(W.document),Ae=function(it,ne){const de=ne.createRangeIn(it),Se=new s.Matcher({name:/v:(.+)/}),Re=[];for(const Oe of de){if(Oe.type!="elementStart")continue;const G=Oe.item,Ie=G.previousSibling,Ue=Ie&&Ie.is("element")?Ie.name:null,nt=["Chart"],xe=Se.match(G),pe=G.getAttribute("o:gfxdata"),ye=Ue==="v:shapetype",Ze=pe&&nt.some(ot=>G.getAttribute("id").includes(ot));xe&&pe&&!ye&&!Ze&&Re.push(Oe.item.getAttribute("id"))}return Re}(W,we);(function(it,ne,de){const Se=de.createRangeIn(ne),Re=new s.Matcher({name:"img"}),Oe=[];for(const G of Se)if(G.item.is("element")&&Re.match(G.item)){const Ie=G.item,Ue=Ie.getAttribute("v:shapes")?Ie.getAttribute("v:shapes").split(" "):[];Ue.length&&Ue.every(nt=>it.indexOf(nt)>-1)?Oe.push(Ie):Ie.getAttribute("src")||Oe.push(Ie)}for(const G of Oe)de.remove(G)})(Ae,W,we),function(it,ne,de){const Se=de.createRangeIn(ne),Re=[];for(const Ie of Se)if(Ie.type=="elementStart"&&Ie.item.is("element","v:shape")){const Ue=Ie.item.getAttribute("id");if(it.includes(Ue))continue;Oe(Ie.item.parent.getChildren(),Ue)||Re.push(Ie.item)}for(const Ie of Re){const Ue={src:G(Ie)};Ie.hasAttribute("alt")&&(Ue.alt=Ie.getAttribute("alt"));const nt=de.createElement("img",Ue);de.insertChild(Ie.index+1,nt,Ie.parent)}function Oe(Ie,Ue){for(const nt of Ie)if(nt.is("element")&&(nt.name=="img"&&nt.getAttribute("v:shapes")==Ue||Oe(nt.getChildren(),Ue)))return!0;return!1}function G(Ie){for(const Ue of Ie.getChildren())if(Ue.is("element")&&Ue.getAttribute("src"))return Ue.getAttribute("src")}}(Ae,W,we),function(it,ne){const de=ne.createRangeIn(it),Se=new s.Matcher({name:/v:(.+)/}),Re=[];for(const Oe of de)Oe.type=="elementStart"&&Se.match(Oe.item)&&Re.push(Oe.item);for(const Oe of Re)ne.remove(Oe)}(W,we);const He=function(it,ne){const de=ne.createRangeIn(it),Se=new s.Matcher({name:"img"}),Re=[];for(const Oe of de)Oe.item.is("element")&&Se.match(Oe.item)&&Oe.item.getAttribute("src").startsWith("file://")&&Re.push(Oe.item);return Re}(W,we);He.length&&function(it,ne,de){if(it.length===ne.length)for(let Se=0;Se<it.length;Se++){const Re=`data:${ne[Se].type};base64,${Ce(ne[Se].hex)}`;de.setAttribute("src",Re,it[Se])}}(He,function(it){if(!it)return[];const ne=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,de=new RegExp("(?:("+ne.source+"))([\\da-fA-F\\s]+)\\}","g"),Se=it.match(de),Re=[];if(Se)for(const Oe of Se){let G=!1;Oe.includes("\\pngblip")?G="image/png":Oe.includes("\\jpegblip")&&(G="image/jpeg"),G&&Re.push({hex:Oe.replace(ne,"").replace(/[^\da-fA-F]/g,""),type:G})}return Re}(ie),we)}function Ce(W){return btoa(W.match(/\w{2}/g).map(ie=>String.fromCharCode(parseInt(ie,16))).join(""))}const ue=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,h=/xmlns:o="urn:schemas-microsoft-com/i;class p{constructor(ie,we=!1){this.document=ie,this.hasMultiLevelListPlugin=we}isActive(ie){return ue.test(ie)||h.test(ie)}execute(ie){const{body:we,stylesString:Ae}=ie._parsedData;L(we,Ae,this.hasMultiLevelListPlugin),J(we,ie.dataTransfer.getData("text/rtf")),function(He){const it=[],ne=new s.UpcastWriter(He.document);for(const{item:de}of ne.createRangeIn(He))if(de.is("element")){for(const Se of de.getClassNames())/\bmso/gi.exec(Se)&&ne.removeClass(Se,de);for(const Se of de.getStyleNames())/\bmso/gi.exec(Se)&&ne.removeStyle(Se,de);(de.is("element","w:sdt")||de.is("element","w:sdtpr")&&de.isEmpty||de.is("element","o:p")&&de.isEmpty)&&it.push(de)}for(const de of it){const Se=de.parent,Re=Se.getChildIndex(de);ne.insertChild(Re,de.getChildren(),Se),ne.remove(de)}}(we),ie.content=we}}function g(W,ie,we,{blockElements:Ae,inlineObjectElements:He}){let it=we.createPositionAt(W,ie=="forward"?"after":"before");return it=it.getLastMatchingPosition(({item:ne})=>ne.is("element")&&!Ae.includes(ne.name)&&!He.includes(ne.name),{direction:ie}),ie=="forward"?it.nodeAfter:it.nodeBefore}function _(W,ie){return!!W&&W.is("element")&&ie.includes(W.name)}const S=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class I{constructor(ie){this.document=ie}isActive(ie){return S.test(ie)}execute(ie){const we=new s.UpcastWriter(this.document),{body:Ae}=ie._parsedData;(function(He,it){for(const ne of He.getChildren())if(ne.is("element","b")&&ne.getStyle("font-weight")==="normal"){const de=He.getChildIndex(ne);it.remove(ne),it.insertChild(de,ne.getChildren(),He)}})(Ae,we),function(He,it){for(const ne of it.createRangeIn(He)){const de=ne.item;if(de.is("element","li")){const Se=de.getChild(0);Se&&Se.is("element","p")&&it.unwrapElement(Se)}}}(Ae,we),function(He,it){const ne=new s.ViewDocument(it.document.stylesProcessor),de=new s.DomConverter(ne,{renderingMode:"data"}),Se=de.blockElements,Re=de.inlineObjectElements,Oe=[];for(const G of it.createRangeIn(He)){const Ie=G.item;if(Ie.is("element","br")){const Ue=g(Ie,"forward",it,{blockElements:Se,inlineObjectElements:Re}),nt=g(Ie,"backward",it,{blockElements:Se,inlineObjectElements:Re}),xe=_(Ue,Se);(_(nt,Se)||xe)&&Oe.push(Ie)}}for(const G of Oe)G.hasClass("Apple-interchange-newline")?it.remove(G):it.replace(G,it.createElement("p"))}(Ae,we),ie.content=Ae}}const M=/<google-sheets-html-origin/i;class ee{constructor(ie){this.document=ie}isActive(ie){return M.test(ie)}execute(ie){const we=new s.UpcastWriter(this.document),{body:Ae}=ie._parsedData;(function(He,it){for(const ne of He.getChildren())if(ne.is("element","google-sheets-html-origin")){const de=He.getChildIndex(ne);it.remove(ne),it.insertChild(de,ne.getChildren(),He)}})(Ae,we),function(He,it){for(const ne of He.getChildren())ne.is("element","table")&&ne.hasAttribute("xmlns")&&it.removeAttribute("xmlns",ne)}(Ae,we),function(He,it){for(const ne of He.getChildren())ne.is("element","table")&&ne.getStyle("width")==="0px"&&it.removeStyle("width",ne)}(Ae,we),function(He,it){for(const ne of Array.from(He.getChildren()))ne.is("element","style")&&it.remove(ne)}(Ae,we),ie.content=Ae}}function H(W){return W.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ie,we)=>we.length===1?" ":Array(we.length+1).join("\xA0 ").substr(0,we.length))}function re(W,ie){const we=new DOMParser,Ae=function(Se){return H(H(Se)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(Se){const Re="</body>",Oe="</html>",G=Se.indexOf(Re);if(G<0)return Se;const Ie=Se.indexOf(Oe,G+Re.length);return Se.substring(0,G+Re.length)+(Ie>=0?Se.substring(Ie):"")}(W=(W=W.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),He=we.parseFromString(Ae,"text/html");(function(Se){Se.querySelectorAll("span[style*=spacerun]").forEach(Re=>{const Oe=Re,G=Oe.innerText.length||0;Oe.innerText=Array(G+1).join("\xA0 ").substr(0,G)})})(He);const it=He.body.innerHTML,ne=function(Se,Re){const Oe=new s.ViewDocument(Re),G=new s.DomConverter(Oe,{renderingMode:"data"}),Ie=Se.createDocumentFragment(),Ue=Se.body.childNodes;for(;Ue.length>0;)Ie.appendChild(Ue[0]);return G.domToView(Ie,{skipComments:!0})}(He,ie),de=function(Se){const Re=[],Oe=[],G=Array.from(Se.getElementsByTagName("style"));for(const Ie of G)Ie.sheet&&Ie.sheet.cssRules&&Ie.sheet.cssRules.length&&(Re.push(Ie.sheet),Oe.push(Ie.innerHTML));return{styles:Re,stylesString:Oe.join(" ")}}(He);return{body:ne,bodyString:it,styles:de.styles,stylesString:de.stylesString}}class O extends d.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[w.ClipboardPipeline]}init(){const ie=this.editor,we=ie.plugins.get("ClipboardPipeline"),Ae=ie.editing.view.document,He=[],it=this.editor.plugins.has("MultiLevelList");He.push(new p(Ae,it)),He.push(new I(Ae)),He.push(new ee(Ae)),we.on("inputTransformation",(ne,de)=>{if(de._isTransformedWithPasteFromOffice||ie.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const Se=de.dataTransfer.getData("text/html"),Re=He.find(Oe=>Oe.isActive(Se));Re&&(de._parsedData||(de._parsedData=re(Se,Ae.stylesProcessor)),Re.execute(de),de._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Advanced options":"Advanced options",Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Find in the document":"Find in the document","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={501:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const L=C},629:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const L=C},979:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-find-and-replace-form{max-width:100%;& .ck-find-and-replace-form__inputs,.ck-find-and-replace-form__actions{display:flex}& .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter,.ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-content:stretch;align-items:center;flex:1 1 auto;flex-direction:row;flex-wrap:wrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-right:0}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{max-width:100%;width:300px}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex:1 1 auto;flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{text-align:center;width:100%}}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{FindAndReplace:()=>Wi,FindAndReplaceEditing:()=>Oi,FindAndReplaceUI:()=>Ee,FindAndReplaceUtils:()=>xe,FindCommand:()=>ge,FindNextCommand:()=>ue,FindPreviousCommand:()=>h,ReplaceAllCommand:()=>Ce,ReplaceCommand:()=>J});var d=Q(782),w=Q(311),s=Q(584),u=Q(591),C=Q.n(u),L=Q(501),k={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(L.A,k),L.A.locals;var v=Q(979),$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(v.A,$),v.A.locals;class K extends w.View{constructor(xt){super(xt);const Ke=xt.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(le,Le)=>le>0&&!Le),this._findInputView=this._createInputField(Ke("Find in text\u2026")),this._findPrevButtonView=this._createButton({label:Ke("Previous result"),class:"ck-button-prev",icon:d.icons.previousArrow,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:Ke("Next result"),class:"ck-button-next",icon:d.icons.previousArrow,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(Ke("Replace with\u2026"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:Ke("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:Ke("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:Ke("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new s.FocusTracker,this._keystrokes=new s.KeystrokeHandler,this._focusables=new w.ViewCollection,this.focusCycler=new w.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,w.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(xt){xt===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const xt=this.locale,Ke=xt.t,le=new w.View(xt);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Le})=>Le),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Le})=>Le),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Le},Be)=>Le&&Be),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Le,Be)=>Le||!Be?"":Ke("Tip: Find some text first in order to replace it.")),le.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),le}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const xt=this.t;this._findInputView.errorText=xt("Text to find must not be empty.")}}_injectFindResultsCounter(){const xt=this.locale,Ke=xt.t,le=this.bindTemplate,Le=new w.View(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(dt,ht)=>Ke("%0 of %1",[dt,ht])),Le.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",le.if("isDirty","ck-hidden")]},children:[{text:le.to("_resultsCounterText")}]});const Be=()=>{const dt=this._findInputView.fieldView.element;if(!dt||!(0,s.isVisible)(dt))return;const ht=new s.Rect(Le.element).width,_t=xt.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";dt.style[_t]=ht?`calc( 2 * var(--ck-spacing-standard) + ${ht}px )`:""};this.on("change:_resultsCounterText",Be,{priority:"low"}),this.on("change:isDirty",Be,{priority:"low"}),this._findInputView.template.children[0].children.push(Le)}_createAdvancedOptionsCollapsible(){const xt=this.locale.t,Ke=new w.CollapsibleView(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return Ke.set({label:xt("Advanced options"),isCollapsed:!0}),Ke}_createActionButtonsDiv(){const xt=new w.View(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ke},le)=>Ke&&le),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:Ke},le)=>Ke&&le),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),xt.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),xt}_createMatchCaseSwitch(){const xt=this.locale.t,Ke=new w.SwitchButtonView(this.locale);return Ke.set({label:xt("Match case"),withText:!0}),Ke.bind("isOn").to(this,"_matchCase"),Ke.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),Ke}_createWholeWordsOnlySwitch(){const xt=this.locale.t,Ke=new w.SwitchButtonView(this.locale);return Ke.set({label:xt("Whole words only"),withText:!0}),Ke.bind("isOn").to(this,"_wholeWordsOnly"),Ke.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),Ke}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(xt=>{this._focusables.add(xt),this._focusTracker.add(xt.element)})}_initKeystrokeHandling(){const xt=le=>le.stopPropagation(),Ke=le=>{le.stopPropagation(),le.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",le=>{Ke(le),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",le=>{Ke(le),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",le=>{const Le=le.target;Le===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),Ke(le)):Le!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),Ke(le))}),this._keystrokes.set("shift+enter",le=>{le.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),Ke(le))}),this._keystrokes.set("arrowright",xt),this._keystrokes.set("arrowleft",xt),this._keystrokes.set("arrowup",xt),this._keystrokes.set("arrowdown",xt)}_createButton(xt){const Ke=new w.ButtonView(this.locale);return Ke.set(xt),Ke}_createInputField(xt,Ke){const le=new w.LabeledFieldView(this.locale,w.createLabeledInputText);return le.label=xt,le.class=Ke,le}}const R='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class Ee extends d.Plugin{static get requires(){return[w.Dialog]}static get pluginName(){return"FindAndReplaceUI"}constructor(xt){super(xt),xt.config.define("findAndReplace.uiType","dialog"),this.formView=null}init(){const xt=this.editor,Ke=xt.config.get("findAndReplace.uiType")==="dropdown",le=xt.commands.get("find"),Le=this.editor.t;xt.ui.componentFactory.add("findAndReplace",()=>{let Be;return Ke?(Be=this._createDropdown(),Be.bind("isEnabled").to(le)):Be=this._createDialogButtonForToolbar(),xt.keystrokes.set("Ctrl+F",(dt,ht)=>{if(le.isEnabled){if(Be instanceof w.DropdownView){const _t=Be.buttonView;_t.isOn||_t.fire("execute")}else Be.isOn?xt.plugins.get("Dialog").view.focus():Be.fire("execute");ht()}}),Be}),Ke||xt.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),xt.accessibility.addKeystrokeInfos({keystrokes:[{label:Le("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const xt=this.editor,Ke=xt.locale.t,le=(0,w.createDropdown)(xt.locale);return le.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new w.FormHeaderView(xt.locale,{label:Ke("Find and replace")}),0),le.panelView.children.add(this.formView)}),le.on("change:isOpen",(Le,Be,dt)=>{dt?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),le.buttonView.set({icon:R,label:Ke("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),le}_createDialogButtonForToolbar(){const xt=this.editor,Ke=this._createButton(w.ButtonView),le=xt.plugins.get("Dialog");return Ke.set({tooltip:!0}),Ke.bind("isOn").to(le,"id",Le=>Le==="findAndReplace"),Ke.on("execute",()=>{Ke.isOn?le.hide():this._showDialog()}),Ke}_createDialogButtonForMenuBar(){const xt=this._createButton(w.MenuBarMenuListItemButtonView),Ke=this.editor.plugins.get("Dialog");return xt.on("execute",()=>{Ke.id!=="findAndReplace"?this._showDialog():Ke.hide()}),xt}_createButton(xt){const Ke=this.editor,le=Ke.commands.get("find"),Le=new xt(Ke.locale),Be=Ke.locale.t;return Le.bind("isEnabled").to(le),Le.set({icon:R,label:Be("Find and replace"),keystroke:"CTRL+F"}),Le}_showDialog(){const xt=this.editor,Ke=xt.plugins.get("Dialog"),le=xt.locale.t;this.formView||(this.formView=this._createFormView()),Ke.show({id:"findAndReplace",title:le("Find and replace"),content:this.formView,position:w.DialogViewPosition.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const xt=this.editor,Ke=new((0,w.CssTransitionDisablerMixin)(K))(xt.locale),le=xt.commands,Le=this.editor.plugins.get("FindAndReplaceEditing").state;Ke.bind("highlightOffset").to(Le,"highlightedOffset"),Ke.listenTo(Le.results,"change",()=>{Ke.matchCount=Le.results.length});const Be=le.get("findNext"),dt=le.get("findPrevious"),ht=le.get("replace"),_t=le.get("replaceAll");return Ke.bind("_areCommandsEnabled").to(Be,"isEnabled",dt,"isEnabled",ht,"isEnabled",_t,"isEnabled",(It,zt,Jt,ai)=>({findNext:It,findPrevious:zt,replace:Jt,replaceAll:ai})),Ke.delegate("findNext","findPrevious","replace","replaceAll").to(this),Ke.on("change:isDirty",(It,zt,Jt)=>{Jt&&this.fire("searchReseted")}),Ke}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class ge extends d.Command{constructor(xt,Ke){super(xt),this.isEnabled=!0,this.affectsData=!1,this._state=Ke}execute(xt,{matchCase:Ke,wholeWords:le}={}){const{editor:Le}=this,{model:Be}=Le,dt=Le.plugins.get("FindAndReplaceUtils");let ht;typeof xt=="string"?(ht=dt.findByTextCallback(xt,{matchCase:Ke,wholeWords:le}),this._state.searchText=xt):ht=xt;const _t=Be.document.getRootNames().reduce((It,zt)=>dt.updateFindResultFromRange(Be.createRangeIn(Be.document.getRoot(zt)),Be,ht,It),null);return this._state.clear(Be),this._state.results.addMany(_t),this._state.highlightedResult=_t.get(0),typeof xt=="string"&&(this._state.searchText=xt),ht&&(this._state.lastSearchCallback=ht),this._state.matchCase=!!Ke,this._state.matchWholeWords=!!le,{results:_t,findCallback:ht}}}class Y extends d.Command{constructor(xt,Ke){super(xt),this.isEnabled=!0,this._state=Ke,this._isEnabledBasedOnSelection=!1}_replace(xt,Ke){const{model:le}=this.editor,Le=Ke.marker.getRange();le.canEditAt(Le)&&le.change(Be=>{if(Le.root.rootName==="$graveyard")return void this._state.results.remove(Ke);let dt={};for(const ht of Le.getItems())if(ht.is("$text")||ht.is("$textProxy")){dt=ht.getAttributes();break}le.insertContent(Be.createText(xt,dt),Le),this._state.results.has(Ke)&&this._state.results.remove(Ke)})}}class J extends Y{execute(xt,Ke){this._replace(xt,Ke)}}class Ce extends Y{execute(xt,Ke){const{editor:le}=this,{model:Le}=le,Be=le.plugins.get("FindAndReplaceUtils"),dt=Ke instanceof s.Collection?Ke:Le.document.getRootNames().reduce((ht,_t)=>Be.updateFindResultFromRange(Le.createRangeIn(Le.document.getRoot(_t)),Le,Be.findByTextCallback(Ke,this._state),ht),null);dt.length&&Le.change(()=>{[...dt].forEach(ht=>{this._replace(xt,ht)})})}}class ue extends d.Command{constructor(xt,Ke){super(xt),this.affectsData=!1,this._state=Ke,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const xt=this._state.results,Ke=xt.getIndex(this._state.highlightedResult),le=Ke+1>=xt.length?0:Ke+1;this._state.highlightedResult=this._state.results.get(le)}}class h extends ue{execute(){const xt=this._state.results.getIndex(this._state.highlightedResult),Ke=xt-1<0?this._state.results.length-1:xt-1;this._state.highlightedResult=this._state.results.get(Ke)}}class p extends(0,s.ObservableMixin)(){constructor(xt){super(),this.set("results",new s.Collection),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(Ke,{removed:le,index:Le})=>{if(Array.from(le).length){let Be=!1;if(xt.change(dt=>{for(const ht of le)this.highlightedResult===ht&&(Be=!0),xt.markers.has(ht.marker.name)&&dt.removeMarker(ht.marker)}),Be){const dt=Le>=this.results.length?0:Le;this.highlightedResult=this.results.get(dt)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset()})}clear(xt){this.searchText="",xt.change(Ke=>{if(this.highlightedResult){const le=this.highlightedResult.marker.name.split(":")[1],Le=xt.markers.get(`findResultHighlighted:${le}`);Le&&Ke.removeMarker(Le)}[...this.results].forEach(({marker:le})=>{Ke.removeMarker(le)})}),this.results.clear()}refreshHighlightOffset(){const{highlightedResult:xt,results:Ke}=this,le={before:-1,same:0,after:1,different:1};this.highlightedOffset=xt?Array.from(Ke).sort((Le,Be)=>le[Le.marker.getStart().compareWith(Be.marker.getStart())]).indexOf(xt)+1:0}}const g=typeof global=="object"&&global&&global.Object===Object&&global;var _=typeof self=="object"&&self&&self.Object===Object&&self;const S=g||_||Function("return this")(),I=S.Symbol,M=function(Gt,xt){for(var Ke=-1,le=Gt==null?0:Gt.length,Le=Array(le);++Ke<le;)Le[Ke]=xt(Gt[Ke],Ke,Gt);return Le},ee=Array.isArray;var H=Object.prototype,re=H.hasOwnProperty,O=H.toString,W=I?I.toStringTag:void 0;const ie=function(Gt){var xt=re.call(Gt,W),Ke=Gt[W];try{Gt[W]=void 0;var le=!0}catch{}var Le=O.call(Gt);return le&&(xt?Gt[W]=Ke:delete Gt[W]),Le};var we=Object.prototype.toString;const Ae=function(Gt){return we.call(Gt)};var He=I?I.toStringTag:void 0;const it=function(Gt){return Gt==null?Gt===void 0?"[object Undefined]":"[object Null]":He&&He in Object(Gt)?ie(Gt):Ae(Gt)},ne=function(Gt){return Gt!=null&&typeof Gt=="object"},de=function(Gt){return typeof Gt=="symbol"||ne(Gt)&&it(Gt)=="[object Symbol]"};var Se=I?I.prototype:void 0,Re=Se?Se.toString:void 0;const Oe=function Gt(xt){if(typeof xt=="string")return xt;if(ee(xt))return M(xt,Gt)+"";if(de(xt))return Re?Re.call(xt):"";var Ke=xt+"";return Ke=="0"&&1/xt==-1/0?"-0":Ke},G=function(Gt){return Gt==null?"":Oe(Gt)};var Ie=/[\\^$.*+?()[\]{}|]/g,Ue=RegExp(Ie.source);const nt=function(Gt){return(Gt=G(Gt))&&Ue.test(Gt)?Gt.replace(Ie,"\\$&"):Gt};class xe extends d.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(xt,Ke,le,Le){const Be=Le||new s.Collection;return Ke.change(dt=>{[...xt].forEach(({type:ht,item:_t})=>{if(ht==="elementStart"&&Ke.schema.checkChild(_t,"$text")){const It=le({item:_t,text:this.rangeToText(Ke.createRangeIn(_t))});if(!It)return;It.forEach(zt=>{const Jt=`findResult:${(0,s.uid)()}`,ai=dt.addMarker(Jt,{usingOperation:!1,affectsData:!1,range:dt.createRange(dt.createPositionAt(_t,zt.start),dt.createPositionAt(_t,zt.end))}),si=function(Bi,pi){const Ci=Bi.find(({marker:vt})=>pi.getStart().isBefore(vt.getStart()));return Ci?Bi.getIndex(Ci):Bi.length}(Be,ai);(Bi=>Be.find(pi=>{const{marker:Ci}=pi,vt=Ci.getRange(),Ye=Bi.getRange();return vt.isEqual(Ye)}))(ai)||Be.add({id:Jt,label:zt.label,marker:ai},si)})}})}),Be}rangeToText(xt){return Array.from(xt.getItems()).reduce((Ke,le)=>le.is("$text")||le.is("$textProxy")?Ke+le.data:`${Ke}
`,"")}findByTextCallback(xt,Ke){let le="gu";Ke.matchCase||(le+="i");let Le=`(${nt(xt)})`;if(Ke.wholeWords){const dt="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+dt).test(xt)||(Le=`(^|${dt}|_)${Le}`),new RegExp(dt+"$").test(xt)||(Le=`${Le}(?=_|${dt}|$)`)}const Be=new RegExp(Le,le);return function({text:dt}){return[...dt.matchAll(Be)].map(pe)}}}function pe(Gt){const xt=Gt.length-1;let Ke=Gt.index;return Gt.length===3&&(Ke+=Gt[1].length),{label:Gt[xt],start:Ke,end:Ke+Gt[xt].length}}const ye=function(Gt){var xt=typeof Gt;return Gt!=null&&(xt=="object"||xt=="function")},Ze=function(){return S.Date.now()};var ot=/\s/;const at=function(Gt){for(var xt=Gt.length;xt--&&ot.test(Gt.charAt(xt)););return xt};var mt=/^\s+/;const Ut=function(Gt){return Gt&&Gt.slice(0,at(Gt)+1).replace(mt,"")};var $t=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,qt=/^0o[0-7]+$/i,wt=parseInt;const tt=function(Gt){if(typeof Gt=="number")return Gt;if(de(Gt))return NaN;if(ye(Gt)){var xt=typeof Gt.valueOf=="function"?Gt.valueOf():Gt;Gt=ye(xt)?xt+"":xt}if(typeof Gt!="string")return Gt===0?Gt:+Gt;Gt=Ut(Gt);var Ke=St.test(Gt);return Ke||qt.test(Gt)?wt(Gt.slice(2),Ke?2:8):$t.test(Gt)?NaN:+Gt};var gt=Math.max,gi=Math.min;const Ti=function(Gt,xt,Ke){var le,Le,Be,dt,ht,_t,It=0,zt=!1,Jt=!1,ai=!0;if(typeof Gt!="function")throw new TypeError("Expected a function");function si(Ye){var ct=le,qe=Le;return le=Le=void 0,It=Ye,dt=Gt.apply(qe,ct)}function Bi(Ye){var ct=Ye-_t;return _t===void 0||ct>=xt||ct<0||Jt&&Ye-It>=Be}function pi(){var Ye=Ze();if(Bi(Ye))return Ci(Ye);ht=setTimeout(pi,function(ct){var qe=xt-(ct-_t);return Jt?gi(qe,Be-(ct-It)):qe}(Ye))}function Ci(Ye){return ht=void 0,ai&&le?si(Ye):(le=Le=void 0,dt)}function vt(){var Ye=Ze(),ct=Bi(Ye);if(le=arguments,Le=this,_t=Ye,ct){if(ht===void 0)return function(qe){return It=qe,ht=setTimeout(pi,xt),zt?si(qe):dt}(_t);if(Jt)return clearTimeout(ht),ht=setTimeout(pi,xt),si(_t)}return ht===void 0&&(ht=setTimeout(pi,xt)),dt}return xt=tt(xt)||0,ye(Ke)&&(zt=!!Ke.leading,Be=(Jt="maxWait"in Ke)?gt(tt(Ke.maxWait)||0,xt):Be,ai="trailing"in Ke?!!Ke.trailing:ai),vt.cancel=function(){ht!==void 0&&clearTimeout(ht),It=0,le=_t=Le=ht=void 0},vt.flush=function(){return ht===void 0?dt:Ci(Ze())},vt};var Pi=Q(629),Di={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(Pi.A,Di),Pi.A.locals;class Oi extends d.Plugin{constructor(){super(...arguments),this._onDocumentChange=()=>{const xt=new Set,Ke=new Set,le=this.editor.model,{results:Le}=this.state,Be=le.document.differ.getChanges(),dt=le.document.differ.getChangedMarkers();Be.forEach(It=>{It.position&&(It.name==="$text"||It.position.nodeAfter&&le.schema.isInline(It.position.nodeAfter)?(xt.add(It.position.parent),[...le.markers.getMarkersAtPosition(It.position)].forEach(zt=>{Ke.add(zt.name)})):It.type==="insert"&&It.position.nodeAfter&&xt.add(It.position.nodeAfter))}),dt.forEach(({name:It,data:{newRange:zt}})=>{zt&&zt.start.root.rootName==="$graveyard"&&Ke.add(It)}),xt.forEach(It=>{[...le.markers.getMarkersIntersectingRange(le.createRangeIn(It))].forEach(zt=>Ke.add(zt.name))}),Ke.forEach(It=>{Le.has(It)&&(Le.get(It)===this.state.highlightedResult&&(this.state.highlightedResult=null),Le.remove(It))});const ht=[],_t=this.editor.plugins.get("FindAndReplaceUtils");xt.forEach(It=>{const zt=_t.updateFindResultFromRange(le.createRangeOn(It),le,this.state.lastSearchCallback,Le);ht.push(...zt)}),dt.forEach(It=>{if(It.data.newRange){const zt=_t.updateFindResultFromRange(It.data.newRange,le,this.state.lastSearchCallback,Le);ht.push(...zt)}}),!this.state.highlightedResult&&ht.length?this.state.highlightedResult=ht[0]:this.state.refreshHighlightOffset()}}static get requires(){return[xe]}static get pluginName(){return"FindAndReplaceEditing"}init(){this.state=new p(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(Ke,le,Le,Be)=>{const{model:dt}=this.editor;dt.change(ht=>{if(Be){const _t=Be.marker.name.split(":")[1],It=dt.markers.get(`findResultHighlighted:${_t}`);It&&ht.removeMarker(It)}if(Le){const _t=Le.marker.name.split(":")[1];ht.addMarker(`findResultHighlighted:${_t}`,{usingOperation:!1,affectsData:!1,range:Le.marker.getRange()})}})});const xt=Ti(((Ke,le,Le)=>{if(Le){const Be=this.editor.editing.view.domConverter,dt=this.editor.editing.mapper.toViewRange(Le.marker.getRange());(0,s.scrollViewportToShowTarget)({target:Be.viewRangeToDom(dt),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",xt,{priority:"low"}),this.listenTo(this.editor,"destroy",xt.cancel),this.on("change:_isSearchActive",(Ke,le,Le)=>{Le?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(xt,Ke){return this._isSearchActive=!0,this.editor.execute("find",xt,Ke),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new ge(this.editor,this.state)),this.editor.commands.add("findNext",new ue(this.editor,this.state)),this.editor.commands.add("findPrevious",new h(this.editor,this.state)),this.editor.commands.add("replace",new J(this.editor,this.state)),this.editor.commands.add("replaceAll",new Ce(this.editor,this.state))}_defineConverters(){const{editor:xt}=this;xt.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:Ke})=>{const[,le]=Ke.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":le}}}}),xt.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:Ke})=>{const[,le]=Ke.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":le}}}})}}class Wi extends d.Plugin{static get requires(){return[Oi,Ee]}static get pluginName(){return"FindAndReplace"}init(){const xt=this.editor.plugins.get("FindAndReplaceUI"),Ke=this.editor.plugins.get("FindAndReplaceEditing"),le=Ke.state;xt.on("findNext",(Le,Be)=>{Be?(le.searchText=Be.searchText,Ke.find(Be.searchText,Be)):this.editor.execute("findNext")}),xt.on("findPrevious",(Le,Be)=>{Be&&le.searchText!==Be.searchText?Ke.find(Be.searchText):this.editor.execute("findPrevious")}),xt.on("replace",(Le,Be)=>{le.searchText!==Be.searchText&&Ke.find(Be.searchText);const dt=le.highlightedResult;dt&&this.editor.execute("replace",Be.replaceText,dt)}),xt.on("replaceAll",(Le,Be)=>{le.searchText!==Be.searchText&&Ke.find(Be.searchText),this.editor.execute("replaceAll",Be.replaceText,le.results)}),xt.on("searchReseted",()=>{le.clear(this.editor.model),Ke.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Remove Format":"Remove Format"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{RemoveFormat:()=>v,RemoveFormatEditing:()=>k,RemoveFormatUI:()=>u});var d=Q(782),w=Q(311);const s="removeFormat";class u extends d.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const K=this.editor;K.ui.componentFactory.add(s,()=>{const R=this._createButton(w.ButtonView);return R.set({tooltip:!0}),R}),K.ui.componentFactory.add(`menuBar:${s}`,()=>this._createButton(w.MenuBarMenuListItemButtonView))}_createButton(K){const R=this.editor,Ee=R.locale,ge=R.commands.get(s),Y=new K(R.locale),J=Ee.t;return Y.set({label:J("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>'}),Y.bind("isEnabled").to(ge,"isEnabled"),this.listenTo(Y,"execute",()=>{R.execute(s),R.editing.view.focus()}),Y}}var C=Q(584);class L extends d.Command{refresh(){const K=this.editor.model;this.isEnabled=!!(0,C.first)(this._getFormattingItems(K.document.selection,K.schema))}execute(){const K=this.editor.model,R=K.schema;K.change(Ee=>{for(const ge of this._getFormattingItems(K.document.selection,R))if(ge.is("selection"))for(const Y of this._getFormattingAttributes(ge,R))Ee.removeSelectionAttribute(Y);else{const Y=Ee.createRangeOn(ge);for(const J of this._getFormattingAttributes(ge,R))Ee.removeAttribute(J,Y)}})}*_getFormattingItems(K,R){const Ee=ge=>!!(0,C.first)(this._getFormattingAttributes(ge,R));for(const ge of K.getRanges())for(const Y of ge.getItems())!R.isBlock(Y)&&Ee(Y)&&(yield Y);for(const ge of K.getSelectedBlocks())Ee(ge)&&(yield ge);Ee(K)&&(yield K)}*_getFormattingAttributes(K,R){for(const[Ee]of K.getAttributes()){const ge=R.getAttributeProperties(Ee);ge&&ge.isFormatting&&(yield Ee)}}}class k extends d.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const K=this.editor;K.commands.add("removeFormat",new L(K))}}class v extends d.Plugin{static get requires(){return[k,u]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={812:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large);grid-gap:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}@media (prefers-reduced-motion:reduce){.ck.ck-character-grid .ck-character-grid__tile{transition:none}}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const L=C},416:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const L=C},200:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},834:(d,w,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{SpecialCharacters:()=>p,SpecialCharactersArrows:()=>g,SpecialCharactersCurrency:()=>M,SpecialCharactersEssentials:()=>ee,SpecialCharactersLatin:()=>I,SpecialCharactersMathematical:()=>S,SpecialCharactersText:()=>_});var d=Q(782),w=Q(834),s=Q(311),u=Q(584);class C extends s.FormHeaderView{constructor(re,O){super(re);const W=re.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(O),this.groupDropdownView.panelPosition=re.uiLanguageDirection==="rtl"?"se":"sw",this.label=W("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(re){const O=this.locale,W=O.t,ie=(0,s.createDropdown)(O),we=this._getCharacterGroupListItemDefinitions(ie,re),Ae=W("Character categories");return ie.set("value",we.first.model.name),ie.buttonView.bind("label").to(ie,"value",He=>re.get(He)),ie.buttonView.set({isOn:!1,withText:!0,tooltip:Ae,class:["ck-dropdown__button_label-width_auto"],ariaLabel:Ae,ariaLabelledBy:void 0}),ie.on("execute",He=>{ie.value=He.source.name}),ie.delegate("execute").to(this),(0,s.addListToDropdown)(ie,we,{ariaLabel:Ae,role:"menu"}),ie}_getCharacterGroupListItemDefinitions(re,O){const W=new u.Collection;for(const[ie,we]of O){const Ae=new s.ViewModel({name:ie,label:we,withText:!0,role:"menuitemradio"});Ae.bind("isOn").to(re,"value",He=>He===Ae.name),W.add({type:"button",model:Ae})}return W}}var L=Q(591),k=Q.n(L),v=Q(812),$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};k()(v.A,$),v.A.locals;class K extends s.View{constructor(re){super(re),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,(0,s.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>u.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(re,O){const W=new s.ButtonView(this.locale);return W.set({label:re,withText:!0,class:"ck-character-grid__tile"}),W.extendTemplate({attributes:{title:O},on:{mouseover:W.bindTemplate.to("mouseover"),focus:W.bindTemplate.to("focus")}}),W.on("mouseover",()=>{this.fire("tileHover",{name:O,character:re})}),W.on("focus",()=>{this.fire("tileFocus",{name:O,character:re})}),W.on("execute",()=>{this.fire("execute",{name:O,character:re})}),W}render(){super.render();for(const re of this.tiles)this.focusTracker.add(re.element);this.tiles.on("change",(re,{added:O,removed:W})=>{if(O.length>0)for(const ie of O)this.focusTracker.add(ie.element);if(W.length>0)for(const ie of W)this.focusTracker.remove(ie.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var R=Q(416),Ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};k()(R.A,Ee),R.A.locals;class ge extends s.View{constructor(re){super(re);const O=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",Y),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:O.to("name",W=>W||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:O.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function Y(H){return H===null?"":"U+"+("0000"+H.codePointAt(0).toString(16)).slice(-4)}class J extends s.View{constructor(re,O,W,ie){super(re),this.navigationView=O,this.gridView=W,this.infoView=ie,this.items=this.createCollection(),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusCycler=new s.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var Ce=Q(200),ue={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};k()(Ce.A,ue),Ce.A.locals;const h="All";class p extends d.Plugin{static get requires(){return[w.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(re){super(re);const O=re.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=O("All")}init(){const re=this.editor,O=re.t,W=re.commands.get("insertText");re.ui.componentFactory.add("specialCharacters",ie=>{const we=(0,s.createDropdown)(ie);let Ae;return we.buttonView.set({label:O("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),we.bind("isEnabled").to(W),we.on("execute",(He,it)=>{re.execute("insertText",{text:it.character}),re.editing.view.focus()}),we.on("change:isOpen",()=>{if(!Ae){Ae=this._createDropdownPanelContent(ie,we);const He=new J(ie,Ae.navigationView,Ae.gridView,Ae.infoView);we.panelView.children.add(He)}Ae.infoView.set({character:null,name:null})}),we})}addItems(re,O,W={label:re}){if(re===h)throw new u.CKEditorError("special-character-invalid-group-name",null);const ie=this._getGroup(re,W.label);for(const we of O)ie.items.add(we.title),this._characters.set(we.title,we.character)}getGroups(){const re=Array.from(this._groups.keys()),O=this.editor.config.get("specialCharacters.order")||[],W=O.find(ie=>!re.includes(ie));if(W)throw new u.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:W});return new Set([...O,...re])}getCharactersForGroup(re){if(re===h)return new Set(this._characters.keys());const O=this._groups.get(re);return O?O.items:void 0}getCharacter(re){return this._characters.get(re)}_getGroup(re,O){return this._groups.has(re)||this._groups.set(re,{items:new Set,label:O}),this._groups.get(re)}_updateGrid(re,O){O.tiles.clear();const W=this.getCharactersForGroup(re);for(const ie of W){const we=this.getCharacter(ie);O.tiles.add(O.createTile(we,ie))}}_createDropdownPanelContent(re,O){const W=Array.from(this.getGroups()).map(it=>[it,this._groups.get(it).label]),ie=new Map([[h,this._allSpecialCharactersGroupLabel],...W]),we=new C(re,ie),Ae=new K(re),He=new ge(re);return Ae.delegate("execute").to(O),Ae.on("tileHover",(it,ne)=>{He.set(ne)}),Ae.on("tileFocus",(it,ne)=>{He.set(ne)}),we.on("execute",()=>{this._updateGrid(we.currentGroupName,Ae)}),this._updateGrid(we.currentGroupName,Ae),{navigationView:we,gridView:Ae,infoView:He}}}class g extends d.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const re=this.editor,O=re.t;re.plugins.get("SpecialCharacters").addItems("Arrows",[{title:O("leftwards simple arrow"),character:"\u2190"},{title:O("rightwards simple arrow"),character:"\u2192"},{title:O("upwards simple arrow"),character:"\u2191"},{title:O("downwards simple arrow"),character:"\u2193"},{title:O("leftwards double arrow"),character:"\u21D0"},{title:O("rightwards double arrow"),character:"\u21D2"},{title:O("upwards double arrow"),character:"\u21D1"},{title:O("downwards double arrow"),character:"\u21D3"},{title:O("leftwards dashed arrow"),character:"\u21E0"},{title:O("rightwards dashed arrow"),character:"\u21E2"},{title:O("upwards dashed arrow"),character:"\u21E1"},{title:O("downwards dashed arrow"),character:"\u21E3"},{title:O("leftwards arrow to bar"),character:"\u21E4"},{title:O("rightwards arrow to bar"),character:"\u21E5"},{title:O("upwards arrow to bar"),character:"\u2912"},{title:O("downwards arrow to bar"),character:"\u2913"},{title:O("up down arrow with base"),character:"\u21A8"},{title:O("back with leftwards arrow above"),character:"\u{1F519}"},{title:O("end with leftwards arrow above"),character:"\u{1F51A}"},{title:O("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:O("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:O("top with upwards arrow above"),character:"\u{1F51D}"}],{label:O("Arrows")})}}class _ extends d.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const re=this.editor,O=re.t;re.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:O("Single left-pointing angle quotation mark")},{character:"\u203A",title:O("Single right-pointing angle quotation mark")},{character:"\xAB",title:O("Left-pointing double angle quotation mark")},{character:"\xBB",title:O("Right-pointing double angle quotation mark")},{character:"\u2018",title:O("Left single quotation mark")},{character:"\u2019",title:O("Right single quotation mark")},{character:"\u201C",title:O("Left double quotation mark")},{character:"\u201D",title:O("Right double quotation mark")},{character:"\u201A",title:O("Single low-9 quotation mark")},{character:"\u201E",title:O("Double low-9 quotation mark")},{character:"\xA1",title:O("Inverted exclamation mark")},{character:"\xBF",title:O("Inverted question mark")},{character:"\u2025",title:O("Two dot leader")},{character:"\u2026",title:O("Horizontal ellipsis")},{character:"\u2021",title:O("Double dagger")},{character:"\u2030",title:O("Per mille sign")},{character:"\u2031",title:O("Per ten thousand sign")},{character:"\u203C",title:O("Double exclamation mark")},{character:"\u2048",title:O("Question exclamation mark")},{character:"\u2049",title:O("Exclamation question mark")},{character:"\u2047",title:O("Double question mark")},{character:"\xA9",title:O("Copyright sign")},{character:"\xAE",title:O("Registered sign")},{character:"\u2122",title:O("Trade mark sign")},{character:"\xA7",title:O("Section sign")},{character:"\xB6",title:O("Paragraph sign")},{character:"\u204B",title:O("Reversed paragraph sign")}],{label:O("Text")})}}class S extends d.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const re=this.editor,O=re.t;re.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:O("Less-than sign")},{character:">",title:O("Greater-than sign")},{character:"\u2264",title:O("Less-than or equal to")},{character:"\u2265",title:O("Greater-than or equal to")},{character:"\u2013",title:O("En dash")},{character:"\u2014",title:O("Em dash")},{character:"\xAF",title:O("Macron")},{character:"\u203E",title:O("Overline")},{character:"\xB0",title:O("Degree sign")},{character:"\u2212",title:O("Minus sign")},{character:"\xB1",title:O("Plus-minus sign")},{character:"\xF7",title:O("Division sign")},{character:"\u2044",title:O("Fraction slash")},{character:"\xD7",title:O("Multiplication sign")},{character:"\u0192",title:O("Latin small letter f with hook")},{character:"\u222B",title:O("Integral")},{character:"\u2211",title:O("N-ary summation")},{character:"\u221E",title:O("Infinity")},{character:"\u221A",title:O("Square root")},{character:"\u223C",title:O("Tilde operator")},{character:"\u2245",title:O("Approximately equal to")},{character:"\u2248",title:O("Almost equal to")},{character:"\u2260",title:O("Not equal to")},{character:"\u2261",title:O("Identical to")},{character:"\u2208",title:O("Element of")},{character:"\u2209",title:O("Not an element of")},{character:"\u220B",title:O("Contains as member")},{character:"\u220F",title:O("N-ary product")},{character:"\u2227",title:O("Logical and")},{character:"\u2228",title:O("Logical or")},{character:"\xAC",title:O("Not sign")},{character:"\u2229",title:O("Intersection")},{character:"\u222A",title:O("Union")},{character:"\u2202",title:O("Partial differential")},{character:"\u2200",title:O("For all")},{character:"\u2203",title:O("There exists")},{character:"\u2205",title:O("Empty set")},{character:"\u2207",title:O("Nabla")},{character:"\u2217",title:O("Asterisk operator")},{character:"\u221D",title:O("Proportional to")},{character:"\u2220",title:O("Angle")},{character:"\xBC",title:O("Vulgar fraction one quarter")},{character:"\xBD",title:O("Vulgar fraction one half")},{character:"\xBE",title:O("Vulgar fraction three quarters")}],{label:O("Mathematical")})}}class I extends d.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const re=this.editor,O=re.t;re.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:O("Latin capital letter a with macron")},{character:"\u0101",title:O("Latin small letter a with macron")},{character:"\u0102",title:O("Latin capital letter a with breve")},{character:"\u0103",title:O("Latin small letter a with breve")},{character:"\u0104",title:O("Latin capital letter a with ogonek")},{character:"\u0105",title:O("Latin small letter a with ogonek")},{character:"\u0106",title:O("Latin capital letter c with acute")},{character:"\u0107",title:O("Latin small letter c with acute")},{character:"\u0108",title:O("Latin capital letter c with circumflex")},{character:"\u0109",title:O("Latin small letter c with circumflex")},{character:"\u010A",title:O("Latin capital letter c with dot above")},{character:"\u010B",title:O("Latin small letter c with dot above")},{character:"\u010C",title:O("Latin capital letter c with caron")},{character:"\u010D",title:O("Latin small letter c with caron")},{character:"\u010E",title:O("Latin capital letter d with caron")},{character:"\u010F",title:O("Latin small letter d with caron")},{character:"\u0110",title:O("Latin capital letter d with stroke")},{character:"\u0111",title:O("Latin small letter d with stroke")},{character:"\u0112",title:O("Latin capital letter e with macron")},{character:"\u0113",title:O("Latin small letter e with macron")},{character:"\u0114",title:O("Latin capital letter e with breve")},{character:"\u0115",title:O("Latin small letter e with breve")},{character:"\u0116",title:O("Latin capital letter e with dot above")},{character:"\u0117",title:O("Latin small letter e with dot above")},{character:"\u0118",title:O("Latin capital letter e with ogonek")},{character:"\u0119",title:O("Latin small letter e with ogonek")},{character:"\u011A",title:O("Latin capital letter e with caron")},{character:"\u011B",title:O("Latin small letter e with caron")},{character:"\u011C",title:O("Latin capital letter g with circumflex")},{character:"\u011D",title:O("Latin small letter g with circumflex")},{character:"\u011E",title:O("Latin capital letter g with breve")},{character:"\u011F",title:O("Latin small letter g with breve")},{character:"\u0120",title:O("Latin capital letter g with dot above")},{character:"\u0121",title:O("Latin small letter g with dot above")},{character:"\u0122",title:O("Latin capital letter g with cedilla")},{character:"\u0123",title:O("Latin small letter g with cedilla")},{character:"\u0124",title:O("Latin capital letter h with circumflex")},{character:"\u0125",title:O("Latin small letter h with circumflex")},{character:"\u0126",title:O("Latin capital letter h with stroke")},{character:"\u0127",title:O("Latin small letter h with stroke")},{character:"\u0128",title:O("Latin capital letter i with tilde")},{character:"\u0129",title:O("Latin small letter i with tilde")},{character:"\u012A",title:O("Latin capital letter i with macron")},{character:"\u012B",title:O("Latin small letter i with macron")},{character:"\u012C",title:O("Latin capital letter i with breve")},{character:"\u012D",title:O("Latin small letter i with breve")},{character:"\u012E",title:O("Latin capital letter i with ogonek")},{character:"\u012F",title:O("Latin small letter i with ogonek")},{character:"\u0130",title:O("Latin capital letter i with dot above")},{character:"\u0131",title:O("Latin small letter dotless i")},{character:"\u0132",title:O("Latin capital ligature ij")},{character:"\u0133",title:O("Latin small ligature ij")},{character:"\u0134",title:O("Latin capital letter j with circumflex")},{character:"\u0135",title:O("Latin small letter j with circumflex")},{character:"\u0136",title:O("Latin capital letter k with cedilla")},{character:"\u0137",title:O("Latin small letter k with cedilla")},{character:"\u0138",title:O("Latin small letter kra")},{character:"\u0139",title:O("Latin capital letter l with acute")},{character:"\u013A",title:O("Latin small letter l with acute")},{character:"\u013B",title:O("Latin capital letter l with cedilla")},{character:"\u013C",title:O("Latin small letter l with cedilla")},{character:"\u013D",title:O("Latin capital letter l with caron")},{character:"\u013E",title:O("Latin small letter l with caron")},{character:"\u013F",title:O("Latin capital letter l with middle dot")},{character:"\u0140",title:O("Latin small letter l with middle dot")},{character:"\u0141",title:O("Latin capital letter l with stroke")},{character:"\u0142",title:O("Latin small letter l with stroke")},{character:"\u0143",title:O("Latin capital letter n with acute")},{character:"\u0144",title:O("Latin small letter n with acute")},{character:"\u0145",title:O("Latin capital letter n with cedilla")},{character:"\u0146",title:O("Latin small letter n with cedilla")},{character:"\u0147",title:O("Latin capital letter n with caron")},{character:"\u0148",title:O("Latin small letter n with caron")},{character:"\u0149",title:O("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:O("Latin capital letter eng")},{character:"\u014B",title:O("Latin small letter eng")},{character:"\u014C",title:O("Latin capital letter o with macron")},{character:"\u014D",title:O("Latin small letter o with macron")},{character:"\u014E",title:O("Latin capital letter o with breve")},{character:"\u014F",title:O("Latin small letter o with breve")},{character:"\u0150",title:O("Latin capital letter o with double acute")},{character:"\u0151",title:O("Latin small letter o with double acute")},{character:"\u0152",title:O("Latin capital ligature oe")},{character:"\u0153",title:O("Latin small ligature oe")},{character:"\u0154",title:O("Latin capital letter r with acute")},{character:"\u0155",title:O("Latin small letter r with acute")},{character:"\u0156",title:O("Latin capital letter r with cedilla")},{character:"\u0157",title:O("Latin small letter r with cedilla")},{character:"\u0158",title:O("Latin capital letter r with caron")},{character:"\u0159",title:O("Latin small letter r with caron")},{character:"\u015A",title:O("Latin capital letter s with acute")},{character:"\u015B",title:O("Latin small letter s with acute")},{character:"\u015C",title:O("Latin capital letter s with circumflex")},{character:"\u015D",title:O("Latin small letter s with circumflex")},{character:"\u015E",title:O("Latin capital letter s with cedilla")},{character:"\u015F",title:O("Latin small letter s with cedilla")},{character:"\u0160",title:O("Latin capital letter s with caron")},{character:"\u0161",title:O("Latin small letter s with caron")},{character:"\u0162",title:O("Latin capital letter t with cedilla")},{character:"\u0163",title:O("Latin small letter t with cedilla")},{character:"\u0164",title:O("Latin capital letter t with caron")},{character:"\u0165",title:O("Latin small letter t with caron")},{character:"\u0166",title:O("Latin capital letter t with stroke")},{character:"\u0167",title:O("Latin small letter t with stroke")},{character:"\u0168",title:O("Latin capital letter u with tilde")},{character:"\u0169",title:O("Latin small letter u with tilde")},{character:"\u016A",title:O("Latin capital letter u with macron")},{character:"\u016B",title:O("Latin small letter u with macron")},{character:"\u016C",title:O("Latin capital letter u with breve")},{character:"\u016D",title:O("Latin small letter u with breve")},{character:"\u016E",title:O("Latin capital letter u with ring above")},{character:"\u016F",title:O("Latin small letter u with ring above")},{character:"\u0170",title:O("Latin capital letter u with double acute")},{character:"\u0171",title:O("Latin small letter u with double acute")},{character:"\u0172",title:O("Latin capital letter u with ogonek")},{character:"\u0173",title:O("Latin small letter u with ogonek")},{character:"\u0174",title:O("Latin capital letter w with circumflex")},{character:"\u0175",title:O("Latin small letter w with circumflex")},{character:"\u0176",title:O("Latin capital letter y with circumflex")},{character:"\u0177",title:O("Latin small letter y with circumflex")},{character:"\u0178",title:O("Latin capital letter y with diaeresis")},{character:"\u0179",title:O("Latin capital letter z with acute")},{character:"\u017A",title:O("Latin small letter z with acute")},{character:"\u017B",title:O("Latin capital letter z with dot above")},{character:"\u017C",title:O("Latin small letter z with dot above")},{character:"\u017D",title:O("Latin capital letter z with caron")},{character:"\u017E",title:O("Latin small letter z with caron")},{character:"\u017F",title:O("Latin small letter long s")}],{label:O("Latin")})}}class M extends d.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const re=this.editor,O=re.t;re.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:O("Dollar sign")},{character:"\u20AC",title:O("Euro sign")},{character:"\xA5",title:O("Yen sign")},{character:"\xA3",title:O("Pound sign")},{character:"\xA2",title:O("Cent sign")},{character:"\u20A0",title:O("Euro-currency sign")},{character:"\u20A1",title:O("Colon sign")},{character:"\u20A2",title:O("Cruzeiro sign")},{character:"\u20A3",title:O("French franc sign")},{character:"\u20A4",title:O("Lira sign")},{character:"\xA4",title:O("Currency sign")},{character:"\u20BF",title:O("Bitcoin sign")},{character:"\u20A5",title:O("Mill sign")},{character:"\u20A6",title:O("Naira sign")},{character:"\u20A7",title:O("Peseta sign")},{character:"\u20A8",title:O("Rupee sign")},{character:"\u20A9",title:O("Won sign")},{character:"\u20AA",title:O("New sheqel sign")},{character:"\u20AB",title:O("Dong sign")},{character:"\u20AD",title:O("Kip sign")},{character:"\u20AE",title:O("Tugrik sign")},{character:"\u20AF",title:O("Drachma sign")},{character:"\u20B0",title:O("German penny sign")},{character:"\u20B1",title:O("Peso sign")},{character:"\u20B2",title:O("Guarani sign")},{character:"\u20B3",title:O("Austral sign")},{character:"\u20B4",title:O("Hryvnia sign")},{character:"\u20B5",title:O("Cedi sign")},{character:"\u20B6",title:O("Livre tournois sign")},{character:"\u20B7",title:O("Spesmilo sign")},{character:"\u20B8",title:O("Tenge sign")},{character:"\u20B9",title:O("Indian rupee sign")},{character:"\u20BA",title:O("Turkish lira sign")},{character:"\u20BB",title:O("Nordic mark sign")},{character:"\u20BC",title:O("Manat sign")},{character:"\u20BD",title:O("Ruble sign")}],{label:O("Currency")})}}class ee extends d.Plugin{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[M,_,S,g,I]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={770:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const L=C},67:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const L=C},839:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const L=C},712:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const L=C},25:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const L=C},175:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}",""]);const L=C},266:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const L=C},363:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const L=C},817:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const L=C},911:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const L=C},218:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const L=C},719:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},331:(d,w,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,w,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{PlainTableOutput:()=>_i,Table:()=>Ei,TableCaption:()=>jo,TableCaptionEditing:()=>Es,TableCaptionUI:()=>$o,TableCellProperties:()=>rr,TableCellPropertiesEditing:()=>Vo,TableCellPropertiesUI:()=>Mi,TableCellWidthEditing:()=>ro,TableClipboard:()=>We,TableColumnResize:()=>l,TableColumnResizeEditing:()=>$s,TableEditing:()=>Ye,TableKeyboard:()=>Qe,TableMouse:()=>Pt,TableProperties:()=>ts,TablePropertiesEditing:()=>sr,TablePropertiesUI:()=>lr,TableSelection:()=>X,TableToolbar:()=>Yn,TableUI:()=>jt,TableUtils:()=>gt});var d=Q(782),w=Q(901);function s(o,n){const{modelAttribute:c,styleName:f,viewElement:b,defaultValue:T,reduceBoxSides:P=!1,shouldUpcast:q=()=>!0}=n;o.for("upcast").attributeToAttribute({view:{name:b,styles:{[f]:/[\s\S]+/}},model:{key:c,value:te=>{if(!q(te))return;const ve=te.getNormalizedStyle(f),Fe=P?k(ve):ve;return T!==Fe?Fe:void 0}}})}function u(o,n,c,f){o.for("upcast").add(b=>b.on("element:"+n,(T,P,q)=>{if(!P.modelRange)return;const te=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Rt=>P.viewItem.hasStyle(Rt));if(!te.length)return;const ve={styles:te};if(!q.consumable.test(P.viewItem,ve))return;const Fe=[...P.modelRange.getItems({shallow:!0})].pop();q.consumable.consume(P.viewItem,ve);const st={style:P.viewItem.getNormalizedStyle("border-style"),color:P.viewItem.getNormalizedStyle("border-color"),width:P.viewItem.getNormalizedStyle("border-width")},ft={style:k(st.style),color:k(st.color),width:k(st.width)};ft.style!==f.style&&q.writer.setAttribute(c.style,ft.style,Fe),ft.color!==f.color&&q.writer.setAttribute(c.color,ft.color,Fe),ft.width!==f.width&&q.writer.setAttribute(c.width,ft.width,Fe)}))}function C(o,n){const{modelElement:c,modelAttribute:f,styleName:b}=n;o.for("downcast").attributeToAttribute({model:{name:c,key:f},view:T=>({key:"style",value:{[b]:T}})})}function L(o,n){const{modelAttribute:c,styleName:f}=n;o.for("downcast").add(b=>b.on(`attribute:${c}:table`,(T,P,q)=>{const{item:te,attributeNewValue:ve}=P,{mapper:Fe,writer:st}=q;if(!q.consumable.consume(P.item,T.name))return;const ft=[...Fe.toViewElement(te).getChildren()].find(Rt=>Rt.is("element","table"));ve?st.setStyle(f,ve,ft):st.removeStyle(f,ft)}))}function k(o){if(!o)return;const n=["top","right","bottom","left"];if(!n.every(f=>o[f]))return o;const c=o.top;return n.every(f=>o[f]===c)?c:o}function v(o,n,c,f,b=1){n!=null&&b!=null&&n>b?f.setAttribute(o,n,c):f.removeAttribute(o,c)}function $(o,n,c={}){const f=o.createElement("tableCell",c);return o.insertElement("paragraph",f),o.insert(f,n),f}function K(o,n){const c=n.parent.parent,f=parseInt(c.getAttribute("headingColumns")||"0"),{column:b}=o.getCellLocation(n);return!!f&&b<f}function R(o,n,c){const{modelAttribute:f}=c;o.extend("tableCell",{allowAttributes:[f]}),s(n,{viewElement:/^(td|th)$/,...c}),C(n,{modelElement:"tableCell",...c})}function Ee(o){const n=o.getSelectedElement();return n&&n.is("element","table")?n:o.getFirstPosition().findAncestor("table")}var ge=Q(584);function Y(){return o=>{o.on("element:table",(n,c,f)=>{const b=c.viewItem;if(!f.consumable.test(b,{name:!0}))return;const{rows:T,headingRows:P,headingColumns:q}=function(Fe){let st,ft=0;const Rt=[],Wt=[];let Ht;for(const ni of Array.from(Fe.getChildren())){if(ni.name!=="tbody"&&ni.name!=="thead"&&ni.name!=="tfoot")continue;ni.name!=="thead"||Ht||(Ht=ni);const ci=Array.from(ni.getChildren()).filter(hi=>hi.is("element","tr"));for(const hi of ci)if(Ht&&ni===Ht||ni.name==="tbody"&&Array.from(hi.getChildren()).length&&Array.from(hi.getChildren()).every(Si=>Si.is("element","th")))ft++,Rt.push(hi);else{Wt.push(hi);const Si=Ce(hi);(!st||Si<st)&&(st=Si)}}return{headingRows:ft,headingColumns:st||0,rows:[...Rt,...Wt]}}(b),te={};q&&(te.headingColumns=q),P&&(te.headingRows=P);const ve=f.writer.createElement("table",te);if(f.safeInsert(ve,c.modelCursor)){if(f.consumable.consume(b,{name:!0}),T.forEach(Fe=>f.convertItem(Fe,f.writer.createPositionAt(ve,"end"))),f.convertChildren(b,f.writer.createPositionAt(ve,"end")),ve.isEmpty){const Fe=f.writer.createElement("tableRow");f.writer.insert(Fe,f.writer.createPositionAt(ve,"end")),$(f.writer,f.writer.createPositionAt(Fe,"end"))}f.updateConversionResult(ve,c)}})}}function J(o){return n=>{n.on(`element:${o}`,(c,f,{writer:b})=>{if(!f.modelRange)return;const T=f.modelRange.start.nodeAfter,P=b.createPositionAt(T,0);if(f.viewItem.isEmpty)return void b.insertElement("paragraph",P);const q=Array.from(T.getChildren());if(q.every(te=>te.is("element","$marker"))){const te=b.createElement("paragraph");b.insert(te,b.createPositionAt(T,0));for(const ve of q)b.move(b.createRangeOn(ve),b.createPositionAt(te,"end"))}},{priority:"low"})}}function Ce(o){let n=0,c=0;const f=Array.from(o.getChildren()).filter(b=>b.name==="th"||b.name==="td");for(;c<f.length&&f[c].name==="th";){const b=f[c];n+=parseInt(b.getAttribute("colspan")||"1"),c++}return n}class ue{constructor(n,c={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=c.row!==void 0?c.row:c.startRow||0,this._endRow=c.row!==void 0?c.row:c.endRow,this._startColumn=c.column!==void 0?c.column:c.startColumn||0,this._endColumn=c.column!==void 0?c.column:c.endColumn,this._includeAllSlots=!!c.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let c=null;const f=this._getSpanned();if(f)this._includeAllSlots&&!this._shouldSkipSlot()&&(c=this._formatOutValue(f.cell,f.row,f.column));else{const b=n.getChild(this._cellIndex);if(!b)return this._advanceToNextRow();const T=parseInt(b.getAttribute("colspan")||"1"),P=parseInt(b.getAttribute("rowspan")||"1");(T>1||P>1)&&this._recordSpans(b,P,T),this._shouldSkipSlot()||(c=this._formatOutValue(b)),this._nextCellAtColumn=this._column+T}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,c||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,c=this._row,f=this._column){return{done:!1,value:new h(this,n,c,f)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),c=this._row<this._startRow,f=this._column<this._startColumn,b=this._endColumn!==void 0&&this._column>this._endColumn;return n||c||f||b}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,c,f){const b={cell:n,row:this._row,column:this._column};for(let T=this._row;T<this._row+c;T++)for(let P=this._column;P<this._column+f;P++)T==this._row&&P==this._column||this._markSpannedCell(T,P,b)}_markSpannedCell(n,c,f){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(c,f)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let c=this._startRow;!this._jumpedToStartRow;c--)n===this._getRowLength(c)&&(this._row=c,this._rowIndex=c,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((c,f)=>c+parseInt(f.getAttribute("colspan")||"1"),0)}}class h{constructor(n,c,f,b){this.cell=c,this.row=n._row,this.column=n._column,this.cellAnchorRow=f,this.cellAnchorColumn=b,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function p(o,n){return(c,{writer:f})=>{const b=c.getAttribute("headingRows")||0,T=f.createContainerElement("table",null,[]),P=f.createContainerElement("figure",{class:"table"},T);b>0&&f.insert(f.createPositionAt(T,"end"),f.createContainerElement("thead",null,f.createSlot(q=>q.is("element","tableRow")&&q.index<b))),b<o.getRows(c)&&f.insert(f.createPositionAt(T,"end"),f.createContainerElement("tbody",null,f.createSlot(q=>q.is("element","tableRow")&&q.index>=b)));for(const{positionOffset:q,filter:te}of n.additionalSlots)f.insert(f.createPositionAt(T,q),f.createSlot(te));return f.insert(f.createPositionAt(T,"after"),f.createSlot(q=>!q.is("element","tableRow")&&!n.additionalSlots.some(({filter:te})=>te(q)))),n.asWidget?function(q,te){return te.setCustomProperty("table",!0,q),(0,w.toWidget)(q,te,{hasSelectionHandle:!0})}(P,f):P}}function g(o={}){return(n,{writer:c})=>{const f=n.parent,b=f.parent,T=b.getChildIndex(f),P=new ue(b,{row:T}),q=b.getAttribute("headingRows")||0,te=b.getAttribute("headingColumns")||0;let ve=null;for(const Fe of P)if(Fe.cell==n){const st=Fe.row<q||Fe.column<te?"th":"td";ve=o.asWidget?(0,w.toWidgetEditable)(c.createEditableElement(st),c):c.createContainerElement(st);break}return ve}}function _(o={}){return(n,{writer:c})=>{if(!n.parent.is("element","tableCell")||!S(n))return null;if(o.asWidget)return c.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const f=c.createContainerElement("p");return c.setCustomProperty("dataPipeline:transparentRendering",!0,f),f}}}function S(o){return o.parent.childCount==1&&!!o.getAttributeKeys().next().done}class I extends d.Command{refresh(){const n=this.editor.model,c=n.document.selection,f=n.schema;this.isEnabled=function(b,T){const P=b.getFirstPosition().parent,q=P===P.root?P:P.parent;return T.checkChild(q,"table")}(c,f)}execute(n={}){const c=this.editor,f=c.model,b=c.plugins.get("TableUtils"),T=c.config.get("table.defaultHeadings.rows"),P=c.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&T&&(n.headingRows=T),n.headingColumns===void 0&&P&&(n.headingColumns=P),f.change(q=>{const te=b.createTable(q,n);f.insertObject(te,null,null,{findOptimalPosition:"auto"}),q.setSelection(q.createPositionAt(te.getNodeByPath([0,0,0]),0))})}}class M extends d.Command{constructor(n,c={}){super(n),this.order=c.order||"below"}refresh(){const n=this.editor.model.document.selection,c=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=c}execute(){const n=this.editor,c=n.model.document.selection,f=n.plugins.get("TableUtils"),b=this.order==="above",T=f.getSelectionAffectedTableCells(c),P=f.getRowIndexes(T),q=b?P.first:P.last,te=T[0].findAncestor("table");f.insertRows(te,{at:b?q:q+1,copyStructureFromAbove:!b})}}class ee extends d.Command{constructor(n,c={}){super(n),this.order=c.order||"right"}refresh(){const n=this.editor.model.document.selection,c=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=c}execute(){const n=this.editor,c=n.model.document.selection,f=n.plugins.get("TableUtils"),b=this.order==="left",T=f.getSelectionAffectedTableCells(c),P=f.getColumnIndexes(T),q=b?P.first:P.last,te=T[0].findAncestor("table");f.insertColumns(te,{columns:1,at:b?q:q+1})}}class H extends d.Command{constructor(n,c={}){super(n),this.direction=c.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),c=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(c,2):n.splitCellVertically(c,2)}}function re(o,n,c){const{startRow:f,startColumn:b,endRow:T,endColumn:P}=n,q=c.createElement("table"),te=T-f+1;for(let Fe=0;Fe<te;Fe++)c.insertElement("tableRow",q,"end");const ve=[...new ue(o,{startRow:f,endRow:T,startColumn:b,endColumn:P,includeAllSlots:!0})];for(const{row:Fe,column:st,cell:ft,isAnchor:Rt,cellAnchorRow:Wt,cellAnchorColumn:Ht}of ve){const ni=Fe-f,ci=q.getChild(ni);if(Rt){const hi=c.cloneElement(ft);c.append(hi,ci),Ae(hi,Fe,st,T,P,c)}else(Wt<f||Ht<b)&&$(c,c.createPositionAt(ci,"end"))}return function(Fe,st,ft,Rt,Wt){const Ht=parseInt(st.getAttribute("headingRows")||"0");Ht>0&&v("headingRows",Ht-ft,Fe,Wt,0);const ni=parseInt(st.getAttribute("headingColumns")||"0");ni>0&&v("headingColumns",ni-Rt,Fe,Wt,0)}(q,o,f,b,c),q}function O(o,n,c=0){const f=[],b=new ue(o,{startRow:c,endRow:n-1});for(const T of b){const{row:P,cellHeight:q}=T;P<n&&n<=P+q-1&&f.push(T)}return f}function W(o,n,c){const f=o.parent,b=f.parent,T=f.index,P=n-T,q={},te=parseInt(o.getAttribute("rowspan"))-P;te>1&&(q.rowspan=te);const ve=parseInt(o.getAttribute("colspan")||"1");ve>1&&(q.colspan=ve);const Fe=T+P,st=[...new ue(b,{startRow:T,endRow:Fe,includeAllSlots:!0})];let ft,Rt=null;for(const Wt of st){const{row:Ht,column:ni,cell:ci}=Wt;ci===o&&ft===void 0&&(ft=ni),ft!==void 0&&ft===ni&&Ht===Fe&&(Rt=$(c,Wt.getPositionBefore(),q))}return v("rowspan",P,o,c),Rt}function ie(o,n){const c=[],f=new ue(o);for(const b of f){const{column:T,cellWidth:P}=b;T<n&&n<=T+P-1&&c.push(b)}return c}function we(o,n,c,f){const b=c-n,T={},P=parseInt(o.getAttribute("colspan"))-b;P>1&&(T.colspan=P);const q=parseInt(o.getAttribute("rowspan")||"1");q>1&&(T.rowspan=q);const te=$(f,f.createPositionAfter(o),T);return v("colspan",b,o,f),te}function Ae(o,n,c,f,b,T){const P=parseInt(o.getAttribute("colspan")||"1"),q=parseInt(o.getAttribute("rowspan")||"1");c+P-1>b&&v("colspan",b-c+1,o,T,1),n+q-1>f&&v("rowspan",f-n+1,o,T,1)}function He(o,n){const c=n.getColumns(o),f=new Array(c).fill(0);for(const{column:T}of new ue(o))f[T]++;const b=f.reduce((T,P,q)=>P?T:[...T,q],[]);if(b.length>0){const T=b[b.length-1];return n.removeColumns(o,{at:T}),!0}return!1}function it(o,n){const c=[],f=n.getRows(o);for(let b=0;b<f;b++)o.getChild(b).isEmpty&&c.push(b);if(c.length>0){const b=c[c.length-1];return n.removeRows(o,{at:b}),!0}return!1}function ne(o,n){He(o,n)||it(o,n)}function de(o,n){const c=Array.from(new ue(o,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(c.every(({cellHeight:b})=>b===1))return n.lastRow;const f=c[0].cellHeight-1;return n.lastRow+f}function Se(o,n){const c=Array.from(new ue(o,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(c.every(({cellWidth:b})=>b===1))return n.lastColumn;const f=c[0].cellWidth-1;return n.lastColumn+f}class Re extends d.Command{constructor(n,c){super(n),this.direction=c.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,c=n.document,f=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(c.selection)[0],b=this.value,T=this.direction;n.change(P=>{const q=T=="right"||T=="down",te=q?f:b,ve=q?b:f,Fe=ve.parent;(function(Ht,ni,ci){Oe(Ht)||(Oe(ni)&&ci.remove(ci.createRangeIn(ni)),ci.move(ci.createRangeIn(Ht),ci.createPositionAt(ni,"end"))),ci.remove(Ht)})(ve,te,P);const st=this.isHorizontal?"colspan":"rowspan",ft=parseInt(f.getAttribute(st)||"1"),Rt=parseInt(b.getAttribute(st)||"1");P.setAttribute(st,ft+Rt,te),P.setSelection(P.createRangeIn(te));const Wt=this.editor.plugins.get("TableUtils");ne(Fe.findAncestor("table"),Wt)})}_getMergeableCell(){const n=this.editor.model.document,c=this.editor.plugins.get("TableUtils"),f=c.getTableCellsContainingSelection(n.selection)[0];if(!f)return;const b=this.isHorizontal?function(q,te,ve){const Fe=q.parent,st=Fe.parent,ft=te=="right"?q.nextSibling:q.previousSibling,Rt=(st.getAttribute("headingColumns")||0)>0;if(!ft)return;const Wt=te=="right"?q:ft,Ht=te=="right"?ft:q,{column:ni}=ve.getCellLocation(Wt),{column:ci}=ve.getCellLocation(Ht),hi=parseInt(Wt.getAttribute("colspan")||"1"),Si=K(ve,Wt),Xi=K(ve,Ht);if(!(Rt&&Si!=Xi))return ni+hi===ci?ft:void 0}(f,this.direction,c):function(q,te,ve){const Fe=q.parent,st=Fe.parent,ft=st.getChildIndex(Fe);if(te=="down"&&ft===ve.getRows(st)-1||te=="up"&&ft===0)return null;const Rt=parseInt(q.getAttribute("rowspan")||"1"),Wt=st.getAttribute("headingRows")||0,Ht=te=="down"&&ft+Rt===Wt,ni=te=="up"&&ft===Wt;if(Wt&&(Ht||ni))return null;const ci=parseInt(q.getAttribute("rowspan")||"1"),hi=te=="down"?ft+ci:ft,Si=[...new ue(st,{endRow:hi})],Xi=Si.find(Cn=>Cn.cell===q),En=Xi.column,On=Si.find(({row:Cn,cellHeight:yo,column:wr})=>wr===En&&(te=="down"?Cn===hi:hi===Cn+yo));return On&&On.cell?On.cell:null}(f,this.direction,c);if(!b)return;const T=this.isHorizontal?"rowspan":"colspan",P=parseInt(f.getAttribute(T)||"1");return parseInt(b.getAttribute(T)||"1")===P?b:void 0}}function Oe(o){const n=o.getChild(0);return o.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class G extends d.Command{refresh(){const n=this.editor.plugins.get("TableUtils"),c=n.getSelectionAffectedTableCells(this.editor.model.document.selection),f=c[0];if(f){const b=f.findAncestor("table"),T=n.getRows(b)-1,P=n.getRowIndexes(c),q=P.first===0&&P.last===T;this.isEnabled=!q}else this.isEnabled=!1}execute(){const n=this.editor.model,c=this.editor.plugins.get("TableUtils"),f=c.getSelectionAffectedTableCells(n.document.selection),b=c.getRowIndexes(f),T=f[0],P=T.findAncestor("table"),q=c.getCellLocation(T).column;n.change(te=>{const ve=b.last-b.first+1;c.removeRows(P,{at:b.first,rows:ve});const Fe=function(st,ft,Rt,Wt){const Ht=st.getChild(Math.min(ft,Wt-1));let ni=Ht.getChild(0),ci=0;for(const hi of Ht.getChildren()){if(ci>Rt)return ni;ni=hi,ci+=parseInt(hi.getAttribute("colspan")||"1")}return ni}(P,b.first,q,c.getRows(P));te.setSelection(te.createPositionAt(Fe,0))})}}class Ie extends d.Command{refresh(){const n=this.editor.plugins.get("TableUtils"),c=n.getSelectionAffectedTableCells(this.editor.model.document.selection),f=c[0];if(f){const b=f.findAncestor("table"),T=n.getColumns(b),{first:P,last:q}=n.getColumnIndexes(c);this.isEnabled=q-P<T-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[c,f]=function(te,ve){const Fe=ve.getSelectionAffectedTableCells(te),st=Fe[0],ft=Fe.pop(),Rt=[st,ft];return st.isBefore(ft)?Rt:Rt.reverse()}(this.editor.model.document.selection,n),b=c.parent.parent,T=[...new ue(b)],P={first:T.find(te=>te.cell===c).column,last:T.find(te=>te.cell===f).column},q=function(te,ve,Fe,st){return parseInt(Fe.getAttribute("colspan")||"1")>1?Fe:ve.previousSibling||Fe.nextSibling?Fe.nextSibling||ve.previousSibling:st.first?te.reverse().find(({column:Rt})=>Rt<st.first).cell:te.reverse().find(({column:Rt})=>Rt>st.last).cell}(T,c,f,P);this.editor.model.change(te=>{const ve=P.last-P.first+1;n.removeColumns(b,{at:P.first,columns:ve}),te.setSelection(te.createPositionAt(q,0))})}}class Ue extends d.Command{refresh(){const n=this.editor.plugins.get("TableUtils"),c=this.editor.model,f=n.getSelectionAffectedTableCells(c.document.selection),b=f.length>0;this.isEnabled=b,this.value=b&&f.every(T=>this._isInHeading(T,T.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const c=this.editor.plugins.get("TableUtils"),f=this.editor.model,b=c.getSelectionAffectedTableCells(f.document.selection),T=b[0].findAncestor("table"),{first:P,last:q}=c.getRowIndexes(b),te=this.value?P:q+1,ve=T.getAttribute("headingRows")||0;f.change(Fe=>{if(te){const st=O(T,te,te>ve?ve:0);for(const{cell:ft}of st)W(ft,te,Fe)}v("headingRows",te,T,Fe,0)})}_isInHeading(n,c){const f=parseInt(c.getAttribute("headingRows")||"0");return!!f&&n.parent.index<f}}class nt extends d.Command{refresh(){const n=this.editor.model,c=this.editor.plugins.get("TableUtils"),f=c.getSelectionAffectedTableCells(n.document.selection),b=f.length>0;this.isEnabled=b,this.value=b&&f.every(T=>K(c,T))}execute(n={}){if(n.forceValue===this.value)return;const c=this.editor.plugins.get("TableUtils"),f=this.editor.model,b=c.getSelectionAffectedTableCells(f.document.selection),T=b[0].findAncestor("table"),{first:P,last:q}=c.getColumnIndexes(b),te=this.value?P:q+1;f.change(ve=>{if(te){const Fe=ie(T,te);for(const{cell:st,column:ft}of Fe)we(st,ft,te,ve)}v("headingColumns",te,T,ve,0)})}}const xe=5,pe=2;function ye(o,n){return 4e3/Ze(o,n)}function Ze(o,n){const c=ot(o,"tbody",n)||ot(o,"thead",n);return at(n.editing.view.domConverter.mapViewToDom(c))}function ot(o,n,c){return[...[...c.editing.mapper.toViewElement(o).getChildren()].find(f=>f.is("element","table")).getChildren()].find(f=>f.is("element",n))}function at(o){const n=ge.global.window.getComputedStyle(o);return n.boxSizing==="border-box"?parseFloat(n.width)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth):parseFloat(n.width)}function mt(o){const n=Math.pow(10,pe),c=typeof o=="number"?o:parseFloat(o);return Math.round(c*n)/n}function Ut(o){return o.map(n=>typeof n=="number"?n:parseFloat(n)).filter(n=>!Number.isNaN(n)).reduce((n,c)=>n+c,0)}function $t(o){let n=function(f){const b=f.filter(q=>q==="auto").length;if(b===0)return f.map(q=>mt(q));const T=Ut(f),P=Math.max((100-T)/b,xe);return f.map(q=>q==="auto"?P:q).map(q=>mt(q))}(o.map(f=>f==="auto"?f:parseFloat(f.replace("%",""))));const c=Ut(n);return c!==100&&(n=n.map(f=>mt(100*f/c)).map((f,b,T)=>b!==T.length-1?f:mt(f+100-Ut(T)))),n.map(f=>f+"%")}function St(o){const n=ge.global.window.getComputedStyle(o);return n.boxSizing==="border-box"?parseInt(n.width):parseFloat(n.width)+parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderWidth)}function qt(o,n,c,f){for(let b=0;b<Math.max(c.length,o.length);b++){const T=o[b],P=c[b];P?T?f.setAttribute("columnWidth",P,T):f.appendElement("tableColumn",{columnWidth:P},n):f.remove(T)}}function wt(o){if(o.is("element","tableColumnGroup"))return o;const n=o.getChildren();return Array.from(n).find(c=>c.is("element","tableColumnGroup"))}function tt(o){const n=wt(o);return n?Array.from(n.getChildren()):[]}class gt extends d.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const c=n.parent,f=c.parent,b=f.getChildIndex(c),T=new ue(f,{row:b});for(const{cell:P,row:q,column:te}of T)if(P===n)return{row:q,column:te}}createTable(n,c){const f=n.createElement("table"),b=c.rows||2,T=c.columns||2;return gi(n,f,0,b,T),c.headingRows&&v("headingRows",Math.min(c.headingRows,b),f,n,0),c.headingColumns&&v("headingColumns",Math.min(c.headingColumns,T),f,n,0),f}insertRows(n,c={}){const f=this.editor.model,b=c.at||0,T=c.rows||1,P=c.copyStructureFromAbove!==void 0,q=c.copyStructureFromAbove?b-1:b,te=this.getRows(n),ve=this.getColumns(n);if(b>te)throw new ge.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:c});f.change(Fe=>{const st=n.getAttribute("headingRows")||0;if(st>b&&v("headingRows",st+T,n,Fe,0),!P&&(b===0||b===te))return void gi(Fe,n,b,T,ve);const ft=P?Math.max(b,q):b,Rt=new ue(n,{endRow:ft}),Wt=new Array(ve).fill(1);for(const{row:Ht,column:ni,cellHeight:ci,cellWidth:hi,cell:Si}of Rt){const Xi=Ht+ci-1,En=Ht<=q&&q<=Xi;Ht<b&&b<=Xi?(Fe.setAttribute("rowspan",ci+T,Si),Wt[ni]=-hi):P&&En&&(Wt[ni]=hi)}for(let Ht=0;Ht<T;Ht++){const ni=Fe.createElement("tableRow");Fe.insert(ni,n,b);for(let ci=0;ci<Wt.length;ci++){const hi=Wt[ci],Si=Fe.createPositionAt(ni,"end");hi>0&&$(Fe,Si,hi>1?{colspan:hi}:void 0),ci+=Math.abs(hi)-1}}})}insertColumns(n,c={}){const f=this.editor.model,b=c.at||0,T=c.columns||1;f.change(P=>{const q=n.getAttribute("headingColumns");b<q&&P.setAttribute("headingColumns",q+T,n);const te=this.getColumns(n);if(b===0||te===b){for(const Fe of n.getChildren())Fe.is("element","tableRow")&&Ti(T,P,P.createPositionAt(Fe,b?"end":0));return}const ve=new ue(n,{column:b,includeAllSlots:!0});for(const Fe of ve){const{row:st,cell:ft,cellAnchorColumn:Rt,cellAnchorRow:Wt,cellWidth:Ht,cellHeight:ni}=Fe;if(Rt<b){P.setAttribute("colspan",Ht+T,ft);const ci=Wt+ni-1;for(let hi=st;hi<=ci;hi++)ve.skipRow(hi)}else Ti(T,P,Fe.getPositionBefore())}})}removeRows(n,c){const f=this.editor.model,b=c.rows||1,T=this.getRows(n),P=c.at,q=P+b-1;if(q>T-1)throw new ge.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:n,options:c});f.change(te=>{const ve={first:P,last:q},{cellsToMove:Fe,cellsToTrim:st}=function(ft,{first:Rt,last:Wt}){const Ht=new Map,ni=[];for(const{row:ci,column:hi,cellHeight:Si,cell:Xi}of new ue(ft,{endRow:Wt})){const En=ci+Si-1;if(ci>=Rt&&ci<=Wt&&En>Wt){const On=Si-(Wt-ci+1);Ht.set(hi,{cell:Xi,rowspan:On})}if(ci<Rt&&En>=Rt){let On;On=En>=Wt?Wt-Rt+1:En-Rt+1,ni.push({cell:Xi,rowspan:Si-On})}}return{cellsToMove:Ht,cellsToTrim:ni}}(n,ve);Fe.size&&function(ft,Rt,Wt,Ht){const ni=new ue(ft,{includeAllSlots:!0,row:Rt}),ci=[...ni],hi=ft.getChild(Rt);let Si;for(const{column:Xi,cell:En,isAnchor:On}of ci)if(Wt.has(Xi)){const{cell:Cn,rowspan:yo}=Wt.get(Xi),wr=Si?Ht.createPositionAfter(Si):Ht.createPositionAt(hi,0);Ht.move(Ht.createRangeOn(Cn),wr),v("rowspan",yo,Cn,Ht),Si=Cn}else On&&(Si=En)}(n,q+1,Fe,te);for(let ft=q;ft>=P;ft--)te.remove(n.getChild(ft));for(const{rowspan:ft,cell:Rt}of st)v("rowspan",ft,Rt,te);(function(ft,{first:Rt,last:Wt},Ht){const ni=ft.getAttribute("headingRows")||0;Rt<ni&&v("headingRows",Wt<ni?ni-(Wt-Rt+1):Rt,ft,Ht,0)})(n,ve,te),He(n,this)||it(n,this)})}removeColumns(n,c){const f=this.editor.model,b=c.at,T=c.columns||1,P=c.at+T-1;f.change(q=>{(function(ve,Fe,st){const ft=ve.getAttribute("headingColumns")||0;if(ft&&Fe.first<ft){const Rt=Math.min(ft-1,Fe.last)-Fe.first+1;st.setAttribute("headingColumns",ft-Rt,ve)}})(n,{first:b,last:P},q);const te=tt(n);for(let ve=P;ve>=b;ve--){for(const{cell:Fe,column:st,cellWidth:ft}of[...new ue(n)])st<=ve&&ft>1&&st+ft>ve?v("colspan",ft-1,Fe,q):st===ve&&q.remove(Fe);if(te[ve]){const Fe=ve===0?te[1]:te[ve-1],st=parseFloat(te[ve].getAttribute("columnWidth")),ft=parseFloat(Fe.getAttribute("columnWidth"));q.remove(te[ve]),q.setAttribute("columnWidth",st+ft+"%",Fe)}}it(n,this)||He(n,this)})}splitCellVertically(n,c=2){const f=this.editor.model,b=n.parent.parent,T=parseInt(n.getAttribute("rowspan")||"1"),P=parseInt(n.getAttribute("colspan")||"1");f.change(q=>{if(P>1){const{newCellsSpan:te,updatedSpan:ve}=Pi(P,c);v("colspan",ve,n,q);const Fe={};te>1&&(Fe.colspan=te),T>1&&(Fe.rowspan=T),Ti(P>c?c-1:P-1,q,q.createPositionAfter(n),Fe)}if(P<c){const te=c-P,ve=[...new ue(b)],{column:Fe}=ve.find(({cell:Wt})=>Wt===n),st=ve.filter(({cell:Wt,cellWidth:Ht,column:ni})=>Wt!==n&&ni===Fe||ni<Fe&&ni+Ht>Fe);for(const{cell:Wt,cellWidth:Ht}of st)q.setAttribute("colspan",Ht+te,Wt);const ft={};T>1&&(ft.rowspan=T),Ti(te,q,q.createPositionAfter(n),ft);const Rt=b.getAttribute("headingColumns")||0;Rt>Fe&&v("headingColumns",Rt+te,b,q)}})}splitCellHorizontally(n,c=2){const f=this.editor.model,b=n.parent,T=b.parent,P=T.getChildIndex(b),q=parseInt(n.getAttribute("rowspan")||"1"),te=parseInt(n.getAttribute("colspan")||"1");f.change(ve=>{if(q>1){const Fe=[...new ue(T,{startRow:P,endRow:P+q-1,includeAllSlots:!0})],{newCellsSpan:st,updatedSpan:ft}=Pi(q,c);v("rowspan",ft,n,ve);const{column:Rt}=Fe.find(({cell:Ht})=>Ht===n),Wt={};st>1&&(Wt.rowspan=st),te>1&&(Wt.colspan=te);for(const Ht of Fe){const{column:ni,row:ci}=Ht;ci>=P+ft&&ni===Rt&&(ci+P+ft)%st==0&&Ti(1,ve,Ht.getPositionBefore(),Wt)}}if(q<c){const Fe=c-q,st=[...new ue(T,{startRow:0,endRow:P})];for(const{cell:Wt,cellHeight:Ht,row:ni}of st)if(Wt!==n&&ni+Ht>P){const ci=Ht+Fe;ve.setAttribute("rowspan",ci,Wt)}const ft={};te>1&&(ft.colspan=te),gi(ve,T,P+1,Fe,1,ft);const Rt=T.getAttribute("headingRows")||0;Rt>P&&v("headingRows",Rt+Fe,T,ve)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(c=>c.is("element","tableCell")).reduce((c,f)=>c+parseInt(f.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((c,f)=>f.is("element","tableRow")?c+1:c,0)}createTableWalker(n,c={}){return new ue(n,c)}getSelectedTableCells(n){const c=[];for(const f of this.sortRanges(n.getRanges())){const b=f.getContainedElement();b&&b.is("element","tableCell")&&c.push(b)}return c}getTableCellsContainingSelection(n){const c=[];for(const f of n.getRanges()){const b=f.start.findAncestor("tableCell");b&&c.push(b)}return c}getSelectionAffectedTableCells(n){const c=this.getSelectedTableCells(n);return c.length?c:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const c=n.map(f=>f.parent.index);return this._getFirstLastIndexesObject(c)}getColumnIndexes(n){const c=n[0].findAncestor("table"),f=[...new ue(c)].filter(b=>n.includes(b.cell)).map(b=>b.column);return this._getFirstLastIndexesObject(f)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const c=new Set,f=new Set;let b=0;for(const P of n){const{row:q,column:te}=this.getCellLocation(P),ve=parseInt(P.getAttribute("rowspan"))||1,Fe=parseInt(P.getAttribute("colspan"))||1;c.add(q),f.add(te),ve>1&&c.add(q+ve-1),Fe>1&&f.add(te+Fe-1),b+=ve*Fe}return function(P,q){const te=Array.from(P.values()),ve=Array.from(q.values()),Fe=Math.max(...te),st=Math.min(...te),ft=Math.max(...ve),Rt=Math.min(...ve);return(Fe-st+1)*(ft-Rt+1)}(c,f)==b}sortRanges(n){return Array.from(n).sort(Di)}_getFirstLastIndexesObject(n){const c=n.sort((f,b)=>f-b);return{first:c[0],last:c[c.length-1]}}_areCellInTheSameTableSection(n){const c=n[0].findAncestor("table"),f=this.getRowIndexes(n),b=parseInt(c.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(f,b))return!1;const T=this.getColumnIndexes(n),P=parseInt(c.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(T,P)}_areIndexesInSameSection({first:n,last:c},f){return n<f==c<f}}function gi(o,n,c,f,b,T={}){for(let P=0;P<f;P++){const q=o.createElement("tableRow");o.insert(q,n,c),Ti(b,o,o.createPositionAt(q,"end"),T)}}function Ti(o,n,c,f={}){for(let b=0;b<o;b++)$(n,c,f)}function Pi(o,n){if(o<n)return{newCellsSpan:1,updatedSpan:1};const c=Math.floor(o/n);return{newCellsSpan:c,updatedSpan:o-c*n+c}}function Di(o,n){const c=o.start,f=n.start;return c.isBefore(f)?-1:1}class Oi extends d.Command{refresh(){const n=this.editor.plugins.get(gt),c=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(c)}execute(){const n=this.editor.model,c=this.editor.plugins.get(gt);n.change(f=>{const b=c.getSelectedTableCells(n.document.selection),T=b.shift(),{mergeWidth:P,mergeHeight:q}=function(te,ve,Fe){let st=0,ft=0;for(const ci of ve){const{row:hi,column:Si}=Fe.getCellLocation(ci);st=xt(ci,Si,st,"colspan"),ft=xt(ci,hi,ft,"rowspan")}const{row:Rt,column:Wt}=Fe.getCellLocation(te),Ht=st-Wt,ni=ft-Rt;return{mergeWidth:Ht,mergeHeight:ni}}(T,b,c);v("colspan",P,T,f),v("rowspan",q,T,f);for(const te of b)Wi(te,T,f);ne(T.findAncestor("table"),c),f.setSelection(T,"in")})}}function Wi(o,n,c){Gt(o)||(Gt(n)&&c.remove(c.createRangeIn(n)),c.move(c.createRangeIn(o),c.createPositionAt(n,"end"))),c.remove(o)}function Gt(o){const n=o.getChild(0);return o.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function xt(o,n,c,f){const b=parseInt(o.getAttribute(f)||"1");return Math.max(c,n+b)}class Ke extends d.Command{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,c=this.editor.plugins.get("TableUtils"),f=c.getSelectionAffectedTableCells(n.document.selection),b=c.getRowIndexes(f),T=f[0].findAncestor("table"),P=[];for(let q=b.first;q<=b.last;q++)for(const te of T.getChild(q).getChildren())P.push(n.createRangeOn(te));n.change(q=>{q.setSelection(P)})}}class le extends d.Command{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),c=this.editor.model,f=n.getSelectionAffectedTableCells(c.document.selection),b=f[0],T=f.pop(),P=b.findAncestor("table"),q=n.getCellLocation(b),te=n.getCellLocation(T),ve=Math.min(q.column,te.column),Fe=Math.max(q.column,te.column),st=[];for(const ft of new ue(P,{startColumn:ve,endColumn:Fe}))st.push(c.createRangeOn(ft.cell));c.change(ft=>{ft.setSelection(st)})}}function Le(o){o.document.registerPostFixer(n=>function(c,f){const b=f.document.differ.getChanges();let T=!1;const P=new Set;for(const q of b){let te=null;q.type=="insert"&&q.name=="table"&&(te=q.position.nodeAfter),q.type!="insert"&&q.type!="remove"||q.name!="tableRow"&&q.name!="tableCell"||(te=q.position.findAncestor("table")),ht(q)&&(te=q.range.start.findAncestor("table")),te&&!P.has(te)&&(T=Be(te,c)||T,T=dt(te,c)||T,P.add(te))}return T}(n,o))}function Be(o,n){let c=!1;const f=function(b){const T=parseInt(b.getAttribute("headingRows")||"0"),P=Array.from(b.getChildren()).reduce((te,ve)=>ve.is("element","tableRow")?te+1:te,0),q=[];for(const{row:te,cell:ve,cellHeight:Fe}of new ue(b)){if(Fe<2)continue;const st=te<T?T:P;if(te+Fe>st){const ft=st-te;q.push({cell:ve,rowspan:ft})}}return q}(o);if(f.length){c=!0;for(const b of f)v("rowspan",b.rowspan,b.cell,n,1)}return c}function dt(o,n){let c=!1;const f=function(q){const te=new Array(q.childCount).fill(0);for(const{rowIndex:ve}of new ue(q,{includeAllSlots:!0}))te[ve]++;return te}(o),b=[];for(const[q,te]of f.entries())!te&&o.getChild(q).is("element","tableRow")&&b.push(q);if(b.length){c=!0;for(const q of b.reverse())n.remove(o.getChild(q)),f.splice(q,1)}const T=f.filter((q,te)=>o.getChild(te).is("element","tableRow")),P=T[0];if(!T.every(q=>q===P)){const q=T.reduce((te,ve)=>ve>te?ve:te,0);for(const[te,ve]of T.entries()){const Fe=q-ve;if(Fe){for(let st=0;st<Fe;st++)$(n,n.createPositionAt(o.getChild(te),"end"));c=!0}}}return c}function ht(o){if(o.type!=="attribute")return!1;const n=o.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function _t(o){o.document.registerPostFixer(n=>function(c,f){const b=f.document.differ.getChanges();let T=!1;for(const P of b)P.type=="insert"&&P.name=="table"&&(T=It(P.position.nodeAfter,c)||T),P.type=="insert"&&P.name=="tableRow"&&(T=zt(P.position.nodeAfter,c)||T),P.type=="insert"&&P.name=="tableCell"&&(T=Jt(P.position.nodeAfter,c)||T),P.type!="remove"&&P.type!="insert"||!ai(P)||(T=Jt(P.position.parent,c)||T);return T}(n,o))}function It(o,n){let c=!1;for(const f of o.getChildren())f.is("element","tableRow")&&(c=zt(f,n)||c);return c}function zt(o,n){let c=!1;for(const f of o.getChildren())c=Jt(f,n)||c;return c}function Jt(o,n){if(o.childCount==0)return n.insertElement("paragraph",o),!0;const c=Array.from(o.getChildren()).filter(f=>f.is("$text"));for(const f of c)n.wrap(n.createRangeOn(f),"paragraph");return!!c.length}function ai(o){return!!o.position.parent.is("element","tableCell")&&(o.type=="insert"&&o.name=="$text"||o.type=="remove")}function si(o,n){if(!o.is("element","paragraph"))return!1;const c=n.toViewElement(o);return!!c&&S(o)!==c.is("element","span")}var Bi=Q(591),pi=Q.n(Bi),Ci=Q(817),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(Ci.A,vt),Ci.A.locals;class Ye extends d.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[gt]}constructor(n){super(n),this._additionalSlots=[]}init(){const n=this.editor,c=n.model,f=c.schema,b=n.conversion,T=n.plugins.get(gt);f.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),f.register("tableRow",{allowIn:"table",isLimit:!0}),f.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),b.for("upcast").add(P=>{P.on("element:figure",(q,te,ve)=>{if(!ve.consumable.test(te.viewItem,{name:!0,classes:"table"}))return;const Fe=function(Rt){for(const Wt of Rt.getChildren())if(Wt.is("element","table"))return Wt}(te.viewItem);if(!Fe||!ve.consumable.test(Fe,{name:!0}))return;ve.consumable.consume(te.viewItem,{name:!0,classes:"table"});const st=ve.convertItem(Fe,te.modelCursor),ft=(0,ge.first)(st.modelRange.getItems());ft?(ve.convertChildren(te.viewItem,ve.writer.createPositionAt(ft,"end")),ve.updateConversionResult(ft,te)):ve.consumable.revert(te.viewItem,{name:!0,classes:"table"})})}),b.for("upcast").add(Y()),b.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:p(T,{asWidget:!0,additionalSlots:this._additionalSlots})}),b.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:p(T,{additionalSlots:this._additionalSlots})}),b.for("upcast").elementToElement({model:"tableRow",view:"tr"}),b.for("upcast").add(P=>{P.on("element:tr",(q,te)=>{te.viewItem.isEmpty&&te.modelCursor.index==0&&q.stop()},{priority:"high"})}),b.for("downcast").elementToElement({model:"tableRow",view:(P,{writer:q})=>P.isEmpty?q.createEmptyElement("tr"):q.createContainerElement("tr")}),b.for("upcast").elementToElement({model:"tableCell",view:"td"}),b.for("upcast").elementToElement({model:"tableCell",view:"th"}),b.for("upcast").add(J("td")),b.for("upcast").add(J("th")),b.for("editingDowncast").elementToElement({model:"tableCell",view:g({asWidget:!0})}),b.for("dataDowncast").elementToElement({model:"tableCell",view:g()}),b.for("editingDowncast").elementToElement({model:"paragraph",view:_({asWidget:!0}),converterPriority:"high"}),b.for("dataDowncast").elementToElement({model:"paragraph",view:_(),converterPriority:"high"}),b.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),b.for("upcast").attributeToAttribute({model:{key:"colspan",value:ct("colspan")},view:"colspan"}),b.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),b.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ct("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new I(n)),n.commands.add("insertTableRowAbove",new M(n,{order:"above"})),n.commands.add("insertTableRowBelow",new M(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new ee(n,{order:"left"})),n.commands.add("insertTableColumnRight",new ee(n,{order:"right"})),n.commands.add("removeTableRow",new G(n)),n.commands.add("removeTableColumn",new Ie(n)),n.commands.add("splitTableCellVertically",new H(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new H(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Oi(n)),n.commands.add("mergeTableCellRight",new Re(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Re(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Re(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Re(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new nt(n)),n.commands.add("setTableRowHeader",new Ue(n)),n.commands.add("selectTableRow",new Ke(n)),n.commands.add("selectTableColumn",new le(n)),Le(c),_t(c),this.listenTo(c.document,"change:data",()=>{(function(P,q){const te=P.document.differ;for(const ve of te.getChanges()){let Fe,st=!1;if(ve.type=="attribute"){const Ht=ve.range.start.nodeAfter;if(!Ht||!Ht.is("element","table")||ve.attributeKey!="headingRows"&&ve.attributeKey!="headingColumns")continue;Fe=Ht,st=ve.attributeKey=="headingRows"}else ve.name!="tableRow"&&ve.name!="tableCell"||(Fe=ve.position.findAncestor("table"),st=ve.name=="tableRow");if(!Fe)continue;const ft=Fe.getAttribute("headingRows")||0,Rt=Fe.getAttribute("headingColumns")||0,Wt=new ue(Fe);for(const Ht of Wt){const ni=Ht.row<ft||Ht.column<Rt?"th":"td",ci=q.mapper.toViewElement(Ht.cell);ci&&ci.is("element")&&ci.name!=ni&&q.reconvertItem(st?Ht.cell.parent:Ht.cell)}}})(c,n.editing),function(P,q){const te=P.document.differ,ve=new Set;for(const Fe of te.getChanges()){const st=Fe.type=="attribute"?Fe.range.start.parent:Fe.position.parent;st.is("element","tableCell")&&ve.add(st)}for(const Fe of ve.values()){const st=Array.from(Fe.getChildren()).filter(ft=>si(ft,q.mapper));for(const ft of st)q.reconvertItem(ft)}}(c,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function ct(o){return n=>{const c=parseInt(n.getAttribute(o));return Number.isNaN(c)||c<=0?null:c}}var qe=Q(311),yt=Q(712),Dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(yt.A,Dt),yt.A.locals;class Mt extends qe.View{constructor(n){super(n);const c=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ge.KeystrokeHandler,this.focusTracker=new ge.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(f,b)=>`${b} \xD7 ${f}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":c.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:c.to("label")}]}],on:{mousedown:c.to(f=>{f.preventDefault()}),click:c.to(()=>{this.fire("execute")})}}),this.on("boxover",(f,b)=>{const{row:T,column:P}=b.target.dataset;this.items.get(10*(parseInt(T,10)-1)+(parseInt(P,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(f,b,T)=>{if(!T)return;const{row:P,column:q}=T.dataset;this.set({rows:parseInt(P),columns:parseInt(q)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,qe.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,c=this.columns;this.items.map((f,b)=>{const T=Math.floor(b/10)<n&&b%10<c;f.set("isOn",T)})}_createGridButton(n,c,f,b){const T=new qe.ButtonView(n);return T.set({label:b,class:"ck-insert-table-dropdown-grid-box"}),T.extendTemplate({attributes:{"data-row":c,"data-column":f}}),T}_createGridCollection(){const n=[];for(let c=0;c<100;c++){const f=Math.floor(c/10),b=c%10,T=`${f+1} \xD7 ${b+1}`;n.push(this._createGridButton(this.locale,f+1,b+1,T))}return this.createCollection(n)}}class jt extends d.Plugin{static get pluginName(){return"TableUI"}init(){const n=this.editor,c=this.editor.t,f=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",b=>{const T=n.commands.get("insertTable"),P=(0,qe.createDropdown)(b);let q;return P.bind("isEnabled").to(T),P.buttonView.set({icon:d.icons.table,label:c("Insert table"),tooltip:!0}),P.on("change:isOpen",()=>{q||(q=new Mt(b),P.panelView.children.add(q),q.delegate("execute").to(P),P.on("execute",()=>{n.execute("insertTable",{rows:q.rows,columns:q.columns}),n.editing.view.focus()}))}),P}),n.ui.componentFactory.add("menuBar:insertTable",b=>{const T=n.commands.get("insertTable"),P=new qe.MenuBarMenuView(b),q=new Mt(b);return q.delegate("execute").to(P),P.on("change:isOpen",(te,ve,Fe)=>{Fe||q.reset()}),q.on("execute",()=>{n.execute("insertTable",{rows:q.rows,columns:q.columns}),n.editing.view.focus()}),P.buttonView.set({label:c("Table"),icon:d.icons.table}),P.panelView.children.add(q),P.bind("isEnabled").to(T),P}),n.ui.componentFactory.add("tableColumn",b=>{const T=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:c("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:f?"insertTableColumnLeft":"insertTableColumnRight",label:c("Insert column left")}},{type:"button",model:{commandName:f?"insertTableColumnRight":"insertTableColumnLeft",label:c("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:c("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:c("Select column")}}];return this._prepareDropdown(c("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',T,b)}),n.ui.componentFactory.add("tableRow",b=>{const T=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:c("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:c("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:c("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:c("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:c("Select row")}}];return this._prepareDropdown(c("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',T,b)}),n.ui.componentFactory.add("mergeTableCells",b=>{const T=[{type:"button",model:{commandName:"mergeTableCellUp",label:c("Merge cell up")}},{type:"button",model:{commandName:f?"mergeTableCellRight":"mergeTableCellLeft",label:c("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:c("Merge cell down")}},{type:"button",model:{commandName:f?"mergeTableCellLeft":"mergeTableCellRight",label:c("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:c("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:c("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(c("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',T,b)})}_prepareDropdown(n,c,f,b){const T=this.editor,P=(0,qe.createDropdown)(b),q=this._fillDropdownWithListOptions(P,f);return P.buttonView.set({label:n,icon:c,tooltip:!0}),P.bind("isEnabled").toMany(q,"isEnabled",(...te)=>te.some(ve=>ve)),this.listenTo(P,"execute",te=>{T.execute(te.source.commandName),te.source instanceof qe.SwitchButtonView||T.editing.view.focus()}),P}_prepareMergeSplitButtonDropdown(n,c,f,b){const T=this.editor,P=(0,qe.createDropdown)(b,qe.SplitButtonView),q="mergeTableCells",te=T.commands.get(q),ve=this._fillDropdownWithListOptions(P,f);return P.buttonView.set({label:n,icon:c,tooltip:!0,isEnabled:!0}),P.bind("isEnabled").toMany([te,...ve],"isEnabled",(...Fe)=>Fe.some(st=>st)),this.listenTo(P.buttonView,"execute",()=>{T.execute(q),T.editing.view.focus()}),this.listenTo(P,"execute",Fe=>{T.execute(Fe.source.commandName),T.editing.view.focus()}),P}_fillDropdownWithListOptions(n,c){const f=this.editor,b=[],T=new ge.Collection;for(const P of c)Te(P,f,b,T);return(0,qe.addListToDropdown)(n,T),b}}function Te(o,n,c,f){if(o.type==="button"||o.type==="switchbutton"){const b=o.model=new qe.ViewModel(o.model),{commandName:T,bindIsOn:P}=o.model,q=n.commands.get(T);c.push(q),b.set({commandName:T}),b.bind("isEnabled").to(q),P&&b.bind("isOn").to(q,"value"),b.set({withText:!0})}f.add(o)}var V=Q(719),N={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(V.A,N),V.A.locals;class X extends d.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[gt,gt]}init(){const n=this.editor,c=n.model,f=n.editing.view;this.listenTo(c,"deleteContent",(b,T)=>this._handleDeleteContent(b,T),{priority:"high"}),this.listenTo(f.document,"insertText",(b,T)=>this._handleInsertTextEvent(b,T),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(gt),c=this.editor.model.document.selection,f=n.getSelectedTableCells(c);return f.length==0?null:f}getSelectionAsFragment(){const n=this.editor.plugins.get(gt),c=this.getSelectedTableCells();return c?this.editor.model.change(f=>{const b=f.createDocumentFragment(),{first:T,last:P}=n.getColumnIndexes(c),{first:q,last:te}=n.getRowIndexes(c),ve=c[0].findAncestor("table");let Fe=te,st=P;if(n.isSelectionRectangular(c)){const Rt={firstColumn:T,lastColumn:P,firstRow:q,lastRow:te};Fe=de(ve,Rt),st=Se(ve,Rt)}const ft=re(ve,{startRow:q,startColumn:T,endRow:Fe,endColumn:st},f);return f.insert(ft,b,0),b}):null}setCellSelection(n,c){const f=this._getCellsToSelect(n,c);this.editor.model.change(b=>{b.setSelection(f.cells.map(T=>b.createRangeOn(T)),{backward:f.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=this.editor.model.document.selection,c=(0,ge.first)(n.getRanges()).getContainedElement();return c&&c.is("element","tableCell")?c:null}_defineSelectionConverter(){const n=this.editor,c=new Set;n.conversion.for("editingDowncast").add(f=>f.on("selection",(b,T,P)=>{const q=P.writer;(function(Fe){for(const st of c)Fe.removeClass("ck-editor__editable_selected",st);c.clear()})(q);const te=this.getSelectedTableCells();if(!te)return;for(const Fe of te){const st=P.mapper.toViewElement(Fe);q.addClass("ck-editor__editable_selected",st),c.add(st)}const ve=P.mapper.toViewElement(te[te.length-1]);q.setSelection(ve,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const c=this.getSelectedTableCells();if(!c)return;n.model.change(f=>{const b=f.createPositionAt(c[0],0),T=n.model.schema.getNearestSelectionRange(b);f.setSelection(T)})}})}_handleDeleteContent(n,c){const f=this.editor.plugins.get(gt),b=c[0],T=c[1],P=this.editor.model,q=!T||T.direction=="backward",te=f.getSelectedTableCells(b);te.length&&(n.stop(),P.change(ve=>{const Fe=te[q?te.length-1:0];P.change(ft=>{for(const Rt of te)P.deleteContent(ft.createSelection(Rt,"in"))});const st=P.schema.getNearestSelectionRange(ve.createPositionAt(Fe,0));b.is("documentSelection")?ve.setSelection(st):b.setTo(st)}))}_handleInsertTextEvent(n,c){const f=this.editor,b=this.getSelectedTableCells();if(!b)return;const T=f.editing.view,P=f.editing.mapper,q=b.map(te=>T.createRangeOn(P.toViewElement(te)));c.selection=T.createSelection(q)}_getCellsToSelect(n,c){const f=this.editor.plugins.get("TableUtils"),b=f.getCellLocation(n),T=f.getCellLocation(c),P=Math.min(b.row,T.row),q=Math.max(b.row,T.row),te=Math.min(b.column,T.column),ve=Math.max(b.column,T.column),Fe=new Array(q-P+1).fill(null).map(()=>[]),st={startRow:P,endRow:q,startColumn:te,endColumn:ve};for(const{row:Wt,cell:Ht}of new ue(n.findAncestor("table"),st))Fe[Wt-P].push(Ht);const ft=T.row<b.row,Rt=T.column<b.column;return ft&&Fe.reverse(),Rt&&Fe.forEach(Wt=>Wt.reverse()),{cells:Fe.flat(),backward:ft||Rt}}}var Pe=Q(331);class We extends d.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[Pe.ClipboardMarkersUtils,Pe.ClipboardPipeline,X,gt]}init(){const n=this.editor,c=n.editing.view.document;this.listenTo(c,"copy",(f,b)=>this._onCopyCut(f,b)),this.listenTo(c,"cut",(f,b)=>this._onCopyCut(f,b)),this.listenTo(n.model,"insertContent",(f,[b,T])=>this._onInsertContent(f,b,T),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,c){const f=this.editor.editing.view,b=this.editor.plugins.get(X),T=this.editor.plugins.get(Pe.ClipboardMarkersUtils);b.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(c.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const P=T._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>b.getSelectionAsFragment());f.document.fire("clipboardOutput",{dataTransfer:c.dataTransfer,content:this.editor.data.toView(P),method:n.name})}))}_onInsertContent(n,c,f){if(f&&!f.is("documentSelection"))return;const b=this.editor.model,T=this.editor.plugins.get(gt),P=this.editor.plugins.get(Pe.ClipboardMarkersUtils),q=this.getTableIfOnlyTableInContent(c,b);if(!q)return;const te=T.getSelectionAffectedTableCells(b.document.selection);te.length?(n.stop(),c.is("documentFragment")?P._pasteMarkersIntoTransformedElement(c.markers,ve=>this._replaceSelectedCells(q,te,ve)):this.editor.model.change(ve=>{this._replaceSelectedCells(q,te,ve)})):ne(q,T)}_replaceSelectedCells(n,c,f){const b=this.editor.plugins.get(gt),T={width:b.getColumns(n),height:b.getRows(n)},P=function(st,ft,Rt,Wt){const Ht=st[0].findAncestor("table"),ni=Wt.getColumnIndexes(st),ci=Wt.getRowIndexes(st),hi={firstColumn:ni.first,lastColumn:ni.last,firstRow:ci.first,lastRow:ci.last},Si=st.length===1;return Si&&(hi.lastRow+=ft.height-1,hi.lastColumn+=ft.width-1,function(Xi,En,On,Cn){const yo=Cn.getColumns(Xi),wr=Cn.getRows(Xi);On>yo&&Cn.insertColumns(Xi,{at:yo,columns:On-yo}),En>wr&&Cn.insertRows(Xi,{at:wr,rows:En-wr})}(Ht,hi.lastRow+1,hi.lastColumn+1,Wt)),Si||!Wt.isSelectionRectangular(st)?function(Xi,En,On){const{firstRow:Cn,lastRow:yo,firstColumn:wr,lastColumn:va}=En,ya={first:Cn,last:yo},_s={first:wr,last:va};Me(Xi,wr,ya,On),Me(Xi,va+1,ya,On),oe(Xi,Cn,_s,On),oe(Xi,yo+1,_s,On,Cn)}(Ht,hi,Rt):(hi.lastRow=de(Ht,hi),hi.lastColumn=Se(Ht,hi)),hi}(c,T,f,b),q=P.lastRow-P.firstRow+1,te=P.lastColumn-P.firstColumn+1;n=re(n,{startRow:0,startColumn:0,endRow:Math.min(q,T.height)-1,endColumn:Math.min(te,T.width)-1},f);const ve=c[0].findAncestor("table"),Fe=this._replaceSelectedCellsWithPasted(n,T,ve,P,f);if(this.editor.plugins.get("TableSelection").isEnabled){const st=b.sortRanges(Fe.map(ft=>f.createRangeOn(ft)));f.setSelection(st)}else f.setSelection(Fe[0],0);return ve}_replaceSelectedCellsWithPasted(n,c,f,b,T){const{width:P,height:q}=c,te=function(ni,ci,hi){const Si=new Array(hi).fill(null).map(()=>new Array(ci).fill(null));for(const{column:Xi,row:En,cell:On}of new ue(ni))Si[En][Xi]=On;return Si}(n,P,q),ve=[...new ue(f,{startRow:b.firstRow,endRow:b.lastRow,startColumn:b.firstColumn,endColumn:b.lastColumn,includeAllSlots:!0})],Fe=[];let st;for(const ni of ve){const{row:ci,column:hi}=ni;hi===b.firstColumn&&(st=ni.getPositionBefore());const Si=ci-b.firstRow,Xi=hi-b.firstColumn,En=te[Si%q][Xi%P],On=En?T.cloneElement(En):null,Cn=this._replaceTableSlotCell(ni,On,st,T);Cn&&(Ae(Cn,ci,hi,b.lastRow,b.lastColumn,T),Fe.push(Cn),st=T.createPositionAfter(Cn))}const ft=parseInt(f.getAttribute("headingRows")||"0"),Rt=parseInt(f.getAttribute("headingColumns")||"0"),Wt=b.firstRow<ft&&ft<=b.lastRow,Ht=b.firstColumn<Rt&&Rt<=b.lastColumn;if(Wt){const ni=oe(f,ft,{first:b.firstColumn,last:b.lastColumn},T,b.firstRow);Fe.push(...ni)}if(Ht){const ni=Me(f,Rt,{first:b.firstRow,last:b.lastRow},T);Fe.push(...ni)}return Fe}_replaceTableSlotCell(n,c,f,b){const{cell:T,isAnchor:P}=n;return P&&b.remove(T),c?(b.insert(c,f),c):null}getTableIfOnlyTableInContent(n,c){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const f=c.createRangeIn(n);for(const b of f.getItems())if(b.is("element","table")){const T=c.createRange(f.start,c.createPositionBefore(b));if(c.hasContent(T,{ignoreWhitespaces:!0}))return null;const P=c.createRange(c.createPositionAfter(b),f.end);return c.hasContent(P,{ignoreWhitespaces:!0})?null:b}return null}}function oe(o,n,c,f,b=0){if(!(n<1))return O(o,n,b).filter(({column:T,cellWidth:P})=>Je(T,P,c)).map(({cell:T})=>W(T,n,f))}function Me(o,n,c,f){if(!(n<1))return ie(o,n).filter(({row:b,cellHeight:T})=>Je(b,T,c)).map(({cell:b,column:T})=>we(b,T,n,f))}function Je(o,n,c){const f=o+n-1,{first:b,last:T}=c;return o>=b&&o<=T||o<b&&f>=b}class Qe extends d.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[X,gt]}init(){const n=this.editor,c=n.editing.view.document,f=n.t;this.listenTo(c,"arrowKey",(...b)=>this._onArrowKey(...b),{context:"table"}),this.listenTo(c,"tab",(...b)=>this._handleTabOnSelectedTable(...b),{context:"figure"}),this.listenTo(c,"tab",(...b)=>this._handleTab(...b),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:f("Keystrokes that can be used in a table cell"),keystrokes:[{label:f("Move the selection to the next cell"),keystroke:"Tab"},{label:f("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:f("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:f("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,c){const f=this.editor,b=f.model.document.selection.getSelectedElement();b&&b.is("element","table")&&(c.preventDefault(),c.stopPropagation(),n.stop(),f.model.change(T=>{T.setSelection(T.createRangeIn(b.getChild(0).getChild(0)))}))}_handleTab(n,c){const f=this.editor,b=this.editor.plugins.get(gt),T=this.editor.plugins.get("TableSelection"),P=f.model.document.selection,q=!c.shiftKey;let te=b.getTableCellsContainingSelection(P)[0];if(te||(te=T.getFocusCell()),!te)return;c.preventDefault(),c.stopPropagation(),n.stop();const ve=te.parent,Fe=ve.parent,st=Fe.getChildIndex(ve),ft=ve.getChildIndex(te),Rt=ft===0;if(!q&&Rt&&st===0)return void f.model.change(ci=>{ci.setSelection(ci.createRangeOn(Fe))});const Wt=ft===ve.childCount-1,Ht=st===b.getRows(Fe)-1;if(q&&Ht&&Wt&&(f.execute("insertTableRowBelow"),st===b.getRows(Fe)-1))return void f.model.change(ci=>{ci.setSelection(ci.createRangeOn(Fe))});let ni;if(q&&Wt)ni=Fe.getChild(st+1).getChild(0);else if(!q&&Rt){const ci=Fe.getChild(st-1);ni=ci.getChild(ci.childCount-1)}else ni=ve.getChild(ft+(q?1:-1));f.model.change(ci=>{ci.setSelection(ci.createRangeIn(ni))})}_onArrowKey(n,c){const f=this.editor,b=c.keyCode,T=(0,ge.getLocalizedArrowKeyCodeDirection)(b,f.locale.contentLanguageDirection);this._handleArrowKeys(T,c.shiftKey)&&(c.preventDefault(),c.stopPropagation(),n.stop())}_handleArrowKeys(n,c){const f=this.editor.plugins.get(gt),b=this.editor.plugins.get("TableSelection"),T=this.editor.model,P=T.document.selection,q=["right","down"].includes(n),te=f.getSelectedTableCells(P);if(te.length){let Fe;return Fe=c?b.getFocusCell():q?te[te.length-1]:te[0],this._navigateFromCellInDirection(Fe,n,c),!0}const ve=P.focus.findAncestor("tableCell");if(!ve)return!1;if(!P.isCollapsed)if(c){if(P.isBackward==q&&!P.containsEntireContent(ve))return!1}else{const Fe=P.getSelectedElement();if(!Fe||!T.schema.isObject(Fe))return!1}return!!this._isSelectionAtCellEdge(P,ve,q)&&(this._navigateFromCellInDirection(ve,n,c),!0)}_isSelectionAtCellEdge(n,c,f){const b=this.editor.model,T=this.editor.model.schema,P=f?n.getLastPosition():n.getFirstPosition();if(!T.getLimitElement(P).is("element","tableCell"))return b.createPositionAt(c,f?"end":0).isTouching(P);const q=b.createSelection(P);return b.modifySelection(q,{direction:f?"forward":"backward"}),P.isEqual(q.focus)}_navigateFromCellInDirection(n,c,f=!1){const b=this.editor.model,T=n.findAncestor("table"),P=[...new ue(T,{includeAllSlots:!0})],{row:q,column:te}=P[P.length-1],ve=P.find(({cell:Ht})=>Ht==n);let{row:Fe,column:st}=ve;switch(c){case"left":st--;break;case"up":Fe--;break;case"right":st+=ve.cellWidth;break;case"down":Fe+=ve.cellHeight}if(Fe<0||Fe>q||st<0&&Fe<=0||st>te&&Fe>=q)return void b.change(Ht=>{Ht.setSelection(Ht.createRangeOn(T))});st<0?(st=f?0:te,Fe--):st>te&&(st=f?te:0,Fe++);const ft=P.find(Ht=>Ht.row==Fe&&Ht.column==st).cell,Rt=["right","down"].includes(c),Wt=this.editor.plugins.get("TableSelection");if(f&&Wt.isEnabled){const Ht=Wt.getAnchorCell()||n;Wt.setCellSelection(Ht,ft)}else{const Ht=b.createPositionAt(ft,Rt?0:"end");b.change(ni=>{ni.setSelection(Ht)})}}}var ut=Q(783);class Ft extends ut.DomEventObserver{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class Pt extends d.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[X,gt]}init(){this.editor.editing.view.addObserver(Ft),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,c=n.plugins.get(gt);let f=!1;const b=n.plugins.get(X);this.listenTo(n.editing.view.document,"mousedown",(T,P)=>{const q=n.model.document.selection;if(!this.isEnabled||!b.isEnabled||!P.domEvent.shiftKey)return;const te=b.getAnchorCell()||c.getTableCellsContainingSelection(q)[0];if(!te)return;const ve=this._getModelTableCellFromDomEvent(P);ve&&ri(te,ve)&&(f=!0,b.setCellSelection(te,ve),P.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{f=!1}),this.listenTo(n.editing.view.document,"selectionChange",T=>{f&&T.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let c,f,b=!1,T=!1;const P=n.plugins.get(X);this.listenTo(n.editing.view.document,"mousedown",(q,te)=>{this.isEnabled&&P.isEnabled&&(te.domEvent.shiftKey||te.domEvent.ctrlKey||te.domEvent.altKey||(c=this._getModelTableCellFromDomEvent(te)))}),this.listenTo(n.editing.view.document,"mousemove",(q,te)=>{if(!te.domEvent.buttons||!c)return;const ve=this._getModelTableCellFromDomEvent(te);ve&&ri(c,ve)&&(f=ve,b||f==c||(b=!0)),b&&(T=!0,P.setCellSelection(c,f),te.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{b=!1,T=!1,c=null,f=null}),this.listenTo(n.editing.view.document,"selectionChange",q=>{T&&q.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const c=n.target,f=this.editor.editing.view.createPositionAt(c,0);return this.editor.editing.mapper.toModelPosition(f).parent.findAncestor("tableCell",{includeSelf:!0})}}function ri(o,n){return o.parent.parent==n.parent.parent}var bi=Q(25),ui={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(bi.A,ui),bi.A.locals;class Ei extends d.Plugin{static get requires(){return[Ye,jt,X,Pt,Qe,We,w.Widget]}static get pluginName(){return"Table"}}class _i extends d.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[Ei]}init(){const n=this.editor;n.conversion.for("dataDowncast").elementToStructure({model:"table",view:bn,converterPriority:"high"}),n.plugins.has("TableCaption")&&n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(c,{writer:f})=>{if(c.parent.name==="table")return f.createContainerElement("caption")},converterPriority:"high"}),n.plugins.has("TableProperties")&&function(c){const f={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[b,T]of Object.entries(f))c.conversion.for("dataDowncast").add(P=>P.on(`attribute:${T}:table`,(q,te,ve)=>{const{item:Fe,attributeNewValue:st}=te,{mapper:ft,writer:Rt}=ve;if(!ve.consumable.consume(Fe,q.name))return;const Wt=ft.toViewElement(Fe);st?Rt.setStyle(b,st,Wt):Rt.removeStyle(b,Wt)},{priority:"high"}))}(n)}}function bn(o,{writer:n}){const c=o.getAttribute("headingRows")||0,f=n.createSlot(ve=>ve.is("element","tableRow")&&ve.index<c),b=n.createSlot(ve=>ve.is("element","tableRow")&&ve.index>=c),T=n.createSlot(ve=>!ve.is("element","tableRow")),P=n.createContainerElement("thead",null,f),q=n.createContainerElement("tbody",null,b),te=[];return c&&te.push(P),c<o.childCount&&te.push(q),n.createContainerElement("table",null,[T,...te])}function wn(o){return yn(o)||An(o)}function yn(o){const n=o.getSelectedElement();return n&&gn(n)?n:null}function An(o){const n=o.getFirstPosition();if(!n)return null;let c=n.parent;for(;c;){if(c.is("element")&&gn(c))return c;c=c.parent}return null}function gn(o){return!!o.getCustomProperty("table")&&(0,w.isWidget)(o)}class Yn extends d.Plugin{static get requires(){return[w.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const n=this.editor,c=n.t,f=n.plugins.get(w.WidgetToolbarRepository),b=n.config.get("table.contentToolbar"),T=n.config.get("table.tableToolbar");b&&f.register("tableContent",{ariaLabel:c("Table toolbar"),items:b,getRelatedElement:An}),T&&f.register("table",{ariaLabel:c("Table toolbar"),items:T,getRelatedElement:yn})}}var In=Q(770),Jn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(In.A,Jn),In.A.locals;class xo extends qe.View{constructor(n,c){super(n),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=c,this.focusTracker=new ge.FocusTracker,this._focusables=new qe.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new ge.KeystrokeHandler,this._stillTyping=!1,this.focusCycler=new qe.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(f,b,T)=>this._setInputValue(T))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(n=>{this.focusTracker.add(n.element),this._focusables.add(n)}),this.keystrokes.listenTo(this.element)}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const n=this.locale,c=n.t,f=this.bindTemplate,b=this._createColorSelector(n),T=(0,qe.createDropdown)(n),P=new qe.View;return P.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:f.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",f.if("value","ck-hidden",q=>q!="")]}}]}),T.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),T.buttonView.children.add(P),T.buttonView.label=c("Color picker"),T.buttonView.tooltip=!0,T.panelPosition=n.uiLanguageDirection==="rtl"?"se":"sw",T.panelView.children.add(b),T.bind("isEnabled").to(this,"isReadOnly",q=>!q),T.on("change:isOpen",(q,te,ve)=>{ve&&(b.updateSelectedColors(),b.showColorGridsFragment())}),T}_createInputTextView(){const n=this.locale,c=new qe.InputTextView(n);return c.extendTemplate({on:{blur:c.bindTemplate.to("blur")}}),c.value=this.value,c.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(c),c.on("input",()=>{const f=c.element.value,b=this.options.colorDefinitions.find(T=>f===T.label);this._stillTyping=!0,this.value=b&&b.color||f}),c.on("blur",()=>{this._stillTyping=!1,this._setInputValue(c.element.value)}),c.delegate("input").to(this),c}_createColorSelector(n){const c=n.t,f=this.options.defaultColorValue||"",b=c(f?"Restore default":"Remove color"),T=new qe.ColorSelectorView(n,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:b,colorPickerLabel:c("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&{...this.options.colorPickerConfig,hideInput:!0}});T.appendUI(),T.on("execute",(q,te)=>{te.source!=="colorPickerSaveButton"?(this.value=te.value||f,this.fire("input"),te.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1});let P=this.value;return T.on("colorPicker:cancel",()=>{this.value=P,this.fire("input"),this.dropdownView.isOpen=!1}),T.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{P=this.value}),T.bind("selectedColor").to(this,"value"),T}_setInputValue(n){if(!this._stillTyping){const c=Xn(n),f=this.options.colorDefinitions.find(b=>c===Xn(b.color));this.inputView.value=f?f.label:n||""}}}function Xn(o){return o.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const Co=o=>o==="";function eo(o){return{none:o("None"),solid:o("Solid"),dotted:o("Dotted"),dashed:o("Dashed"),double:o("Double"),groove:o("Groove"),ridge:o("Ridge"),inset:o("Inset"),outset:o("Outset")}}function Go(o){return o('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function hn(o){return o('The value is invalid. Try "10px" or "2em" or simply "2".')}function Sn(o){return o=o.trim().toLowerCase(),Co(o)||(0,ut.isColor)(o)}function zn(o){return o=o.trim(),Co(o)||Fo(o)||(0,ut.isLength)(o)||(0,ut.isPercentage)(o)}function go(o){return o=o.trim(),Co(o)||Fo(o)||(0,ut.isLength)(o)}function ir(o,n){const c=new ge.Collection,f=eo(o.t);for(const b in f){const T={type:"button",model:new qe.ViewModel({_borderStyleValue:b,label:f[b],role:"menuitemradio",withText:!0})};b==="none"?T.model.bind("isOn").to(o,"borderStyle",P=>n==="none"?!P:P===b):T.model.bind("isOn").to(o,"borderStyle",P=>P===b),c.add(T)}return c}function po(o){const{view:n,icons:c,toolbar:f,labels:b,propertyName:T,nameToValue:P,defaultValue:q}=o;for(const te in b){const ve=new qe.ButtonView(n.locale);ve.set({label:b[te],icon:c[te],tooltip:b[te]});const Fe=P?P(te):te;ve.bind("isOn").to(n,T,st=>{let ft=st;return st===""&&q&&(ft=q),Fe===ft}),ve.on("execute",()=>{n[T]=Fe}),f.items.add(ve)}}const Ao=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Mo(o){return(n,c,f)=>{const b=new xo(n.locale,{colorDefinitions:(T=o.colorConfig,T.map(P=>({color:P.model,label:P.label,options:{hasBorder:P.hasBorder}}))),columns:o.columns,defaultColorValue:o.defaultColorValue,colorPickerConfig:o.colorPickerConfig});var T;return b.inputView.set({id:c,ariaDescribedById:f}),b.bind("isReadOnly").to(n,"isEnabled",P=>!P),b.bind("hasError").to(n,"errorText",P=>!!P),b.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused").to(b),b}}function Fo(o){const n=parseFloat(o);return!Number.isNaN(n)&&o===String(n)}var Fn=Q(839),to={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(Fn.A,to),Fn.A.locals;class Tn extends qe.View{constructor(n,c={}){super(n);const f=this.bindTemplate;this.set("class",c.class||null),this.children=this.createCollection(),c.children&&c.children.forEach(b=>this.children.add(b)),this.set("_role",null),this.set("_ariaLabelledBy",null),c.labelView&&this.set({_role:"group",_ariaLabelledBy:c.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",f.to("class")],role:f.to("_role"),"aria-labelledby":f.to("_ariaLabelledBy")},children:this.children})}}var wo=Q(67),Lo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(wo.A,Lo),wo.A.locals;var Ho=Q(911),nr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(Ho.A,nr),Ho.A.locals;var To=Q(266),io={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(To.A,io),To.A.locals;const fo={left:d.icons.alignLeft,center:d.icons.alignCenter,right:d.icons.alignRight,justify:d.icons.alignJustify,top:d.icons.alignTop,middle:d.icons.alignMiddle,bottom:d.icons.alignBottom};class no extends qe.View{constructor(n,c){super(n),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=c;const{borderStyleDropdown:f,borderWidthInput:b,borderColorInput:T,borderRowLabel:P}=this._createBorderFields(),{backgroundRowLabel:q,backgroundInput:te}=this._createBackgroundFields(),{widthInput:ve,operatorLabel:Fe,heightInput:st,dimensionsLabel:ft}=this._createDimensionFields(),{horizontalAlignmentToolbar:Rt,verticalAlignmentToolbar:Wt,alignmentLabel:Ht}=this._createAlignmentFields();this.focusTracker=new ge.FocusTracker,this.keystrokes=new ge.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=f,this.borderWidthInput=b,this.borderColorInput=T,this.backgroundInput=te,this.paddingInput=this._createPaddingField(),this.widthInput=ve,this.heightInput=st,this.horizontalAlignmentToolbar=Rt,this.verticalAlignmentToolbar=Wt;const{saveButtonView:ni,cancelButtonView:ci}=this._createActionButtons();this.saveButtonView=ni,this.cancelButtonView=ci,this._focusables=new qe.ViewCollection,this._focusCycler=new qe.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new qe.FormHeaderView(n,{label:this.t("Cell properties")})),this.children.add(new Tn(n,{labelView:P,children:[P,f,T,b],class:"ck-table-form__border-row"})),this.children.add(new Tn(n,{labelView:q,children:[q,te],class:"ck-table-form__background-row"})),this.children.add(new Tn(n,{children:[new Tn(n,{labelView:ft,children:[ft,ve,Fe,st],class:"ck-table-form__dimensions-row"}),new Tn(n,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Tn(n,{labelView:Ht,children:[Ht,Rt,Wt],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Tn(n,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,qe.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(n=>{n.fieldView.focusCycler.on("forwardCycle",c=>{this._focusCycler.focusNext(),c.stop()}),n.fieldView.focusCycler.on("backwardCycle",c=>{this._focusCycler.focusPrevious(),c.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const n=this.options.defaultTableCellProperties,c={style:n.borderStyle,width:n.borderWidth,color:n.borderColor},f=Mo({colorConfig:this.options.borderColors,columns:5,defaultColorValue:c.color,colorPickerConfig:this.options.colorPickerConfig}),b=this.locale,T=this.t,P=T("Style"),q=new qe.LabelView(b);q.text=T("Border");const te=eo(T),ve=new qe.LabeledFieldView(b,qe.createLabeledDropdown);ve.set({label:P,class:"ck-table-form__border-style"}),ve.fieldView.buttonView.set({ariaLabel:P,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:P}),ve.fieldView.buttonView.bind("label").to(this,"borderStyle",ft=>te[ft||"none"]),ve.fieldView.on("execute",ft=>{this.borderStyle=ft.source._borderStyleValue}),ve.bind("isEmpty").to(this,"borderStyle",ft=>!ft),(0,qe.addListToDropdown)(ve.fieldView,ir(this,c.style),{role:"menu",ariaLabel:P});const Fe=new qe.LabeledFieldView(b,qe.createLabeledInputText);Fe.set({label:T("Width"),class:"ck-table-form__border-width"}),Fe.fieldView.bind("value").to(this,"borderWidth"),Fe.bind("isEnabled").to(this,"borderStyle",Pn),Fe.fieldView.on("input",()=>{this.borderWidth=Fe.fieldView.element.value});const st=new qe.LabeledFieldView(b,f);return st.set({label:T("Color"),class:"ck-table-form__border-color"}),st.fieldView.bind("value").to(this,"borderColor"),st.bind("isEnabled").to(this,"borderStyle",Pn),st.fieldView.on("input",()=>{this.borderColor=st.fieldView.value}),this.on("change:borderStyle",(ft,Rt,Wt,Ht)=>{Pn(Wt)||(this.borderColor="",this.borderWidth=""),Pn(Ht)||(this.borderColor=c.color,this.borderWidth=c.width)}),{borderRowLabel:q,borderStyleDropdown:ve,borderColorInput:st,borderWidthInput:Fe}}_createBackgroundFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Background");const b=Mo({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),T=new qe.LabeledFieldView(n,b);return T.set({label:c("Color"),class:"ck-table-cell-properties-form__background"}),T.fieldView.bind("value").to(this,"backgroundColor"),T.fieldView.on("input",()=>{this.backgroundColor=T.fieldView.value}),{backgroundRowLabel:f,backgroundInput:T}}_createDimensionFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Dimensions");const b=new qe.LabeledFieldView(n,qe.createLabeledInputText);b.set({label:c("Width"),class:"ck-table-form__dimensions-row__width"}),b.fieldView.bind("value").to(this,"width"),b.fieldView.on("input",()=>{this.width=b.fieldView.element.value});const T=new qe.View(n);T.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const P=new qe.LabeledFieldView(n,qe.createLabeledInputText);return P.set({label:c("Height"),class:"ck-table-form__dimensions-row__height"}),P.fieldView.bind("value").to(this,"height"),P.fieldView.on("input",()=>{this.height=P.fieldView.element.value}),{dimensionsLabel:f,widthInput:b,operatorLabel:T,heightInput:P}}_createPaddingField(){const n=this.locale,c=this.t,f=new qe.LabeledFieldView(n,qe.createLabeledInputText);return f.set({label:c("Padding"),class:"ck-table-cell-properties-form__padding"}),f.fieldView.bind("value").to(this,"padding"),f.fieldView.on("input",()=>{this.padding=f.fieldView.element.value}),f}_createAlignmentFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Table cell text alignment");const b=new qe.ToolbarView(n),T=n.contentLanguageDirection==="rtl";b.set({isCompact:!0,ariaLabel:c("Horizontal text alignment toolbar")}),po({view:this,icons:fo,toolbar:b,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:q=>{if(T){if(q==="left")return"right";if(q==="right")return"left"}return q},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const P=new qe.ToolbarView(n);return P.set({isCompact:!0,ariaLabel:c("Vertical text alignment toolbar")}),po({view:this,icons:fo,toolbar:P,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:b,verticalAlignmentToolbar:P,alignmentLabel:f}}_createActionButtons(){const n=this.locale,c=this.t,f=new qe.ButtonView(n),b=new qe.ButtonView(n),T=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return f.set({label:c("Save"),icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),f.bind("isEnabled").toMany(T,"errorText",(...P)=>P.every(q=>!q)),b.set({label:c("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),b.delegate("execute").to(this,"cancel"),{saveButtonView:f,cancelButtonView:b}}get _horizontalAlignmentLabels(){const n=this.locale,c=this.t,f=c("Align cell text to the left"),b=c("Align cell text to the center"),T=c("Align cell text to the right"),P=c("Justify cell text");return n.uiLanguageDirection==="rtl"?{right:T,center:b,left:f,justify:P}:{left:f,center:b,right:T,justify:P}}get _verticalAlignmentLabels(){const n=this.t;return{top:n("Align cell text to the top"),middle:n("Align cell text to the middle"),bottom:n("Align cell text to the bottom")}}}function Pn(o){return o!=="none"}const Hn=function(o){var n=typeof o;return o!=null&&(n=="object"||n=="function")},un=typeof global=="object"&&global&&global.Object===Object&&global;var Un=typeof self=="object"&&self&&self.Object===Object&&self;const ji=un||Un||Function("return this")(),mn=function(){return ji.Date.now()};var co=/\s/;const Xt=function(o){for(var n=o.length;n--&&co.test(o.charAt(n)););return n};var oo=/^\s+/;const uo=function(o){return o&&o.slice(0,Xt(o)+1).replace(oo,"")},Bn=ji.Symbol;var Uo=Object.prototype,ho=Uo.hasOwnProperty,Lt=Uo.toString,mo=Bn?Bn.toStringTag:void 0;const _e=function(o){var n=ho.call(o,mo),c=o[mo];try{o[mo]=void 0;var f=!0}catch{}var b=Lt.call(o);return f&&(n?o[mo]=c:delete o[mo]),b};var B=Object.prototype.toString;const ce=function(o){return B.call(o)};var $e=Bn?Bn.toStringTag:void 0;const F=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":$e&&$e in Object(o)?_e(o):ce(o)},y=function(o){return o!=null&&typeof o=="object"},j=function(o){return typeof o=="symbol"||y(o)&&F(o)=="[object Symbol]"};var Z=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,me=/^0o[0-7]+$/i,ke=parseInt;const fe=function(o){if(typeof o=="number")return o;if(j(o))return NaN;if(Hn(o)){var n=typeof o.valueOf=="function"?o.valueOf():o;o=Hn(n)?n+"":n}if(typeof o!="string")return o===0?o:+o;o=uo(o);var c=se.test(o);return c||me.test(o)?ke(o.slice(2),c?2:8):Z.test(o)?NaN:+o};var je=Math.max,Ne=Math.min;const et=function(o,n,c){var f,b,T,P,q,te,ve=0,Fe=!1,st=!1,ft=!0;if(typeof o!="function")throw new TypeError("Expected a function");function Rt(hi){var Si=f,Xi=b;return f=b=void 0,ve=hi,P=o.apply(Xi,Si)}function Wt(hi){var Si=hi-te;return te===void 0||Si>=n||Si<0||st&&hi-ve>=T}function Ht(){var hi=mn();if(Wt(hi))return ni(hi);q=setTimeout(Ht,function(Si){var Xi=n-(Si-te);return st?Ne(Xi,T-(Si-ve)):Xi}(hi))}function ni(hi){return q=void 0,ft&&f?Rt(hi):(f=b=void 0,P)}function ci(){var hi=mn(),Si=Wt(hi);if(f=arguments,b=this,te=hi,Si){if(q===void 0)return function(Xi){return ve=Xi,q=setTimeout(Ht,n),Fe?Rt(Xi):P}(te);if(st)return clearTimeout(q),q=setTimeout(Ht,n),Rt(te)}return q===void 0&&(q=setTimeout(Ht,n)),P}return n=fe(n)||0,Hn(c)&&(Fe=!!c.leading,T=(st="maxWait"in c)?je(fe(c.maxWait)||0,n):T,ft="trailing"in c?!!c.trailing:ft),ci.cancel=function(){q!==void 0&&clearTimeout(q),ve=0,f=te=b=q=void 0},ci.flush=function(){return q===void 0?P:ni(mn())},ci},rt=qe.BalloonPanelView.defaultPositions,Ct=[rt.northArrowSouth,rt.northArrowSouthWest,rt.northArrowSouthEast,rt.southArrowNorth,rt.southArrowNorthWest,rt.southArrowNorthEast,rt.viewportStickyNorth];function Et(o,n){const c=o.plugins.get("ContextualBalloon"),f=o.editing.view.document.selection;let b;n==="cell"?An(f)&&(b=Tt(o)):wn(f)&&(b=Bt(o)),b&&c.updatePosition(b)}function Bt(o){const n=Ee(o.model.document.selection),c=o.editing.mapper.toViewElement(n);return{target:o.editing.view.domConverter.mapViewToDom(c),positions:Ct}}function Tt(o){const n=o.editing.mapper,c=o.editing.view.domConverter,f=o.model.document.selection;if(f.rangeCount>1)return{target:()=>function(P,q){const te=q.editing.mapper,ve=q.editing.view.domConverter,Fe=Array.from(P).map(st=>{const ft=Yt(st.start),Rt=te.toViewElement(ft);return new ge.Rect(ve.mapViewToDom(Rt))});return ge.Rect.getBoundingRect(Fe)}(f.getRanges(),o),positions:Ct};const b=Yt(f.getFirstPosition()),T=n.toViewElement(b);return{target:c.mapViewToDom(T),positions:Ct}}function Yt(o){return o.nodeAfter&&o.nodeAfter.is("element","tableCell")?o.nodeAfter:o.findAncestor("tableCell")}function Qt(o){if(!o||!Hn(o))return o;const{top:n,right:c,bottom:f,left:b}=o;return n==c&&c==f&&f==b?n:void 0}function wi(o,n){const c=parseFloat(o);return Number.isNaN(c)||String(c)!==String(o)?o:`${c}${n}`}function Ai(o,n={}){const c={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...o};return n.includeAlignmentProperty&&!c.alignment&&(c.alignment="center"),n.includePaddingProperty&&!c.padding&&(c.padding=""),n.includeVerticalAlignmentProperty&&!c.verticalAlignment&&(c.verticalAlignment="middle"),n.includeHorizontalAlignmentProperty&&!c.horizontalAlignment&&(c.horizontalAlignment=n.isRightToLeftContent?"right":"left"),c}const Ii={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class Mi extends d.Plugin{static get requires(){return[qe.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(n){super(n),n.config.define("table.tableCellProperties",{borderColors:Ao,backgroundColors:Ao})}init(){const n=this.editor,c=n.t;this._defaultTableCellProperties=Ai(n.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:n.locale.contentLanguageDirection==="rtl"}),this._balloon=n.plugins.get(qe.ContextualBalloon),this.view=null,this._isReady=!1,n.ui.componentFactory.add("tableCellProperties",f=>{const b=new qe.ButtonView(f);b.set({label:c("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(b,"execute",()=>this._showView());const T=Object.values(Ii).map(P=>n.commands.get(P));return b.bind("isEnabled").toMany(T,"isEnabled",(...P)=>P.some(q=>q)),b})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const n=this.editor,c=n.config.get("table.tableCellProperties"),f=(0,qe.normalizeColorOptions)(c.borderColors),b=(0,qe.getLocalizedColorOptions)(n.locale,f),T=(0,qe.normalizeColorOptions)(c.backgroundColors),P=(0,qe.getLocalizedColorOptions)(n.locale,T),q=c.colorPicker!==!1,te=new no(n.locale,{borderColors:b,backgroundColors:P,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!q&&(c.colorPicker||{})}),ve=n.t;te.render(),this.listenTo(te,"submit",()=>{this._hideView()}),this.listenTo(te,"cancel",()=>{this._undoStepBatch.operations.length&&n.execute("undo",this._undoStepBatch),this._hideView()}),te.keystrokes.set("Esc",(ft,Rt)=>{this._hideView(),Rt()}),(0,qe.clickOutsideHandler)({emitter:te,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const Fe=Go(ve),st=hn(ve);return te.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),te.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:te.borderColorInput,commandName:"tableCellBorderColor",errorText:Fe,validator:Sn})),te.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:te.borderWidthInput,commandName:"tableCellBorderWidth",errorText:st,validator:go})),te.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:te.paddingInput,commandName:"tableCellPadding",errorText:st,validator:zn})),te.on("change:width",this._getValidatedPropertyChangeCallback({viewField:te.widthInput,commandName:"tableCellWidth",errorText:st,validator:zn})),te.on("change:height",this._getValidatedPropertyChangeCallback({viewField:te.heightInput,commandName:"tableCellHeight",errorText:st,validator:zn})),te.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:te.backgroundInput,commandName:"tableCellBackgroundColor",errorText:Fe,validator:Sn})),te.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),te.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),te}_fillViewFormFromCommandValues(){const n=this.editor.commands,c=n.get("tableCellBorderStyle");Object.entries(Ii).map(([f,b])=>{const T=this._defaultTableCellProperties[f]||"";return[f,n.get(b).value||T]}).forEach(([f,b])=>{(f!=="borderColor"&&f!=="borderWidth"||c.value!=="none")&&this.view.set(f,b)}),this._isReady=!0}_showView(){const n=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(n.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:Tt(n)}),this._undoStepBatch=n.model.createBatch(),this.view.focus()}_hideView(){const n=this.editor;this.stopListening(n.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const n=this.editor;An(n.editing.view.document.selection)?this._isViewVisible&&Et(n,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(n){return(c,f,b)=>{this._isReady&&this.editor.execute(n,{value:b,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(n){const{commandName:c,viewField:f,validator:b,errorText:T}=n,P=et(()=>{f.errorText=T},500);return(q,te,ve)=>{P.cancel(),this._isReady&&(b(ve)?(this.editor.execute(c,{value:ve,batch:this._undoStepBatch}),f.errorText=null):P())}}}class nn extends d.Command{constructor(n,c,f){super(n),this.attributeName=c,this._defaultValue=f}refresh(){const n=this.editor,c=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n.model.document.selection);this.isEnabled=!!c.length,this.value=this._getSingleValue(c)}execute(n={}){const{value:c,batch:f}=n,b=this.editor.model,T=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(b.document.selection),P=this._getValueToSet(c);b.enqueueChange(f,q=>{P?T.forEach(te=>q.setAttribute(this.attributeName,P,te)):T.forEach(te=>q.removeAttribute(this.attributeName,te))})}_getAttribute(n){if(!n)return;const c=n.getAttribute(this.attributeName);return c!==this._defaultValue?c:void 0}_getValueToSet(n){if(n!==this._defaultValue)return n}_getSingleValue(n){const c=this._getAttribute(n[0]);return n.every(f=>this._getAttribute(f)===c)?c:void 0}}class _n extends nn{constructor(n,c){super(n,"tableCellWidth",c)}_getValueToSet(n){if((n=wi(n,"px"))!==this._defaultValue)return n}}class ro extends d.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Ye]}init(){const n=this.editor,c=Ai(n.config.get("table.tableCellProperties.defaultProperties"));R(n.model.schema,n.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:c.width}),n.commands.add("tableCellWidth",new _n(n,c.width))}}class Oo extends nn{constructor(n,c){super(n,"tableCellPadding",c)}_getAttribute(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}_getValueToSet(n){const c=wi(n,"px");if(c!==this._defaultValue)return c}}class Gr extends nn{constructor(n,c){super(n,"tableCellHeight",c)}_getValueToSet(n){const c=wi(n,"px");if(c!==this._defaultValue)return c}}class kr extends nn{constructor(n,c){super(n,"tableCellBackgroundColor",c)}}class vs extends nn{constructor(n,c){super(n,"tableCellVerticalAlignment",c)}}class Zr extends nn{constructor(n,c){super(n,"tableCellHorizontalAlignment",c)}}class _r extends nn{constructor(n,c){super(n,"tableCellBorderStyle",c)}_getAttribute(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}}class vn extends nn{constructor(n,c){super(n,"tableCellBorderColor",c)}_getAttribute(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}}class or extends nn{constructor(n,c){super(n,"tableCellBorderWidth",c)}_getAttribute(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}_getValueToSet(n){const c=wi(n,"px");if(c!==this._defaultValue)return c}}const Qr=/^(top|middle|bottom)$/,Lr=/^(left|center|right|justify)$/;class Vo extends d.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Ye,ro]}init(){const n=this.editor,c=n.model.schema,f=n.conversion;n.config.define("table.tableCellProperties.defaultProperties",{});const b=Ai(n.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:n.locale.contentLanguageDirection==="rtl"});n.data.addStyleProcessorRules(ut.addBorderRules),function(T,P,q){const te={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};T.extend("tableCell",{allowAttributes:Object.values(te)}),u(P,"td",te,q),u(P,"th",te,q),C(P,{modelElement:"tableCell",modelAttribute:te.style,styleName:"border-style"}),C(P,{modelElement:"tableCell",modelAttribute:te.color,styleName:"border-color"}),C(P,{modelElement:"tableCell",modelAttribute:te.width,styleName:"border-width"})}(c,f,{color:b.borderColor,style:b.borderStyle,width:b.borderWidth}),n.commands.add("tableCellBorderStyle",new _r(n,b.borderStyle)),n.commands.add("tableCellBorderColor",new vn(n,b.borderColor)),n.commands.add("tableCellBorderWidth",new or(n,b.borderWidth)),R(c,f,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:b.height}),n.commands.add("tableCellHeight",new Gr(n,b.height)),n.data.addStyleProcessorRules(ut.addPaddingRules),R(c,f,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:b.padding}),n.commands.add("tableCellPadding",new Oo(n,b.padding)),n.data.addStyleProcessorRules(ut.addBackgroundRules),R(c,f,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:b.backgroundColor}),n.commands.add("tableCellBackgroundColor",new kr(n,b.backgroundColor)),function(T,P,q){T.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),P.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:te=>({key:"style",value:{"text-align":te}})}),P.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":Lr}},model:{key:"tableCellHorizontalAlignment",value:te=>{const ve=te.getStyle("text-align");return ve===q?null:ve}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:Lr}},model:{key:"tableCellHorizontalAlignment",value:te=>{const ve=te.getAttribute("align");return ve===q?null:ve}}})}(c,f,b.horizontalAlignment),n.commands.add("tableCellHorizontalAlignment",new Zr(n,b.horizontalAlignment)),function(T,P,q){T.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),P.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:te=>({key:"style",value:{"vertical-align":te}})}),P.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":Qr}},model:{key:"tableCellVerticalAlignment",value:te=>{const ve=te.getStyle("vertical-align");return ve===q?null:ve}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:Qr}},model:{key:"tableCellVerticalAlignment",value:te=>{const ve=te.getAttribute("valign");return ve===q?null:ve}}})}(c,f,b.verticalAlignment),n.commands.add("tableCellVerticalAlignment",new vs(n,b.verticalAlignment))}}class rr extends d.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[Vo,Mi]}}class Eo extends d.Command{constructor(n,c,f){super(n),this.attributeName=c,this._defaultValue=f}refresh(){const n=Ee(this.editor.model.document.selection);this.isEnabled=!!n,this.value=this._getValue(n)}execute(n={}){const c=this.editor.model,f=c.document.selection,{value:b,batch:T}=n,P=Ee(f),q=this._getValueToSet(b);c.enqueueChange(T,te=>{q?te.setAttribute(this.attributeName,q,P):te.removeAttribute(this.attributeName,P)})}_getValue(n){if(!n)return;const c=n.getAttribute(this.attributeName);return c!==this._defaultValue?c:void 0}_getValueToSet(n){if(n!==this._defaultValue)return n}}class Jr extends Eo{constructor(n,c){super(n,"tableBackgroundColor",c)}}class Xr extends Eo{constructor(n,c){super(n,"tableBorderColor",c)}_getValue(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}}class ys extends Eo{constructor(n,c){super(n,"tableBorderStyle",c)}_getValue(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}}class xs extends Eo{constructor(n,c){super(n,"tableBorderWidth",c)}_getValue(n){if(!n)return;const c=Qt(n.getAttribute(this.attributeName));return c!==this._defaultValue?c:void 0}_getValueToSet(n){const c=wi(n,"px");if(c!==this._defaultValue)return c}}class Cs extends Eo{constructor(n,c){super(n,"tableWidth",c)}_getValueToSet(n){if((n=wi(n,"px"))!==this._defaultValue)return n}}class As extends Eo{constructor(n,c){super(n,"tableHeight",c)}_getValueToSet(n){if((n=wi(n,"px"))!==this._defaultValue)return n}}class Ts extends Eo{constructor(n,c){super(n,"tableAlignment",c)}}const qs=/^(left|center|right)$/,bo=/^(left|none|right)$/;class sr extends d.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Ye]}init(){const n=this.editor,c=n.model.schema,f=n.conversion;n.config.define("table.tableProperties.defaultProperties",{});const b=Ai(n.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});n.data.addStyleProcessorRules(ut.addBorderRules),function(T,P,q){const te={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};T.extend("table",{allowAttributes:Object.values(te)}),u(P,"table",te,q),L(P,{modelAttribute:te.color,styleName:"border-color"}),L(P,{modelAttribute:te.style,styleName:"border-style"}),L(P,{modelAttribute:te.width,styleName:"border-width"})}(c,f,{color:b.borderColor,style:b.borderStyle,width:b.borderWidth}),n.commands.add("tableBorderColor",new Xr(n,b.borderColor)),n.commands.add("tableBorderStyle",new ys(n,b.borderStyle)),n.commands.add("tableBorderWidth",new xs(n,b.borderWidth)),function(T,P,q){T.extend("table",{allowAttributes:["tableAlignment"]}),P.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:te=>({key:"style",value:{float:te==="center"?"none":te}}),converterPriority:"high"}),P.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:bo}},model:{key:"tableAlignment",value:te=>{let ve=te.getStyle("float");return ve==="none"&&(ve="center"),ve===q?null:ve}}}).attributeToAttribute({view:{attributes:{align:qs}},model:{name:"table",key:"tableAlignment",value:te=>{const ve=te.getAttribute("align");return ve===q?null:ve}}})}(c,f,b.alignment),n.commands.add("tableAlignment",new Ts(n,b.alignment)),vr(c,f,{modelAttribute:"tableWidth",styleName:"width",defaultValue:b.width}),n.commands.add("tableWidth",new Cs(n,b.width)),vr(c,f,{modelAttribute:"tableHeight",styleName:"height",defaultValue:b.height}),n.commands.add("tableHeight",new As(n,b.height)),n.data.addStyleProcessorRules(ut.addBackgroundRules),function(T,P,q){const{modelAttribute:te}=q;T.extend("table",{allowAttributes:[te]}),s(P,{viewElement:"table",...q}),L(P,q)}(c,f,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:b.backgroundColor}),n.commands.add("tableBackgroundColor",new Jr(n,b.backgroundColor))}}function vr(o,n,c){const{modelAttribute:f}=c;o.extend("table",{allowAttributes:[f]}),s(n,{viewElement:/^(table|figure)$/,shouldUpcast:b=>!(b.name=="table"&&b.parent.name=="figure"),...c}),C(n,{modelElement:"table",...c})}var yr=Q(218),ko={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(yr.A,ko),yr.A.locals;const es={left:d.icons.objectLeft,center:d.icons.objectCenter,right:d.icons.objectRight};class xr extends qe.View{constructor(n,c){super(n),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=c;const{borderStyleDropdown:f,borderWidthInput:b,borderColorInput:T,borderRowLabel:P}=this._createBorderFields(),{backgroundRowLabel:q,backgroundInput:te}=this._createBackgroundFields(),{widthInput:ve,operatorLabel:Fe,heightInput:st,dimensionsLabel:ft}=this._createDimensionFields(),{alignmentToolbar:Rt,alignmentLabel:Wt}=this._createAlignmentFields();this.focusTracker=new ge.FocusTracker,this.keystrokes=new ge.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=f,this.borderWidthInput=b,this.borderColorInput=T,this.backgroundInput=te,this.widthInput=ve,this.heightInput=st,this.alignmentToolbar=Rt;const{saveButtonView:Ht,cancelButtonView:ni}=this._createActionButtons();this.saveButtonView=Ht,this.cancelButtonView=ni,this._focusables=new qe.ViewCollection,this._focusCycler=new qe.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new qe.FormHeaderView(n,{label:this.t("Table properties")})),this.children.add(new Tn(n,{labelView:P,children:[P,f,T,b],class:"ck-table-form__border-row"})),this.children.add(new Tn(n,{labelView:q,children:[q,te],class:"ck-table-form__background-row"})),this.children.add(new Tn(n,{children:[new Tn(n,{labelView:ft,children:[ft,ve,Fe,st],class:"ck-table-form__dimensions-row"}),new Tn(n,{labelView:Wt,children:[Wt,Rt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Tn(n,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,qe.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(n=>{n.fieldView.focusCycler.on("forwardCycle",c=>{this._focusCycler.focusNext(),c.stop()}),n.fieldView.focusCycler.on("backwardCycle",c=>{this._focusCycler.focusPrevious(),c.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const n=this.options.defaultTableProperties,c={style:n.borderStyle,width:n.borderWidth,color:n.borderColor},f=Mo({colorConfig:this.options.borderColors,columns:5,defaultColorValue:c.color,colorPickerConfig:this.options.colorPickerConfig}),b=this.locale,T=this.t,P=T("Style"),q=new qe.LabelView(b);q.text=T("Border");const te=eo(T),ve=new qe.LabeledFieldView(b,qe.createLabeledDropdown);ve.set({label:P,class:"ck-table-form__border-style"}),ve.fieldView.buttonView.set({ariaLabel:P,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:P}),ve.fieldView.buttonView.bind("label").to(this,"borderStyle",ft=>te[ft||"none"]),ve.fieldView.on("execute",ft=>{this.borderStyle=ft.source._borderStyleValue}),ve.bind("isEmpty").to(this,"borderStyle",ft=>!ft),(0,qe.addListToDropdown)(ve.fieldView,ir(this,c.style),{role:"menu",ariaLabel:P});const Fe=new qe.LabeledFieldView(b,qe.createLabeledInputText);Fe.set({label:T("Width"),class:"ck-table-form__border-width"}),Fe.fieldView.bind("value").to(this,"borderWidth"),Fe.bind("isEnabled").to(this,"borderStyle",Wo),Fe.fieldView.on("input",()=>{this.borderWidth=Fe.fieldView.element.value});const st=new qe.LabeledFieldView(b,f);return st.set({label:T("Color"),class:"ck-table-form__border-color"}),st.fieldView.bind("value").to(this,"borderColor"),st.bind("isEnabled").to(this,"borderStyle",Wo),st.fieldView.on("input",()=>{this.borderColor=st.fieldView.value}),this.on("change:borderStyle",(ft,Rt,Wt,Ht)=>{Wo(Wt)||(this.borderColor="",this.borderWidth=""),Wo(Ht)||(this.borderColor=c.color,this.borderWidth=c.width)}),{borderRowLabel:q,borderStyleDropdown:ve,borderColorInput:st,borderWidthInput:Fe}}_createBackgroundFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Background");const b=Mo({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),T=new qe.LabeledFieldView(n,b);return T.set({label:c("Color"),class:"ck-table-properties-form__background"}),T.fieldView.bind("value").to(this,"backgroundColor"),T.fieldView.on("input",()=>{this.backgroundColor=T.fieldView.value}),{backgroundRowLabel:f,backgroundInput:T}}_createDimensionFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Dimensions");const b=new qe.LabeledFieldView(n,qe.createLabeledInputText);b.set({label:c("Width"),class:"ck-table-form__dimensions-row__width"}),b.fieldView.bind("value").to(this,"width"),b.fieldView.on("input",()=>{this.width=b.fieldView.element.value});const T=new qe.View(n);T.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const P=new qe.LabeledFieldView(n,qe.createLabeledInputText);return P.set({label:c("Height"),class:"ck-table-form__dimensions-row__height"}),P.fieldView.bind("value").to(this,"height"),P.fieldView.on("input",()=>{this.height=P.fieldView.element.value}),{dimensionsLabel:f,widthInput:b,operatorLabel:T,heightInput:P}}_createAlignmentFields(){const n=this.locale,c=this.t,f=new qe.LabelView(n);f.text=c("Alignment");const b=new qe.ToolbarView(n);return b.set({isCompact:!0,ariaLabel:c("Table alignment toolbar")}),po({view:this,icons:es,toolbar:b,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:f,alignmentToolbar:b}}_createActionButtons(){const n=this.locale,c=this.t,f=new qe.ButtonView(n),b=new qe.ButtonView(n),T=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return f.set({label:c("Save"),icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),f.bind("isEnabled").toMany(T,"errorText",(...P)=>P.every(q=>!q)),b.set({label:c("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),b.delegate("execute").to(this,"cancel"),{saveButtonView:f,cancelButtonView:b}}get _alignmentLabels(){const n=this.locale,c=this.t,f=c("Align table to the left"),b=c("Center table"),T=c("Align table to the right");return n.uiLanguageDirection==="rtl"?{right:T,center:b,left:f}:{left:f,center:b,right:T}}}function Wo(o){return o!=="none"}const ar={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class lr extends d.Plugin{static get requires(){return[qe.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(n){super(n),this.view=null,n.config.define("table.tableProperties",{borderColors:Ao,backgroundColors:Ao})}init(){const n=this.editor,c=n.t;this._defaultTableProperties=Ai(n.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=n.plugins.get(qe.ContextualBalloon),n.ui.componentFactory.add("tableProperties",f=>{const b=new qe.ButtonView(f);b.set({label:c("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(b,"execute",()=>this._showView());const T=Object.values(ar).map(P=>n.commands.get(P));return b.bind("isEnabled").toMany(T,"isEnabled",(...P)=>P.some(q=>q)),b})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const n=this.editor,c=n.config.get("table.tableProperties"),f=(0,qe.normalizeColorOptions)(c.borderColors),b=(0,qe.getLocalizedColorOptions)(n.locale,f),T=(0,qe.normalizeColorOptions)(c.backgroundColors),P=(0,qe.getLocalizedColorOptions)(n.locale,T),q=c.colorPicker!==!1,te=new xr(n.locale,{borderColors:b,backgroundColors:P,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!q&&(c.colorPicker||{})}),ve=n.t;te.render(),this.listenTo(te,"submit",()=>{this._hideView()}),this.listenTo(te,"cancel",()=>{this._undoStepBatch.operations.length&&n.execute("undo",this._undoStepBatch),this._hideView()}),te.keystrokes.set("Esc",(ft,Rt)=>{this._hideView(),Rt()}),(0,qe.clickOutsideHandler)({emitter:te,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const Fe=Go(ve),st=hn(ve);return te.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),te.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:te.borderColorInput,commandName:"tableBorderColor",errorText:Fe,validator:Sn})),te.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:te.borderWidthInput,commandName:"tableBorderWidth",errorText:st,validator:go})),te.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:te.backgroundInput,commandName:"tableBackgroundColor",errorText:Fe,validator:Sn})),te.on("change:width",this._getValidatedPropertyChangeCallback({viewField:te.widthInput,commandName:"tableWidth",errorText:st,validator:zn})),te.on("change:height",this._getValidatedPropertyChangeCallback({viewField:te.heightInput,commandName:"tableHeight",errorText:st,validator:zn})),te.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),te}_fillViewFormFromCommandValues(){const n=this.editor.commands,c=n.get("tableBorderStyle");Object.entries(ar).map(([f,b])=>{const T=f,P=this._defaultTableProperties[T]||"";return[T,n.get(b).value||P]}).forEach(([f,b])=>{(f!=="borderColor"&&f!=="borderWidth"||c.value!=="none")&&this.view.set(f,b)}),this._isReady=!0}_showView(){const n=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(n.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:Bt(n)}),this._undoStepBatch=n.model.createBatch(),this.view.focus()}_hideView(){const n=this.editor;this.stopListening(n.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const n=this.editor;wn(n.editing.view.document.selection)?this._isViewVisible&&Et(n,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(n){return(c,f,b)=>{this._isReady&&this.editor.execute(n,{value:b,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(n){const{commandName:c,viewField:f,validator:b,errorText:T}=n,P=et(()=>{f.errorText=T},500);return(q,te,ve)=>{P.cancel(),this._isReady&&(b(ve)?(this.editor.execute(c,{value:ve,batch:this._undoStepBatch}),f.errorText=null):P())}}}class ts extends d.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[sr,lr]}}function is(o){o.document.registerPostFixer(n=>function(c,f){const b=f.document.differ.getChanges();let T=!1;for(const P of b){if(P.type!="insert")continue;const q=P.position.parent;if(q.is("element","table")||P.name=="table"){const te=P.name=="table"?P.position.nodeAfter:q,ve=Array.from(te.getChildren()).filter(st=>st.is("element","caption")),Fe=ve.shift();if(!Fe)continue;for(const st of ve)c.move(c.createRangeIn(st),Fe,"end"),c.remove(st);Fe.nextSibling&&(c.move(c.createRangeOn(Fe),te,"end"),T=!0),T=!!ve.length||T}}return T}(n,o))}function Or(o){return!!o&&o.is("element","table")}function on(o){for(const n of o.getChildren())if(n.is("element","caption"))return n;return null}function Vr(o){const n=o.parent;return o.name=="figcaption"&&n&&n.is("element","figure")&&n.hasClass("table")||o.name=="caption"&&n&&n.is("element","table")?{name:!0}:null}class ns extends d.Command{refresh(){const n=Ee(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?this.value=!!on(n):this.value=!1}execute({focusCaptionOnShow:n=!1}={}){this.editor.model.change(c=>{this.value?this._hideTableCaption(c):this._showTableCaption(c,n)})}_showTableCaption(n,c){const f=this.editor.model,b=Ee(f.document.selection),T=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(b)||n.createElement("caption");f.insertContent(T,b,"end"),c&&n.setSelection(T,"in")}_hideTableCaption(n){const c=this.editor.model,f=Ee(c.document.selection),b=this.editor.plugins.get("TableCaptionEditing"),T=on(f);b._saveCaption(f,T),c.deleteContent(n.createSelection(T,"on"))}}class Es extends d.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(n){super(n),this._savedCaptionsMap=new WeakMap}init(){const n=this.editor,c=n.model.schema,f=n.editing.view,b=n.t;c.isRegistered("caption")?c.extend("caption",{allowIn:"table"}):c.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleTableCaption",new ns(this.editor)),n.conversion.for("upcast").elementToElement({view:Vr,model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(T,{writer:P})=>Or(T.parent)?P.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(T,{writer:P})=>{if(!Or(T.parent))return null;const q=P.createEditableElement("figcaption");return P.setCustomProperty("tableCaption",!0,q),q.placeholder=b("Enter table caption"),(0,ut.enablePlaceholder)({view:f,element:q,keepOnFocus:!0}),(0,w.toWidgetEditable)(q,P)}}),is(n.model)}_getSavedCaption(n){const c=this._savedCaptionsMap.get(n);return c?ut.Element.fromJSON(c):null}_saveCaption(n,c){this._savedCaptionsMap.set(n,c.toJSON())}}class $o extends d.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const n=this.editor,c=n.editing.view,f=n.t;n.ui.componentFactory.add("toggleTableCaption",b=>{const T=n.commands.get("toggleTableCaption"),P=new qe.ButtonView(b);return P.set({icon:d.icons.caption,tooltip:!0,isToggleable:!0}),P.bind("isOn","isEnabled").to(T,"value","isEnabled"),P.bind("label").to(T,"value",q=>f(q?"Toggle caption off":"Toggle caption on")),this.listenTo(P,"execute",()=>{if(n.execute("toggleTableCaption",{focusCaptionOnShow:!0}),T.value){const q=function(ve){const Fe=Ee(ve);return Fe?on(Fe):null}(n.model.document.selection),te=n.editing.mapper.toViewElement(q);if(!te)return;c.scrollToTheSelection(),c.change(ve=>{ve.addClass("table__caption_highlighted",te)})}n.editing.view.focus()}),P})}}var Rn=Q(175),os={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(Rn.A,os),Rn.A.locals;class jo extends d.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[Es,$o]}}const Ro=function(){this.__data__=[],this.size=0},rs=function(o,n){return o===n||o!=o&&n!=n},cr=function(o,n){for(var c=o.length;c--;)if(rs(o[c][0],n))return c;return-1};var Wn=Array.prototype.splice;const dr=function(o){var n=this.__data__,c=cr(n,o);return!(c<0)&&(c==n.length-1?n.pop():Wn.call(n,c,1),--this.size,!0)},ss=function(o){var n=this.__data__,c=cr(n,o);return c<0?void 0:n[c][1]},as=function(o){return cr(this.__data__,o)>-1},Ks=function(o,n){var c=this.__data__,f=cr(c,o);return f<0?(++this.size,c.push([o,n])):c[f][1]=n,this};function Zo(o){var n=-1,c=o==null?0:o.length;for(this.clear();++n<c;){var f=o[n];this.set(f[0],f[1])}}Zo.prototype.clear=Ro,Zo.prototype.delete=dr,Zo.prototype.get=ss,Zo.prototype.has=as,Zo.prototype.set=Ks;const Cr=Zo,qo=function(){this.__data__=new Cr,this.size=0},Ys=function(o){var n=this.__data__,c=n.delete(o);return this.size=n.size,c},jr=function(o){return this.__data__.get(o)},Ss=function(o){return this.__data__.has(o)},Is=function(o){if(!Hn(o))return!1;var n=F(o);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Ar=ji["__core-js_shared__"];var Rr,ls=(Rr=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||""))?"Symbol(src)_1."+Rr:"";const Gs=function(o){return!!ls&&ls in o};var Ps=Function.prototype.toString;const No=function(o){if(o!=null){try{return Ps.call(o)}catch{}try{return o+""}catch{}}return""};var Nr=/^\[object .+?Constructor\]$/,cs=Function.prototype,ds=Object.prototype,Zs=cs.toString,Ms=ds.hasOwnProperty,ur=RegExp("^"+Zs.call(Ms).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const us=function(o){return!(!Hn(o)||Gs(o))&&(Is(o)?ur:Nr).test(No(o))},so=function(o,n){return o?.[n]},Ko=function(o,n){var c=so(o,n);return us(c)?c:void 0},hr=Ko(ji,"Map"),So=Ko(Object,"create"),Ls=function(){this.__data__=So?So(null):{},this.size=0},_o=function(o){var n=this.has(o)&&delete this.__data__[o];return this.size-=n?1:0,n};var mr=Object.prototype.hasOwnProperty;const Os=function(o){var n=this.__data__;if(So){var c=n[o];return c==="__lodash_hash_undefined__"?void 0:c}return mr.call(n,o)?n[o]:void 0};var an=Object.prototype.hasOwnProperty;const Nn=function(o){var n=this.__data__;return So?n[o]!==void 0:an.call(n,o)},pn=function(o,n){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=So&&n===void 0?"__lodash_hash_undefined__":n,this};function kn(o){var n=-1,c=o==null?0:o.length;for(this.clear();++n<c;){var f=o[n];this.set(f[0],f[1])}}kn.prototype.clear=Ls,kn.prototype.delete=_o,kn.prototype.get=Os,kn.prototype.has=Nn,kn.prototype.set=pn;const Gn=kn,Vs=function(){this.size=0,this.__data__={hash:new Gn,map:new(hr||Cr),string:new Gn}},Mn=function(o){var n=typeof o;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?o!=="__proto__":o===null},xn=function(o,n){var c=o.__data__;return Mn(n)?c[typeof n=="string"?"string":"hash"]:c.map},Dn=function(o){var n=xn(this,o).delete(o);return this.size-=n?1:0,n},vo=function(o){return xn(this,o).get(o)},Zn=function(o){return xn(this,o).has(o)},ao=function(o,n){var c=xn(this,o),f=c.size;return c.set(o,n),this.size+=c.size==f?0:1,this};function Io(o){var n=-1,c=o==null?0:o.length;for(this.clear();++n<c;){var f=o[n];this.set(f[0],f[1])}}Io.prototype.clear=Vs,Io.prototype.delete=Dn,Io.prototype.get=vo,Io.prototype.has=Zn,Io.prototype.set=ao;const Yo=Io,ln=function(o,n){var c=this.__data__;if(c instanceof Cr){var f=c.__data__;if(!hr||f.length<199)return f.push([o,n]),this.size=++c.size,this;c=this.__data__=new Yo(f)}return c.set(o,n),this.size=c.size,this};function Qo(o){var n=this.__data__=new Cr(o);this.size=n.size}Qo.prototype.clear=qo,Qo.prototype.delete=Ys,Qo.prototype.get=jr,Qo.prototype.has=Ss,Qo.prototype.set=ln;const gr=Qo,js=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},Jo=function(o){return this.__data__.has(o)};function Tr(o){var n=-1,c=o==null?0:o.length;for(this.__data__=new Yo;++n<c;)this.add(o[n])}Tr.prototype.add=Tr.prototype.push=js,Tr.prototype.has=Jo;const Rs=Tr,Br=function(o,n){for(var c=-1,f=o==null?0:o.length;++c<f;)if(n(o[c],c,o))return!0;return!1},hs=function(o,n){return o.has(n)},Xo=function(o,n,c,f,b,T){var P=1&c,q=o.length,te=n.length;if(q!=te&&!(P&&te>q))return!1;var ve=T.get(o),Fe=T.get(n);if(ve&&Fe)return ve==n&&Fe==o;var st=-1,ft=!0,Rt=2&c?new Rs:void 0;for(T.set(o,n),T.set(n,o);++st<q;){var Wt=o[st],Ht=n[st];if(f)var ni=P?f(Ht,Wt,st,n,o,T):f(Wt,Ht,st,o,n,T);if(ni!==void 0){if(ni)continue;ft=!1;break}if(Rt){if(!Br(n,function(ci,hi){if(!hs(Rt,hi)&&(Wt===ci||b(Wt,ci,c,f,T)))return Rt.push(hi)})){ft=!1;break}}else if(Wt!==Ht&&!b(Wt,Ht,c,f,T)){ft=!1;break}}return T.delete(o),T.delete(n),ft},$n=ji.Uint8Array,Qs=function(o){var n=-1,c=Array(o.size);return o.forEach(function(f,b){c[++n]=[b,f]}),c},Js=function(o){var n=-1,c=Array(o.size);return o.forEach(function(f){c[++n]=f}),c};var Bo=Bn?Bn.prototype:void 0,Dr=Bo?Bo.valueOf:void 0;const ms=function(o,n,c,f,b,T,P){switch(c){case"[object DataView]":if(o.byteLength!=n.byteLength||o.byteOffset!=n.byteOffset)return!1;o=o.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=n.byteLength||!T(new $n(o),new $n(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rs(+o,+n);case"[object Error]":return o.name==n.name&&o.message==n.message;case"[object RegExp]":case"[object String]":return o==n+"";case"[object Map]":var q=Qs;case"[object Set]":var te=1&f;if(q||(q=Js),o.size!=n.size&&!te)return!1;var ve=P.get(o);if(ve)return ve==n;f|=2,P.set(o,n);var Fe=Xo(q(o),q(n),f,b,T,P);return P.delete(o),Fe;case"[object Symbol]":if(Dr)return Dr.call(o)==Dr.call(n)}return!1},zr=function(o,n){for(var c=-1,f=n.length,b=o.length;++c<f;)o[b+c]=n[c];return o},er=Array.isArray,gs=function(o,n,c){var f=n(o);return er(o)?f:zr(f,c(o))},Fr=function(o,n){for(var c=-1,f=o==null?0:o.length,b=0,T=[];++c<f;){var P=o[c];n(P,c,o)&&(T[b++]=P)}return T},Er=function(){return[]};var Sr=Object.prototype.propertyIsEnumerable,ps=Object.getOwnPropertySymbols;const Hr=ps?function(o){return o==null?[]:(o=Object(o),Fr(ps(o),function(n){return Sr.call(o,n)}))}:Er,fs=function(o,n){for(var c=-1,f=Array(o);++c<o;)f[c]=n(c);return f},Ur=function(o){return y(o)&&F(o)=="[object Arguments]"};var Ir=Object.prototype,pr=Ir.hasOwnProperty,Ns=Ir.propertyIsEnumerable;const Bs=Ur(function(){return arguments}())?Ur:function(o){return y(o)&&pr.call(o,"callee")&&!Ns.call(o,"callee")},bs=function(){return!1};var Wr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ds=Wr&&typeof module=="object"&&module&&!module.nodeType&&module,zs=Ds&&Ds.exports===Wr?ji.Buffer:void 0;const $r=(zs?zs.isBuffer:void 0)||bs;var U=/^(?:0|[1-9]\d*)$/;const A=function(o,n){var c=typeof o;return!!(n=n??9007199254740991)&&(c=="number"||c!="symbol"&&U.test(o))&&o>-1&&o%1==0&&o<n},D=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991};var he={};he["[object Float32Array]"]=he["[object Float64Array]"]=he["[object Int8Array]"]=he["[object Int16Array]"]=he["[object Int32Array]"]=he["[object Uint8Array]"]=he["[object Uint8ClampedArray]"]=he["[object Uint16Array]"]=he["[object Uint32Array]"]=!0,he["[object Arguments]"]=he["[object Array]"]=he["[object ArrayBuffer]"]=he["[object Boolean]"]=he["[object DataView]"]=he["[object Date]"]=he["[object Error]"]=he["[object Function]"]=he["[object Map]"]=he["[object Number]"]=he["[object Object]"]=he["[object RegExp]"]=he["[object Set]"]=he["[object String]"]=he["[object WeakMap]"]=!1;const Ve=function(o){return y(o)&&D(o.length)&&!!he[F(o)]},ze=function(o){return function(n){return o(n)}};var Ge=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bt=Ge&&typeof module=="object"&&module&&!module.nodeType&&module,pt=bt&&bt.exports===Ge&&un.process,kt=function(){try{var o=bt&&bt.require&&bt.require("util").types;return o||pt&&pt.binding&&pt.binding("util")}catch{}}(),Ot=kt&&kt.isTypedArray;const Zt=Ot?ze(Ot):Ve;var li=Object.prototype.hasOwnProperty;const ii=function(o,n){var c=er(o),f=!c&&Bs(o),b=!c&&!f&&$r(o),T=!c&&!f&&!b&&Zt(o),P=c||f||b||T,q=P?fs(o.length,String):[],te=q.length;for(var ve in o)!n&&!li.call(o,ve)||P&&(ve=="length"||b&&(ve=="offset"||ve=="parent")||T&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||A(ve,te))||q.push(ve);return q};var fi=Object.prototype;const vi=function(o){var n=o&&o.constructor;return o===(typeof n=="function"&&n.prototype||fi)},cn=function(o,n){return function(c){return o(n(c))}}(Object.keys,Object);var qn=Object.prototype.hasOwnProperty;const Vn=function(o){if(!vi(o))return cn(o);var n=[];for(var c in Object(o))qn.call(o,c)&&c!="constructor"&&n.push(c);return n},Kn=function(o){return o!=null&&D(o.length)&&!Is(o)},Do=function(o){return Kn(o)?ii(o):Vn(o)},Pr=function(o){return gs(o,Do,Hr)};var Fs=Object.prototype.hasOwnProperty;const ws=function(o,n,c,f,b,T){var P=1&c,q=Pr(o),te=q.length;if(te!=Pr(n).length&&!P)return!1;for(var ve=te;ve--;){var Fe=q[ve];if(!(P?Fe in n:Fs.call(n,Fe)))return!1}var st=T.get(o),ft=T.get(n);if(st&&ft)return st==n&&ft==o;var Rt=!0;T.set(o,n),T.set(n,o);for(var Wt=P;++ve<te;){var Ht=o[Fe=q[ve]],ni=n[Fe];if(f)var ci=P?f(ni,Ht,Fe,n,o,T):f(Ht,ni,Fe,o,n,T);if(!(ci===void 0?Ht===ni||b(Ht,ni,c,f,T):ci)){Rt=!1;break}Wt||(Wt=Fe=="constructor")}if(Rt&&!Wt){var hi=o.constructor,Si=n.constructor;hi==Si||!("constructor"in o)||!("constructor"in n)||typeof hi=="function"&&hi instanceof hi&&typeof Si=="function"&&Si instanceof Si||(Rt=!1)}return T.delete(o),T.delete(n),Rt},Hs=Ko(ji,"DataView"),qr=Ko(ji,"Promise"),ks=Ko(ji,"Set"),Kr=Ko(ji,"WeakMap");var fr="[object Map]",na="[object Promise]",oa="[object Set]",ra="[object WeakMap]",sa="[object DataView]",aa=No(Hs),la=No(hr),ga=No(qr),Yr=No(ks),Xs=No(Kr),Mr=F;(Hs&&Mr(new Hs(new ArrayBuffer(1)))!=sa||hr&&Mr(new hr)!=fr||qr&&Mr(qr.resolve())!=na||ks&&Mr(new ks)!=oa||Kr&&Mr(new Kr)!=ra)&&(Mr=function(o){var n=F(o),c=n=="[object Object]"?o.constructor:void 0,f=c?No(c):"";if(f)switch(f){case aa:return sa;case la:return fr;case ga:return na;case Yr:return oa;case Xs:return ra}return n});const ea=Mr;var ca="[object Arguments]",ta="[object Array]",br="[object Object]",Us=Object.prototype.hasOwnProperty;const da=function(o,n,c,f,b,T){var P=er(o),q=er(n),te=P?ta:ea(o),ve=q?ta:ea(n),Fe=(te=te==ca?br:te)==br,st=(ve=ve==ca?br:ve)==br,ft=te==ve;if(ft&&$r(o)){if(!$r(n))return!1;P=!0,Fe=!1}if(ft&&!Fe)return T||(T=new gr),P||Zt(o)?Xo(o,n,c,f,b,T):ms(o,n,te,c,f,b,T);if(!(1&c)){var Rt=Fe&&Us.call(o,"__wrapped__"),Wt=st&&Us.call(n,"__wrapped__");if(Rt||Wt){var Ht=Rt?o.value():o,ni=Wt?n.value():n;return T||(T=new gr),b(Ht,ni,c,f,T)}}return!!ft&&(T||(T=new gr),ws(o,n,c,f,b,T))},pa=function o(n,c,f,b,T){return n===c||(n==null||c==null||!y(n)&&!y(c)?n!=n&&c!=c:da(n,c,f,b,o,T))},Ws=function(o,n){return pa(o,n)},ua=function(o,n,c){var f=!0,b=!0;if(typeof o!="function")throw new TypeError("Expected a function");return Hn(c)&&(f="leading"in c?!!c.leading:f,b="trailing"in c?!!c.trailing:b),et(o,n,{leading:f,maxWait:n,trailing:b})};class ia extends d.Command{refresh(){this.isEnabled=!0}execute(n={}){const{model:c,plugins:f}=this.editor;let{table:b=c.document.selection.getSelectedElement(),columnWidths:T,tableWidth:P}=n;T&&(T=Array.isArray(T)?T:T.split(",")),c.change(q=>{P?q.setAttribute("tableWidth",P,b):q.removeAttribute("tableWidth",b);const te=f.get("TableColumnResizeEditing").getColumnGroupElement(b);if(!T&&!te)return;if(!T)return q.remove(te);const ve=$t(T);if(te)Array.from(te.getChildren()).forEach((Fe,st)=>q.setAttribute("columnWidth",ve[st],Fe));else{const Fe=q.createElement("tableColumnGroup");ve.forEach(st=>q.appendElement("tableColumn",{columnWidth:st},Fe)),q.append(Fe,b)}})}}function fa(o){return n=>n.on("element:colgroup",(c,f,b)=>{const T=f.modelCursor.findAncestor("table"),P=wt(T);if(!P)return;const q=tt(P),te=o.getColumns(T);let ve=(Fe=P,st=b.writer,tt(Fe).reduce((ft,Rt)=>{const Wt=Rt.getAttribute("columnWidth"),Ht=Rt.getAttribute("colSpan");if(!Ht)return ft.push(Wt),ft;for(let ni=0;ni<Ht;ni++)ft.push(Wt);return st.removeAttribute("colSpan",Rt),ft},[]));var Fe,st;ve=Array.from({length:te},(ft,Rt)=>ve[Rt]||"auto"),(ve.length!=q.length||ve.includes("auto"))&&qt(q,P,$t(ve),b.writer)},{priority:"low"})}class $s extends d.Plugin{static get requires(){return[Ye,gt]}static get pluginName(){return"TableColumnResizeEditing"}constructor(n){super(n),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new((0,ge.DomEmitterMixin)()),this._tableUtilsPlugin=n.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(c,f,b)=>{const T=b?"removeClass":"addClass";n.editing.view.change(P=>{for(const q of n.editing.view.document.roots)P[T]("ck-column-resize_disabled",n.editing.view.document.getRoot(q.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const n=this.editor,c=n.plugins.get("TableColumnResize");n.plugins.get("TableEditing").registerAdditionalSlot({filter:b=>b.is("element","tableColumnGroup"),positionOffset:0});const f=new ia(n);n.commands.add("resizeTableWidth",f),n.commands.add("resizeColumnWidths",f),this.bind("_isResizingAllowed").to(n,"isReadOnly",c,"isEnabled",f,"isEnabled",(b,T,P)=>!b&&T&&P)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(n){return wt(n)}getTableColumnElements(n){return tt(n)}getTableColumnsWidths(n){return function(c){return tt(c).map(f=>f.getAttribute("columnWidth"))}(n)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const n=this.editor.model;function c(f,b,T){const P=T._tableUtilsPlugin.getColumns(b);if(P-f.length===0)return f;const q=f.map(Fe=>Number(Fe.replace("%",""))),te=function(Fe,st){const ft=new Set;for(const Rt of Fe.getChanges())if(Rt.type=="insert"&&Rt.position.nodeAfter&&Rt.position.nodeAfter.name=="tableCell"&&Rt.position.nodeAfter.getAncestors().includes(st))ft.add(Rt.position.nodeAfter);else if(Rt.type=="remove"){const Wt=Rt.position.nodeBefore||Rt.position.nodeAfter;Wt.name=="tableCell"&&Wt.getAncestors().includes(st)&&ft.add(Wt)}return ft}(T.editor.model.document.differ,b);for(const Fe of te){const st=P-q.length;if(st===0)continue;const ft=st>0,Rt=T._tableUtilsPlugin.getCellLocation(Fe).column;if(ft){const Wt=ye(b,T.editor),Ht=(ve=Wt,Array(st).fill(ve));q.splice(Rt,0,...Ht)}else{const Wt=q.splice(Rt,Math.abs(st));q[Rt]+=Ut(Wt)}}var ve;return q.map(Fe=>Fe+"%")}n.document.registerPostFixer(f=>{let b=!1;for(const T of function(P){const q=new Set;for(const te of P.document.differ.getChanges()){let ve=null;switch(te.type){case"insert":ve=["table","tableRow","tableCell"].includes(te.name)?te.position:null;break;case"remove":ve=["tableRow","tableCell"].includes(te.name)?te.position:null;break;case"attribute":te.range.start.nodeAfter&&(ve=["table","tableRow","tableCell"].includes(te.range.start.nodeAfter.name)?te.range.start:null)}if(!ve)continue;const Fe=ve.nodeAfter&&ve.nodeAfter.is("element","table")?ve.nodeAfter:ve.findAncestor("table");for(const st of P.createRangeOn(Fe).getItems())st.is("element","table")&&wt(st)&&q.add(st)}return q}(n)){const P=this.getColumnGroupElement(T),q=this.getTableColumnElements(P),te=this.getTableColumnsWidths(P);let ve=$t(te);ve=c(ve,T,this),Ws(te,ve)||(qt(q,P,ve,f),b=!0)}return b})}_registerConverters(){const n=this.editor.conversion;n.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:c=>c.getStyle("width")}}),n.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:c=>({name:"figure",key:"style",value:{width:c}})}),n.elementToElement({model:"tableColumnGroup",view:"colgroup"}),n.elementToElement({model:"tableColumn",view:"col"}),n.for("downcast").add(c=>c.on("insert:table",(f,b,T)=>{const P=T.writer,q=b.item,te=T.mapper.toViewElement(q),ve=te.is("element","table")?te:Array.from(te.getChildren()).find(Fe=>Fe.is("element","table"));wt(q)?P.addClass("ck-table-resized",ve):P.removeClass("ck-table-resized",ve)},{priority:"low"})),n.for("upcast").add(fa(this._tableUtilsPlugin)),n.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:c=>{const f=c.getStyle("width");return f&&(f.endsWith("%")||f.endsWith("pt"))?f:"auto"}}}),n.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),n.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:c=>({key:"style",value:{width:c}})})}_registerResizingListeners(){const n=this.editor.editing.view;n.addObserver(Ft),n.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(ge.global.window.document,"mousemove",ua(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(ge.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(n,c){const f=c.target;if(!f.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const b=this.editor,T=b.editing.mapper.toModelElement(f.findAncestor("figure"));if(!b.model.canEditAt(T))return;c.preventDefault(),n.stop();const P=function(ve,Fe,st){const ft=Array(Fe.getColumns(ve)),Rt=new ue(ve);for(const Wt of Rt){const Ht=st.editing.mapper.toViewElement(Wt.cell),ni=St(st.editing.view.domConverter.mapViewToDom(Ht));(!ft[Wt.column]||ni<ft[Wt.column])&&(ft[Wt.column]=mt(ni))}return ft}(T,this._tableUtilsPlugin,b),q=f.findAncestor("table"),te=b.editing.view;Array.from(q.getChildren()).find(ve=>ve.is("element","colgroup"))||te.change(ve=>{(function(Fe,st,ft){const Rt=Fe.createContainerElement("colgroup");for(let Wt=0;Wt<st.length;Wt++){const Ht=Fe.createEmptyElement("col"),ni=`${mt(st[Wt]/Ut(st)*100)}%`;Fe.setStyle("width",ni,Ht),Fe.insert(Fe.createPositionAt(Rt,"end"),Ht)}Fe.insert(Fe.createPositionAt(ft,0),Rt)})(ve,P,q)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(c,P),te.change(ve=>function(Fe,st,ft){const Rt=ft.widths.viewFigureWidth/ft.widths.viewFigureParentWidth;Fe.addClass("ck-table-resized",st),Fe.addClass("ck-table-column-resizer__active",ft.elements.viewResizer),Fe.setStyle("width",`${mt(100*Rt)}%`,st.findAncestor("figure"))}(ve,q,this._resizingData))}_onMouseMoveHandler(n,c){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:f,flags:{isRightEdge:b,isTableCentered:T,isLtrContent:P},elements:{viewFigure:q,viewLeftColumn:te,viewRightColumn:ve},widths:{viewFigureParentWidth:Fe,tableWidth:st,leftColumnWidth:ft,rightColumnWidth:Rt}}=this._resizingData,Wt=40-ft,Ht=b?Fe-st:Rt-40,ni=(P?1:-1)*(b&&T?2:1),ci=(hi=(c.clientX-f)*ni,Si=Math.min(Wt,0),Xi=Math.max(Ht,0),mt(hi<=Si?Si:hi>=Xi?Xi:hi));var hi,Si,Xi;ci!==0&&this.editor.editing.view.change(En=>{const On=mt(100*(ft+ci)/st);if(En.setStyle("width",`${On}%`,te),b){const Cn=mt(100*(st+ci)/Fe);En.setStyle("width",`${Cn}%`,q)}else{const Cn=mt(100*(Rt-ci)/st);En.setStyle("width",`${Cn}%`,ve)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:n,modelTable:c,viewFigure:f,viewColgroup:b}=this._resizingData.elements,T=this.editor,P=T.editing.view,q=this.getColumnGroupElement(c),te=Array.from(b.getChildren()).filter(Ht=>Ht.is("view:element")),ve=q?this.getTableColumnsWidths(q):null,Fe=te.map(Ht=>Ht.getStyle("width")),st=!Ws(ve,Fe),ft=c.getAttribute("tableWidth"),Rt=f.getStyle("width"),Wt=ft!==Rt;(st||Wt)&&(this._isResizingAllowed?T.execute("resizeTableWidth",{table:c,tableWidth:`${mt(Rt)}%`,columnWidths:Fe}):P.change(Ht=>{if(ve)for(const ni of te)Ht.setStyle("width",ve.shift(),ni);else Ht.remove(b);Wt&&(ft?Ht.setStyle("width",ft,f):Ht.removeStyle("width",f)),ve||ft||Ht.removeClass("ck-table-resized",[...f.getChildren()].find(ni=>ni.name==="table"))})),P.change(Ht=>{Ht.removeClass("ck-table-column-resizer__active",n)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(n,c){const f=this.editor,b=n.domEvent.clientX,T=n.target,P=T.findAncestor("td")||T.findAncestor("th"),q=f.editing.mapper.toModelElement(P),te=q.findAncestor("table"),ve=function(hi,Si){const Xi=Si.getCellLocation(hi).column;return{leftEdge:Xi,rightEdge:Xi+(hi.getAttribute("colspan")||1)-1}}(q,this._tableUtilsPlugin).rightEdge,Fe=ve===this._tableUtilsPlugin.getColumns(te)-1,st=!te.hasAttribute("tableAlignment"),ft=f.locale.contentLanguageDirection!=="rtl",Rt=P.findAncestor("table"),Wt=Rt.findAncestor("figure"),Ht=[...Rt.getChildren()].find(hi=>hi.is("element","colgroup")),ni=Ht.getChild(ve),ci=Fe?void 0:Ht.getChild(ve+1);return{columnPosition:b,flags:{isRightEdge:Fe,isTableCentered:st,isLtrContent:ft},elements:{viewResizer:T,modelTable:te,viewFigure:Wt,viewColgroup:Ht,viewLeftColumn:ni,viewRightColumn:ci},widths:{viewFigureParentWidth:at(f.editing.view.domConverter.mapViewToDom(Wt.parent)),viewFigureWidth:at(f.editing.view.domConverter.mapViewToDom(Wt)),tableWidth:Ze(te,f),leftColumnWidth:c[ve],rightColumnWidth:Fe?void 0:c[ve+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(n=>{n.on("insert:tableCell",(c,f,b)=>{const T=f.item,P=b.mapper.toViewElement(T),q=b.writer;q.insert(q.createPositionAt(P,"end"),q.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var ha=Q(363),E={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pi()(ha.A,E),ha.A.locals;class l extends d.Plugin{static get requires(){return[$s,ro]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=ti})(),function(Nt){const At=Nt.en=Nt.en||{};At.dictionary=Object.assign(At.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Nt={782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{WordCount:()=>nt});var d=Q(782),w=Q(311),s=Q(584);function u(xe){if(xe.is("$text")||xe.is("$textProxy"))return xe.data;const pe=xe;let ye="",Ze=null;for(const ot of pe.getChildren()){const at=u(ot);Ze&&Ze.is("element")&&(ye+=`
`),ye+=at,Ze=ot}return ye}const C=function(xe){var pe=typeof xe;return xe!=null&&(pe=="object"||pe=="function")},L=typeof global=="object"&&global&&global.Object===Object&&global;var k=typeof self=="object"&&self&&self.Object===Object&&self;const v=L||k||Function("return this")(),$=function(){return v.Date.now()};var K=/\s/;const R=function(xe){for(var pe=xe.length;pe--&&K.test(xe.charAt(pe)););return pe};var Ee=/^\s+/;const ge=function(xe){return xe&&xe.slice(0,R(xe)+1).replace(Ee,"")},Y=v.Symbol;var J=Object.prototype,Ce=J.hasOwnProperty,ue=J.toString,h=Y?Y.toStringTag:void 0;const p=function(xe){var pe=Ce.call(xe,h),ye=xe[h];try{xe[h]=void 0;var Ze=!0}catch{}var ot=ue.call(xe);return Ze&&(pe?xe[h]=ye:delete xe[h]),ot};var g=Object.prototype.toString;const _=function(xe){return g.call(xe)};var S=Y?Y.toStringTag:void 0;const I=function(xe){return xe==null?xe===void 0?"[object Undefined]":"[object Null]":S&&S in Object(xe)?p(xe):_(xe)},M=function(xe){return xe!=null&&typeof xe=="object"},ee=function(xe){return typeof xe=="symbol"||M(xe)&&I(xe)=="[object Symbol]"};var H=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,O=/^0o[0-7]+$/i,W=parseInt;const ie=function(xe){if(typeof xe=="number")return xe;if(ee(xe))return NaN;if(C(xe)){var pe=typeof xe.valueOf=="function"?xe.valueOf():xe;xe=C(pe)?pe+"":pe}if(typeof xe!="string")return xe===0?xe:+xe;xe=ge(xe);var ye=re.test(xe);return ye||O.test(xe)?W(xe.slice(2),ye?2:8):H.test(xe)?NaN:+xe};var we=Math.max,Ae=Math.min;const He=function(xe,pe,ye){var Ze,ot,at,mt,Ut,$t,St=0,qt=!1,wt=!1,tt=!0;if(typeof xe!="function")throw new TypeError("Expected a function");function gt(Oi){var Wi=Ze,Gt=ot;return Ze=ot=void 0,St=Oi,mt=xe.apply(Gt,Wi)}function gi(Oi){var Wi=Oi-$t;return $t===void 0||Wi>=pe||Wi<0||wt&&Oi-St>=at}function Ti(){var Oi=$();if(gi(Oi))return Pi(Oi);Ut=setTimeout(Ti,function(Wi){var Gt=pe-(Wi-$t);return wt?Ae(Gt,at-(Wi-St)):Gt}(Oi))}function Pi(Oi){return Ut=void 0,tt&&Ze?gt(Oi):(Ze=ot=void 0,mt)}function Di(){var Oi=$(),Wi=gi(Oi);if(Ze=arguments,ot=this,$t=Oi,Wi){if(Ut===void 0)return function(Gt){return St=Gt,Ut=setTimeout(Ti,pe),qt?gt(Gt):mt}($t);if(wt)return clearTimeout(Ut),Ut=setTimeout(Ti,pe),gt($t)}return Ut===void 0&&(Ut=setTimeout(Ti,pe)),mt}return pe=ie(pe)||0,C(ye)&&(qt=!!ye.leading,at=(wt="maxWait"in ye)?we(ie(ye.maxWait)||0,pe):at,tt="trailing"in ye?!!ye.trailing:tt),Di.cancel=function(){Ut!==void 0&&clearTimeout(Ut),St=0,Ze=$t=ot=Ut=void 0},Di.flush=function(){return Ut===void 0?mt:Pi($())},Di},it=function(xe,pe,ye){var Ze=!0,ot=!0;if(typeof xe!="function")throw new TypeError("Expected a function");return C(ye)&&(Ze="leading"in ye?!!ye.leading:Ze,ot="trailing"in ye?!!ye.trailing:ot),He(xe,pe,{leading:Ze,maxWait:pe,trailing:ot})},ne=function(xe,pe){return function(ye){return xe(pe(ye))}}(Object.getPrototypeOf,Object);var de=Function.prototype,Se=Object.prototype,Re=de.toString,Oe=Se.hasOwnProperty,G=Re.call(Object);const Ie=function(xe){if(!M(xe)||I(xe)!="[object Object]")return!1;var pe=ne(xe);if(pe===null)return!0;var ye=Oe.call(pe,"constructor")&&pe.constructor;return typeof ye=="function"&&ye instanceof ye&&Re.call(ye)==G},Ue=function(xe){return M(xe)&&xe.nodeType===1&&!Ie(xe)};class nt extends d.Plugin{constructor(pe){super(pe),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=pe.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=s.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9À-ž]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",it(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(pe,ye)=>{this._config.onUpdate(ye)}),Ue(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const pe=this.editor,ye=pe.t,Ze=pe.config.get("wordCount.displayWords"),ot=pe.config.get("wordCount.displayCharacters"),at=w.Template.bind(this,this),mt=[];return this._outputView||(this._outputView=new w.View,(Ze||Ze===void 0)&&(this.bind("_wordsLabel").to(this,"words",Ut=>ye("Words: %0",Ut)),mt.push({tag:"div",children:[{text:[at.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(ot||ot===void 0)&&(this.bind("_charactersLabel").to(this,"characters",Ut=>ye("Characters: %0",Ut)),mt.push({tag:"div",children:[{text:[at.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:mt}),this._outputView.render()),this._outputView.element}_getText(){let pe="";for(const ye of this.editor.model.document.getRoots())pe!==""&&(pe+=`
`),pe+=u(ye);return pe}_getCharacters(pe){return pe.replace(/\n/g,"").length}_getWords(pe){return(pe.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const pe=this._getText(),ye=this.words=this._getWords(pe),Ze=this.characters=this._getCharacters(pe);this.fire("update",{words:ye,characters:Ze})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=ti})();var Ln=di(53046);const Ri=window.CKEditor5.core.Plugin,dn=window.CKEditor5.ui.ButtonView,jn='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.3.6a.9.9 0 100 1.8h15.311a.9.9 0 100-1.8H4.301zm17.1 3.7A1.6 1.6 0 0123 5.9v15.5a1.6 1.6 0 01-1.6 1.6H2.6A1.601 1.601 0 011 21.4V8 5.915C1 5.03 1.716 4.3 2.6 4.3h18.8zM5.032 19.18h14.336l-3.136-3.205-1.792 1.831-4.032-4.12-5.376 5.494zm13.44-8.697c0 1.282-.985 2.289-2.24 2.289-1.254 0-2.24-1.007-2.24-2.29 0-1.281.986-2.288 2.24-2.288 1.255 0 2.24 1.007 2.24 2.289z"></path></svg>';class Qn extends Ri{strapiToggle=null;static get pluginName(){return"strapiMediaLib"}init(){this.editor.ui.componentFactory.add("strapiMediaLib",()=>{const Q=new dn;return Q.set({label:"Media Library",icon:jn,tooltip:!0}),Q.on("execute",this.toggle.bind(this)),Q})}connect(At){if(typeof At!="function")throw new Error("Input parameter for toogle should be a function");this.strapiToggle=At}toggle(){if(typeof this.strapiToggle!="function")throw new Error("Strapi media library toggle function not connected. Use connect function first");this.strapiToggle()}}const Po={light:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.list.List,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,Qn],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","insertTable","|","bulletedList","numberedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},standard:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,Qn],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","mediaEmbed","blockQuote","insertTable","codeBlock","|","bulletedList","numberedList","outdent","indent"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},rich:{plugins:[window.CKEditor5.alignment.Alignment,window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.basicStyles.Underline,window.CKEditor5.basicStyles.Strikethrough,window.CKEditor5.basicStyles.Code,window.CKEditor5.basicStyles.Subscript,window.CKEditor5.basicStyles.Superscript,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.font.FontSize,window.CKEditor5.font.FontFamily,window.CKEditor5.font.FontColor,window.CKEditor5.font.FontBackgroundColor,window.CKEditor5.findAndReplace.FindAndReplace,window.CKEditor5.heading.Heading,window.CKEditor5.horizontalLine.HorizontalLine,window.CKEditor5.htmlEmbed.HtmlEmbed,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.image.ImageResize,window.CKEditor5.indent.Indent,window.CKEditor5.indent.IndentBlock,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.list.ListProperties,window.CKEditor5.list.TodoList,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.removeFormat.RemoveFormat,window.CKEditor5.specialCharacters.SpecialCharacters,window.CKEditor5.specialCharacters.SpecialCharactersEssentials,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableProperties,window.CKEditor5.table.TableCellProperties,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,window.CKEditor5.highlight.Highlight,Qn],toolbar:{items:["undo","redo","|","findAndReplace","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","superscript","subscript","code","removeFormat","-","link","strapiMediaLib","mediaEmbed","insertTable","horizontalLine","blockQuote","codeBlock","htmlEmbed","specialCharacters","highlight","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage","|","resizeImage:25","resizeImage:50","resizeImage:75","resizeImage:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","tableCellProperties","tableProperties","|","toggleTableCaption"]},fontSize:{options:[9,11,13,"default",17,19,21,27,35],supportAllValues:!1},fontFamily:{options:["default","Arial, Helvetica Neue, Helvetica, Source Sans Pro, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Roboto, Roboto Black, Roboto Medium, Roboto Light, sans-serif"],supportAllValues:!0},fontColor:{columns:5,documentColors:10},fontBackgroundColor:{columns:5,documentColors:10}}};class Ui{constructor(At){this.fieldConfig=At}getEditorConfig(){const At=this._getBaseConfig(),Q=this.fieldConfig.maxLength;return this.fieldConfig.options.output==="Markdown"&&At.plugins.push(window.CKEditor5.markdownGfm.Markdown),Q&&(At.plugins.push(window.CKEditor5.maximumLength.MaximumLength),At.maximumLength={characters:Q}),At}_getBaseConfig(){const At=this.fieldConfig.options.preset;switch(At){case"light":return Po.light;case"standard":return Po.standard;case"rich":return Po.rich;default:throw new Error("Invalid preset name "+At)}}}var Qi=di(21247);const $i=({isOpen:Nt,onChange:At,onToggle:Q})=>{const{components:ti}=(0,Qi.tF)(),d=ti["media-library"],w=s=>{const u=s.map(C=>({alt:C.alternativeText||C.name,url:(0,Qi.vX)(C.url),mime:C.mime}));At(u)};return Nt?(0,Ki.jsx)(d,{onClose:Q,onSelectAssets:w}):null};$i.defaultProps={isOpen:!1,onChange:()=>{},onToggle:()=>{}},$i.propTypes={isOpen:rn().bool,onChange:rn().func,onToggle:rn().func};const ki=$i;var mi=di(91120);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Nt={662:(d,w,s)=>{"use strict";s.d(w,{A:()=>L});var u=s(935),C=s.n(u)()(function(k){return k[1]});C.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const L=C},935:d=>{"use strict";d.exports=function(w){var s=[];return s.toString=function(){return this.map(function(u){var C=w(u);return u[2]?"@media ".concat(u[2]," {").concat(C,"}"):C}).join("")},s.i=function(u,C,L){typeof u=="string"&&(u=[[null,u,""]]);var k={};if(L)for(var v=0;v<this.length;v++){var $=this[v][0];$!=null&&(k[$]=!0)}for(var K=0;K<u.length;K++){var R=[].concat(u[K]);L&&k[R[0]]||(C&&(R[2]?R[2]="".concat(C," and ").concat(R[2]):R[2]=C),s.push(R))}},s}},591:(d,w,s)=>{"use strict";var u,C=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},L=function(){var h={};return function(p){if(h[p]===void 0){var g=document.querySelector(p);if(window.HTMLIFrameElement&&g instanceof window.HTMLIFrameElement)try{g=g.contentDocument.head}catch{g=null}h[p]=g}return h[p]}}(),k=[];function v(h){for(var p=-1,g=0;g<k.length;g++)if(k[g].identifier===h){p=g;break}return p}function $(h,p){for(var g={},_=[],S=0;S<h.length;S++){var I=h[S],M=p.base?I[0]+p.base:I[0],ee=g[M]||0,H="".concat(M," ").concat(ee);g[M]=ee+1;var re=v(H),O={css:I[1],media:I[2],sourceMap:I[3]};re!==-1?(k[re].references++,k[re].updater(O)):k.push({identifier:H,updater:ue(O,p),references:1}),_.push(H)}return _}function K(h){var p=document.createElement("style"),g=h.attributes||{};if(g.nonce===void 0){var _=s.nc;_&&(g.nonce=_)}if(Object.keys(g).forEach(function(I){p.setAttribute(I,g[I])}),typeof h.insert=="function")h.insert(p);else{var S=L(h.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(p)}return p}var R,Ee=(R=[],function(h,p){return R[h]=p,R.filter(Boolean).join(`
`)});function ge(h,p,g,_){var S=g?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(h.styleSheet)h.styleSheet.cssText=Ee(p,S);else{var I=document.createTextNode(S),M=h.childNodes;M[p]&&h.removeChild(M[p]),M.length?h.insertBefore(I,M[p]):h.appendChild(I)}}function Y(h,p,g){var _=g.css,S=g.media,I=g.sourceMap;if(S?h.setAttribute("media",S):h.removeAttribute("media"),I&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),h.styleSheet)h.styleSheet.cssText=_;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(_))}}var J=null,Ce=0;function ue(h,p){var g,_,S;if(p.singleton){var I=Ce++;g=J||(J=K(p)),_=ge.bind(null,g,I,!1),S=ge.bind(null,g,I,!0)}else g=K(p),_=Y.bind(null,g,p),S=function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(g)};return _(h),function(M){if(M){if(M.css===h.css&&M.media===h.media&&M.sourceMap===h.sourceMap)return;_(h=M)}else S()}}d.exports=function(h,p){(p=p||{}).singleton||typeof p.singleton=="boolean"||(p.singleton=C());var g=$(h=h||[],p);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<g.length;S++){var I=v(g[S]);k[I].references--}for(var M=$(_,p),ee=0;ee<g.length;ee++){var H=v(g[ee]);k[H].references===0&&(k[H].updater(),k.splice(H,1))}g=M}}}},782:(d,w,s)=>{d.exports=s(237)("./src/core.js")},783:(d,w,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,w,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,w,s)=>{d.exports=s(237)("./src/utils.js")},602:(d,w,s)=>{d.exports=s(237)("./src/watchdog.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},At={};function Q(d){var w=At[d];if(w!==void 0)return w.exports;var s=At[d]={id:d,exports:{}};return Nt[d](s,s.exports,Q),s.exports}Q.n=d=>{var w=d&&d.__esModule?()=>d.default:()=>d;return Q.d(w,{a:w}),w},Q.d=(d,w)=>{for(var s in w)Q.o(w,s)&&!Q.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:w[s]})},Q.o=(d,w)=>Object.prototype.hasOwnProperty.call(d,w),Q.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},Q.nc=void 0;var ti={};(()=>{"use strict";Q.r(ti),Q.d(ti,{ClassicEditor:()=>it});var d=Q(311),w=Q(783),s=Q(584);class u extends d.EditorUI{constructor(Se,Re){super(Se),this.view=Re,this._toolbarConfig=(0,d.normalizeToolbarConfig)(Se.config.get("toolbar")),this._elementReplacer=new s.ElementReplacer,this.listenTo(Se.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(Se){const Re=this.editor,Oe=this.view,G=Re.editing.view,Ie=Oe.editable,Ue=G.document.getRoot();Ie.name=Ue.rootName,Oe.render();const nt=Ie.element;this.setEditableElement(Ie.name,nt),Oe.editable.bind("isFocused").to(this.focusTracker),G.attachDomRoot(nt),Se&&this._elementReplacer.replace(Se,this.element),this._initPlaceholder(),this._initToolbar(),Oe.menuBarView&&(0,d._initMenuBar)(Re,Oe.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const Se=this.view,Re=this.editor.editing.view;this._elementReplacer.restore(),Re.detachDomRoot(Se.editable.name),Se.destroy()}_initToolbar(){const Se=this.view;Se.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),Se.stickyPanel.limiterElement=Se.element,Se.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:Re})=>Re||0),Se.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(Se.toolbar)}_initPlaceholder(){const Se=this.editor,Re=Se.editing.view,Oe=Re.document.getRoot(),G=Se.sourceElement;let Ie;const Ue=Se.config.get("placeholder");Ue&&(Ie=typeof Ue=="string"?Ue:Ue[this.view.editable.name]),!Ie&&G&&G.tagName.toLowerCase()==="textarea"&&(Ie=G.getAttribute("placeholder")),Ie&&(Oe.placeholder=Ie),(0,w.enablePlaceholder)({view:Re,element:Oe,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(Se,Re,Oe){const G=this.view.stickyPanel;if(G.isSticky){const Ie=new s.Rect(G.element).height;Re.viewportOffset.top+=Ie}else{const Ie=()=>{this.editor.editing.view.scrollToTheSelection(Oe)};this.listenTo(G,"change:isSticky",Ie),setTimeout(()=>{this.stopListening(G,"change:isSticky",Ie)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const Se=this.view.stickyPanel,Re=this.editor.plugins.get("Dialog");Re.on("show",()=>{const Oe=Re.view;Oe.on("moveTo",(G,Ie)=>{if(!Se.isSticky||Oe.wasMoved)return;const Ue=new s.Rect(Se.contentPanelElement);Ie[1]<Ue.bottom+d.DialogView.defaultOffset&&(Ie[1]=Ue.bottom+d.DialogView.defaultOffset)},{priority:"high"})},{priority:"low"})}}var C=Q(591),L=Q.n(C),k=Q(662),v={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(k.A,v),k.A.locals;class $ extends d.BoxedEditorUIView{constructor(Se,Re,Oe={}){super(Se),this.stickyPanel=new d.StickyPanelView(Se),this.toolbar=new d.ToolbarView(Se,{shouldGroupWhenFull:Oe.shouldToolbarGroupWhenFull}),Oe.useMenuBar&&(this.menuBarView=new d.MenuBarView(Se)),this.editable=new d.InlineEditableUIView(Se,Re)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var K=Q(782),R=Q(602);const Ee=function(de){return de!=null&&typeof de=="object"},ge=typeof global=="object"&&global&&global.Object===Object&&global;var Y=typeof self=="object"&&self&&self.Object===Object&&self;const J=(ge||Y||Function("return this")()).Symbol;var Ce=Object.prototype,ue=Ce.hasOwnProperty,h=Ce.toString,p=J?J.toStringTag:void 0;const g=function(de){var Se=ue.call(de,p),Re=de[p];try{de[p]=void 0;var Oe=!0}catch{}var G=h.call(de);return Oe&&(Se?de[p]=Re:delete de[p]),G};var _=Object.prototype.toString;const S=function(de){return _.call(de)};var I=J?J.toStringTag:void 0;const M=function(de){return de==null?de===void 0?"[object Undefined]":"[object Null]":I&&I in Object(de)?g(de):S(de)},ee=function(de,Se){return function(Re){return de(Se(Re))}}(Object.getPrototypeOf,Object);var H=Function.prototype,re=Object.prototype,O=H.toString,W=re.hasOwnProperty,ie=O.call(Object);const we=function(de){if(!Ee(de)||M(de)!="[object Object]")return!1;var Se=ee(de);if(Se===null)return!0;var Re=W.call(Se,"constructor")&&Se.constructor;return typeof Re=="function"&&Re instanceof Re&&O.call(Re)==ie},Ae=function(de){return Ee(de)&&de.nodeType===1&&!we(de)};class He extends(0,K.ElementApiMixin)(K.Editor){constructor(Se,Re={}){if(!ne(Se)&&Re.initialData!==void 0)throw new s.CKEditorError("editor-create-initial-data",null);super(Re),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(Ue){return ne(Ue)?(0,s.getDataFromElement)(Ue):Ue}(Se)),ne(Se)&&(this.sourceElement=Se),this.model.document.createRoot();const Oe=!this.config.get("toolbar.shouldNotGroupWhenFull"),G=this.config.get("menuBar"),Ie=new $(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:Oe,useMenuBar:G.isVisible});this.ui=new u(this,Ie),(0,K.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(Se,Re={}){return new Promise(Oe=>{const G=new this(Se,Re);Oe(G.initPlugins().then(()=>G.ui.init(ne(Se)?Se:null)).then(()=>G.data.init(G.config.get("initialData"))).then(()=>G.fire("ready")).then(()=>G))})}}He.Context=K.Context,He.EditorWatchdog=R.EditorWatchdog,He.ContextWatchdog=R.ContextWatchdog;const it=He;function ne(de){return Ae(de)}})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=ti})();function Vi(Nt){const At={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};for(const Q in At){const ti=At[Q];Nt=Nt.replaceAll(Q,ti)}return Nt}const Ni=({attribute:Nt,onChange:At,name:Q,value:ti,disabled:d,labelAction:w,intlLabel:s,required:u,description:C,error:L})=>{const[k,v]=(0,Li.useState)(!1),{formatMessage:$}=(0,Yi.A)(),{maxLengthCharacters:K,...R}=Nt.options,ge=new Ui({options:R,maxLength:K}).getEditorConfig(),Y=(0,Li.useRef)(null),J=localStorage.getItem("STRAPI_THEME"),Ce=Zi(J),[ue,h]=(0,Li.useState)(!1),p=()=>h(_=>!_),g=_=>{let S="";_.map(ee=>{if(ee.mime.includes("image")){const H=Vi(ee.url),re=Vi(ee.alt);S+=`<img src="${H}" alt="${re}" />`}});const I=k.data.processor.toView(S),M=k.data.toModel(I);k.model.insertContent(M),p()};return(0,Ki.jsxs)(tn.Field,{name:Q,id:Q,error:L,hint:C&&$(C),children:[(0,Ki.jsxs)(Gi.Stack,{spacing:1,children:[(0,Ki.jsx)(tn.FieldLabel,{action:w,required:u,children:$(s)}),(0,Ki.jsx)(Ce,{}),(0,Ki.jsx)(mi.CKEditor,{editor:window.CKEditor5.editorClassic.ClassicEditor,disabled:d,data:ti,onReady:_=>{const S=_.plugins.get("WordCount");Y.current.appendChild(S.wordCountContainer),_.plugins.get("strapiMediaLib").connect(p),v(_)},onChange:(_,S)=>{const I=S.getData();At({target:{name:Q,value:I}}),S.plugins.get("WordCount").characters>K&&console.log("Too long")},config:ge}),(0,Ki.jsx)("div",{ref:Y}),(0,Ki.jsx)(tn.FieldHint,{}),(0,Ki.jsx)(tn.FieldError,{})]}),(0,Ki.jsx)(ki,{isOpen:ue,onChange:g,onToggle:p})]})};Ni.defaultProps={description:null,disabled:!1,error:null,labelAction:null,required:!1,value:""},Ni.propTypes={intlLabel:rn().object.isRequired,onChange:rn().func.isRequired,attribute:rn().object.isRequired,name:rn().string.isRequired,description:rn().object,disabled:rn().bool,error:rn().string,labelAction:rn().object,required:rn().bool,value:rn().string};const Ji=Ni},53046:()=>{(()=>{var zo={98:(Li,Yi,Gi)=>{"use strict";Gi.d(Yi,{Z:()=>rn});var tn=Gi(645),Hi=Gi.n(tn)()(function(xi){return xi[1]});Hi.push([Li.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const rn=Hi},645:Li=>{"use strict";Li.exports=function(Yi){var Gi=[];return Gi.toString=function(){return this.map(function(tn){var Hi=Yi(tn);return tn[2]?"@media ".concat(tn[2]," {").concat(Hi,"}"):Hi}).join("")},Gi.i=function(tn,Hi,rn){typeof tn=="string"&&(tn=[[null,tn,""]]);var xi={};if(rn)for(var Fi=0;Fi<this.length;Fi++){var sn=this[Fi][0];sn!=null&&(xi[sn]=!0)}for(var en=0;en<tn.length;en++){var Zi=[].concat(tn[en]);rn&&xi[Zi[0]]||(Hi&&(Zi[2]?Zi[2]="".concat(Hi," and ").concat(Zi[2]):Zi[2]=Hi),Gi.push(Zi))}},Gi}},379:(Li,Yi,Gi)=>{"use strict";var tn,Hi=function(){return tn===void 0&&(tn=Boolean(window&&document&&document.all&&!window.atob)),tn},rn=function(){var Ui={};return function(Qi){if(Ui[Qi]===void 0){var $i=document.querySelector(Qi);if(window.HTMLIFrameElement&&$i instanceof window.HTMLIFrameElement)try{$i=$i.contentDocument.head}catch{$i=null}Ui[Qi]=$i}return Ui[Qi]}}(),xi=[];function Fi(Ui){for(var Qi=-1,$i=0;$i<xi.length;$i++)if(xi[$i].identifier===Ui){Qi=$i;break}return Qi}function sn(Ui,Qi){for(var $i={},ki=[],mi=0;mi<Ui.length;mi++){var Vi=Ui[mi],Ni=Qi.base?Vi[0]+Qi.base:Vi[0],Ji=$i[Ni]||0,Nt="".concat(Ni," ").concat(Ji);$i[Ni]=Ji+1;var At=Fi(Nt),Q={css:Vi[1],media:Vi[2],sourceMap:Vi[3]};At!==-1?(xi[At].references++,xi[At].updater(Q)):xi.push({identifier:Nt,updater:Po(Q,Qi),references:1}),ki.push(Nt)}return ki}function en(Ui){var Qi=document.createElement("style"),$i=Ui.attributes||{};if($i.nonce===void 0){var ki=Gi.nc;ki&&($i.nonce=ki)}if(Object.keys($i).forEach(function(Vi){Qi.setAttribute(Vi,$i[Vi])}),typeof Ui.insert=="function")Ui.insert(Qi);else{var mi=rn(Ui.insert||"head");if(!mi)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");mi.appendChild(Qi)}return Qi}var Zi,Ln=(Zi=[],function(Ui,Qi){return Zi[Ui]=Qi,Zi.filter(Boolean).join(`
`)});function Ri(Ui,Qi,$i,ki){var mi=$i?"":ki.media?"@media ".concat(ki.media," {").concat(ki.css,"}"):ki.css;if(Ui.styleSheet)Ui.styleSheet.cssText=Ln(Qi,mi);else{var Vi=document.createTextNode(mi),Ni=Ui.childNodes;Ni[Qi]&&Ui.removeChild(Ni[Qi]),Ni.length?Ui.insertBefore(Vi,Ni[Qi]):Ui.appendChild(Vi)}}function dn(Ui,Qi,$i){var ki=$i.css,mi=$i.media,Vi=$i.sourceMap;if(mi?Ui.setAttribute("media",mi):Ui.removeAttribute("media"),Vi&&typeof btoa<"u"&&(ki+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Vi))))," */")),Ui.styleSheet)Ui.styleSheet.cssText=ki;else{for(;Ui.firstChild;)Ui.removeChild(Ui.firstChild);Ui.appendChild(document.createTextNode(ki))}}var jn=null,Qn=0;function Po(Ui,Qi){var $i,ki,mi;if(Qi.singleton){var Vi=Qn++;$i=jn||(jn=en(Qi)),ki=Ri.bind(null,$i,Vi,!1),mi=Ri.bind(null,$i,Vi,!0)}else $i=en(Qi),ki=dn.bind(null,$i,Qi),mi=function(){(function(Ni){if(Ni.parentNode===null)return!1;Ni.parentNode.removeChild(Ni)})($i)};return ki(Ui),function(Ni){if(Ni){if(Ni.css===Ui.css&&Ni.media===Ui.media&&Ni.sourceMap===Ui.sourceMap)return;ki(Ui=Ni)}else mi()}}Li.exports=function(Ui,Qi){(Qi=Qi||{}).singleton||typeof Qi.singleton=="boolean"||(Qi.singleton=Hi());var $i=sn(Ui=Ui||[],Qi);return function(ki){if(ki=ki||[],Object.prototype.toString.call(ki)==="[object Array]"){for(var mi=0;mi<$i.length;mi++){var Vi=Fi($i[mi]);xi[Vi].references--}for(var Ni=sn(ki,Qi),Ji=0;Ji<$i.length;Ji++){var Nt=Fi($i[Ji]);xi[Nt].references===0&&(xi[Nt].updater(),xi.splice(Nt,1))}$i=Ni}}}},704:(Li,Yi,Gi)=>{Li.exports=Gi(79)("./src/core.js")},79:Li=>{"use strict";Li.exports=CKEditor5.dll}},qi={};function di(Li){var Yi=qi[Li];if(Yi!==void 0)return Yi.exports;var Gi=qi[Li]={id:Li,exports:{}};return zo[Li](Gi,Gi.exports,di),Gi.exports}di.n=Li=>{var Yi=Li&&Li.__esModule?()=>Li.default:()=>Li;return di.d(Yi,{a:Yi}),Yi},di.d=(Li,Yi)=>{for(var Gi in Yi)di.o(Yi,Gi)&&!di.o(Li,Gi)&&Object.defineProperty(Li,Gi,{enumerable:!0,get:Yi[Gi]})},di.o=(Li,Yi)=>Object.prototype.hasOwnProperty.call(Li,Yi),di.r=Li=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Li,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Li,"__esModule",{value:!0})},di.nc=void 0;var Ki={};(()=>{"use strict";di.r(Ki),di.d(Ki,{MaximumLength:()=>rn});var Li=di(704),Yi=di(379),Gi=di.n(Yi),tn=di(98),Hi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Gi()(tn.Z,Hi),tn.Z.locals;class rn extends Li.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const Fi=this.editor,sn=Fi.plugins.get("WordCount"),en=Fi.config.get("maximumLength.characters");let Zi=!1;Fi.model.document.registerPostFixer(Ln=>{const Ri=sn.characters,dn=this._calculateExcessRange(en,Ri);dn?Zi?Ln.updateMarker("maximumLengthExcess",{range:dn,usingOperation:!1}):(Ln.addMarker("maximumLengthExcess",{range:dn,usingOperation:!1}),Zi=!0):Zi&&(Ln.removeMarker("maximumLengthExcess"),Zi=!1)}),Fi.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(Fi,sn){if(Fi>sn)return null;const en=this.editor,Zi=en.model.createRangeIn(en.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let Ln,Ri,dn=sn;for(const jn of Zi)if(jn.type=="text"&&(Ln||(Ln=jn.previousPosition),dn--,dn<Fi))return Ri=jn.previousPosition,en.model.createRange(Ri,Ln)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=Ki})()},91753:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(21272),Yi=di(69106),Gi=di(41999),tn=di(73725),Hi=Li.forwardRef(({children:rn,name:xi,error:Fi,hint:sn,id:en,required:Zi=!1,...Ln},Ri)=>{const dn=Gi.useId(en),jn=Li.useMemo(()=>({name:xi,id:dn,error:Fi,hint:sn,required:Zi}),[Fi,dn,sn,xi,Zi]);return Ki.jsx(tn.Box,{ref:Ri,...Ln,children:Ki.jsx(Yi.FieldContext.Provider,{value:jn,children:rn})})});qi.Field=Hi},39859:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(21272),Yi=di(63891),Gi=di(69909),tn=di(19717),xi=(sn=>sn&&sn.__esModule?sn:{default:sn})(Yi).default(Gi.Flex)`
  font-size: 1.6rem;
  padding: 0;
`,Fi=Li.forwardRef(({label:sn,children:en,...Zi},Ln)=>Ki.jsxs(xi,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...Zi,as:"button",ref:Ln,children:[Ki.jsx(tn.VisuallyHidden,{as:"span",children:sn}),Li.cloneElement(en,{"aria-hidden":!0,focusable:!1})]}));qi.FieldAction=Fi},69106:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(21272),Li=Ki.createContext({id:"",required:!1}),Yi=()=>Ki.useContext(Li);qi.FieldContext=Li,qi.useField=Yi},83215:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(69106),Yi=di(48941),Gi=()=>{const{id:tn,error:Hi}=Li.useField();return!Hi||typeof Hi!="string"?null:Ki.jsx(Yi.Typography,{variant:"pi",as:"p",id:`${tn}-error`,textColor:"danger600","data-strapi-field-error":!0,children:Hi})};qi.FieldError=Gi},67296:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(69106),Yi=di(48941),Gi=()=>{const{id:tn,hint:Hi,error:rn}=Li.useField();return!Hi||rn?null:Ki.jsx(Yi.Typography,{variant:"pi",as:"p",id:`${tn}-hint`,textColor:"neutral600",children:Hi})};qi.FieldHint=Gi},80421:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(21272),Yi=di(63891),Gi=di(69106),tn=di(93788),Hi=di(73725),rn=di(69909),Fi=(Ri=>Ri&&Ri.__esModule?Ri:{default:Ri})(Yi),sn={S:6.5,M:10.5},en=Li.forwardRef(({endAction:Ri,startAction:dn,disabled:jn=!1,onChange:Qn,size:Po="M",...Ui},Qi)=>{const{id:$i,error:ki,hint:mi,name:Vi,required:Ni}=Gi.useField();let Ji;ki?Ji=`${$i}-error`:mi&&(Ji=`${$i}-hint`);const Nt=Boolean(ki),At=Q=>{!jn&&Qn&&Qn(Q)};return Ki.jsxs(Ln,{justifyContent:"space-between",hasError:Nt,disabled:jn,children:[dn?Ki.jsx(Hi.Box,{paddingLeft:3,paddingRight:2,children:dn}):null,Ki.jsx(Zi,{id:$i,name:Vi,ref:Qi,"aria-describedby":Ji,"aria-invalid":Nt,"aria-disabled":jn,disabled:jn,"data-disabled":jn?"":void 0,hasLeftAction:Boolean(dn),hasRightAction:Boolean(Ri),onChange:At,"aria-required":Ni,$size:Po,...Ui}),Ri?Ki.jsx(Hi.Box,{paddingLeft:2,paddingRight:3,children:Ri}):null]})}),Zi=Fi.default.input`
  border: none;
  border-radius: ${({theme:Ri})=>Ri.borderRadius};
  padding-bottom: ${({$size:Ri})=>`${sn[Ri]/16}rem`};
  padding-left: ${({theme:Ri,hasLeftAction:dn})=>dn?0:Ri.spaces[4]};
  padding-right: ${({theme:Ri,hasRightAction:dn})=>dn?0:Ri.spaces[4]};
  padding-top: ${({$size:Ri})=>`${sn[Ri]/16}rem`};
  cursor: ${Ri=>Ri["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:Ri})=>Ri.colors.neutral800};
  font-weight: 400;
  font-size: ${Ri=>Ri.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:Ri})=>Ri.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,Ln=Fi.default(rn.Flex)`
  border: 1px solid ${({theme:Ri,hasError:dn})=>dn?Ri.colors.danger600:Ri.colors.neutral200};
  border-radius: ${({theme:Ri})=>Ri.borderRadius};
  background: ${({theme:Ri})=>Ri.colors.neutral0};
  ${tn.inputFocusStyle()}

  ${({theme:Ri,disabled:dn})=>dn?Yi.css`
          color: ${Ri.colors.neutral600};
          background: ${Ri.colors.neutral150};
        `:void 0}
`;qi.FieldInput=en,qi.InputWrapper=Ln},76987:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(92132),Li=di(21272),Yi=di(63891),Gi=di(69106),tn=di(14053),Hi=di(48941),rn=di(69909),Fi=(dn=>dn&&dn.__esModule?dn:{default:dn})(Yi),sn=tn.once(console.warn),en=Li.forwardRef(({children:dn,action:jn,required:Qn,...Po},Ui)=>{const{id:Qi,required:$i}=Gi.useField(),ki=$i||Qn;return Qn!==void 0&&sn('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),Ki.jsxs(Zi,{ref:Ui,variant:"pi",textColor:"neutral800",htmlFor:Qi,fontWeight:"bold",as:"label",...Po,children:[dn,ki&&Ki.jsx(Ln,{textColor:"danger600",children:"*"}),jn&&Ki.jsx(Ri,{marginLeft:1,children:jn})]})}),Zi=Fi.default(Hi.Typography)`
  display: flex;
  align-items: center;
`,Ln=Fi.default(Hi.Typography)`
  line-height: 0;
`,Ri=Fi.default(rn.Flex)`
  line-height: 0;

  svg path {
    fill: ${({theme:dn})=>dn.colors.neutral500};
  }
`;qi.FieldLabel=en},79521:(zo,qi,di)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const Ki=di(91753),Li=di(76987),Yi=di(80421),Gi=di(67296),tn=di(83215),Hi=di(69106),rn=di(39859);qi.Field=Ki.Field,qi.FieldLabel=Li.FieldLabel,qi.FieldInput=Yi.FieldInput,qi.InputWrapper=Yi.InputWrapper,qi.FieldHint=Gi.FieldHint,qi.FieldError=tn.FieldError,qi.FieldContext=Hi.FieldContext,qi.useField=Hi.useField,qi.FieldAction=rn.FieldAction},14053:(zo,qi)=>{"use strict";Object.defineProperty(qi,Symbol.toStringTag,{value:"Module"});const di="[@strapi/design-system]:",Ki=Li=>{const Yi=Li;let Gi=!1;if(typeof Yi!="function")throw new TypeError(`${di} once requires a function parameter`);return(...tn)=>{Gi||(Yi(...tn),Gi=!0)}};qi.PREFIX=di,qi.once=Ki},45427:(zo,qi,di)=>{"use strict";di.r(qi),di.d(qi,{ContextWatchdog:()=>J,EditorWatchdog:()=>Ee,Watchdog:()=>Ki});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ki{constructor(p){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof p.crashNumberLimit=="number"?p.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof p.minimumNonErrorTimePeriod=="number"?p.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=g=>{const _="error"in g?g.error:g.reason;_ instanceof Error&&this._handleError(_,g)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(p,g){this._listeners[p]||(this._listeners[p]=[]),this._listeners[p].push(g)}off(p,g){this._listeners[p]=this._listeners[p].filter(_=>_!==g)}_fire(p,...g){const _=this._listeners[p]||[];for(const S of _)S.apply(this,[null,...g])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(p,g){if(this._shouldReactToError(p)){this.crashes.push({message:p.message,stack:p.stack,filename:g instanceof ErrorEvent?g.filename:void 0,lineno:g instanceof ErrorEvent?g.lineno:void 0,colno:g instanceof ErrorEvent?g.colno:void 0,date:this._now()});const _=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:p,causesRestart:_}),_?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(p){return p.is&&p.is("CKEditorError")&&p.context!==void 0&&p.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(p)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const p=this.crashes[this.crashes.length-1].date,g=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(p-g)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Li(h,p=new Set){const g=[h],_=new Set;let S=0;for(;g.length>S;){const I=g[S++];if(!(_.has(I)||!Yi(I)||p.has(I)))if(_.add(I),Symbol.iterator in I)try{for(const M of I)g.push(M)}catch{}else for(const M in I)M!=="defaultValue"&&g.push(I[M])}return _}function Yi(h){const p=Object.prototype.toString.call(h),g=typeof h;return!(g==="number"||g==="boolean"||g==="string"||g==="symbol"||g==="function"||p==="[object Date]"||p==="[object RegExp]"||p==="[object Module]"||h===void 0||h===null||h._watchdogExcluded||h instanceof EventTarget||h instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gi(h,p,g=new Set){if(h===p&&Hi(h))return!0;const _=Li(h,g),S=Li(p,g);for(const I of _)if(S.has(I))return!0;return!1}/* istanbul ignore next -- @preserve */function tn(h,p,g){const{subNodes:_,prevNodeMap:S}=getSubNodes(h,g.subNodes),{subNodes:I,prevNodeMap:M}=getSubNodes(p,g.subNodes);for(const ee of _)if(I.has(ee)){const H=[];H.push(ee);let re=S.get(ee);for(;re&&re!==h;)H.push(re),re=S.get(re);for(re=M.get(ee);re&&re!==p;)H.unshift(re),re=M.get(re);return console.log("--------"),console.log({target1:h}),console.log({sharedNode:ee}),console.log({target2:p}),console.log({connection:H}),!0}return!1}function Hi(h){return typeof h=="object"&&h!==null}var rn=di(66727),xi=di(70007),Fi=function(){return xi.A.Date.now()};const sn=Fi;var en=/\s/;function Zi(h){for(var p=h.length;p--&&en.test(h.charAt(p)););return p}const Ln=Zi;var Ri=/^\s+/;function dn(h){return h&&h.slice(0,Ln(h)+1).replace(Ri,"")}const jn=dn;var Qn=di(20920),Po=0/0,Ui=/^[-+]0x[0-9a-f]+$/i,Qi=/^0b[01]+$/i,$i=/^0o[0-7]+$/i,ki=parseInt;function mi(h){if(typeof h=="number")return h;if((0,Qn.A)(h))return Po;if((0,rn.A)(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=(0,rn.A)(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=jn(h);var g=Qi.test(h);return g||$i.test(h)?ki(h.slice(2),g?2:8):Ui.test(h)?Po:+h}const Vi=mi;var Ni="Expected a function",Ji=Math.max,Nt=Math.min;function At(h,p,g){var _,S,I,M,ee,H,re=0,O=!1,W=!1,ie=!0;if(typeof h!="function")throw new TypeError(Ni);p=Vi(p)||0,(0,rn.A)(g)&&(O=!!g.leading,W="maxWait"in g,I=W?Ji(Vi(g.maxWait)||0,p):I,ie="trailing"in g?!!g.trailing:ie);function we(G){var Ie=_,Ue=S;return _=S=void 0,re=G,M=h.apply(Ue,Ie),M}function Ae(G){return re=G,ee=setTimeout(ne,p),O?we(G):M}function He(G){var Ie=G-H,Ue=G-re,nt=p-Ie;return W?Nt(nt,I-Ue):nt}function it(G){var Ie=G-H,Ue=G-re;return H===void 0||Ie>=p||Ie<0||W&&Ue>=I}function ne(){var G=sn();if(it(G))return de(G);ee=setTimeout(ne,He(G))}function de(G){return ee=void 0,ie&&_?we(G):(_=S=void 0,M)}function Se(){ee!==void 0&&clearTimeout(ee),re=0,_=H=S=ee=void 0}function Re(){return ee===void 0?M:de(sn())}function Oe(){var G=sn(),Ie=it(G);if(_=arguments,S=this,H=G,Ie){if(ee===void 0)return Ae(H);if(W)return clearTimeout(ee),ee=setTimeout(ne,p),we(H)}return ee===void 0&&(ee=setTimeout(ne,p)),M}return Oe.cancel=Se,Oe.flush=Re,Oe}const Q=At;var ti="Expected a function";function d(h,p,g){var _=!0,S=!0;if(typeof h!="function")throw new TypeError(ti);return(0,rn.A)(g)&&(_="leading"in g?!!g.leading:_,S="trailing"in g?!!g.trailing:S),Q(h,p,{leading:_,maxWait:p,trailing:S})}const w=d;var s=di(13856),u=di(76981);function C(h){return(0,s.A)(h)&&h.nodeType===1&&!(0,u.A)(h)}const L=C;var k=di(10168),v=1,$=4;function K(h,p){return p=typeof p=="function"?p:void 0,(0,k.A)(h,v|$,p)}const R=K;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ee extends Ki{constructor(p,g={}){super(g),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=w(this._save.bind(this),typeof g.saveInterval=="number"?g.saveInterval:5e3),p&&(this._creator=(_,S)=>p.create(_,S)),this._destructor=_=>_.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(p){this._creator=p}setDestructor(p){this._destructor=p}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(p=>{console.error("An error happened during the editor destroying.",p)}).then(()=>{const p={},g=[],_=this._config.rootsAttributes||{},S={};for(const[M,ee]of Object.entries(this._data.roots))ee.isLoaded?(p[M]="",S[M]=_[M]||{}):g.push(M);const I={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:g,rootsAttributes:S,_watchdogInitialData:this._data};return delete I.initialData,I.extraPlugins.push(ge),this._initUsingData?this.create(p,I,I.context):L(this._elementOrData)?this.create(this._elementOrData,I,I.context):this.create(this._editables,I,I.context)}).then(()=>{this._fire("restart")})}create(p=this._elementOrData,g=this._config,_){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=p,this._initUsingData=typeof p=="string"||Object.keys(p).length>0&&typeof Object.values(p)[0]=="string",this._config=this._cloneEditorConfiguration(g)||{},this._config.context=_,this._creator(p,this._config))).then(S=>{this._editor=S,S.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=S.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const p=this._editor;return this._editor=null,p.model.document.off("change:data",this._throttledSave),this._destructor(p)})}_save(){const p=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=p}catch(g){console.error(g,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(p){this._excludedProps=p}_getData(){const p=this._editor,g=p.model.document.roots.filter(ee=>ee.isAttached()&&ee.rootName!="$graveyard"),{plugins:_}=p,S=_.has("CommentsRepository")&&_.get("CommentsRepository"),I=_.has("TrackChanges")&&_.get("TrackChanges"),M={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};g.forEach(ee=>{M.roots[ee.rootName]={content:JSON.stringify(Array.from(ee.getChildren())),attributes:JSON.stringify(Array.from(ee.getAttributes())),isLoaded:ee._isLoaded}});for(const ee of p.model.markers)ee._affectsData&&(M.markers[ee.name]={rangeJSON:ee.getRange().toJSON(),usingOperation:ee._managedUsingOperations,affectsData:ee._affectsData});return S&&(M.commentThreads=JSON.stringify(S.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),I&&(M.suggestions=JSON.stringify(I.getSuggestions({toJSON:!0,skipNotAttached:!0}))),M}_getEditables(){const p={};for(const g of this.editor.model.document.getRootNames()){const _=this.editor.ui.getEditableElement(g);_&&(p[g]=_)}return p}_isErrorComingFromThisItem(p){return Gi(this._editor,p.context,this._excludedProps)}_cloneEditorConfiguration(p){return R(p,(g,_)=>{if(L(g)||_==="context")return g})}}class ge{constructor(p){this.editor=p,this._data=p.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",p=>{p.stop(),this.editor.model.enqueueChange({isUndoable:!1},g=>{this._restoreCollaborationData(),this._restoreEditorData(g)}),this.editor.data.fire("ready")},{priority:1e3-1})}_createNode(p,g){if("name"in g){const _=p.createElement(g.name,g.attributes);if(g.children)for(const S of g.children)_._appendChild(this._createNode(p,S));return _}else return p.createText(g.data,g.attributes)}_restoreEditorData(p){const g=this.editor;Object.entries(this._data.roots).forEach(([_,{content:S,attributes:I}])=>{const M=JSON.parse(S),ee=JSON.parse(I),H=g.model.document.getRoot(_);for(const[re,O]of ee)p.setAttribute(re,O,H);for(const re of M){const O=this._createNode(p,re);p.insert(O,H,"end")}}),Object.entries(this._data.markers).forEach(([_,S])=>{const{document:I}=g.model,{rangeJSON:{start:M,end:ee},...H}=S,re=I.getRoot(M.root),O=p.createPositionFromPath(re,M.path,M.stickiness),W=p.createPositionFromPath(re,ee.path,ee.stickiness),ie=p.createRange(O,W);p.addMarker(_,{range:ie,...H})})}_restoreCollaborationData(){const p=JSON.parse(this._data.commentThreads),g=JSON.parse(this._data.suggestions);p.forEach(_=>{const S=this.editor.config.get("collaboration.channelId"),I=this.editor.plugins.get("CommentsRepository");I.hasCommentThread(_.threadId)&&I.getCommentThread(_.threadId).remove(),I.addCommentThread({channelId:S,..._})}),g.forEach(_=>{const S=this.editor.plugins.get("TrackChangesEditing");if(S.hasSuggestion(_.id)){const I=S.getSuggestion(_.id);I.attributes=_.attributes}else S.addSuggestionData(_)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Y=Symbol("MainQueueId");class J extends Ki{constructor(p,g={}){super(g),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Ce,this._watchdogConfig=g,this._creator=_=>p.create(_),this._destructor=_=>_.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(p){this._creator=p}setDestructor(p){this._destructor=p}get context(){return this._context}create(p={}){return this._actionQueues.enqueue(Y,()=>(this._contextConfig=p,this._create()))}getItem(p){return this._getWatchdog(p)._item}getItemState(p){return this._getWatchdog(p).state}add(p){const g=ue(p);return Promise.all(g.map(_=>this._actionQueues.enqueue(_.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let S;if(this._watchdogs.has(_.id))throw new Error(`Item with the given id is already added: '${_.id}'.`);if(_.type==="editor")return S=new Ee(null,this._watchdogConfig),S.setCreator(_.creator),S._setExcludedProperties(this._contextProps),_.destructor&&S.setDestructor(_.destructor),this._watchdogs.set(_.id,S),S.on("error",(I,{error:M,causesRestart:ee})=>{this._fire("itemError",{itemId:_.id,error:M}),ee&&this._actionQueues.enqueue(_.id,()=>new Promise(H=>{const re=()=>{S.off("restart",re),this._fire("itemRestart",{itemId:_.id}),H()};S.on("restart",re)}))}),S.create(_.sourceElementOrData,_.config,this._context);throw new Error(`Not supported item type: '${_.type}'.`)})))}remove(p){const g=ue(p);return Promise.all(g.map(_=>this._actionQueues.enqueue(_,()=>{const S=this._getWatchdog(_);return this._watchdogs.delete(_),S.destroy()})))}destroy(){return this._actionQueues.enqueue(Y,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Y,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(p=>{console.error("An error happened during destroying the context or items.",p)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(p=>(this._context=p,this._contextProps=Li(this._context),Promise.all(Array.from(this._watchdogs.values()).map(g=>(g._setExcludedProperties(this._contextProps),g.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const p=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(g=>g.destroy())).then(()=>this._destructor(p))})}_getWatchdog(p){const g=this._watchdogs.get(p);if(!g)throw new Error(`Item with the given id was not registered: ${p}.`);return g}_isErrorComingFromThisItem(p){for(const g of this._watchdogs.values())if(g._isErrorComingFromThisItem(p))return!1;return Gi(this._context,p.context)}}class Ce{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(p){this._onEmptyCallbacks.push(p)}enqueue(p,g){const _=p===Y;this._activeActions++,this._queues.get(p)||this._queues.set(p,Promise.resolve());const I=(_?Promise.all(this._queues.values()):Promise.all([this._queues.get(Y),this._queues.get(p)])).then(g),M=I.catch(()=>{});return this._queues.set(p,M),I.finally(()=>{this._activeActions--,this._queues.get(p)===M&&this._activeActions===0&&this._onEmptyCallbacks.forEach(ee=>ee())})}}function ue(h){return Array.isArray(h)?h:[h]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */}}]);
