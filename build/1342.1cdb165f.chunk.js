(self.webpackChunkstrapi_project=self.webpackChunkstrapi_project||[]).push([[1342],{91120:(to,Ki,_i)=>{to=_i.nmd(to);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(un,Bi){to.exports=Bi(_i(21272))})(self,un=>(()=>{var Bi={703:(Ci,Hi,pn)=>{"use strict";var Zi=pn(414);function nn(){}function $n(){}$n.resetWarningCache=nn,Ci.exports=function(){function Xi(ln,so,Fo,uo,Ji,on){if(on!==Zi){var Gi=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Gi.name="Invariant Violation",Gi}}function Fn(){return Xi}Xi.isRequired=Xi;var Ui={array:Xi,bigint:Xi,bool:Xi,func:Xi,number:Xi,object:Xi,string:Xi,symbol:Xi,any:Xi,arrayOf:Fn,element:Xi,elementType:Xi,instanceOf:Fn,node:Xi,objectOf:Fn,oneOf:Fn,oneOfType:Fn,shape:Fn,exact:Fn,checkPropTypes:$n,resetWarningCache:nn};return Ui.PropTypes=Ui,Ui}},697:(Ci,Hi,pn)=>{Ci.exports=pn(703)()},414:Ci=>{"use strict";Ci.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:Ci=>{"use strict";Ci.exports=un}},sn={};function Fi(Ci){var Hi=sn[Ci];if(Hi!==void 0)return Hi.exports;var pn=sn[Ci]={exports:{}};return Bi[Ci](pn,pn.exports,Fi),pn.exports}Fi.n=Ci=>{var Hi=Ci&&Ci.__esModule?()=>Ci.default:()=>Ci;return Fi.d(Hi,{a:Hi}),Hi},Fi.d=(Ci,Hi)=>{for(var pn in Hi)Fi.o(Hi,pn)&&!Fi.o(Ci,pn)&&Object.defineProperty(Ci,pn,{enumerable:!0,get:Hi[pn]})},Fi.o=(Ci,Hi)=>Object.prototype.hasOwnProperty.call(Ci,Hi),Fi.r=Ci=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ci,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ci,"__esModule",{value:!0})};var hn={};return(()=>{"use strict";Fi.r(hn),Fi.d(hn,{CKEditor:()=>Bo,CKEditorContext:()=>ur,useMultiRootEditor:()=>br});var Ci=Fi(787),Hi=Fi.n(Ci),pn=Fi(697),Zi=Fi.n(pn);const nn=new Array(256).fill("").map((se,re)=>("0"+re.toString(16)).slice(-2));class $n{constructor(re){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof re.crashNumberLimit=="number"?re.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof re.minimumNonErrorTimePeriod=="number"?re.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Je=>{const At="error"in Je?Je.error:Je.reason;At instanceof Error&&this._handleError(At,Je)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(re,Je){this._listeners[re]||(this._listeners[re]=[]),this._listeners[re].push(Je)}off(re,Je){this._listeners[re]=this._listeners[re].filter(At=>At!==Je)}_fire(re,...Je){const At=this._listeners[re]||[];for(const si of At)si.apply(this,[null,...Je])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(re,Je){if(this._shouldReactToError(re)){this.crashes.push({message:re.message,stack:re.stack,filename:Je instanceof ErrorEvent?Je.filename:void 0,lineno:Je instanceof ErrorEvent?Je.lineno:void 0,colno:Je instanceof ErrorEvent?Je.colno:void 0,date:this._now()});const At=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:re,causesRestart:At}),At?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(re){return re.is&&re.is("CKEditorError")&&re.context!==void 0&&re.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(re)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Xi(se,re=new Set){const Je=[se],At=new Set;let si=0;for(;Je.length>si;){const Ei=Je[si++];if(!At.has(Ei)&&Fn(Ei)&&!re.has(Ei))if(At.add(Ei),Symbol.iterator in Ei)try{for(const Si of Ei)Je.push(Si)}catch{}else for(const Si in Ei)Si!=="defaultValue"&&Je.push(Ei[Si])}return At}function Fn(se){const re=Object.prototype.toString.call(se),Je=typeof se;return!(Je==="number"||Je==="boolean"||Je==="string"||Je==="symbol"||Je==="function"||re==="[object Date]"||re==="[object RegExp]"||re==="[object Module]"||se==null||se._watchdogExcluded||se instanceof EventTarget||se instanceof Event)}function Ui(se,re,Je=new Set){if(se===re&&typeof(At=se)=="object"&&At!==null)return!0;var At;const si=Xi(se,Je),Ei=Xi(re,Je);for(const Si of si)if(Ei.has(Si))return!0;return!1}const ln=function(se){var re=typeof se;return se!=null&&(re=="object"||re=="function")},so=typeof _i.g=="object"&&_i.g&&_i.g.Object===Object&&_i.g;var Fo=typeof self=="object"&&self&&self.Object===Object&&self;const uo=so||Fo||Function("return this")(),Ji=function(){return uo.Date.now()};var on=/\s/;const Gi=function(se){for(var re=se.length;re--&&on.test(se.charAt(re)););return re};var Sn=/^\s+/;const Gn=function(se){return se&&se.slice(0,Gi(se)+1).replace(Sn,"")},On=uo.Symbol;var Hn=Object.prototype,Ho=Hn.hasOwnProperty,Gt=Hn.toString,St=On?On.toStringTag:void 0;const K=function(se){var re=Ho.call(se,St),Je=se[St];try{se[St]=void 0;var At=!0}catch{}var si=Gt.call(se);return At&&(re?se[St]=Je:delete se[St]),si};var ai=Object.prototype.toString;const d=function(se){return ai.call(se)};var f=On?On.toStringTag:void 0;const s=function(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":f&&f in Object(se)?K(se):d(se)},u=function(se){return se!=null&&typeof se=="object"},y=function(se){return typeof se=="symbol"||u(se)&&s(se)=="[object Symbol]"};var P=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,_=/^0o[0-7]+$/i,D=parseInt;const I=function(se){if(typeof se=="number")return se;if(y(se))return NaN;if(ln(se)){var re=typeof se.valueOf=="function"?se.valueOf():se;se=ln(re)?re+"":re}if(typeof se!="string")return se===0?se:+se;se=Gn(se);var Je=b.test(se);return Je||_.test(se)?D(se.slice(2),Je?2:8):P.test(se)?NaN:+se};var V=Math.max,ye=Math.min;const ne=function(se,re,Je){var At,si,Ei,Si,Ti,gn,dn=0,yo=!1,ho=!1,Tn=!0;if(typeof se!="function")throw new TypeError("Expected a function");function Eo(ro){var So=At,Oo=si;return At=si=void 0,dn=ro,Si=se.apply(Oo,So)}function Lo(ro){var So=ro-gn;return gn===void 0||So>=re||So<0||ho&&ro-dn>=Ei}function wo(){var ro=Ji();if(Lo(ro))return Dn(ro);Ti=setTimeout(wo,function(So){var Oo=re-(So-gn);return ho?ye(Oo,Ei-(So-dn)):Oo}(ro))}function Dn(ro){return Ti=void 0,Tn&&At?Eo(ro):(At=si=void 0,Si)}function Qn(){var ro=Ji(),So=Lo(ro);if(At=arguments,si=this,gn=ro,So){if(Ti===void 0)return function(Oo){return dn=Oo,Ti=setTimeout(wo,re),yo?Eo(Oo):Si}(gn);if(ho)return clearTimeout(Ti),Ti=setTimeout(wo,re),Eo(gn)}return Ti===void 0&&(Ti=setTimeout(wo,re)),Si}return re=I(re)||0,ln(Je)&&(yo=!!Je.leading,Ei=(ho="maxWait"in Je)?V(I(Je.maxWait)||0,re):Ei,Tn="trailing"in Je?!!Je.trailing:Tn),Qn.cancel=function(){Ti!==void 0&&clearTimeout(Ti),dn=0,At=gn=si=Ti=void 0},Qn.flush=function(){return Ti===void 0?Si:Dn(Ji())},Qn},U=function(se,re,Je){var At=!0,si=!0;if(typeof se!="function")throw new TypeError("Expected a function");return ln(Je)&&(At="leading"in Je?!!Je.leading:At,si="trailing"in Je?!!Je.trailing:si),ne(se,re,{leading:At,maxWait:re,trailing:si})},$=function(se,re){return function(Je){return se(re(Je))}},he=$(Object.getPrototypeOf,Object);var we=Function.prototype,g=Object.prototype,w=we.toString,p=g.hasOwnProperty,v=w.call(Object);const T=function(se){if(!u(se)||s(se)!="[object Object]")return!1;var re=he(se);if(re===null)return!0;var Je=p.call(re,"constructor")&&re.constructor;return typeof Je=="function"&&Je instanceof Je&&w.call(Je)==v},L=function(se){return u(se)&&se.nodeType===1&&!T(se)},O=function(){this.__data__=[],this.size=0},oe=function(se,re){return se===re||se!=se&&re!=re},W=function(se,re){for(var Je=se.length;Je--;)if(oe(se[Je][0],re))return Je;return-1};var te=Array.prototype.splice;const S=function(se){var re=this.__data__,Je=W(re,se);return!(Je<0)&&(Je==re.length-1?re.pop():te.call(re,Je,1),--this.size,!0)},X=function(se){var re=this.__data__,Je=W(re,se);return Je<0?void 0:re[Je][1]},de=function(se){return W(this.__data__,se)>-1},_e=function(se,re){var Je=this.__data__,At=W(Je,se);return At<0?(++this.size,Je.push([se,re])):Je[At][1]=re,this};function Ae(se){var re=-1,Je=se==null?0:se.length;for(this.clear();++re<Je;){var At=se[re];this.set(At[0],At[1])}}Ae.prototype.clear=O,Ae.prototype.delete=S,Ae.prototype.get=X,Ae.prototype.has=de,Ae.prototype.set=_e;const rt=Ae,et=function(){this.__data__=new rt,this.size=0},J=function(se){var re=this.__data__,Je=re.delete(se);return this.size=re.size,Je},Z=function(se){return this.__data__.get(se)},Ce=function(se){return this.__data__.has(se)},Oe=function(se){if(!ln(se))return!1;var re=s(se);return re=="[object Function]"||re=="[object GeneratorFunction]"||re=="[object AsyncFunction]"||re=="[object Proxy]"},xe=uo["__core-js_shared__"];var q=function(){var se=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return se?"Symbol(src)_1."+se:""}();const Le=function(se){return!!q&&q in se};var He=Function.prototype.toString;const ot=function(se){if(se!=null){try{return He.call(se)}catch{}try{return se+""}catch{}}return""};var fe=/^\[object .+?Constructor\]$/,le=Function.prototype,pe=Object.prototype,Ke=le.toString,nt=pe.hasOwnProperty,ut=RegExp("^"+Ke.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wt=function(se){return!(!ln(se)||Le(se))&&(Oe(se)?ut:fe).test(ot(se))},Ft=function(se,re){return se?.[re]},Wt=function(se,re){var Je=Ft(se,re);return wt(Je)?Je:void 0},Lt=Wt(uo,"Map"),Yt=Wt(Object,"create"),bt=function(){this.__data__=Yt?Yt(null):{},this.size=0},Xe=function(se){var re=this.has(se)&&delete this.__data__[se];return this.size-=re?1:0,re};var kt=Object.prototype.hasOwnProperty;const bi=function(se){var re=this.__data__;if(Yt){var Je=re[se];return Je==="__lodash_hash_undefined__"?void 0:Je}return kt.call(re,se)?re[se]:void 0};var fi=Object.prototype.hasOwnProperty;const Di=function(se){var re=this.__data__;return Yt?re[se]!==void 0:fi.call(re,se)},Yi=function(se,re){var Je=this.__data__;return this.size+=this.has(se)?0:1,Je[se]=Yt&&re===void 0?"__lodash_hash_undefined__":re,this};function Ii(se){var re=-1,Je=se==null?0:se.length;for(this.clear();++re<Je;){var At=se[re];this.set(At[0],At[1])}}Ii.prototype.clear=bt,Ii.prototype.delete=Xe,Ii.prototype.get=bi,Ii.prototype.has=Di,Ii.prototype.set=Yi;const $i=Ii,ht=function(){this.size=0,this.__data__={hash:new $i,map:new(Lt||rt),string:new $i}},G=function(se){var re=typeof se;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?se!=="__proto__":se===null},ce=function(se,re){var Je=se.__data__;return G(re)?Je[typeof re=="string"?"string":"hash"]:Je.map},Ie=function(se){var re=ce(this,se).delete(se);return this.size-=re?1:0,re},Ze=function(se){return ce(this,se).get(se)},Ye=function(se){return ce(this,se).has(se)},ft=function(se,re){var Je=ce(this,se),At=Je.size;return Je.set(se,re),this.size+=Je.size==At?0:1,this};function Tt(se){var re=-1,Je=se==null?0:se.length;for(this.clear();++re<Je;){var At=se[re];this.set(At[0],At[1])}}Tt.prototype.clear=ht,Tt.prototype.delete=Ie,Tt.prototype.get=Ze,Tt.prototype.has=Ye,Tt.prototype.set=ft;const Vt=Tt,Bt=function(se,re){var Je=this.__data__;if(Je instanceof rt){var At=Je.__data__;if(!Lt||At.length<199)return At.push([se,re]),this.size=++Je.size,this;Je=this.__data__=new Vt(At)}return Je.set(se,re),this.size=Je.size,this};function ei(se){var re=this.__data__=new rt(se);this.size=re.size}ei.prototype.clear=et,ei.prototype.delete=J,ei.prototype.get=Z,ei.prototype.has=Ce,ei.prototype.set=Bt;const oi=ei,Mi=function(se,re){for(var Je=-1,At=se==null?0:se.length;++Je<At&&re(se[Je],Je,se)!==!1;);return se},Pi=function(){try{var se=Wt(Object,"defineProperty");return se({},"",{}),se}catch{}}(),zi=function(se,re,Je){re=="__proto__"&&Pi?Pi(se,re,{configurable:!0,enumerable:!0,value:Je,writable:!0}):se[re]=Je};var mi=Object.prototype.hasOwnProperty;const Ni=function(se,re,Je){var At=se[re];mi.call(se,re)&&oe(At,Je)&&(Je!==void 0||re in se)||zi(se,re,Je)},vt=function(se,re,Je,At){var si=!Je;Je||(Je={});for(var Ei=-1,Si=re.length;++Ei<Si;){var Ti=re[Ei],gn=At?At(Je[Ti],se[Ti],Ti,Je,se):void 0;gn===void 0&&(gn=se[Ti]),si?zi(Je,Ti,gn):Ni(Je,Ti,gn)}return Je},qe=function(se,re){for(var Je=-1,At=Array(se);++Je<se;)At[Je]=re(Je);return At},pt=function(se){return u(se)&&s(se)=="[object Arguments]"};var Be=Object.prototype,xt=Be.hasOwnProperty,Zt=Be.propertyIsEnumerable;const Ot=pt(function(){return arguments}())?pt:function(se){return u(se)&&xt.call(se,"callee")&&!Zt.call(se,"callee")},Rt=Array.isArray,ve=function(){return!1};var j=Ki&&!Ki.nodeType&&Ki,B=j&&!0&&to&&!to.nodeType&&to,Y=B&&B.exports===j?uo.Buffer:void 0;const Te=(Y?Y.isBuffer:void 0)||ve;var Ne=/^(?:0|[1-9]\d*)$/;const ee=function(se,re){var Je=typeof se;return!!(re=re??9007199254740991)&&(Je=="number"||Je!="symbol"&&Ne.test(se))&&se>-1&&se%1==0&&se<re},Pe=function(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=9007199254740991};var ze={};ze["[object Float32Array]"]=ze["[object Float64Array]"]=ze["[object Int8Array]"]=ze["[object Int16Array]"]=ze["[object Int32Array]"]=ze["[object Uint8Array]"]=ze["[object Uint8ClampedArray]"]=ze["[object Uint16Array]"]=ze["[object Uint32Array]"]=!0,ze["[object Arguments]"]=ze["[object Array]"]=ze["[object ArrayBuffer]"]=ze["[object Boolean]"]=ze["[object DataView]"]=ze["[object Date]"]=ze["[object Error]"]=ze["[object Function]"]=ze["[object Map]"]=ze["[object Number]"]=ze["[object Object]"]=ze["[object RegExp]"]=ze["[object Set]"]=ze["[object String]"]=ze["[object WeakMap]"]=!1;const Qe=function(se){return u(se)&&Pe(se.length)&&!!ze[s(se)]},dt=function(se){return function(re){return se(re)}};var Kt=Ki&&!Ki.nodeType&&Ki,Et=Kt&&!0&&to&&!to.nodeType&&to,ni=Et&&Et.exports===Kt&&so.process;const yi=function(){try{var se=Et&&Et.require&&Et.require("util").types;return se||ni&&ni.binding&&ni.binding("util")}catch{}}();var gi=yi&&yi.isTypedArray;const xi=gi?dt(gi):Qe;var Li=Object.prototype.hasOwnProperty;const mn=function(se,re){var Je=Rt(se),At=!Je&&Ot(se),si=!Je&&!At&&Te(se),Ei=!Je&&!At&&!si&&xi(se),Si=Je||At||si||Ei,Ti=Si?qe(se.length,String):[],gn=Ti.length;for(var dn in se)!re&&!Li.call(se,dn)||Si&&(dn=="length"||si&&(dn=="offset"||dn=="parent")||Ei&&(dn=="buffer"||dn=="byteLength"||dn=="byteOffset")||ee(dn,gn))||Ti.push(dn);return Ti};var jn=Object.prototype;const vn=function(se){var re=se&&se.constructor;return se===(typeof re=="function"&&re.prototype||jn)},Ln=$(Object.keys,Object);var In=Object.prototype.hasOwnProperty;const Jn=function(se){if(!vn(se))return Ln(se);var re=[];for(var Je in Object(se))In.call(se,Je)&&Je!="constructor"&&re.push(Je);return re},cn=function(se){return se!=null&&Pe(se.length)&&!Oe(se)},fo=function(se){return cn(se)?mn(se):Jn(se)},go=function(se,re){return se&&vt(re,fo(re),se)},_o=function(se){var re=[];if(se!=null)for(var Je in Object(se))re.push(Je);return re};var To=Object.prototype.hasOwnProperty;const io=function(se){if(!ln(se))return _o(se);var re=vn(se),Je=[];for(var At in se)(At!="constructor"||!re&&To.call(se,At))&&Je.push(At);return Je},po=function(se){return cn(se)?mn(se,!0):io(se)},No=function(se,re){return se&&vt(re,po(re),se)};var ao=Ki&&!Ki.nodeType&&Ki,Dt=ao&&!0&&to&&!to.nodeType&&to,z=Dt&&Dt.exports===ao?uo.Buffer:void 0,Ee=z?z.allocUnsafe:void 0;const $e=function(se,re){if(re)return se.slice();var Je=se.length,At=Ee?Ee(Je):new se.constructor(Je);return se.copy(At),At},Ge=function(se,re){var Je=-1,At=se.length;for(re||(re=Array(At));++Je<At;)re[Je]=se[Je];return re},at=function(se,re){for(var Je=-1,At=se==null?0:se.length,si=0,Ei=[];++Je<At;){var Si=se[Je];re(Si,Je,se)&&(Ei[si++]=Si)}return Ei},ct=function(){return[]};var It=Object.prototype.propertyIsEnumerable,yt=Object.getOwnPropertySymbols;const Ct=yt?function(se){return se==null?[]:(se=Object(se),at(yt(se),function(re){return It.call(se,re)}))}:ct,$t=function(se,re){return vt(se,Ct(se),re)},ii=function(se,re){for(var Je=-1,At=re.length,si=se.length;++Je<At;)se[si+Je]=re[Je];return se},wi=Object.getOwnPropertySymbols?function(se){for(var re=[];se;)ii(re,Ct(se)),se=he(se);return re}:ct,li=function(se,re){return vt(se,wi(se),re)},ki=function(se,re,Je){var At=re(se);return Rt(se)?At:ii(At,Je(se))},Vi=function(se){return ki(se,fo,Ct)},wn=function(se){return ki(se,po,wi)},Vn=Wt(uo,"DataView"),Cn=Wt(uo,"Promise"),Rn=Wt(uo,"Set"),en=Wt(uo,"WeakMap");var Pn="[object Map]",Qi="[object Promise]",no="[object Set]",vo="[object WeakMap]",Xt="[object DataView]",ue=ot(Vn),N=ot(Lt),ie=ot(Cn),We=ot(Rn),lt=ot(en),Se=s;(Vn&&Se(new Vn(new ArrayBuffer(1)))!=Xt||Lt&&Se(new Lt)!=Pn||Cn&&Se(Cn.resolve())!=Qi||Rn&&Se(new Rn)!=no||en&&Se(new en)!=vo)&&(Se=function(se){var re=s(se),Je=re=="[object Object]"?se.constructor:void 0,At=Je?ot(Je):"";if(At)switch(At){case ue:return Xt;case N:return Pn;case ie:return Qi;case We:return no;case lt:return vo}return re});const Nt=Se;var ui=Object.prototype.hasOwnProperty;const ri=function(se){var re=se.length,Je=new se.constructor(re);return re&&typeof se[0]=="string"&&ui.call(se,"index")&&(Je.index=se.index,Je.input=se.input),Je},me=uo.Uint8Array,C=function(se){var re=new se.constructor(se.byteLength);return new me(re).set(new me(se)),re},F=function(se,re){var Je=re?C(se.buffer):se.buffer;return new se.constructor(Je,se.byteOffset,se.byteLength)};var Q=/\w*$/;const ke=function(se){var re=new se.constructor(se.source,Q.exec(se));return re.lastIndex=se.lastIndex,re};var Ve=On?On.prototype:void 0,je=Ve?Ve.valueOf:void 0;const Me=function(se){return je?Object(je.call(se)):{}},De=function(se,re){var Je=re?C(se.buffer):se.buffer;return new se.constructor(Je,se.byteOffset,se.length)},Ue=function(se,re,Je){var At=se.constructor;switch(re){case"[object ArrayBuffer]":return C(se);case"[object Boolean]":case"[object Date]":return new At(+se);case"[object DataView]":return F(se,Je);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return De(se,Je);case"[object Map]":case"[object Set]":return new At;case"[object Number]":case"[object String]":return new At(se);case"[object RegExp]":return ke(se);case"[object Symbol]":return Me(se)}};var st=Object.create;const mt=function(){function se(){}return function(re){if(!ln(re))return{};if(st)return st(re);se.prototype=re;var Je=new se;return se.prototype=void 0,Je}}(),_t=function(se){return typeof se.constructor!="function"||vn(se)?{}:mt(he(se))},Pt=function(se){return u(se)&&Nt(se)=="[object Map]"};var qt=yi&&yi.isMap;const jt=qt?dt(qt):Pt,Jt=function(se){return u(se)&&Nt(se)=="[object Set]"};var ci=yi&&yi.isSet;const Oi=ci?dt(ci):Jt;var Ai="[object Arguments]",ji="[object Function]",qi="[object Object]",Ri={};Ri[Ai]=Ri["[object Array]"]=Ri["[object ArrayBuffer]"]=Ri["[object DataView]"]=Ri["[object Boolean]"]=Ri["[object Date]"]=Ri["[object Float32Array]"]=Ri["[object Float64Array]"]=Ri["[object Int8Array]"]=Ri["[object Int16Array]"]=Ri["[object Int32Array]"]=Ri["[object Map]"]=Ri["[object Number]"]=Ri[qi]=Ri["[object RegExp]"]=Ri["[object Set]"]=Ri["[object String]"]=Ri["[object Symbol]"]=Ri["[object Uint8Array]"]=Ri["[object Uint8ClampedArray]"]=Ri["[object Uint16Array]"]=Ri["[object Uint32Array]"]=!0,Ri["[object Error]"]=Ri[ji]=Ri["[object WeakMap]"]=!1;const kn=function se(re,Je,At,si,Ei,Si){var Ti,gn=1&Je,dn=2&Je,yo=4&Je;if(At&&(Ti=Ei?At(re,si,Ei,Si):At(re)),Ti!==void 0)return Ti;if(!ln(re))return re;var ho=Rt(re);if(ho){if(Ti=ri(re),!gn)return Ge(re,Ti)}else{var Tn=Nt(re),Eo=Tn==ji||Tn=="[object GeneratorFunction]";if(Te(re))return $e(re,gn);if(Tn==qi||Tn==Ai||Eo&&!Ei){if(Ti=dn||Eo?{}:_t(re),!gn)return dn?li(re,No(Ti,re)):$t(re,go(Ti,re))}else{if(!Ri[Tn])return Ei?re:{};Ti=Ue(re,Tn,gn)}}Si||(Si=new oi);var Lo=Si.get(re);if(Lo)return Lo;Si.set(re,Ti),Oi(re)?re.forEach(function(Dn){Ti.add(se(Dn,Je,At,Dn,re,Si))}):jt(re)&&re.forEach(function(Dn,Qn){Ti.set(Qn,se(Dn,Je,At,Qn,re,Si))});var wo=ho?void 0:(yo?dn?wn:Vi:dn?po:fo)(re);return Mi(wo||re,function(Dn,Qn){wo&&(Dn=re[Qn=Dn]),Ni(Ti,Qn,se(Dn,Je,At,Qn,re,Si))}),Ti},oo=function(se,re){return kn(se,5,re=typeof re=="function"?re:void 0)};class bo extends $n{constructor(re,Je={}){super(Je),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=U(this._save.bind(this),typeof Je.saveInterval=="number"?Je.saveInterval:5e3),re&&(this._creator=(At,si)=>re.create(At,si)),this._destructor=At=>At.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(re){this._creator=re}setDestructor(re){this._destructor=re}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(re=>{console.error("An error happened during the editor destroying.",re)}).then(()=>{const re={},Je=[],At=this._config.rootsAttributes||{},si={};for(const[Si,Ti]of Object.entries(this._data.roots))Ti.isLoaded?(re[Si]="",si[Si]=At[Si]||{}):Je.push(Si);const Ei={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:Je,rootsAttributes:si,_watchdogInitialData:this._data};return delete Ei.initialData,Ei.extraPlugins.push(cr),this._initUsingData?this.create(re,Ei,Ei.context):L(this._elementOrData)?this.create(this._elementOrData,Ei,Ei.context):this.create(this._editables,Ei,Ei.context)}).then(()=>{this._fire("restart")})}create(re=this._elementOrData,Je=this._config,At){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=re,this._initUsingData=typeof re=="string"||Object.keys(re).length>0&&typeof Object.values(re)[0]=="string",this._config=this._cloneEditorConfiguration(Je)||{},this._config.context=At,this._creator(re,this._config))).then(si=>{this._editor=si,si.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=si.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const re=this._editor;return this._editor=null,re.model.document.off("change:data",this._throttledSave),this._destructor(re)})}_save(){const re=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=re}catch(Je){console.error(Je,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(re){this._excludedProps=re}_getData(){const re=this._editor,Je=re.model.document.roots.filter(Ti=>Ti.isAttached()&&Ti.rootName!="$graveyard"),{plugins:At}=re,si=At.has("CommentsRepository")&&At.get("CommentsRepository"),Ei=At.has("TrackChanges")&&At.get("TrackChanges"),Si={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};Je.forEach(Ti=>{Si.roots[Ti.rootName]={content:JSON.stringify(Array.from(Ti.getChildren())),attributes:JSON.stringify(Array.from(Ti.getAttributes())),isLoaded:Ti._isLoaded}});for(const Ti of re.model.markers)Ti._affectsData&&(Si.markers[Ti.name]={rangeJSON:Ti.getRange().toJSON(),usingOperation:Ti._managedUsingOperations,affectsData:Ti._affectsData});return si&&(Si.commentThreads=JSON.stringify(si.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),Ei&&(Si.suggestions=JSON.stringify(Ei.getSuggestions({toJSON:!0,skipNotAttached:!0}))),Si}_getEditables(){const re={};for(const Je of this.editor.model.document.getRootNames()){const At=this.editor.ui.getEditableElement(Je);At&&(re[Je]=At)}return re}_isErrorComingFromThisItem(re){return Ui(this._editor,re.context,this._excludedProps)}_cloneEditorConfiguration(re){return oo(re,(Je,At)=>L(Je)||At==="context"?Je:void 0)}}class cr{constructor(re){this.editor=re,this._data=re.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",re=>{re.stop(),this.editor.model.enqueueChange({isUndoable:!1},Je=>{this._restoreCollaborationData(),this._restoreEditorData(Je)}),this.editor.data.fire("ready")},{priority:999})}_createNode(re,Je){if("name"in Je){const At=re.createElement(Je.name,Je.attributes);if(Je.children)for(const si of Je.children)At._appendChild(this._createNode(re,si));return At}return re.createText(Je.data,Je.attributes)}_restoreEditorData(re){const Je=this.editor;Object.entries(this._data.roots).forEach(([At,{content:si,attributes:Ei}])=>{const Si=JSON.parse(si),Ti=JSON.parse(Ei),gn=Je.model.document.getRoot(At);for(const[dn,yo]of Ti)re.setAttribute(dn,yo,gn);for(const dn of Si){const yo=this._createNode(re,dn);re.insert(yo,gn,"end")}}),Object.entries(this._data.markers).forEach(([At,si])=>{const{document:Ei}=Je.model,{rangeJSON:{start:Si,end:Ti},...gn}=si,dn=Ei.getRoot(Si.root),yo=re.createPositionFromPath(dn,Si.path,Si.stickiness),ho=re.createPositionFromPath(dn,Ti.path,Ti.stickiness),Tn=re.createRange(yo,ho);re.addMarker(At,{range:Tn,...gn})})}_restoreCollaborationData(){const re=JSON.parse(this._data.commentThreads),Je=JSON.parse(this._data.suggestions);re.forEach(At=>{const si=this.editor.config.get("collaboration.channelId"),Ei=this.editor.plugins.get("CommentsRepository");Ei.hasCommentThread(At.threadId)&&Ei.getCommentThread(At.threadId).remove(),Ei.addCommentThread({channelId:si,...At})}),Je.forEach(At=>{const si=this.editor.plugins.get("TrackChangesEditing");si.hasSuggestion(At.id)?si.getSuggestion(At.id).attributes=At.attributes:si.addSuggestionData(At)})}}const ir=Symbol("MainQueueId");class dr extends $n{constructor(re,Je={}){super(Je),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Sr,this._watchdogConfig=Je,this._creator=At=>re.create(At),this._destructor=At=>At.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(re){this._creator=re}setDestructor(re){this._destructor=re}get context(){return this._context}create(re={}){return this._actionQueues.enqueue(ir,()=>(this._contextConfig=re,this._create()))}getItem(re){return this._getWatchdog(re)._item}getItemState(re){return this._getWatchdog(re).state}add(re){const Je=fr(re);return Promise.all(Je.map(At=>this._actionQueues.enqueue(At.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let si;if(this._watchdogs.has(At.id))throw new Error(`Item with the given id is already added: '${At.id}'.`);if(At.type==="editor")return si=new bo(null,this._watchdogConfig),si.setCreator(At.creator),si._setExcludedProperties(this._contextProps),At.destructor&&si.setDestructor(At.destructor),this._watchdogs.set(At.id,si),si.on("error",(Ei,{error:Si,causesRestart:Ti})=>{this._fire("itemError",{itemId:At.id,error:Si}),Ti&&this._actionQueues.enqueue(At.id,()=>new Promise(gn=>{const dn=()=>{si.off("restart",dn),this._fire("itemRestart",{itemId:At.id}),gn()};si.on("restart",dn)}))}),si.create(At.sourceElementOrData,At.config,this._context);throw new Error(`Not supported item type: '${At.type}'.`)})))}remove(re){const Je=fr(re);return Promise.all(Je.map(At=>this._actionQueues.enqueue(At,()=>{const si=this._getWatchdog(At);return this._watchdogs.delete(At),si.destroy()})))}destroy(){return this._actionQueues.enqueue(ir,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ir,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(re=>{console.error("An error happened during destroying the context or items.",re)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(re=>(this._context=re,this._contextProps=Xi(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Je=>(Je._setExcludedProperties(this._contextProps),Je.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const re=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Je=>Je.destroy())).then(()=>this._destructor(re))})}_getWatchdog(re){const Je=this._watchdogs.get(re);if(!Je)throw new Error(`Item with the given id was not registered: ${re}.`);return Je}_isErrorComingFromThisItem(re){for(const Je of this._watchdogs.values())if(Je._isErrorComingFromThisItem(re))return!1;return Ui(this._context,re.context)}}class Sr{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(re){this._onEmptyCallbacks.push(re)}enqueue(re,Je){const At=re===ir;this._activeActions++,this._queues.get(re)||this._queues.set(re,Promise.resolve());const si=(At?Promise.all(this._queues.values()):Promise.all([this._queues.get(ir),this._queues.get(re)])).then(Je),Ei=si.catch(()=>{});return this._queues.set(re,Ei),si.finally(()=>{this._activeActions--,this._queues.get(re)===Ei&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Si=>Si())})}}function fr(se){return Array.isArray(se)?se:[se]}const Uo=Hi().createContext("contextWatchdog");class ur extends Hi().Component{constructor(re,Je){super(re,Je),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(re){return this._shouldComponentUpdate(re)}async _shouldComponentUpdate(re){return re.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(re.config)),re.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(re.config),!0):this.props.children!==re.children}render(){return Hi().createElement(Uo.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(re){this.contextWatchdog=new dr(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Je,At)=>{this.props.onError(At.error,{phase:"runtime",willContextRestart:At.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(re).catch(Je=>{this.props.onError(Je,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}ur.defaultProps={isLayoutReady:!0,onError:(se,re)=>console.error(se,re)},ur.propTypes={id:Zi().string,isLayoutReady:Zi().bool,context:Zi().func,watchdogConfig:Zi().object,config:Zi().object,onReady:Zi().func,onError:Zi().func};const hr="Lock from React integration (@ckeditor/ckeditor5-react)";class Bo extends Hi().Component{constructor(re){super(re),this.editorDestructionInProgress=null,this.domContainer=Hi().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Je}=window;if(Je){const[At]=Je.split(".").map(Number);At<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(re){return!!this.editor&&(re.id!==this.props.id||re.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(re)&&this.editor.data.set(re.data),"disabled"in re&&(re.disabled?this.editor.enableReadOnlyMode(hr):this.editor.disableReadOnlyMode(hr)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return Hi().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof dr?this.watchdog=new mr(this.context):this.watchdog=new Bo._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((re,Je)=>this._createEditor(re,Je)),this.watchdog.on("error",(re,{error:Je,causesRestart:At})=>{(this.props.onError||console.error)(Je,{phase:"runtime",willEditorRestart:At})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(re=>{(this.props.onError||console.error)(re,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(re,Je){return this.props.editor.create(re,Je).then(At=>{"disabled"in this.props&&this.props.disabled&&At.enableReadOnlyMode(hr);const si=At.model.document,Ei=At.editing.view.document;return si.on("change:data",Si=>{this.props.onChange&&this.props.onChange(Si,At)}),Ei.on("focus",Si=>{this.props.onFocus&&this.props.onFocus(Si,At)}),Ei.on("blur",Si=>{this.props.onBlur&&this.props.onBlur(Si,At)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(At)}),At})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(re=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,re()):this.instance?(await this.instance.destroy(),this.instance=null,re()):void re())})}_shouldUpdateEditor(re){return this.props.data!==re.data&&this.editor.data.get()!==re.data}_getConfig(){const re=this.props.config||{};return this.props.data&&re.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...re,initialData:re.initialData||this.props.data||""}}}Bo.contextType=Uo,Bo.propTypes={editor:Zi().func.isRequired,data:Zi().string,config:Zi().object,disableWatchdog:Zi().bool,watchdogConfig:Zi().object,onChange:Zi().func,onReady:Zi().func,onFocus:Zi().func,onBlur:Zi().func,onError:Zi().func,disabled:Zi().bool,id:Zi().any},Bo._EditorWatchdog=bo;class mr{constructor(re){this._contextWatchdog=re,this._id=function(){const Je=4294967296*Math.random()>>>0,At=4294967296*Math.random()>>>0,si=4294967296*Math.random()>>>0,Ei=4294967296*Math.random()>>>0;return"e"+nn[Je>>0&255]+nn[Je>>8&255]+nn[Je>>16&255]+nn[Je>>24&255]+nn[At>>0&255]+nn[At>>8&255]+nn[At>>16&255]+nn[At>>24&255]+nn[si>>0&255]+nn[si>>8&255]+nn[si>>16&255]+nn[si>>24&255]+nn[Ei>>0&255]+nn[Ei>>8&255]+nn[Ei>>16&255]+nn[Ei>>24&255]}()}setCreator(re){this._creator=re}create(re,Je){return this._contextWatchdog.add({sourceElementOrData:re,config:Je,creator:this._creator,id:this._id,type:"editor"})}on(re,Je){this._contextWatchdog.on("itemError",(At,{itemId:si,error:Ei})=>{si===this._id&&Je(null,{error:Ei,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const Zo="Lock from React integration (@ckeditor/ckeditor5-react)",br=se=>{let re=null;const Je=(0,Ci.useRef)(null),At=(0,Ci.useContext)(Uo),[si,Ei]=(0,Ci.useState)(null),[Si,Ti]=(0,Ci.useState)(se.data),[gn,dn]=(0,Ci.useState)(se.rootsAttributes||{}),[yo,ho]=(0,Ci.useState)([]),Tn=(0,Ci.useRef)(!0),Eo=(0,Ci.useRef)(null),Lo=Hi().createElement("div",{ref:Eo});(0,Ci.useEffect)(()=>((async()=>(await Je.current,se.isLayoutReady!==!1&&So()))(),()=>{ro().then(()=>{Je.current=null})}),[se.isLayoutReady]),(0,Ci.useEffect)(()=>{si&&(se.disabled?si.enableReadOnlyMode(Zo):si.disableReadOnlyMode(Zo))},[se.disabled]),(0,Ci.useEffect)(()=>{const tn=Eo.current;if(si&&!Je.current){const xn=si.getFullData();Ti({...xn}),dn({...si.getRootsAttributes()}),ho([...Object.keys(xn).map(_n=>Dn(si,_n))]),tn&&tn.appendChild(si.ui.view.toolbar.element)}return()=>{tn&&tn.firstChild&&tn.removeChild(tn.firstChild)}},[si&&si.id]);const wo=()=>{const tn=se.config||{};return se.data&&tn.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...tn,rootsAttributes:gn}},Dn=(tn,xn)=>Hi().createElement("div",{id:xn,key:xn,ref:_n=>{if(_n){const zn=tn.ui.view.createEditable(xn,_n);tn.ui.addEditable(zn),tn.editing.view.forceRender()}}}),Qn=(tn,xn)=>se.editor.create(tn,xn).then(_n=>{se.disabled&&se.disabled&&_n.enableReadOnlyMode(Zo);const zn=_n.model.document,jo=_n.editing.view.document;return zn.on("change:data",Io=>((ko,Vo)=>{const mo=ko.model.document,Un={},lo={};mo.differ.getChanges().forEach(En=>{let qn;if(qn=En.type=="insert"||En.type=="remove"?En.position.root:En.range.root,!qn.isAttached())return;const{rootName:Do}=qn;Un[Do]=ko.getData({rootName:Do})}),mo.differ.getChangedRoots().forEach(En=>{if(En.state)return void(Un[En.name]!==void 0&&delete Un[En.name]);const qn=En.name;lo[qn]=ko.getRootAttributes(qn)}),Object.keys(Un).length&&Ti(En=>({...En,...Un})),Object.keys(lo).length&&dn(En=>({...En,...lo})),se.onChange&&se.onChange(Vo,ko)})(_n,Io)),_n.on("addRoot",(Io,ko)=>((Vo,mo,Un)=>{const lo=Un.rootName,En=Dn(Vo,lo);Ti(qn=>({...qn,[lo]:Vo.getData({rootName:lo})})),dn(qn=>({...qn,[lo]:Vo.getRootAttributes(lo)})),ho(qn=>[...qn,En])})(_n,0,ko)),_n.on("detachRoot",(Io,ko)=>((Vo,mo,Un)=>{const lo=Un.rootName;ho(En=>En.filter(qn=>qn.props.id!==lo)),Ti(En=>{const{[lo]:qn,...Do}=En;return{...Do}}),dn(En=>{const{[lo]:qn,...Do}=En;return{...Do}}),Vo.detachEditable(Un)})(_n,0,ko)),jo.on("focus",Io=>{se.onFocus&&se.onFocus(Io,_n)}),jo.on("blur",Io=>{se.onBlur&&se.onBlur(Io,_n)}),Ei(_n),se.onReady&&se.onReady(_n),_n}),ro=async()=>{Ei(null),Ti({}),dn({}),ho([]),Je.current=new Promise(tn=>{setTimeout(async()=>re?(await re.destroy(),re=null,tn()):si?(await si.destroy(),tn()):void tn())})},So=async()=>{se.disableWatchdog?await Qn(se.data,wo()):re||(re=At instanceof dr?new mr(At):new bo(se.editor,se.watchdogConfig),re.setCreator((tn,xn)=>Qn(tn,xn)),re.on("error",(tn,{error:xn,causesRestart:_n})=>{(se.onError||console.error)(xn,{phase:"runtime",willEditorRestart:_n})}),await re.create(Si,wo()).catch(tn=>{(se.onError||console.error)(tn,{phase:"initialization",willEditorRestart:!1})}))};(0,Ci.useEffect)(()=>{if(si&&Tn.current){Tn.current=!1;const tn=Object.keys(Si),xn=Object.keys(gn);if(!tn.every(mo=>xn.includes(mo)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const _n=si.getFullData(),zn=si.getRootsAttributes(),{addedKeys:jo,removedKeys:Io}=Oo(_n,Si||{}),ko=tn.some(mo=>_n[mo]!==void 0&&JSON.stringify(_n[mo])!==JSON.stringify(Si[mo])),Vo=xn.filter(mo=>JSON.stringify(zn[mo])!==JSON.stringify(gn[mo]));si.model.change(mo=>{wr(jo),kr(Io),ko&&_r(),Vo.length&&Jo(mo,Vo)})}},[Si,gn]);const Oo=(tn,xn)=>{const _n=Object.keys(tn),zn=Object.keys(xn);return{addedKeys:zn.filter(jo=>!_n.includes(jo)),removedKeys:_n.filter(jo=>!zn.includes(jo))}},wr=tn=>{tn.forEach(xn=>{si.addRoot(xn,{data:Si[xn]||"",attributes:gn?.[xn]||{},isUndoable:!0})})},kr=tn=>{tn.forEach(xn=>{si.detachRoot(xn,!0)})},_r=()=>{si.data.set(Si,{suppressErrorInCollaboration:!0})},Jo=(tn,xn)=>{xn.forEach(_n=>{Object.keys(gn[_n]).forEach(zn=>{si.registerRootAttribute(zn)}),tn.clearAttributes(si.model.document.getRoot(_n)),tn.setAttributes(gn[_n],si.model.document.getRoot(_n))})},fn=(0,Ci.useCallback)(tn=>{Tn.current=!0,Ti(tn)},[Ti]),vr=(0,Ci.useCallback)(tn=>{Tn.current=!0,dn(tn)},[dn]);return{editor:si,editableElements:yo,toolbarElement:Lo,data:Si,setData:fn,attributes:gn,setAttributes:vr}}})(),hn})())},71342:(to,Ki,_i)=>{"use strict";_i.r(Ki),_i.d(Ki,{default:()=>Ho});var un=_i(92132),Bi=_i(21272),sn=_i(54894),Fi=_i(70505),hn=_i(79521),Ci=_i(33544),Hi=_i.n(Ci),pn=_i(63891);const Zi=(0,pn.css)`
  .ck-word-count {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-block: 0.2rem;
    font-size: 0.875rem;
  }

  .ck-editor__main {
    --ck-font-face: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", "Helvetica", Arial, sans-serif;
    color: var(--ck-color-editor-base-text);
    font-family: var(--ck-font-face);

    * {
      font: revert;
      margin: revert;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0.6em;
      font-weight: 400;
    }

    h2 {
      font-size: 1.68em;
      margin-bottom: 0.4em;
      font-weight: 400;
    }

    h3 {
      font-size: 1.36em;
      margin-bottom: 0.2em;
      font-weight: 400;
    }

    h4 {
      font-size: 1.15em;
      margin-bottom: 0.1em;
      font-weight: 400;
    }

    p {
      font-size: 1em;
      line-height: 1.6em;
      margin-bottom: 0.8em;
    }

    figcaption {
      background-color: var(--ck-color-image-caption-background);
      caption-side: bottom;
      color: var(--ck-color-image-caption-text);
      display: table-caption;
      font-size: .75em;
      outline-offset: -1px;
      padding: 0.6em;
      word-break: break-word;
    }

    blockquote {
    }

    .table {
      margin: 0;
    }

    ul.todo-list {
      list-style: none;
      margin: revert;
      color: revert;
      font-family: revert;
      margin-left: 2rem;
    }

    ul,
    ol {
      list-style: initial;
      margin-left: 2rem;
    }

    ol {
      list-style: decimal;
    }

    sub {
      vertical-align: sub
    }

    sup {
      vertical-align: super
    }

    // higher specificity needed
    .ck.ck-content.ck-editor__editable {
      line-height: initial;
      min-height: 12.5rem;
      border-bottom-left-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;

      // so it's more Strapi alike
      &.ck-focused:not(.ck-editor__nested-editable) {
        border: 1px solid rgb(73, 69, 255);
        box-shadow: rgb(73 69 255) 0 0 0 0.125rem;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        transition-property: border-color, box-shadow;
        transition-duration: 0.2s;
      }
    }
  }
`,nn=(0,pn.css)`
`,$n=(0,pn.css)`
  .ck {
    --ck-color-toolbar-background: rgb(24, 24, 38);
    --ck-color-text: rgb(165, 165, 186);
    --ck-color-editor-base-text: rgb(255, 255, 255);
    --ck-color-toolbar-border: rgb(74, 74, 106);
    --ck-color-base-border: rgb(74, 74, 106);
    --ck-color-base-background: rgb(33, 33, 52);
    --ck-color-button-default-background: rgb(33, 33, 52);
    --ck-color-list-button-hover-background: rgb(24, 24, 38);
    --ck-color-button-default-hover-background: rgb(33, 33, 52);
    --ck-color-button-on-background: rgb(33, 33, 52);
    --ck-color-button-on-hover-background: rgb(33, 33, 52);
    --ck-color-button-default-active-background: rgb(33, 33, 52);
  }
  .ck-word-count {
    color: rgb(165, 165, 186)
  }
`,Xi=Gt=>{let St=null;switch(Gt){case"dark":St=$n;break;case"light":St=nn;break}return(0,pn.createGlobalStyle)`
    ${Zi}
    ${St}
  `};(function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help",Aquamarine:"Aquamarine","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Dim grey":"Dim grey","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.",Green:"Green",Grey:"Grey","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert image with file manager":"Insert image with file manager","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert with file manager":"Insert with file manager","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={"./node_modules/color-convert/conversions.js":(d,f,s)=>{const u=s("./node_modules/color-name/index.js"),y={};for(const b of Object.keys(u))y[u[b]]=b;const P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=P;for(const b of Object.keys(P)){if(!("channels"in P[b]))throw new Error("missing channels property: "+b);if(!("labels"in P[b]))throw new Error("missing channel labels property: "+b);if(P[b].labels.length!==P[b].channels)throw new Error("channel and label counts mismatch: "+b);const{channels:_,labels:D}=P[b];delete P[b].channels,delete P[b].labels,Object.defineProperty(P[b],"channels",{value:_}),Object.defineProperty(P[b],"labels",{value:D})}P.rgb.hsl=function(b){const _=b[0]/255,D=b[1]/255,I=b[2]/255,V=Math.min(_,D,I),ye=Math.max(_,D,I),ne=ye-V;let U,$;ye===V?U=0:_===ye?U=(D-I)/ne:D===ye?U=2+(I-_)/ne:I===ye&&(U=4+(_-D)/ne),U=Math.min(60*U,360),U<0&&(U+=360);const he=(V+ye)/2;return $=ye===V?0:he<=.5?ne/(ye+V):ne/(2-ye-V),[U,100*$,100*he]},P.rgb.hsv=function(b){let _,D,I,V,ye;const ne=b[0]/255,U=b[1]/255,$=b[2]/255,he=Math.max(ne,U,$),we=he-Math.min(ne,U,$),g=function(w){return(he-w)/6/we+.5};return we===0?(V=0,ye=0):(ye=we/he,_=g(ne),D=g(U),I=g($),ne===he?V=I-D:U===he?V=.3333333333333333+_-I:$===he&&(V=.6666666666666666+D-_),V<0?V+=1:V>1&&(V-=1)),[360*V,100*ye,100*he]},P.rgb.hwb=function(b){const _=b[0],D=b[1];let I=b[2];const V=P.rgb.hsl(b)[0],ye=1/255*Math.min(_,Math.min(D,I));return I=1-.00392156862745098*Math.max(_,Math.max(D,I)),[V,100*ye,100*I]},P.rgb.cmyk=function(b){const _=b[0]/255,D=b[1]/255,I=b[2]/255,V=Math.min(1-_,1-D,1-I);return[100*((1-_-V)/(1-V)||0),100*((1-D-V)/(1-V)||0),100*((1-I-V)/(1-V)||0),100*V]},P.rgb.keyword=function(b){const _=y[b];if(_)return _;let D,I=1/0;for(const ne of Object.keys(u)){const U=u[ne],$=(ye=U,((V=b)[0]-ye[0])**2+(V[1]-ye[1])**2+(V[2]-ye[2])**2);$<I&&(I=$,D=ne)}var V,ye;return D},P.keyword.rgb=function(b){return u[b]},P.rgb.xyz=function(b){let _=b[0]/255,D=b[1]/255,I=b[2]/255;return _=_>.04045?((_+.055)/1.055)**2.4:_/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,I=I>.04045?((I+.055)/1.055)**2.4:I/12.92,[100*(.4124*_+.3576*D+.1805*I),100*(.2126*_+.7152*D+.0722*I),100*(.0193*_+.1192*D+.9505*I)]},P.rgb.lab=function(b){const _=P.rgb.xyz(b);let D=_[0],I=_[1],V=_[2];return D/=95.047,I/=100,V/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,[116*I-16,500*(D-I),200*(I-V)]},P.hsl.rgb=function(b){const _=b[0]/360,D=b[1]/100,I=b[2]/100;let V,ye,ne;if(D===0)return ne=255*I,[ne,ne,ne];V=I<.5?I*(1+D):I+D-I*D;const U=2*I-V,$=[0,0,0];for(let he=0;he<3;he++)ye=_+.3333333333333333*-(he-1),ye<0&&ye++,ye>1&&ye--,ne=6*ye<1?U+6*(V-U)*ye:2*ye<1?V:3*ye<2?U+(V-U)*(.6666666666666666-ye)*6:U,$[he]=255*ne;return $},P.hsl.hsv=function(b){const _=b[0];let D=b[1]/100,I=b[2]/100,V=D;const ye=Math.max(I,.01);return I*=2,D*=I<=1?I:2-I,V*=ye<=1?ye:2-ye,[_,100*(I===0?2*V/(ye+V):2*D/(I+D)),100*((I+D)/2)]},P.hsv.rgb=function(b){const _=b[0]/60,D=b[1]/100;let I=b[2]/100;const V=Math.floor(_)%6,ye=_-Math.floor(_),ne=255*I*(1-D),U=255*I*(1-D*ye),$=255*I*(1-D*(1-ye));switch(I*=255,V){case 0:return[I,$,ne];case 1:return[U,I,ne];case 2:return[ne,I,$];case 3:return[ne,U,I];case 4:return[$,ne,I];case 5:return[I,ne,U]}},P.hsv.hsl=function(b){const _=b[0],D=b[1]/100,I=b[2]/100,V=Math.max(I,.01);let ye,ne;ne=(2-D)*I;const U=(2-D)*V;return ye=D*V,ye/=U<=1?U:2-U,ye=ye||0,ne/=2,[_,100*ye,100*ne]},P.hwb.rgb=function(b){const _=b[0]/360;let D=b[1]/100,I=b[2]/100;const V=D+I;let ye;V>1&&(D/=V,I/=V);const ne=Math.floor(6*_),U=1-I;ye=6*_-ne,1&ne&&(ye=1-ye);const $=D+ye*(U-D);let he,we,g;switch(ne){default:case 6:case 0:he=U,we=$,g=D;break;case 1:he=$,we=U,g=D;break;case 2:he=D,we=U,g=$;break;case 3:he=D,we=$,g=U;break;case 4:he=$,we=D,g=U;break;case 5:he=U,we=D,g=$}return[255*he,255*we,255*g]},P.cmyk.rgb=function(b){const _=b[0]/100,D=b[1]/100,I=b[2]/100,V=b[3]/100;return[255*(1-Math.min(1,_*(1-V)+V)),255*(1-Math.min(1,D*(1-V)+V)),255*(1-Math.min(1,I*(1-V)+V))]},P.xyz.rgb=function(b){const _=b[0]/100,D=b[1]/100,I=b[2]/100;let V,ye,ne;return V=3.2406*_+-1.5372*D+-.4986*I,ye=-.9689*_+1.8758*D+.0415*I,ne=.0557*_+-.204*D+1.057*I,V=V>.0031308?1.055*V**.4166666666666667-.055:12.92*V,ye=ye>.0031308?1.055*ye**.4166666666666667-.055:12.92*ye,ne=ne>.0031308?1.055*ne**.4166666666666667-.055:12.92*ne,V=Math.min(Math.max(0,V),1),ye=Math.min(Math.max(0,ye),1),ne=Math.min(Math.max(0,ne),1),[255*V,255*ye,255*ne]},P.xyz.lab=function(b){let _=b[0],D=b[1],I=b[2];return _/=95.047,D/=100,I/=108.883,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,[116*D-16,500*(_-D),200*(D-I)]},P.lab.xyz=function(b){let _,D,I;D=(b[0]+16)/116,_=b[1]/500+D,I=D-b[2]/200;const V=D**3,ye=_**3,ne=I**3;return D=V>.008856?V:(D-.13793103448275862)/7.787,_=ye>.008856?ye:(_-.13793103448275862)/7.787,I=ne>.008856?ne:(I-.13793103448275862)/7.787,_*=95.047,D*=100,I*=108.883,[_,D,I]},P.lab.lch=function(b){const _=b[0],D=b[1],I=b[2];let V;return V=360*Math.atan2(I,D)/2/Math.PI,V<0&&(V+=360),[_,Math.sqrt(D*D+I*I),V]},P.lch.lab=function(b){const _=b[0],D=b[1],I=b[2]/360*2*Math.PI;return[_,D*Math.cos(I),D*Math.sin(I)]},P.rgb.ansi16=function(b,_=null){const[D,I,V]=b;let ye=_===null?P.rgb.hsv(b)[2]:_;if(ye=Math.round(ye/50),ye===0)return 30;let ne=30+(Math.round(V/255)<<2|Math.round(I/255)<<1|Math.round(D/255));return ye===2&&(ne+=60),ne},P.hsv.ansi16=function(b){return P.rgb.ansi16(P.hsv.rgb(b),b[2])},P.rgb.ansi256=function(b){const _=b[0],D=b[1],I=b[2];return _===D&&D===I?_<8?16:_>248?231:Math.round((_-8)/247*24)+232:16+36*Math.round(_/255*5)+6*Math.round(D/255*5)+Math.round(I/255*5)},P.ansi16.rgb=function(b){let _=b%10;if(_===0||_===7)return b>50&&(_+=3.5),_=_/10.5*255,[_,_,_];const D=.5*(1+~~(b>50));return[(1&_)*D*255,(_>>1&1)*D*255,(_>>2&1)*D*255]},P.ansi256.rgb=function(b){if(b>=232){const D=10*(b-232)+8;return[D,D,D]}let _;return b-=16,[Math.floor(b/36)/5*255,Math.floor((_=b%36)/6)/5*255,_%6/5*255]},P.rgb.hex=function(b){const _=(((255&Math.round(b[0]))<<16)+((255&Math.round(b[1]))<<8)+(255&Math.round(b[2]))).toString(16).toUpperCase();return"000000".substring(_.length)+_},P.hex.rgb=function(b){const _=b.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_)return[0,0,0];let D=_[0];_[0].length===3&&(D=D.split("").map(V=>V+V).join(""));const I=parseInt(D,16);return[I>>16&255,I>>8&255,255&I]},P.rgb.hcg=function(b){const _=b[0]/255,D=b[1]/255,I=b[2]/255,V=Math.max(Math.max(_,D),I),ye=Math.min(Math.min(_,D),I),ne=V-ye;let U,$;return U=ne<1?ye/(1-ne):0,$=ne<=0?0:V===_?(D-I)/ne%6:V===D?2+(I-_)/ne:4+(_-D)/ne,$/=6,$%=1,[360*$,100*ne,100*U]},P.hsl.hcg=function(b){const _=b[1]/100,D=b[2]/100,I=D<.5?2*_*D:2*_*(1-D);let V=0;return I<1&&(V=(D-.5*I)/(1-I)),[b[0],100*I,100*V]},P.hsv.hcg=function(b){const _=b[1]/100,D=b[2]/100,I=_*D;let V=0;return I<1&&(V=(D-I)/(1-I)),[b[0],100*I,100*V]},P.hcg.rgb=function(b){const _=b[0]/360,D=b[1]/100,I=b[2]/100;if(D===0)return[255*I,255*I,255*I];const V=[0,0,0],ye=_%1*6,ne=ye%1,U=1-ne;let $=0;switch(Math.floor(ye)){case 0:V[0]=1,V[1]=ne,V[2]=0;break;case 1:V[0]=U,V[1]=1,V[2]=0;break;case 2:V[0]=0,V[1]=1,V[2]=ne;break;case 3:V[0]=0,V[1]=U,V[2]=1;break;case 4:V[0]=ne,V[1]=0,V[2]=1;break;default:V[0]=1,V[1]=0,V[2]=U}return $=(1-D)*I,[255*(D*V[0]+$),255*(D*V[1]+$),255*(D*V[2]+$)]},P.hcg.hsv=function(b){const _=b[1]/100,D=_+b[2]/100*(1-_);let I=0;return D>0&&(I=_/D),[b[0],100*I,100*D]},P.hcg.hsl=function(b){const _=b[1]/100,D=b[2]/100*(1-_)+.5*_;let I=0;return D>0&&D<.5?I=_/(2*D):D>=.5&&D<1&&(I=_/(2*(1-D))),[b[0],100*I,100*D]},P.hcg.hwb=function(b){const _=b[1]/100,D=_+b[2]/100*(1-_);return[b[0],100*(D-_),100*(1-D)]},P.hwb.hcg=function(b){const _=b[1]/100,D=1-b[2]/100,I=D-_;let V=0;return I<1&&(V=(D-I)/(1-I)),[b[0],100*I,100*V]},P.apple.rgb=function(b){return[b[0]/65535*255,b[1]/65535*255,b[2]/65535*255]},P.rgb.apple=function(b){return[b[0]/255*65535,b[1]/255*65535,b[2]/255*65535]},P.gray.rgb=function(b){return[b[0]/100*255,b[0]/100*255,b[0]/100*255]},P.gray.hsl=function(b){return[0,0,b[0]]},P.gray.hsv=P.gray.hsl,P.gray.hwb=function(b){return[0,100,b[0]]},P.gray.cmyk=function(b){return[0,0,0,b[0]]},P.gray.lab=function(b){return[b[0],0,0]},P.gray.hex=function(b){const _=255&Math.round(b[0]/100*255),D=((_<<16)+(_<<8)+_).toString(16).toUpperCase();return"000000".substring(D.length)+D},P.rgb.gray=function(b){return[(b[0]+b[1]+b[2])/3/255*100]}},"./node_modules/color-convert/index.js":(d,f,s)=>{const u=s("./node_modules/color-convert/conversions.js"),y=s("./node_modules/color-convert/route.js"),P={};Object.keys(u).forEach(b=>{P[b]={},Object.defineProperty(P[b],"channels",{value:u[b].channels}),Object.defineProperty(P[b],"labels",{value:u[b].labels});const _=y(b);Object.keys(_).forEach(D=>{const I=_[D];P[b][D]=function(V){const ye=function(...ne){const U=ne[0];if(U==null)return U;U.length>1&&(ne=U);const $=V(ne);if(typeof $=="object")for(let he=$.length,we=0;we<he;we++)$[we]=Math.round($[we]);return $};return"conversion"in V&&(ye.conversion=V.conversion),ye}(I),P[b][D].raw=function(V){const ye=function(...ne){const U=ne[0];return U==null?U:(U.length>1&&(ne=U),V(ne))};return"conversion"in V&&(ye.conversion=V.conversion),ye}(I)})}),d.exports=P},"./node_modules/color-convert/route.js":(d,f,s)=>{const u=s("./node_modules/color-convert/conversions.js");function y(_){const D=function(){const V={},ye=Object.keys(u);for(let ne=ye.length,U=0;U<ne;U++)V[ye[U]]={distance:-1,parent:null};return V}(),I=[_];for(D[_].distance=0;I.length;){const V=I.pop(),ye=Object.keys(u[V]);for(let ne=ye.length,U=0;U<ne;U++){const $=ye[U],he=D[$];he.distance===-1&&(he.distance=D[V].distance+1,he.parent=V,I.unshift($))}}return D}function P(_,D){return function(I){return D(_(I))}}function b(_,D){const I=[D[_].parent,_];let V=u[D[_].parent][_],ye=D[_].parent;for(;D[ye].parent;)I.unshift(D[ye].parent),V=P(u[D[ye].parent][ye],V),ye=D[ye].parent;return V.conversion=I,V}d.exports=function(_){const D=y(_),I={},V=Object.keys(D);for(let ye=V.length,ne=0;ne<ye;ne++){const U=V[ne];D[U].parent!==null&&(I[U]=b(U,D))}return I}},"./node_modules/color-name/index.js":d=>{"use strict";d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialog.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialogactions.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/accessibilityhelp.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubar.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenu.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenubutton.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitem.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitembutton.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenupanel.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-textarea{overflow-x:hidden}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);z-index:calc(var(--ck-z-dialog) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const P=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/css-loader/dist/runtime/api.js"),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const P=y},"./node_modules/css-loader/dist/runtime/api.js":d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},"./packages/ckeditor5-core/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{uB:()=>b,ob:()=>U,HY:()=>$,CC:()=>et,KE:()=>_e,mJ:()=>J,fE:()=>D,TS:()=>Ce,k_:()=>y,JF:()=>rt,Pt:()=>Oe,Jl:()=>Z});var u=s("./packages/ckeditor5-utils/src/index.ts");class y extends(0,u.VM)(){constructor(q){super(),this._disableStack=new Set,this.editor=q,this.set("isEnabled",!0)}forceDisabled(q){this._disableStack.add(q),this._disableStack.size==1&&(this.on("set:isEnabled",P,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(q){this._disableStack.delete(q),this._disableStack.size==0&&(this.off("set:isEnabled",P),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function P(xe){xe.return=!1,xe.stop()}class b extends(0,u.VM)(){constructor(q){super(),this.editor=q,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(q,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",Le=>{if(!this.affectsData)return;const He=q.model.document.selection,ot=He.getFirstPosition().root.rootName!="$graveyard"&&q.model.canEditAt(He);(q.isReadOnly||this._isEnabledBasedOnSelection&&!ot)&&(Le.return=!1,Le.stop())},{priority:"highest"}),this.on("execute",Le=>{this.isEnabled||Le.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(q){this._affectsData=q}refresh(){this.isEnabled=!0}forceDisabled(q){this._disableStack.add(q),this._disableStack.size==1&&(this.on("set:isEnabled",_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(q){this._disableStack.delete(q),this._disableStack.size==0&&(this.off("set:isEnabled",_),this.refresh())}execute(...q){}destroy(){this.stopListening()}}function _(xe){xe.return=!1,xe.stop()}class D extends b{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...q){const Le=this._getFirstEnabledCommand();return!!Le&&Le.execute(q)}registerChildCommand(q,Le={}){(0,u.Yy)(this._childCommandsDefinitions,{command:q,priority:Le.priority||"normal"}),q.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const q=this._childCommandsDefinitions.find(({command:Le})=>Le.isEnabled);return q&&q.command}}class I extends(0,u.Mm)(){constructor(q,Le=[],He=[]){super(),this._plugins=new Map,this._context=q,this._availablePlugins=new Map;for(const ot of Le)ot.pluginName&&this._availablePlugins.set(ot.pluginName,ot);this._contextPlugins=new Map;for(const[ot,fe]of He)this._contextPlugins.set(ot,fe),this._contextPlugins.set(fe,ot),ot.pluginName&&this._availablePlugins.set(ot.pluginName,ot)}*[Symbol.iterator](){for(const q of this._plugins)typeof q[0]=="function"&&(yield q)}get(q){const Le=this._plugins.get(q);if(!Le){let He=q;throw typeof q=="function"&&(He=q.pluginName||q.name),new u.Yb("plugincollection-plugin-not-loaded",this._context,{plugin:He})}return Le}has(q){return this._plugins.has(q)}init(q,Le=[],He=[]){const ot=this,fe=this._context;(function Lt(Yt,bt=new Set){Yt.forEach(Xe=>{Ke(Xe)&&(bt.has(Xe)||(bt.add(Xe),Xe.pluginName&&!ot._availablePlugins.has(Xe.pluginName)&&ot._availablePlugins.set(Xe.pluginName,Xe),Xe.requires&&Lt(Xe.requires,bt)))})})(q),Ft(q);const le=[...function Lt(Yt,bt=new Set){return Yt.map(Xe=>Ke(Xe)?Xe:ot._availablePlugins.get(Xe)).reduce((Xe,kt)=>bt.has(kt)?Xe:(bt.add(kt),kt.requires&&(Ft(kt.requires,kt),Lt(kt.requires,bt).forEach(bi=>Xe.add(bi))),Xe.add(kt)),new Set)}(q.filter(Lt=>!ut(Lt,Le)))];(function(Lt,Yt){for(const bt of Yt){if(typeof bt!="function")throw new u.Yb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:bt});const Xe=bt.pluginName;if(!Xe)throw new u.Yb("plugincollection-replace-plugin-missing-name",null,{pluginItem:bt});if(bt.requires&&bt.requires.length)throw new u.Yb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Xe});const kt=ot._availablePlugins.get(Xe);if(!kt)throw new u.Yb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Xe});const bi=Lt.indexOf(kt);if(bi===-1){if(ot._contextPlugins.has(kt))return;throw new u.Yb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Xe})}if(kt.requires&&kt.requires.length)throw new u.Yb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Xe});Lt.splice(bi,1,bt),ot._availablePlugins.set(Xe,bt)}})(le,He);const pe=le.map(Lt=>{let Yt=ot._contextPlugins.get(Lt);return Yt=Yt||new Lt(fe),ot._add(Lt,Yt),Yt});return Wt(pe,"init").then(()=>Wt(pe,"afterInit")).then(()=>pe);function Ke(Lt){return typeof Lt=="function"}function nt(Lt){return Ke(Lt)&&!!Lt.isContextPlugin}function ut(Lt,Yt){return Yt.some(bt=>bt===Lt||wt(Lt)===bt||wt(bt)===Lt)}function wt(Lt){return Ke(Lt)?Lt.pluginName||Lt.name:Lt}function Ft(Lt,Yt=null){Lt.map(bt=>Ke(bt)?bt:ot._availablePlugins.get(bt)||bt).forEach(bt=>{(function(Xe,kt){if(!Ke(Xe))throw kt?new u.Yb("plugincollection-soft-required",fe,{missingPlugin:Xe,requiredBy:wt(kt)}):new u.Yb("plugincollection-plugin-not-found",fe,{plugin:Xe})})(bt,Yt),function(Xe,kt){if(nt(kt)&&!nt(Xe))throw new u.Yb("plugincollection-context-required",fe,{plugin:wt(Xe),requiredBy:wt(kt)})}(bt,Yt),function(Xe,kt){if(kt&&ut(Xe,Le))throw new u.Yb("plugincollection-required",fe,{plugin:wt(Xe),requiredBy:wt(kt)})}(bt,Yt)})}function Wt(Lt,Yt){return Lt.reduce((bt,Xe)=>Xe[Yt]?ot._contextPlugins.has(Xe)?bt:bt.then(Xe[Yt].bind(Xe)):bt,Promise.resolve())}}destroy(){const q=[];for(const[,Le]of this)typeof Le.destroy!="function"||this._contextPlugins.has(Le)||q.push(Le.destroy());return Promise.all(q)}_add(q,Le){this._plugins.set(q,Le);const He=q.pluginName;if(He){if(this._plugins.has(He))throw new u.Yb("plugincollection-plugin-name-conflict",null,{pluginName:He,plugin1:this._plugins.get(He).constructor,plugin2:q});this._plugins.set(He,Le)}}}var V=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;class U{constructor(q){this._contextOwner=null;const Le=q||{},{translations:He}=Le,ot=((pe,Ke)=>{var nt={};for(var ut in pe)ye.call(pe,ut)&&Ke.indexOf(ut)<0&&(nt[ut]=pe[ut]);if(pe!=null&&V)for(var ut of V(pe))Ke.indexOf(ut)<0&&ne.call(pe,ut)&&(nt[ut]=pe[ut]);return nt})(Le,["translations"]);this.config=new u.TS(ot,this.constructor.defaultConfig);const fe=this.constructor.builtinPlugins;this.config.define("plugins",fe),this.plugins=new I(this,fe);const le=this.config.get("language")||{};this.locale=new u.hT({uiLanguage:typeof le=="string"?le:le.ui,contentLanguage:this.config.get("language.content"),translations:He}),this.t=this.locale.t,this.editors=new u.pM}initPlugins(){const q=this.config.get("plugins")||[],Le=this.config.get("substitutePlugins")||[];for(const He of q.concat(Le)){if(typeof He!="function")throw new u.Yb("context-initplugins-constructor-only",null,{Plugin:He});if(He.isContextPlugin!==!0)throw new u.Yb("context-initplugins-invalid-plugin",null,{Plugin:He})}return this.plugins.init(q,[],Le)}destroy(){return Promise.all(Array.from(this.editors,q=>q.destroy())).then(()=>this.plugins.destroy())}_addEditor(q,Le){if(this._contextOwner)throw new u.Yb("context-addeditor-private-context");this.editors.add(q),Le&&(this._contextOwner=q)}_removeEditor(q){return this.editors.has(q)&&this.editors.remove(q),this._contextOwner===q?this.destroy():Promise.resolve()}_getEditorConfig(){const q={};for(const Le of this.config.names())["plugins","removePlugins","extraPlugins"].includes(Le)||(q[Le]=this.config.get(Le));return q}static create(q){return new Promise(Le=>{const He=new this(q);Le(He.initPlugins().then(()=>He))})}}class $ extends(0,u.VM)(){constructor(q){super(),this.context=q}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class he extends u.EP{constructor(q){super(),this.editor=q}set(q,Le,He={}){if(typeof Le=="string"){const ot=Le;Le=(fe,le)=>{this.editor.execute(ot),le()}}super.set(q,Le,He)}}var we=s("./packages/ckeditor5-engine/src/index.ts");class g{constructor(){this._commands=new Map}add(q,Le){this._commands.set(q,Le)}get(q){return this._commands.get(q)}execute(q,...Le){const He=this.get(q);if(!He)throw new u.Yb("commandcollection-command-not-found",this,{commandName:q});return He.execute(...Le)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const q of this.commands())q.destroy()}}var w=Object.defineProperty,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,L=(xe,q,Le)=>q in xe?w(xe,q,{enumerable:!0,configurable:!0,writable:!0,value:Le}):xe[q]=Le;const O="contentEditing",oe="common";class W{constructor(q){this.keystrokeInfos=new Map,this._editor=q;const Le=q.config.get("menuBar.isVisible"),He=q.locale.t;this.addKeystrokeInfoCategory({id:O,label:He("Content editing keystrokes"),description:He("These keyboard shortcuts allow for quick access to content editing features.")});const ot=[{label:He("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:He("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:He("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:He("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:He("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:He("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];Le&&ot.push({label:He("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:He("User interface and content navigation keystrokes"),description:He("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:ot}]})}addKeystrokeInfoCategory({id:q,label:Le,description:He,groups:ot}){this.keystrokeInfos.set(q,{id:q,label:Le,description:He,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:q,id:oe}),ot&&ot.forEach(fe=>{this.addKeystrokeInfoGroup(((le,pe)=>{for(var Ke in pe||(pe={}))v.call(pe,Ke)&&L(le,Ke,pe[Ke]);if(p)for(var Ke of p(pe))T.call(pe,Ke)&&L(le,Ke,pe[Ke]);return le})({categoryId:q},fe))})}addKeystrokeInfoGroup({categoryId:q=O,id:Le,label:He,keystrokes:ot}){const fe=this.keystrokeInfos.get(q);if(!fe)throw new u.Yb("accessibility-unknown-keystroke-info-category",this._editor,{groupId:Le,categoryId:q});fe.groups.set(Le,{id:Le,label:He,keystrokes:ot||[]})}addKeystrokeInfos({categoryId:q=O,groupId:Le=oe,keystrokes:He}){if(!this.keystrokeInfos.has(q))throw new u.Yb("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:q,keystrokes:He});const ot=this.keystrokeInfos.get(q);if(!ot.groups.has(Le))throw new u.Yb("accessibility-unknown-keystroke-info-group",this._editor,{groupId:Le,categoryId:q,keystrokes:He});ot.groups.get(Le).keystrokes.push(...He)}}var te=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,de=(xe,q)=>{var Le={};for(var He in xe)S.call(xe,He)&&q.indexOf(He)<0&&(Le[He]=xe[He]);if(xe!=null&&te)for(var He of te(xe))q.indexOf(He)<0&&X.call(xe,He)&&(Le[He]=xe[He]);return Le};class _e extends(0,u.VM)(){constructor(q={}){super();const Le=this.constructor,He=Le.defaultConfig||{},{translations:ot}=He,fe=de(He,["translations"]),le=q,{translations:pe=ot}=le,Ke=de(le,["translations"]),nt=q.language||fe.language;this._context=q.context||new U({language:nt,translations:pe}),this._context._addEditor(this,!q.context);const ut=Array.from(Le.builtinPlugins||[]);this.config=new u.TS(Ke,fe),this.config.define("plugins",ut),this.config.define(this._context._getEditorConfig()),this.plugins=new I(this,ut,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new g,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new we.Kx,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const wt=new we.tG;this.data=new we.P3(this.model,wt),this.editing=new we.L_(this.model,wt),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new we.dY([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new he(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new W(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(q){throw new u.Yb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(q){if(typeof q!="string"&&typeof q!="symbol")throw new u.Yb("editor-read-only-lock-id-invalid",null,{lockId:q});this._readOnlyLocks.has(q)||(this._readOnlyLocks.add(q),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(q){if(typeof q!="string"&&typeof q!="symbol")throw new u.Yb("editor-read-only-lock-id-invalid",null,{lockId:q});this._readOnlyLocks.has(q)&&(this._readOnlyLocks.delete(q),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(q){this.data.set(q)}getData(q){return this.data.get(q)}initPlugins(){const q=this.config,Le=q.get("plugins"),He=q.get("removePlugins")||[],ot=q.get("extraPlugins")||[],fe=q.get("substitutePlugins")||[];return this.plugins.init(Le.concat(ot),He,fe)}destroy(){let q=Promise.resolve();return this.state=="initializing"&&(q=new Promise(Le=>this.once("ready",Le))),q.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(q,...Le){try{return this.commands.execute(q,...Le)}catch(He){u.Yb.rethrowUnexpectedError(He,this)}}focus(){this.editing.view.focus()}static create(...q){throw new Error("This is an abstract method.")}}var Ae=s("./node_modules/lodash-es/isFunction.js");function rt(xe){if(!(0,Ae.A)(xe.updateSourceElement))throw new u.Yb("attachtoform-missing-elementapi-interface",xe);const q=xe.sourceElement;if(function(Le){return!!Le&&Le.tagName.toLowerCase()==="textarea"}(q)&&q.form){let Le;const He=q.form,ot=()=>xe.updateSourceElement();(0,Ae.A)(He.submit)&&(Le=He.submit,He.submit=()=>{ot(),Le.apply(He)}),He.addEventListener("submit",ot),xe.on("destroy",()=>{He.removeEventListener("submit",ot),Le&&(He.submit=Le)})}}function et(xe){return xe}function J(xe){return class extends xe{updateSourceElement(q){if(!this.sourceElement)throw new u.Yb("editor-missing-sourceelement",this);const Le=this.config.get("updateSourceElementOnDestroy"),He=this.sourceElement instanceof HTMLTextAreaElement;if(!Le&&!He)return void(0,u.C_)(this.sourceElement,"");const ot=typeof q=="string"?q:this.data.get();(0,u.C_)(this.sourceElement,ot)}}}function Z(xe,q){if(q.ckeditorInstance)throw new u.Yb("editor-source-element-already-used",xe);q.ckeditorInstance=xe,xe.once("destroy",()=>{delete q.ckeditorInstance})}J.updateSourceElement=J(Object).prototype.updateSourceElement;class Ce extends ${static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new u.pM({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(q){if(typeof q!="string")throw new u.Yb("pendingactions-add-invalid-message",this);const Le=new((0,u.VM)());return Le.set("message",q),this._actions.add(Le),this.hasAny=!0,Le}remove(q){this._actions.remove(q),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Oe={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{Zq:()=>Ye,ML:()=>Nn,cJ:()=>Yi,Re:()=>ca,dY:()=>vs,P3:()=>_s,_v:()=>$t,kB:()=>qo,oi:()=>kn,P$:()=>cn,FY:()=>No,$A:()=>ao,zN:()=>Ni,L_:()=>_r,gK:()=>wn,Hg:()=>Qi,vp:()=>It,BZ:()=>Rr,q6:()=>Qo,ZG:()=>co,m8:()=>Co,Oo:()=>Ai,m4:()=>xo,PN:()=>W,GY:()=>Kn,Kx:()=>la,q$:()=>da,hW:()=>yn,fS:()=>Xn,nu:()=>io,cr:()=>Cs,yX:()=>Xt,Q6:()=>Se,EZ:()=>Ao,A4:()=>ni,gf:()=>$o,at:()=>Mo,_A:()=>Mn,DG:()=>fe,tG:()=>le,Yi:()=>ki,EY:()=>en,Qo:()=>Pn,rU:()=>no,Wq:()=>Ws,UJ:()=>Ye,xQ:()=>wt,Vg:()=>Ze,f5:()=>mi,OQ:()=>Wt,m2:()=>nt,Vt:()=>Vt,aZ:()=>Pi,Un:()=>Yt,HQ:()=>L,u$:()=>bt,cw:()=>ei,D0:()=>Fe,v7:()=>it,vt:()=>Zn,mC:()=>Yn,Kc:()=>ye,JT:()=>V,qE:()=>E,rC:()=>A,QS:()=>k,SH:()=>Ft,gz:()=>R,M1:()=>ge,YU:()=>U,s5:()=>r,_o:()=>pr,Vq:()=>Kr,ew:()=>ms,fp:()=>ps,E:()=>o,Cd:()=>fs,mv:()=>m,$0:()=>$,Zu:()=>ne,_j:()=>Lr});var u=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),y=s.n(u),P=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),b={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(P.A,b),P.A.locals;var _=s("./packages/ckeditor5-utils/src/index.ts");const D=new WeakMap;let I=!1;function V({view:l,element:e,text:t,isDirectHost:n=!0,keepOnFocus:a=!1}){const h=l.document;function x(H){D.get(h).set(e,{text:H,isDirectHost:n,keepOnFocus:a,hostElement:n?e:null}),l.change(ae=>he(h,ae))}D.has(h)||(D.set(h,new Map),h.registerPostFixer(H=>he(h,H)),h.on("change:isComposing",()=>{l.change(H=>he(h,H))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(H,ae,be)=>{x(be)}),e.placeholder?x(e.placeholder):t&&x(t),t&&function(){I||(0,_.FF)("enableplaceholder-deprecated-text-option"),I=!0}()}function ye(l,e){const t=e.document;D.has(t)&&l.change(n=>{const a=D.get(t),h=a.get(e);n.removeAttribute("data-placeholder",h.hostElement),U(n,h.hostElement),a.delete(e)})}function ne(l,e){return!e.hasClass("ck-placeholder")&&(l.addClass("ck-placeholder",e),!0)}function U(l,e){return!!e.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",e),!0)}function $(l,e){if(!l.isAttached()||Array.from(l.getChildren()).some(a=>!a.is("uiElement")))return!1;const t=l.document,n=t.selection.anchor;return(!t.isComposing||!n||n.parent!==l)&&(!!e||!t.isFocused||!!n&&n.parent!==l)}function he(l,e){const t=D.get(l),n=[];let a=!1;for(const[h,x]of t)x.isDirectHost&&(n.push(h),we(e,h,x)&&(a=!0));for(const[h,x]of t){if(x.isDirectHost)continue;const H=g(h);H&&(n.includes(H)||(x.hostElement=H,we(e,h,x)&&(a=!0)))}return a}function we(l,e,t){const{text:n,isDirectHost:a,hostElement:h}=t;let x=!1;return h.getAttribute("data-placeholder")!==n&&(l.setAttribute("data-placeholder",n,h),x=!0),(a||e.childCount==1)&&$(h,t.keepOnFocus)?ne(l,h)&&(x=!0):U(l,h)&&(x=!0),x}function g(l){if(l.childCount){const e=l.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class w{is(){throw new Error("is() method is abstract")}}var p=s("./node_modules/lodash-es/_baseClone.js");const v=function(l){return(0,p.A)(l,4)};s("./packages/ckeditor5-utils/src/version.ts");class T extends(0,_.Mm)(w){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new _.Yb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;n[h]==a[h]&&n[h];)h++;return h===0?null:n[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=(0,_.ww)(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=v(this);return delete e.parent,e}}T.prototype.is=function(l){return l==="node"||l==="view:node"};class L extends T{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof L&&(this===e||this.data===e.data)}_clone(){return new L(this.document,this.data)}}L.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class O extends w{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new _.Yb("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new _.Yb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}O.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};var oe=s("./node_modules/lodash-es/isPlainObject.js");class W{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const a=te(t,n);if(a)return{element:t,pattern:n,match:a}}return null}matchAll(...e){const t=[];for(const n of e)for(const a of this._patterns){const h=te(n,a);h&&t.push({element:n,pattern:a,match:h})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function te(l,e){if(typeof e=="function")return e(l);const t={};return e.name&&(t.name=function(n,a){return n instanceof RegExp?!!a.match(n):n===a}(e.name,l.name),!t.name)||e.attributes&&(t.attributes=function(n,a){const h=new Set(a.getAttributeKeys());return(0,oe.A)(n)?(n.style!==void 0&&(0,_.FF)("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&(0,_.FF)("matcher-pattern-deprecated-attributes-class-key",n)):(h.delete("style"),h.delete("class")),S(n,h,x=>a.getAttribute(x))}(e.attributes,l),!t.attributes)||e.classes&&(t.classes=function(n,a){return S(n,a.getClassNames(),()=>{})}(e.classes,l),!t.classes)||e.styles&&(t.styles=function(n,a){return S(n,a.getStyleNames(!0),h=>a.getStyle(h))}(e.styles,l),!t.styles)?null:t}function S(l,e,t){const n=function(x){return Array.isArray(x)?x.map(H=>(0,oe.A)(H)?(H.key!==void 0&&H.value!==void 0||(0,_.FF)("matcher-pattern-missing-key-or-value",H),[H.key,H.value]):[H,!0]):(0,oe.A)(x)?Object.entries(x):[[x,!0]]}(l),a=Array.from(e),h=[];if(n.forEach(([x,H])=>{a.forEach(ae=>{(function(be,Re){return be===!0||be===Re||be instanceof RegExp&&Re.match(be)})(x,ae)&&function(be,Re,tt){if(be===!0)return!0;const gt=tt(Re);return be===gt||be instanceof RegExp&&!!String(gt).match(be)}(H,ae,t)&&h.push(ae)})}),n.length&&!(h.length<n.length))return h}var X=s("./node_modules/lodash-es/isObject.js"),de=s("./node_modules/lodash-es/_castPath.js");const _e=function(l){var e=l==null?0:l.length;return e?l[e-1]:void 0};var Ae=s("./node_modules/lodash-es/_baseGet.js");const rt=function(l,e,t){var n=-1,a=l.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var h=Array(a);++n<a;)h[n]=l[n+e];return h},et=function(l,e){return e.length<2?l:(0,Ae.A)(l,rt(e,0,-1))};var J=s("./node_modules/lodash-es/_toKey.js");const Z=function(l,e){return e=(0,de.A)(e,l),(l=et(l,e))==null||delete l[(0,J.A)(_e(e))]},Ce=function(l,e){return l==null||Z(l,e)};var Oe=s("./node_modules/lodash-es/get.js"),xe=s("./node_modules/lodash-es/merge.js"),q=s("./node_modules/lodash-es/_assignValue.js"),Le=s("./node_modules/lodash-es/_isIndex.js");const He=function(l,e,t,n){if(!(0,X.A)(l))return l;for(var a=-1,h=(e=(0,de.A)(e,l)).length,x=h-1,H=l;H!=null&&++a<h;){var ae=(0,J.A)(e[a]),be=t;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return l;if(a!=x){var Re=H[ae];(be=n?n(Re,ae,H):void 0)===void 0&&(be=(0,X.A)(Re)?Re:(0,Le.A)(e[a+1])?[]:{})}(0,q.A)(H,ae,be),H=H[ae]}return l},ot=function(l,e,t){return l==null?l:He(l,e,t)};class fe{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(n){let a=null,h=0,x=0,H=null;const ae=new Map;if(n==="")return ae;n.charAt(n.length-1)!=";"&&(n+=";");for(let be=0;be<n.length;be++){const Re=n.charAt(be);if(a===null)switch(Re){case":":H||(H=n.substr(h,be-h),x=be+1);break;case'"':case"'":a=Re;break;case";":{const tt=n.substr(x,be-x);H&&ae.set(H.trim(),tt.trim()),H=null,h=be+1;break}}else Re===a&&(a=null)}return ae}(e);for(const[n,a]of t)this._styleProcessor.toNormalizedForm(n,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if((0,X.A)(e))for(const[n,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=pe(e);Ce(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,X.A)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([t])=>t)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),a=(0,Oe.A)(this._styles,n);a&&!Object.keys(a).length&&this.remove(n)}}class le{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if((0,X.A)(t))Ke(n,pe(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:h,value:x}=a(t);Ke(n,h,x)}else Ke(n,e,t)}getNormalized(e,t){if(!e)return(0,xe.A)({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return(0,Oe.A)(t,n);const a=n(e,t);if(a)return a}return(0,Oe.A)(t,pe(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const h=this.getNormalized(a,e);return h&&typeof h=="object"?Object.keys(h).length:h}),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function pe(l){return l.replace("-",".")}function Ke(l,e,t){let n=t;(0,X.A)(t)&&(n=(0,xe.A)({},(0,Oe.A)(l,e),t)),ot(l,e,n)}class nt extends T{constructor(e,t,n,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(h){const x=(0,_.av)(h);for(const[H,ae]of x)ae===null?x.delete(H):typeof ae!="string"&&x.set(H,String(ae));return x}(n),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");ut(this._classes,h),this._attrs.delete("class")}this._styles=new fe(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof nt))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new W(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(h,x){return typeof x=="string"?[new L(h,x)]:((0,_.xZ)(x)||(x=[x]),Array.from(x).map(H=>typeof H=="string"?new L(h,H):H instanceof O?new L(h,H.data):H))}(this.document,t);for(const h of a)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(e,0,h),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?ut(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,_.$r)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,_.$r)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,_.$r)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function ut(l,e){const t=e.split(/\s+/);l.clear(),t.forEach(n=>l.add(n))}nt.prototype.is=function(l,e){return e?e===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class wt extends nt{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Ft}}function Ft(){const l=[...this.getChildren()],e=l[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of l)if(!t.is("uiElement"))return null;return this.childCount}wt.prototype.is=function(l,e){return e?e===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Wt extends(0,_.VM)(wt){constructor(e,t,n,a){super(e,t,n,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",h=>h&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Wt.prototype.is=function(l,e){return e?e===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const Lt=Symbol("rootName");class Yt extends Wt{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Lt)}set rootName(e){this._setCustomProperty(Lt,e)}set _name(e){this.name=e}}Yt.prototype.is=function(l,e){return e?e===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class bt{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new _.Yb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new _.Yb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Xe._createAt(e.startPosition):this._position=Xe._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(n instanceof L){if(e.isAtEnd)return this._position=Xe._createAfter(n),this._next();a=n.data[e.offset]}else a=n.getChild(e.offset);if(a instanceof nt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Xe(a,0);return this._position=e,this._formatReturnValue("elementStart",a,t,e,1)}if(a instanceof L){if(this.singleCharacters)return e=new Xe(a,0),this._position=e,this._next();let h,x=a.data.length;return a==this._boundaryEndParent?(x=this.boundaries.end.offset,h=new O(a,0,x),e=Xe._createAfter(h)):(h=new O(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",h,t,e,x)}if(typeof a=="string"){let h;this.singleCharacters?h=1:h=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const x=new O(n,e.offset,h);return e.offset+=h,this._position=e,this._formatReturnValue("text",x,t,e,h)}return e=Xe._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(n instanceof L){if(e.isAtStart)return this._position=Xe._createBefore(n),this._previous();a=n.data[e.offset-1]}else a=n.getChild(e.offset-1);if(a instanceof nt)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new Xe(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof L){if(this.singleCharacters)return e=new Xe(a,a.data.length),this._position=e,this._previous();let h,x=a.data.length;if(a==this._boundaryStartParent){const H=this.boundaries.start.offset;h=new O(a,H,a.data.length-H),x=h.data.length,e=Xe._createBefore(h)}else h=new O(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",h,t,e,x)}if(typeof a=="string"){let h;if(this.singleCharacters)h=1;else{const H=n===this._boundaryStartParent?this.boundaries.start.offset:0;h=e.offset-H}e.offset-=h;const x=new O(n,e.offset,h);return this._position=e,this._formatReturnValue("text",x,t,e,h)}return e=Xe._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,a,h){return t instanceof O&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Xe._createAfter(t.textNode):(a=Xe._createAfter(t.textNode),this._position=a)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Xe._createBefore(t.textNode):(a=Xe._createBefore(t.textNode),this._position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:h}}}}class Xe extends w{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Wt);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Xe._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new bt(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const a=(0,_.ww)(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new bt(e)}clone(){return new Xe(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Xe)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new _.Yb("view-createpositionat-offset-required",n)}return new Xe(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Xe(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new _.Yb("view-position-after-root",e,{root:e});return new Xe(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Xe(e.textNode,e.offsetInText);if(!e.parent)throw new _.Yb("view-position-before-root",e,{root:e});return new Xe(e.parent,e.index)}}Xe.prototype.is=function(l){return l==="position"||l==="view:position"};class kt extends w{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new bt({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(bi,{direction:"backward"}),t=this.end.getLastMatchingPosition(bi);return e.parent.is("$text")&&e.isAtStart&&(e=Xe._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Xe._createAfter(t.parent)),new kt(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(bi);if(e.isAfter(this.end)||e.isEqual(this.end))return new kt(e,e);let t=this.end.getLastMatchingPosition(bi,{direction:"backward"});const n=e.nodeAfter,a=t.nodeBefore;return n&&n.is("$text")&&(e=new Xe(n,0)),a&&a.is("$text")&&(t=new Xe(a,a.data.length)),new kt(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new kt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new kt(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new kt(t,n)}return null}getWalker(e={}){return e.boundaries=this,new bt(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new kt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new bt(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new bt(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,a){return new this(new Xe(e,t),new Xe(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Xe._createBefore(e),t)}}function bi(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}kt.prototype.is=function(l){return l==="range"||l==="view:range"};class fi extends(0,_.Mm)(w){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,_.U9)(this.getRanges());if(t!=(0,_.U9)(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let a=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),n.start.isEqual(h.start)&&n.end.isEqual(h.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof fi||t instanceof Di)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof kt)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Xe)this._setRanges([new kt(t)]),this._setFakeOptions(a);else if(t instanceof T){const h=!!a&&!!a.backward;let x;if(n===void 0)throw new _.Yb("view-selection-setto-required-second-parameter",this);x=n=="in"?kt._createIn(t):n=="on"?kt._createOn(t):new kt(Xe._createAt(t,n)),this._setRanges([x],h),this._setFakeOptions(a)}else{if(!(0,_.xZ)(t))throw new _.Yb("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new _.Yb("view-selection-setfocus-no-ranges",this);const n=Xe._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),n.compareWith(a)=="before"?this._addRange(new kt(n,a),!0):this._addRange(new kt(a,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof kt))throw new _.Yb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new _.Yb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new kt(e.start,e.end))}}fi.prototype.is=function(l){return l==="selection"||l==="view:selection"};class Di extends(0,_.Mm)(w){constructor(...e){super(),this._selection=new fi,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Di.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class Yi extends _.vY{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ii=Symbol("bubbling contexts");function $i(l){return class extends l{fire(e,...t){try{const n=e instanceof _.vY?e:new _.vY(this,e),a=Ie(this);if(!a.size)return;if(ht(n,"capturing",this),G(a,"$capture",n,...t))return n.return;const h=n.startRange||this.selection.getFirstRange(),x=h?h.getContainedElement():null,H=!!x&&Boolean(ce(a,x));let ae=x||function(be){if(!be)return null;const Re=be.start.parent,tt=be.end.parent,gt=Re.getPath(),Ut=tt.getPath();return gt.length>Ut.length?Re:tt}(h);if(ht(n,"atTarget",ae),!H){if(G(a,"$text",n,...t))return n.return;ht(n,"bubbling",ae)}for(;ae;){if(ae.is("rootElement")){if(G(a,"$root",n,...t))return n.return}else if(ae.is("element")&&G(a,ae.name,n,...t))return n.return;if(G(a,ae,n,...t))return n.return;ae=ae.parent,ht(n,"bubbling",ae)}return ht(n,"bubbling",this),G(a,"$document",n,...t),n.return}catch(n){_.Yb.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const a=(0,_.$r)(n.context||"$document"),h=Ie(this);for(const x of a){let H=h.get(x);H||(H=new((0,_.Mm)()),h.set(x,H)),this.listenTo(H,e,t,n)}}_removeEventListener(e,t){const n=Ie(this);for(const a of n.values())this.stopListening(a,e,t)}}}{const l=$i(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{$i[e]=l.prototype[e]})}function ht(l,e,t){l instanceof Yi&&(l._eventPhase=e,l._currentTarget=t)}function G(l,e,t,...n){const a=typeof e=="string"?l.get(e):ce(l,e);return!!a&&(a.fire(t,...n),t.stop.called)}function ce(l,e){for(const[t,n]of l)if(typeof t=="function"&&t(e))return n;return null}function Ie(l){return l[Ii]||(l[Ii]=new Map),l[Ii]}class Ze extends $i((0,_.VM)()){constructor(e){super(),this._postFixers=new Set,this.selection=new Di,this.roots=new _.pM({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class Ye extends nt{constructor(e,t,n,a){super(e,t,n,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=ft}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new _.Yb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function ft(){if(Tt(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(Tt(l)>1)return null;l=l.parent}return!l||Tt(l)>1?null:this.childCount}function Tt(l){return Array.from(l.getChildren()).filter(e=>!e.is("uiElement")).length}Ye.DEFAULT_PRIORITY=10,Ye.prototype.is=function(l,e){return e?e===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Vt extends nt{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Bt}_insertChild(e,t){if(t&&(t instanceof T||Array.from(t).length>0))throw new _.Yb("view-emptyelement-cannot-add",[this,t]);return 0}}function Bt(){return null}Vt.prototype.is=function(l,e){return e?e===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class ei extends nt{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=Mi}_insertChild(e,t){if(t&&(t instanceof T||Array.from(t).length>0))throw new _.Yb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function oi(l){l.document.on("arrowKey",(e,t)=>function(n,a,h){if(a.keyCode==_.uP.arrowright){const x=a.domTarget.ownerDocument.defaultView.getSelection(),H=x.rangeCount==1&&x.getRangeAt(0).collapsed;if(H||a.shiftKey){const ae=x.focusNode,be=x.focusOffset,Re=h.domPositionToView(ae,be);if(Re===null)return;let tt=!1;const gt=Re.getLastMatchingPosition(Ut=>(Ut.item.is("uiElement")&&(tt=!0),!(!Ut.item.is("uiElement")&&!Ut.item.is("attributeElement"))));if(tt){const Ut=h.viewPositionToDom(gt);H?x.collapse(Ut.parent,Ut.offset):x.extend(Ut.parent,Ut.offset)}}}}(0,t,l.domConverter),{priority:"low"})}function Mi(){return null}ei.prototype.is=function(l,e){return e?e===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Pi extends nt{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=zi}_insertChild(e,t){if(t&&(t instanceof T||Array.from(t).length>0))throw new _.Yb("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function zi(){return null}Pi.prototype.is=function(l,e){return e?e===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class mi extends(0,_.Mm)(w){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(h,x){return typeof x=="string"?[new L(h,x)]:((0,_.xZ)(x)||(x=[x]),Array.from(x).map(H=>typeof H=="string"?new L(h,H):H instanceof O?new L(h,H.data):H))}(this.document,t);for(const h of a)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(e,0,h),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}mi.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class Ni{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new mi(this.document,e)}createText(e){return new L(this.document,e)}createAttributeElement(e,t,n={}){const a=new Ye(this.document,e,t);return typeof n.priority=="number"&&(a._priority=n.priority),n.id&&(a._id=n.id),n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createContainerElement(e,t,n={},a={}){let h=null;(0,oe.A)(n)?a=n:h=n;const x=new wt(this.document,e,t,h);return a.renderUnsafeAttributes&&x._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),x}createEditableElement(e,t,n={}){const a=new Wt(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createEmptyElement(e,t,n={}){const a=new Vt(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createUIElement(e,t,n){const a=new ei(this.document,e,t);return n&&(a.render=n),a}createRawElement(e,t,n,a={}){const h=new Pi(this.document,e,t);return n&&(h.render=n),a.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),h}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){(0,oe.A)(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Xe?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new _.Yb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new _.Yb("view-writer-break-root",this.document);if(e.isAtStart)return Xe._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Xe._createAfter(t),n);const a=new kt(e,Xe._createAt(t,"end")),h=new Xe(n,0);this.move(a,h)}return Xe._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const x=n.parent,H=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Xe(x,H))}const a=n.getChild(t-1),h=n.getChild(t);if(!a||!h)return e;if(a.is("$text")&&h.is("$text"))return xt(a,h);if(a.is("attributeElement")&&h.is("attributeElement")&&a.isSimilar(h)){const x=a.childCount;return a._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new Xe(a,x))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new _.Yb("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),h=a instanceof L?Xe._createAt(a,"end"):Xe._createAt(t,"end");return this.move(kt._createIn(n),Xe._createAt(t,"end")),this.remove(kt._createOn(n)),h}insert(e,t){Ot(t=(0,_.xZ)(t)?[...t]:[t],this.document);const n=t.reduce((x,H)=>{const ae=x[x.length-1],be=!H.is("uiElement");return ae&&ae.breakAttributes==be?ae.nodes.push(H):x.push({breakAttributes:be,nodes:[H]}),x},[]);let a=null,h=e;for(const{nodes:x,breakAttributes:H}of n){const ae=this._insertNodes(h,x,H);a||(a=ae.start),h=ae.end}return a?new kt(a,h):new kt(e)}remove(e){const t=e instanceof kt?e:kt._createOn(e);if(ve(t,this.document),t.isCollapsed)return new mi(this.document);const{start:n,end:a}=this._breakAttributesRange(t,!0),h=n.parent,x=a.offset-n.offset,H=h._removeChildren(n.offset,x);for(const be of H)this._removeFromClonedElementsGroup(be);const ae=this.mergeAttributes(n);return t.start=ae,t.end=ae.clone(),new mi(this.document,H)}clear(e,t){ve(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of n){const h=a.item;let x;if(h.is("element")&&t.isSimilar(h))x=kt._createOn(h);else if(!a.nextPosition.isAfter(e.start)&&h.is("$textProxy")){const H=h.getAncestors().find(ae=>ae.is("element")&&t.isSimilar(ae));H&&(x=kt._createIn(H))}x&&(x.end.isAfter(e.end)&&(x.end=e.end),x.start.isBefore(e.start)&&(x.start=e.start),this.remove(x))}}move(e,t){let n;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,h=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-h}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Ye))throw new _.Yb("view-writer-wrap-invalid-attribute",this.document);if(ve(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(n=a.parent,!Array.from(n.getChildren()).some(x=>!x.is("uiElement")))&&(a=a.getLastMatchingPosition(x=>x.item.is("uiElement"))),a=this._wrapPosition(a,t);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new kt(a)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof Ye))throw new _.Yb("view-writer-unwrap-invalid-attribute",this.document);if(ve(e,this.document),e.isCollapsed)return e;const{start:n,end:a}=this._breakAttributesRange(e,!0),h=n.parent,x=this._unwrapChildren(h,n.offset,a.offset,t),H=this.mergeAttributes(x.start);H.isEqual(x.start)||x.end.offset--;const ae=this.mergeAttributes(x.end);return new kt(H,ae)}rename(e,t){const n=new wt(this.document,e,t.getAttributes());return this.insert(Xe._createAfter(t),n),this.move(kt._createIn(t),Xe._createAt(n,0)),this.remove(kt._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Xe._createAt(e,t)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,t){return new kt(e,t)}createRangeOn(e){return kt._createOn(e)}createRangeIn(e){return kt._createIn(e)}createSelection(...e){return new fi(...e)}createSlot(e="children"){if(!this._slotFactory)throw new _.Yb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let a,h;if(a=n?vt(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new _.Yb("view-writer-invalid-position-container",this.document);h=n?this._breakAttributes(e,!0):e.parent.is("$text")?Be(e):e;const x=a._insertChild(h.offset,t);for(const Re of t)this._addToClonedElementsGroup(Re);const H=h.getShiftedBy(x),ae=this.mergeAttributes(h);ae.isEqual(h)||H.offset--;const be=this.mergeAttributes(H);return new kt(ae,be)}_wrapChildren(e,t,n,a){let h=t;const x=[];for(;h<n;){const ae=e.getChild(h),be=ae.is("$text"),Re=ae.is("attributeElement");if(Re&&this._wrapAttributeElement(a,ae))x.push(new Xe(e,h));else if(be||!Re||qe(a,ae)){const tt=a._clone();ae._remove(),tt._appendChild(ae),e._insertChild(h,tt),this._addToClonedElementsGroup(tt),x.push(new Xe(e,h))}else this._wrapChildren(ae,0,ae.childCount,a);h++}let H=0;for(const ae of x)ae.offset-=H,ae.offset!=t&&(this.mergeAttributes(ae).isEqual(ae)||(H++,n--));return kt._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,a){let h=t;const x=[];for(;h<n;){const ae=e.getChild(h);if(ae.is("attributeElement"))if(ae.isSimilar(a)){const be=ae.getChildren(),Re=ae.childCount;ae._remove(),e._insertChild(h,be),this._removeFromClonedElementsGroup(ae),x.push(new Xe(e,h),new Xe(e,h+Re)),h+=Re,n+=Re-1}else this._unwrapAttributeElement(a,ae)?(x.push(new Xe(e,h),new Xe(e,h+1)),h++):(this._unwrapChildren(ae,0,ae.childCount,a),h++);else h++}let H=0;for(const ae of x)ae.offset-=H,!(ae.offset==t||ae.offset==n)&&(this.mergeAttributes(ae).isEqual(ae)||(H++,n--));return kt._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:a}=this._breakAttributesRange(e,!0),h=n.parent,x=this._wrapChildren(h,n.offset,a.offset,t),H=this.mergeAttributes(x.start);H.isEqual(x.start)||x.end.offset--;const ae=this.mergeAttributes(x.end);return new kt(H,ae)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return pt(e.clone());e.parent.is("$text")&&(e=Be(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const a=new kt(e,e.getShiftedBy(1));this.wrap(a,t);const h=new Xe(n.parent,n.index);n._remove();const x=h.nodeBefore,H=h.nodeAfter;return x instanceof L&&H instanceof L?xt(x,H):pt(h)}_wrapAttributeElement(e,t){if(!j(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!j(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,a=e.end;if(ve(e,this.document),e.isCollapsed){const ae=this._breakAttributes(e.start,t);return new kt(ae,ae)}const h=this._breakAttributes(a,t),x=h.parent.childCount,H=this._breakAttributes(n,t);return h.offset+=h.parent.childCount-x,new kt(H,h)}_breakAttributes(e,t=!1){const n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new _.Yb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new _.Yb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new _.Yb("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&Rt(a.parent)||Rt(a))return e.clone();if(a.is("$text"))return this._breakAttributes(Be(e),t);if(n==a.childCount){const h=new Xe(a.parent,a.index+1);return this._breakAttributes(h,t)}if(n===0){const h=new Xe(a.parent,a.index);return this._breakAttributes(h,t)}{const h=a.index+1,x=a._clone();a.parent._insertChild(h,x),this._addToClonedElementsGroup(x);const H=a.childCount-n,ae=a._removeChildren(n,H);x._appendChild(ae);const be=new Xe(a.parent,h);return this._breakAttributes(be,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function vt(l){let e=l.parent;for(;!Rt(e);){if(!e)return;e=e.parent}return e}function qe(l,e){return l.priority<e.priority||!(l.priority>e.priority)&&l.getIdentity()<e.getIdentity()}function pt(l){const e=l.nodeBefore;if(e&&e.is("$text"))return new Xe(e,e.data.length);const t=l.nodeAfter;return t&&t.is("$text")?new Xe(t,0):l}function Be(l){if(l.offset==l.parent.data.length)return new Xe(l.parent.parent,l.parent.index+1);if(l.offset===0)return new Xe(l.parent.parent,l.parent.index);const e=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new L(l.root.document,e)),new Xe(l.parent.parent,l.parent.index+1)}function xt(l,e){const t=l.data.length;return l._data+=e.data,e._remove(),new Xe(l,t)}const Zt=[L,Ye,wt,Vt,Pi,ei];function Ot(l,e){for(const t of l){if(!Zt.some(n=>t instanceof n))throw new _.Yb("view-writer-insert-invalid-node-type",e);t.is("$text")||Ot(t.getChildren(),e)}}function Rt(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function ve(l,e){const t=vt(l.start),n=vt(l.end);if(!t||!n||t!==n)throw new _.Yb("view-writer-invalid-range-container",e)}function j(l,e){return l.id===null&&e.id===null}const B=l=>l.createTextNode("\xA0"),Y=l=>{const e=l.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},Te=l=>{const e=l.createElement("br");return e.dataset.ckeFiller="true",e},Ne=7,ee="\u2060".repeat(Ne);function Pe(l){return typeof l=="string"?l.substr(0,Ne)===ee:(0,_.KH)(l)&&l.data.substr(0,Ne)===ee}function ze(l){return l.data.length==Ne&&Pe(l)}function Qe(l){const e=typeof l=="string"?l:l.data;return Pe(l)?e.slice(Ne):e}function dt(l,e){if(e.keyCode==_.uP.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;Pe(n)&&a<=Ne&&t.collapse(n,0)}}}var Kt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Et={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(Kt.A,Et),Kt.A.locals;class ni extends(0,_.VM)(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),_._K.isBlink&&!_._K.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new _.Yb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!_._K.isAndroid)return;let e=null;const t=!(_._K.isBlink&&!_._K.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Xe._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),a=n.parent.ownerDocument;Pe(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=yi(a,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),a=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),h=this._diffNodeLists(n,a),x=this._findUpdateActions(h,n,a,gi);if(x.indexOf("update")!==-1){const H={equal:0,insert:0,delete:0};for(const ae of x)if(ae==="update"){const be=H.equal+H.insert,Re=H.equal+H.delete,tt=e.getChild(be);!tt||tt.is("uiElement")||tt.is("rawElement")||this._updateElementMappings(tt,n[Re]),(0,_.TF)(a[be]),H.equal++}else H[ae]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Xe._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,_.KH)(t.parent)&&Pe(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Pe(e))throw new _.Yb("view-renderer-filler-was-lost",this);ze(e)?e.remove():e.data=e.data.substr(Ne),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(x){if(x.getAttribute("contenteditable")=="false")return!1;const H=x.findAncestor(ae=>ae.hasAttribute("contenteditable"));return!H||H.getAttribute("contenteditable")=="true"}(t)||n===t.getFillerOffset())return!1;const a=e.nodeBefore,h=e.nodeAfter;return!(a instanceof L||h instanceof L)&&(!_._K.isAndroid||!a&&!h)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const h=t.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(a=ee+a),mn(n,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(h=>h.name),a=e.getAttributeKeys();for(const h of a)this.domConverter.setDomElementAttribute(t,h,e.getAttribute(h),e);for(const h of n)e.hasAttribute(h)||this.domConverter.removeDomElementAttribute(t,h)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(_._K.isAndroid){let tt=null;for(const gt of Array.from(n.childNodes)){if(tt&&(0,_.KH)(tt)&&(0,_.KH)(gt)){n.normalize();break}tt=gt}}const a=t.inlineFillerPosition,h=n.childNodes,x=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&yi(n.ownerDocument,x,a.offset);const H=this._diffNodeLists(h,x),ae=this._findUpdateActions(H,h,x,xi);let be=0;const Re=new Set;for(const tt of ae)tt==="delete"?(Re.add(h[be]),(0,_.TF)(h[be])):tt!=="equal"&&tt!=="update"||be++;be=0;for(const tt of ae)tt==="insert"?((0,_.PT)(n,be,x[be]),be++):tt==="update"?(mn(h[be],x[be].data),be++):tt==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(x[be])),be++);for(const tt of Re)tt.parentNode||this.domConverter.unbindDomElement(tt)}_diffNodeLists(e,t){return e=function(n,a){const h=Array.from(n);return h.length==0||!a||h[h.length-1]==a&&h.pop(),h}(e,this._fakeSelectionContainer),(0,_.Ui)(e,t,Li.bind(null,this.domConverter))}_findUpdateActions(e,t,n,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let h=[],x=[],H=[];const ae={equal:0,insert:0,delete:0};for(const be of e)be==="insert"?H.push(n[ae.equal+ae.insert]):be==="delete"?x.push(t[ae.equal+ae.delete]):(h=h.concat((0,_.Ui)(x,H,a).map(Re=>Re==="equal"?"update":Re)),h.push("equal"),x=[],H=[]),ae[be]++;return h.concat((0,_.Ui)(x,H,a).map(be=>be==="equal"?"update":be))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(_._K.isBlink&&!_._K.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_._K.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(x){const H=x.createElement("div");return H.className="ck-fake-selection-container",Object.assign(H.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),H.textContent="\xA0",H}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xA0";const a=t.getSelection(),h=t.createRange();a.removeAllRanges(),h.selectNodeContents(n),a.addRange(h)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,a.parent,a.offset),_._K.isGecko&&function(h,x){const H=h.parent;if(H.nodeType!=Node.ELEMENT_NODE||h.offset!=H.childNodes.length-1)return;const ae=H.childNodes[h.offset];ae&&ae.tagName=="BR"&&x.addRange(x.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,a=this.domConverter.mapDomToView(n);n&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function yi(l,e,t){const n=e instanceof Array?e:e.childNodes,a=n[t];if((0,_.KH)(a))return a.data=ee+a.data,a;{const h=l.createTextNode(ee);return Array.isArray(e)?n.splice(t,0,h):(0,_.PT)(e,t,h),h}}function gi(l,e){return(0,_.Ll)(l)&&(0,_.Ll)(e)&&!(0,_.KH)(l)&&!(0,_.KH)(e)&&!(0,_.Cn)(l)&&!(0,_.Cn)(e)&&l.tagName.toLowerCase()===e.tagName.toLowerCase()}function xi(l,e){return(0,_.Ll)(l)&&(0,_.Ll)(e)&&(0,_.KH)(l)&&(0,_.KH)(e)}function Li(l,e,t){return e===t||((0,_.KH)(e)&&(0,_.KH)(t)?e.data===t.data:!(!l.isBlockFiller(e)||!l.isBlockFiller(t)))}function mn(l,e){const t=l.data;if(t==e)return;const n=(0,_.Mr)(t,e);for(const a of n)a.type==="insert"?l.insertData(a.index,a.values.join("")):l.deleteData(a.index,a.howMany)}const jn=Te(_.global.document),vn=B(_.global.document),Ln=Y(_.global.document),In="data-ck-unsafe-attribute-",Jn="data-ck-unsafe-element";class cn{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new W,this._inlineObjectElementMatcher=new W,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_.global.document:_.global.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new fi(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),a=n.createDocumentFragment(),h=n.body.childNodes;for(;h.length>0;)a.appendChild(h[0]);const x=n.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),H=[];let ae;for(;ae=x.nextNode();)H.push(ae);for(const be of H){for(const tt of be.getAttributeNames())this.setDomElementAttribute(be,tt,be.getAttribute(tt));const Re=be.tagName.toLowerCase();this._shouldRenameElement(Re)&&(To(Re),be.replaceWith(this._createReplacementDomElement(Re,be)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let a;if(n.is("documentFragment"))a=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(a,n);else{if(n.is("uiElement"))return a=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(a,n),a;this._shouldRenameElement(n.name)?(To(n.name),a=this._createReplacementDomElement(n.name)):a=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(a,this),t.bind&&this.bindElements(a,n);for(const h of n.getAttributeKeys())this.setDomElementAttribute(a,h,n.getAttribute(h),n)}if(t.withChildren!==!1)for(const h of this.viewChildrenToDom(n,t))a.appendChild(h);return a}}setDomElementAttribute(e,t,n,a){const h=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);h||(0,_.FF)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),(0,_.i8)(t)?(e.hasAttribute(t)&&!h?e.removeAttribute(t):e.hasAttribute(In+t)&&h&&e.removeAttribute(In+t),e.setAttribute(h?t:In+t,n)):(0,_.FF)("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Jn&&(e.removeAttribute(t),e.removeAttribute(In+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const h of e.getChildren()){n===a&&(yield this._getBlockFiller());const x=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!(0,_.$1)(h.getAttributes());x&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,t):(x&&(0,_.FF)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,t)),a++}n===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let a=e.offset;return Pe(n)&&(a+=Ne),{parent:n,offset:a}}{let n,a,h;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;h=n.childNodes[0]}else{const x=e.nodeBefore;if(a=x.is("$text")?this.findCorrespondingDomText(x):this.mapViewToDom(x),!a)return null;n=a.parentNode,h=a.nextSibling}return(0,_.KH)(h)&&Pe(h)?{parent:h,offset:Ne}:{parent:n,offset:a?(0,_.qh)(a)+1:0}}}domToView(e,t={}){const n=[],a=this._domToView(e,t,n),h=a.next().value;return h?(a.next(),this._processDomInlineNodes(null,n,t),h.is("$text")&&h.data.length==0?null:h):null}*domChildrenToView(e,t={},n=[]){for(let a=0;a<e.childNodes.length;a++){const h=e.childNodes[a],x=this._domToView(h,t,n),H=x.next().value;H!==null&&(this._isBlockViewElement(H)&&this._processDomInlineNodes(e,n,t),yield H,x.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(function(a){if(!_._K.isGecko||!a.rangeCount)return!1;const h=a.getRangeAt(0).startContainer;try{Object.prototype.toString.call(h)}catch{return!0}return!1}(e))return new fi([]);if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;(0,_.KH)(a)&&(a=a.parentNode);const h=this.fakeSelectionToView(a);if(h)return h}const t=this.isDomSelectionBackward(e),n=[];for(let a=0;a<e.rangeCount;a++){const h=e.getRangeAt(a),x=this.domRangeToView(h);x&&n.push(x)}return new fi(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new kt(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,_.qh)(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Xe._createBefore(n);if((0,_.KH)(e)){if(ze(e))return this.domPositionToView(e.parentNode,(0,_.qh)(e));const a=this.findCorrespondingViewText(e);let h=t;return a?(Pe(e)&&(h-=Ne,h=h<0?0:h),new Xe(a,h)):null}if(t===0){const a=this.mapDomToView(e);if(a)return new Xe(a,0)}else{const a=e.childNodes[t-1];if((0,_.KH)(a)&&ze(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,(0,_.qh)(a));const h=(0,_.KH)(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(h&&h.parent)return new Xe(h.parent,h.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ze(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const a=this.mapDomToView(n);if(a){const h=a.nextSibling;return h instanceof L?h:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const h=a.getChild(0);return h instanceof L?h:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:a}=_.global.window,h=[];go(t,x=>{const{scrollLeft:H,scrollTop:ae}=x;h.push([H,ae])}),t.focus(),go(t,x=>{const[H,ae]=h.shift();x.scrollLeft=H,x.scrollTop=ae}),_.global.window.scrollTo(n,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(jn):!(e.tagName!=="BR"||!_o(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Ln)||function(t,n){return t.isEqualNode(vn)&&_o(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=(0,_.DS)(e);for(t.pop();t.length;){const n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return B(this._domDocument);case"markedNbsp":return Y(this._domDocument);case"br":return Te(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,_.KH)(e)&&Pe(e)&&t<Ne||this.isElement(e)&&Pe(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if((0,_.Cn)(e)&&t.skipComments)return null;if((0,_.KH)(e)){if(ze(e))return null;{const h=e.data;if(h==="")return null;const x=new L(this.document,h);return n.push(x),x}}{let h=this.mapDomToView(e);if(h)return this._isInlineObjectElement(h)&&n.push(h),h;if(this.isDocumentFragment(e))h=new mi(this.document),t.bind&&this.bindDocumentFragments(e,h);else{h=this._createViewElement(e,t),t.bind&&this.bindElements(e,h);const H=e.attributes;if(H)for(let ae=H.length,be=0;be<ae;be++)h._setAttribute(H[be].name,H[be].value);if(this._isViewElementWithRawContent(h,t))return h._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(h)||n.push(h),h;if((0,_.Cn)(e))return h._setCustomProperty("$rawContent",e.data),h}yield h;const x=[];if(t.withChildren!==!1)for(const H of this.domChildrenToView(e,t,x))h._appendChild(H);if(this._isInlineObjectElement(h))n.push(h);else for(const H of x)n.push(H)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let h=0;h<t.length;h++){const x=t[h];if(!x.is("$text")){a=!1;continue}let H,ae=!1;if(fo(x,this.preElements))H=Qe(x.data);else{H=x.data.replace(/[ \n\t\r]{1,}/g," "),ae=/[^\S\u00A0]/.test(H.charAt(H.length-1));const be=h>0?t[h-1]:null,Re=h+1<t.length?t[h+1]:null,tt=!be||be.is("element")&&be.name=="br"||a,gt=!Re&&!Pe(x.data);n.withChildren!==!1&&(tt&&(H=H.replace(/^ /,"")),gt&&(H=H.replace(/ $/,""))),H=Qe(H),H=H.replace(/ \u00A0/g,"  ");const Ut=Re&&Re.is("element")&&Re.name!="br",Qt=Re&&Re.is("$text")&&Re.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(H)||!Re||Ut||Qt)&&(H=H.replace(/\u00A0$/," ")),(tt||be&&be.is("element")&&be.name!="br")&&(H=H.replace(/^\u00A0/," "))}H.length==0&&x.parent?(x._remove(),t.splice(h,1),h--):(x._data=H,a=ae)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),a=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!a||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new bt({startPosition:t?Xe._createAfter(e):Xe._createBefore(e),direction:t?"forward":"backward"});for(const a of n){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if((0,_.Cn)(e))return new ei(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new nt(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Jn,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const a of t.getAttributeNames())n.setAttribute(a,t.getAttribute(a))}return n}}function fo(l,e){return l.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function go(l,e){let t=l;for(;t;)e(t),t=t.parentElement}function _o(l,e){const t=l.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function To(l){l==="script"&&(0,_.FF)("domconverter-unsafe-script-element-detected"),l==="style"&&(0,_.FF)("domconverter-unsafe-style-element-detected")}class io extends(0,_.c5)(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var po=s("./node_modules/lodash-es/assignIn.js");class No{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,po.A)(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ao extends io{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new No(this.view,t,n))}}class Dt extends ao{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,_.QC)(this)}};this.fire(e.type,e,t)}}var z=s("./node_modules/lodash-es/debounce.js");class Ee extends io{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,z.A)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new fi(t.getRanges(),{backward:t.isBackward,fake:!1});e!=_.uP.arrowleft&&e!=_.uP.arrowup||n.setTo(n.getFirstPosition()),e!=_.uP.arrowright&&e!=_.uP.arrowdown||n.setTo(n.getLastPosition());const a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}var $e=s("./node_modules/lodash-es/_baseIsEqual.js");const Ge=function(l,e,t){var n=(t=typeof t=="function"?t:void 0)?t(l,e):void 0;return n===void 0?(0,$e.A)(l,e,void 0,t):!!n};class at extends io{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,a=new Set;for(const x of e){const H=t.mapDomToView(x.target);H&&(H.is("uiElement")||H.is("rawElement")||x.type!=="childList"||this._isBogusBrMutation(x)||a.add(H))}for(const x of e){const H=t.mapDomToView(x.target);if((!H||!H.is("uiElement")&&!H.is("rawElement"))&&x.type==="characterData"){const ae=t.findCorrespondingViewText(x.target);ae&&!a.has(ae.parent)?n.add(ae):!ae&&Pe(x.target)&&a.add(t.mapDomToView(x.target.parentNode))}}let h=!1;for(const x of n)h=!0,this.renderer.markToSync("text",x);for(const x of a){const H=t.mapViewToDom(x),ae=Array.from(x.getChildren()),be=Array.from(t.domChildrenToView(H,{withChildren:!1}));Ge(ae,be,ct)||(h=!0,this.renderer.markToSync("children",x))}h&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function ct(l,e){if(!Array.isArray(l))return l===e||!(!l.is("$text")||!e.is("$text"))&&l.data===e.data}class It extends ao{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,a)=>{const h=t.selection.editableElement;h!==null&&h!==a.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class yt extends io{constructor(e){super(e),this.mutationObserver=e.getObserver(at),this.focusObserver=e.getObserver(It),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,z.A)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,z.A)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,h)=>{this.document.isComposing&&!_._K.isAndroid||(this._handleSelectionChange(h,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(n);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Ct extends ao{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class $t{constructor(e,t={}){this._files=t.cacheFiles?ii(e):null,this._native=e}get files(){return this._files||(this._files=ii(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ii(l){const e=Array.from(l.files||[]),t=Array.from(l.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class wi extends ao{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,a=n.document;let h=null,x=null,H=[];if(e.dataTransfer&&(h=new $t(e.dataTransfer)),e.data!==null?x=e.data:h&&(x=h.getData("text/plain")),a.selection.isFake)H=Array.from(a.selection.getRanges());else if(t.length)H=t.map(ae=>{const be=n.domConverter.domPositionToView(ae.startContainer,ae.startOffset),Re=n.domConverter.domPositionToView(ae.endContainer,ae.endOffset);return be?n.createRange(be,Re):Re?n.createRange(Re):void 0}).filter(ae=>!!ae);else if(_._K.isAndroid){const ae=e.target.ownerDocument.defaultView.getSelection();H=Array.from(n.domConverter.domSelectionToView(ae).getRanges())}if(_._K.isAndroid&&e.inputType=="insertCompositionText"&&x&&x.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(H[0].end)]});else if(e.inputType=="insertText"&&x&&x.includes(`
`)){const ae=x.split(/\n{1,2}/g);let be=H;for(let Re=0;Re<ae.length;Re++){const tt=ae[Re];tt!=""&&(this.fire(e.type,e,{data:tt,dataTransfer:h,targetRanges:be,inputType:e.inputType,isComposing:e.isComposing}),be=[a.selection.getFirstRange()]),Re+1<ae.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:be}),be=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:x,dataTransfer:h,targetRanges:H,inputType:e.inputType,isComposing:e.isComposing})}}class li extends io{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&(0,_.Yt)(n.keyCode)){const a=new Yi(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(a,n),a.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class ki extends io{constructor(e){super(e);const t=this.document;t.on("keydown",(n,a)=>{if(!this.isEnabled||a.keyCode!=_.uP.tab||a.ctrlKey)return;const h=new Yi(t,"tab",t.selection.getFirstRange());t.fire(h,a),h.stop.called&&n.stop()})}observe(){}stopObserving(){}}var Vi=s("./node_modules/lodash-es/cloneDeep.js");class wn extends(0,_.VM)(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Ze(e),this.domConverter=new cn(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ni(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Ni(this.document),this.addObserver(at),this.addObserver(It),this.addObserver(yt),this.addObserver(Dt),this.addObserver(Ee),this.addObserver(Ct),this.addObserver(li),this.addObserver(wi),this.addObserver(ki),this.document.on("arrowKey",dt,{priority:"low"}),oi(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_._K.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const a={};for(const{name:x,value:H}of Array.from(e.attributes))a[x]=H,x==="class"?this._writer.addClass(H.split(" "),n):this._writer.setAttribute(x,H,n);this._initialDomRootAttributes.set(e,a);const h=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};h(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(x,H)=>this._renderer.markToSync("children",H)),n.on("change:attributes",(x,H)=>this._renderer.markToSync("attributes",H)),n.on("change:text",(x,H)=>this._renderer.markToSync("text",H)),n.on("change:isReadOnly",()=>this.change(h)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const x of this._observers.values())x.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const n=this._initialDomRootAttributes.get(t);for(const a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const a of this._observers.values())a.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,a]of this.domRoots)t.observe(a,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:a=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const x=(0,Vi.A)({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:a});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const H={target:this.domConverter.viewRangeToDom(h),viewportOffset:n,ancestorOffset:a,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",H,x),(0,_.vK)(H)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new _.Yb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){_.Yb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(It).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Xe._createAt(e,t)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,t){return new kt(e,t)}createRangeOn(e){return kt._createOn(e)}createRangeIn(e){return kt._createIn(e)}createSelection(...e){return new fi(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Vn{is(){throw new Error("is() method is abstract")}}class Cn extends Vn{constructor(e){super(),this.parent=null,this._attrs=(0,_.av)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new _.Yb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new _.Yb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let h=0;for(;n[h]==a[h]&&n[h];)h++;return h===0?null:n[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=(0,_.ww)(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,_.av)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Cn.prototype.is=function(l){return l==="node"||l==="model:node"};class Rn{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,a)=>n+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new _.Yb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new _.Yb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Cn))throw new _.Yb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,_.eL)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class en extends Cn{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new en(this.data,this.getAttributes())}static fromJSON(e){return new en(e.data,e.attributes)}}en.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class Pn extends Vn{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new _.Yb("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new _.Yb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Pn.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class Qi extends Cn{constructor(e,t,n){super(t),this._children=new Rn,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Qi(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new en(a)]:((0,_.xZ)(a)||(a=[a]),Array.from(a).map(h=>typeof h=="string"?new en(h):h instanceof Pn?new en(h.data,h.getAttributes()):h))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Qi.fromJSON(n)):t.push(en.fromJSON(n))}return new Qi(e.name,e.attributes,t)}}Qi.prototype.is=function(l,e){return e?e===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class no{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new _.Yb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new _.Yb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Xt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,a,h;do a=this.position,h=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=a,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=ue(t,n),h=a||N(t,n,a);if(h instanceof Qi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=h;return this._position=t,vo("elementStart",h,e,t,1)}if(h instanceof en){let x;if(this.singleCharacters)x=1;else{let be=h.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<be&&(be=this.boundaries.end.offset),x=be-t.offset}const H=t.offset-h.startOffset,ae=new Pn(h,H,x);return t.offset+=x,this._position=t,vo("text",ae,e,t,x)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():vo("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,h=ue(t,a),x=h||ie(t,a,h);if(x instanceof Qi)return t.offset--,this.shallow?(this._position=t,vo("elementStart",x,e,t,1)):(t.path.push(x.maxOffset),this._position=t,this._visitedParent=x,this.ignoreElementEnd?this._previous():vo("elementEnd",x,e,t));if(x instanceof en){let H;if(this.singleCharacters)H=1;else{let Re=x.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>Re&&(Re=this.boundaries.start.offset),H=t.offset-Re}const ae=t.offset-x.startOffset,be=new Pn(x,ae-H,H);return t.offset-=H,this._position=t,vo("text",be,e,t,H)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,vo("elementStart",n,e,t,1)}}function vo(l,e,t,n,a){return{done:!1,value:{type:l,item:e,previousPosition:t,nextPosition:n,length:a}}}class Xt extends Vn{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new _.Yb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new _.Yb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new _.Yb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new _.Yb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return ue(this,this.parent)}get nodeAfter(){const e=this.parent;return N(this,e,ue(this,e))}get nodeBefore(){const e=this.parent;return ie(this,e,ue(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,_.ww)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new no(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,_.ww)(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const a=this.path[n]-e.path[n];if(a<-1||a>1)return!1;if(a===1)return We(e,this,n);if(a===-1)return We(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?lt(this.path,t):lt(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return(0,_.ww)(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Xt._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Xt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Xt._createAt(this);if(this.root!=e.root)return n;if((0,_.ww)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if((0,_.ww)(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;n.path[a]-=t}}return n}_getTransformedByInsertion(e,t){const n=Xt._createAt(this);if(this.root!=e.root)return n;if((0,_.ww)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if((0,_.ww)(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(n.path[a]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Xt._createAt(this);const a=this._getTransformedByDeletion(e,n);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):a._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,a=Xt._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[n]-e.offset,a.path=[...a.path,...this.path.slice(n+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof Xt)return new Xt(e.root,e.path,e.stickiness);{const a=e;if(t=="end")t=a.maxOffset;else{if(t=="before")return this._createBefore(a,n);if(t=="after")return this._createAfter(a,n);if(t!==0&&!t)throw new _.Yb("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new _.Yb("model-position-parent-incorrect",[this,e]);const h=a.getPath();return h.push(t),new this(a.root,h,n)}}static _createAfter(e,t){if(!e.parent)throw new _.Yb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new _.Yb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new Xt(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new _.Yb("model-position-fromjson-no-root",t,{rootName:e.root});return new Xt(t.getRoot(e.root),e.path,e.stickiness)}}function ue(l,e){const t=e.getChild(e.offsetToIndex(l.offset));return t&&t.is("$text")&&t.startOffset<l.offset?t:null}function N(l,e,t){return t!==null?null:e.getChild(e.offsetToIndex(l.offset))}function ie(l,e,t){return t!==null?null:e.getChild(e.offsetToIndex(l.offset)-1)}function We(l,e,t){return t+1!==l.path.length&&!!lt(e.path,t+1)&&!!function(n,a){let h=n.parent,x=n.path.length-1,H=0;for(;x>=a;){if(n.path[x]+H!==h.maxOffset)return!1;H=1,x--,h=h.parent}return!0}(l,t+1)}function lt(l,e){for(;e<l.length;){if(l[e]!==0)return!1;e++}return!0}Xt.prototype.is=function(l){return l==="position"||l==="model:position"};class Se extends Vn{constructor(e,t){super(),this.start=Xt._createAt(e),this.end=t?Xt._createAt(t):Xt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new no({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,_.ww)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}containsItem(e){const t=Xt._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Se(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Se(e.end,this.end))):t.push(new Se(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Se(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let a=this.start,h=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(h)&&(h=e.end),new Se(a,h)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Xt._createAt(this.start);let a=n.parent;for(;n.path.length>t+1;){const h=a.maxOffset-n.offset;h!==0&&e.push(new Se(n,n.getShiftedBy(h))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent}for(;n.path.length<=this.end.path.length;){const h=this.end.path[n.path.length-1],x=h-n.offset;x!==0&&e.push(new Se(n,n.getShiftedBy(x))),n.offset=h,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new no(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new no(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new no(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Se(this.start,this.end)]}getTransformedByOperations(e){const t=[new Se(this.start,this.end)];for(const n of e)for(let a=0;a<t.length;a++){const h=t[a].getTransformedByOperation(n);t.splice(a,1,...h),a+=h.length-1}for(let n=0;n<t.length;n++){const a=t[n];for(let h=n+1;h<t.length;h++){const x=t[h];(a.containsRange(x)||x.containsRange(a)||a.isEqual(x))&&t.splice(h,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,a=e.howMany,h=e.targetPosition;return this._getTransformedByMove(n,h,a,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Se(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Se(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Xt._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Se(t,n)):new Se(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Se(this.start,e),new Se(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Se(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,n,a=!1){if(this.isCollapsed){const tt=this.start._getTransformedByMove(e,t,n);return[new Se(tt)]}const h=Se._createFromPositionAndShift(e,n),x=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!a&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const tt=this.start._getTransformedByMove(e,t,n),gt=this.end._getTransformedByMove(e,t,n);return[new Se(tt,gt)]}let H;const ae=this.getDifference(h);let be=null;const Re=this.getIntersection(h);if(ae.length==1?be=new Se(ae[0].start._getTransformedByDeletion(e,n),ae[0].end._getTransformedByDeletion(e,n)):ae.length==2&&(be=new Se(this.start,this.end._getTransformedByDeletion(e,n))),H=be?be._getTransformedByInsertion(x,n,Re!==null||a):[],Re){const tt=new Se(Re.start._getCombined(h.start,x),Re.end._getCombined(h.start,x));H.length==2?H.splice(1,0,tt):H.push(tt)}return H}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return n==null&&a==null?null:(n==null&&(n=e),a==null&&(a=e),new Se(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return new this(Xt._createAt(e,0),Xt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Xt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new _.Yb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((h,x)=>h.start.isAfter(x.start)?1:-1);const n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(let h=n-1;e[h].end.isEqual(a.start);h++)a.start=Xt._createAt(e[h].start);for(let h=n+1;h<e.length&&e[h].start.isEqual(a.end);h++)a.end=Xt._createAt(e[h].end);return a}static fromJSON(e,t){return new this(Xt.fromJSON(e.start,t),Xt.fromJSON(e.end,t))}}Se.prototype.is=function(l){return l==="range"||l==="model:range"};class Nt extends(0,_.Mm)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new _.Yb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(n),h=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Xt._createAt(a,h)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Se(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new kt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const a of t)if(a.is("attributeElement"))for(const h of a.getElementsWithSameId())n.add(h);else n.add(a);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let h=0;h<t;h++)a+=this.getModelLength(e.getChild(h));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,a=0,h=0,x=0;if(e.is("$text"))return new Xe(e,t);for(;h<t;)n=e.getChild(x),a=this.getModelLength(n),h+=a,x++;return h==t?this._moveViewPositionToTextNode(new Xe(e,x)):this.findPositionIn(n,t-(h-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof L?new Xe(t,t.data.length):n instanceof L?new Xe(n,0):e}}class ui{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=ri(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=ri(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=ri(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const a=n.get(t);return a===void 0?null:a}revert(e,t){t=ri(t),e instanceof Pn&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,a]of this._consumable)for(const[h,x]of a){const H=h.split(":")[0];x&&e==H&&t.push({event:h,item:n.name||n.description})}if(t.length)throw new _.Yb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,a=e.parent,h=Symbol("$textProxy:"+e.data);let x,H;return x=this._textProxyRegistry.get(t),x||(x=new Map,this._textProxyRegistry.set(t,x)),H=x.get(n),H||(H=new Map,x.set(n,H)),H.set(a,h),h}}function ri(l){const e=l.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?l:e.length>1?e[0]+":"+e[1]:e[0]}var me=Object.defineProperty,C=Object.defineProperties,F=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,je=(l,e,t)=>e in l?me(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Me=(l,e)=>{for(var t in e||(e={}))ke.call(e,t)&&je(l,t,e[t]);if(Q)for(var t of Q(e))Ve.call(e,t)&&je(l,t,e[t]);return l},De=(l,e)=>C(l,F(e));class Ue extends(0,_.Mm)(){constructor(e){super(),this._conversionApi=Me({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const a=this._createConversionApi(n,e.getRefreshedItems());for(const x of e.getMarkersToRemove())this._convertMarkerRemove(x.name,x.range,a);const h=this._reduceChanges(e.getChanges());for(const x of h)x.type==="insert"?this._convertInsert(Se._createFromPositionAndShift(x.position,x.length),a):x.type==="reinsert"?this._convertReinsert(Se._createFromPositionAndShift(x.position,x.length),a):x.type==="remove"?this._convertRemove(x.position,x.length,x.name,a):this._convertAttribute(x.range,x.attributeKey,x.attributeOldValue,x.attributeNewValue,a);a.mapper.flushDeferredBindings();for(const x of a.mapper.flushUnboundMarkerNames()){const H=t.get(x).getRange();this._convertMarkerRemove(x,H,a),this._convertMarkerAdd(x,H,a)}for(const x of e.getMarkersToAdd())this._convertMarkerAdd(x.name,x.range,a);a.consumable.verifyAllConsumed("insert")}convert(e,t,n,a={}){const h=this._createConversionApi(n,void 0,a);this._convertInsert(e,h);for(const[x,H]of t)this._convertMarkerAdd(x,H,h);h.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const a=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},a);const h=e.getFirstPosition().root;if(!a.mapper.toViewElement(h))return;const x=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,x),this.fire("selection",{selection:e},a),e.isCollapsed){for(const H of x)if(a.consumable.test(e,"addMarker:"+H.name)){const ae=H.getRange();if(!st(e.getFirstPosition(),H,a.mapper))continue;const be={item:e,markerName:H.name,markerRange:ae};this.fire(`addMarker:${H.name}`,be,a)}for(const H of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+H)){const ae={item:e,range:e.getFirstRange(),attributeKey:H,attributeOldValue:null,attributeNewValue:e.getAttribute(H)};this.fire(`attribute:${H}:$text`,ae,a)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const a of Array.from(e.getWalker({shallow:!0})).map(mt))this._testAndFire("insert",a,t)}_convertRemove(e,t,n,a){this.fire(`remove:${n}`,{position:e,length:t},a)}_convertAttribute(e,t,n,a,h){this._addConsumablesForRange(h.consumable,e,`attribute:${t}`);for(const x of e){const H={item:x.item,range:Se._createFromPositionAndShift(x.previousPosition,x.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire(`attribute:${t}`,H,h)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const a of n.map(mt))this._testAndFire("insert",De(Me({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(n.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},n),n.consumable.consume(t,a)){this._addConsumablesForRange(n.consumable,t,a);for(const h of t.getItems()){if(!n.consumable.test(h,a))continue;const x={item:h,range:Se._createOn(h),markerName:e,markerRange:t};this.fire(a,x,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const a=n.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const h of a.getAttributeKeys())e.add(a,"attribute:"+h)}}return e}_addConsumablesForRange(e,t,n){for(const a of t.getItems())e.add(a,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const a of n)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,n){const a=function(ae,be){const Re=be.item.is("element")?be.item.name:"$text";return`${ae}:${Re}`}(e,t),h=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,x=this._firedEventsMap.get(n),H=x.get(h);if(H){if(H.has(a))return;H.add(a)}else x.set(h,new Set([a]));this.fire(a,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Se._createOn(e)};for(const a of n.item.getAttributeKeys())n.attributeKey=a,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(a),this._testAndFire(`attribute:${a}`,n,t)}_createConversionApi(e,t=new Set,n={}){const a=De(Me({},this._conversionApi),{consumable:new ui,writer:e,options:n,convertItem:h=>this._convertInsert(Se._createOn(h),a),convertChildren:h=>this._convertInsert(Se._createIn(h),a,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,a),canReuseView:h=>!t.has(a.mapper.toModelElement(h))});return this._firedEventsMap.set(a,new Map),a}}function st(l,e,t){const n=e.getRange(),a=Array.from(l.getAncestors());return a.shift(),a.reverse(),!a.some(h=>{if(n.containsItem(h))return!!t.toViewElement(h).getCustomProperty("addHighlight")})}function mt(l){return{item:l.item,range:Se._createFromPositionAndShift(l.previousPosition,l.length)}}class _t extends(0,_.Mm)(Vn){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Se(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Se(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Se(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof _t)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Se)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof Xt)this._setRanges([new Se(t)]);else if(t instanceof Cn){const h=!!a&&!!a.backward;let x;if(n=="in")x=Se._createIn(t);else if(n=="on")x=Se._createOn(t);else{if(n===void 0)throw new _.Yb("model-selection-setto-required-second-parameter",[this,t]);x=new Se(Xt._createAt(t,n))}this._setRanges([x],h)}else{if(!(0,_.xZ)(t))throw new _.Yb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const n=Array.from(e),a=n.some(h=>{if(!(h instanceof Se))throw new _.Yb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(x=>!x.isEqual(h))});(n.length!==this._ranges.length||a)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new _.Yb("model-selection-setfocus-no-ranges",[this,e]);const n=Xt._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(a)=="before"?(this._pushRange(new Se(n,a)),this._lastRangeBackward=!0):(this._pushRange(new Se(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=jt(t.start,e);ci(n,t)&&(yield n);for(const h of t.getWalker()){const x=h.item;h.type=="elementEnd"&&qt(x,e,t)&&(yield x)}const a=jt(t.end,e);Oi(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=Xt._createAt(e,0),n=Xt._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Se(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new _.Yb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Pt(l,e){return!e.has(l)&&(e.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function qt(l,e,t){return Pt(l,e)&&Jt(l,t)}function jt(l,e){const t=l.parent.root.document.model.schema,n=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const h=n.find(x=>!a&&(a=t.isLimit(x),!a&&Pt(x,e)));return n.forEach(x=>e.add(x)),h}function Jt(l,e){const t=function(n){const a=n.root.document.model.schema;let h=n.parent;for(;h;){if(a.isBlock(h))return h;h=h.parent}}(l);return t?!e.containsRange(Se._createOn(t),!0):!0}function ci(l,e){return!!l&&(!(!e.isCollapsed&&!l.isEmpty)||!e.start.isTouching(Xt._createAt(l,l.maxOffset))&&Jt(l,e))}function Oi(l,e){return!!l&&(!(!e.isCollapsed&&!l.isEmpty)||!e.end.isTouching(Xt._createAt(l,0))&&Jt(l,e))}_t.prototype.is=function(l){return l==="selection"||l==="model:selection"};class Ai extends(0,_.Mm)(Se){constructor(e,t){super(e,t),ji.call(this)}detach(){this.stopListening()}toRange(){return new Se(this.start,this.end)}static fromRange(e){return new Ai(e.start,e.end)}}function ji(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const t=e[0];t.isDocumentOperation&&qi.call(this,t)},{priority:"low"})}function qi(l){const e=this.getTransformedByOperation(l),t=Se._createFromRanges(e),n=!t.isEqual(this),a=function(x,H){switch(H.type){case"insert":return x.containsPosition(H.position);case"move":case"remove":case"reinsert":case"merge":return x.containsPosition(H.sourcePosition)||x.start.isEqual(H.sourcePosition)||x.containsPosition(H.targetPosition);case"split":return x.containsPosition(H.splitPosition)||x.containsPosition(H.insertionPosition)}return!1}(this,l);let h=null;if(n){t.root.rootName=="$graveyard"&&(h=l.type=="remove"?l.sourcePosition:l.deletionPosition);const x=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",x,{deletionPosition:h})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Ai.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const Ri="selection:";class kn extends(0,_.Mm)(Vn){constructor(e){super(),this._selection=new oo(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Ri+e}static _isStoreAttributeKey(e){return e.startsWith(Ri)}}kn.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class oo extends _t{constructor(e){super(),this.markers=new _.pM({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,a,h)=>{this._updateMarker(n,h)}),this.listenTo(this._document,"change",(t,n)=>{(function(a,h){const x=a.document.differ;for(const H of x.getChanges()){if(H.type!="insert")continue;const ae=H.position.parent;H.length===ae.maxOffset&&a.enqueueChange(h,be=>{const Re=Array.from(ae.getAttributeKeys()).filter(tt=>tt.startsWith(Ri));for(const tt of Re)be.removeAttribute(tt,ae)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,_.Ld)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new _.Yb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new _.Yb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Ai.fromRange(e);return t.on("change:range",(n,a,h)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const x=this._ranges.indexOf(t);this._ranges.splice(x,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const h=a.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const x=a.getRange();for(const H of this.getRanges())x.containsRange(H,!H.isCollapsed)&&e.push(a)}const n=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let a=!1;const h=Array.from(this.markers),x=this.markers.has(e);if(t){let H=!1;for(const ae of this.getRanges())if(t.containsRange(ae,!ae.isCollapsed)){H=!0;break}H&&!x?(this.markers.add(e),a=!0):!H&&x&&(this.markers.remove(e),a=!0)}else x&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(e){const t=(0,_.av)(this._getSurroundingAttributes()),n=(0,_.av)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,x]of this._attributePriority)x=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(t);const a=[];for(const[h,x]of this.getAttributes())n.has(h)&&n.get(h)===x||a.push(h);for(const[h]of n)this.hasAttribute(h)||a.push(h);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,n=!0){const a=n?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,a]of this.getAttributes())e.get(n)!==a&&this._removeAttribute(n,!1);for(const[n,a]of e)this._setAttribute(n,a,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Ri)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,h=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=bo(a,t)),n||(n=bo(h,t)),!this.isGravityOverridden&&!n){let x=a;for(;x&&!n;)x=x.previousSibling,n=bo(x,t)}if(!n){let x=h;for(;x&&!n;)x=x.nextSibling,n=bo(x,t)}n||(n=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const h of a){if(h.item.is("element")&&t.isObject(h.item)){n=bo(h.item,t);break}if(h.type=="text"){n=h.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function bo(l,e){if(!l)return null;if(l instanceof Pn||l instanceof en)return l.getAttributes();if(!e.isInline(l))return null;if(!e.isObject(l))return[];const t=[];for(const[n,a]of l.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,a]);return t}class cr{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class ir extends cr{elementToElement(e){return this.add(function(t){const n=fr(t.model),a=Uo(t.view,"container");return n.attributes.length&&(n.children=!0),h=>{h.on(`insert:${n.name}`,function(x,H=re){return(ae,be,Re)=>{if(!H(be.item,Re.consumable,{preflight:!0}))return;const tt=x(be.item,Re,be);if(!tt)return;H(be.item,Re.consumable);const gt=Re.mapper.toViewPosition(be.range.start);Re.mapper.bindElements(be.item,tt),Re.writer.insert(gt,tt),Re.convertAttributes(be.item),br(tt,be.item.getChildren(),Re,{reconversion:be.reconversion})}}(a,Zo(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&h.on("reduceChanges",mr(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=fr(t.model),a=Uo(t.view,"container");return n.children=!0,h=>{if(h._conversionApi.schema.checkChild(n.name,"$text"))throw new _.Yb("conversion-element-to-structure-disallowed-text",h,{elementName:n.name});var x,H;h.on(`insert:${n.name}`,(x=a,H=Zo(n),(ae,be,Re)=>{if(!H(be.item,Re.consumable,{preflight:!0}))return;const tt=new Map;Re.writer._registerSlotFactory(function(Qt,di,vi){return(rn,bn)=>{const eo=rn.createContainerElement("$slot");let Yo=null;if(bn==="children")Yo=Array.from(Qt.getChildren());else{if(typeof bn!="function")throw new _.Yb("conversion-slot-mode-unknown",vi.dispatcher,{modeOrFilter:bn});Yo=Array.from(Qt.getChildren()).filter(lr=>bn(lr))}return di.set(eo,Yo),eo}}(be.item,tt,Re));const gt=x(be.item,Re,be);if(Re.writer._clearSlotFactory(),!gt)return;(function(Qt,di,vi){const rn=Array.from(di.values()).flat(),bn=new Set(rn);if(bn.size!=rn.length)throw new _.Yb("conversion-slot-filter-overlap",vi.dispatcher,{element:Qt});if(bn.size!=Qt.childCount)throw new _.Yb("conversion-slot-filter-incomplete",vi.dispatcher,{element:Qt})})(be.item,tt,Re),H(be.item,Re.consumable);const Ut=Re.mapper.toViewPosition(be.range.start);Re.mapper.bindElements(be.item,gt),Re.writer.insert(Ut,gt),Re.convertAttributes(be.item),function(Qt,di,vi,rn){vi.mapper.on("modelToViewPosition",Yo,{priority:"highest"});let bn=null,eo=null;for([bn,eo]of di)br(Qt,eo,vi,rn),vi.writer.move(vi.writer.createRangeIn(bn),vi.writer.createPositionBefore(bn)),vi.writer.remove(bn);function Yo(lr,ma){const pa=ma.modelPosition.nodeAfter,ga=eo.indexOf(pa);ga<0||(ma.viewPosition=ma.mapper.findPositionIn(bn,ga))}vi.mapper.off("modelToViewPosition",Yo)}(gt,tt,Re,{reconversion:be.reconversion})}),{priority:t.converterPriority||"normal"}),h.on("reduceChanges",mr(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=(0,Vi.A)(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const x of n.values)t.view[x]=Uo(t.view[x],"attribute");else t.view=Uo(t.view,"attribute");const h=ur(t);return x=>{x.on(a,function(H){return(ae,be,Re)=>{if(!Re.consumable.test(be.item,ae.name))return;const tt=H(be.attributeOldValue,Re,be),gt=H(be.attributeNewValue,Re,be);if(!tt&&!gt)return;Re.consumable.consume(be.item,ae.name);const Ut=Re.writer,Qt=Ut.document.selection;if(be.item instanceof _t||be.item instanceof kn)Ut.wrap(Qt.getFirstRange(),gt);else{let di=Re.mapper.toViewRange(be.range);be.attributeOldValue!==null&&tt&&(di=Ut.unwrap(di,tt)),be.attributeNewValue!==null&&gt&&Ut.wrap(di,gt)}}}(h),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=(0,Vi.A)(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const x of n.values)t.view[x]=hr(t.view[x]);else t.view=hr(t.view);const h=ur(t);return x=>{var H;x.on(a,(H=h,(ae,be,Re)=>{if(!Re.consumable.test(be.item,ae.name))return;const tt=H(be.attributeOldValue,Re,be),gt=H(be.attributeNewValue,Re,be);if(!tt&&!gt)return;Re.consumable.consume(be.item,ae.name);const Ut=Re.mapper.toViewElement(be.item),Qt=Re.writer;if(!Ut)throw new _.Yb("conversion-attribute-to-attribute-on-text",Re.dispatcher,be);if(be.attributeOldValue!==null&&tt)if(tt.key=="class"){const di=typeof tt.value=="string"?tt.value.split(/\s+/):tt.value;for(const vi of di)Qt.removeClass(vi,Ut)}else if(tt.key=="style")if(typeof tt.value=="string"){const di=new fe(Qt.document.stylesProcessor);di.setTo(tt.value);for(const[vi]of di.getStylesEntries())Qt.removeStyle(vi,Ut)}else{const di=Object.keys(tt.value);for(const vi of di)Qt.removeStyle(vi,Ut)}else Qt.removeAttribute(tt.key,Ut);if(be.attributeNewValue!==null&&gt)if(gt.key=="class"){const di=typeof gt.value=="string"?gt.value.split(/\s+/):gt.value;for(const vi of di)Qt.addClass(vi,Ut)}else if(gt.key=="style")if(typeof gt.value=="string"){const di=new fe(Qt.document.stylesProcessor);di.setTo(gt.value);for(const[vi,rn]of di.getStylesEntries())Qt.setStyle(vi,rn,Ut)}else{const di=Object.keys(gt.value);for(const vi of di)Qt.setStyle(vi,gt.value[vi],Ut)}else Qt.setAttribute(gt.key,gt.value,Ut)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=Uo(t.view,"ui");return a=>{var h;a.on(`addMarker:${t.model}`,(h=n,(x,H,ae)=>{H.isOpening=!0;const be=h(H,ae);H.isOpening=!1;const Re=h(H,ae);if(!be||!Re)return;const tt=H.markerRange;if(tt.isCollapsed&&!ae.consumable.consume(tt,x.name))return;for(const Qt of tt)if(!ae.consumable.consume(Qt.item,x.name))return;const gt=ae.mapper,Ut=ae.writer;Ut.insert(gt.toViewPosition(tt.start),be),ae.mapper.bindElementToMarker(be,H.markerName),tt.isCollapsed||(Ut.insert(gt.toViewPosition(tt.end),Re),ae.mapper.bindElementToMarker(Re,H.markerName)),x.stop()}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(x,H,ae)=>{const be=ae.mapper.markerNameToElements(H.markerName);if(be){for(const Re of be)ae.mapper.unbindElementFromMarkerName(Re,H.markerName),ae.writer.clear(ae.writer.createRangeOn(Re),Re);ae.writer.clearClonedElementsGroup(H.markerName),x.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var a;n.on(`addMarker:${t.model}`,(a=t.view,(h,x,H)=>{if(!x.item||!(x.item instanceof _t||x.item instanceof kn||x.item.is("$textProxy")))return;const ae=Bo(a,x,H);if(!ae||!H.consumable.consume(x.item,h.name))return;const be=H.writer,Re=dr(be,ae),tt=be.document.selection;if(x.item instanceof _t||x.item instanceof kn)be.wrap(tt.getFirstRange(),Re);else{const gt=H.mapper.toViewRange(x.range),Ut=be.wrap(gt,Re);for(const Qt of Ut.getItems())if(Qt.is("attributeElement")&&Qt.isSimilar(Re)){H.mapper.bindElementToMarker(Qt,x.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(h){return(x,H,ae)=>{if(!H.item||!(H.item instanceof Qi))return;const be=Bo(h,H,ae);if(!be||!ae.consumable.test(H.item,x.name))return;const Re=ae.mapper.toViewElement(H.item);if(Re&&Re.getCustomProperty("addHighlight")){ae.consumable.consume(H.item,x.name);for(const tt of Se._createIn(H.item))ae.consumable.consume(tt.item,x.name);Re.getCustomProperty("addHighlight")(Re,be,ae.writer),ae.mapper.bindElementToMarker(Re,H.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(h){return(x,H,ae)=>{if(H.markerRange.isCollapsed)return;const be=Bo(h,H,ae);if(!be)return;const Re=dr(ae.writer,be),tt=ae.mapper.markerNameToElements(H.markerName);if(tt){for(const gt of tt)ae.mapper.unbindElementFromMarkerName(gt,H.markerName),gt.is("attributeElement")?ae.writer.unwrap(ae.writer.createRangeOn(gt),Re):gt.getCustomProperty("removeHighlight")(gt,be.id,ae.writer);ae.writer.clearClonedElementsGroup(H.markerName),x.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=(0,Vi.A)(t);const n=t.model;let a=t.view;return a||(a=h=>({group:n,name:h.substr(t.model.length+1)})),h=>{var x;h.on(`addMarker:${n}`,(x=a,(H,ae,be)=>{const Re=x(ae.markerName,be);if(!Re)return;const tt=ae.markerRange;be.consumable.consume(tt,H.name)&&(Sr(tt,!1,be,ae,Re),Sr(tt,!0,be,ae,Re),H.stop())}),{priority:t.converterPriority||"normal"}),h.on(`removeMarker:${n}`,function(H){return(ae,be,Re)=>{const tt=H(be.markerName,Re);if(!tt)return;const gt=Re.mapper.markerNameToElements(be.markerName);if(gt){for(const Qt of gt)Re.mapper.unbindElementFromMarkerName(Qt,be.markerName),Qt.is("containerElement")?(Ut(`data-${tt.group}-start-before`,Qt),Ut(`data-${tt.group}-start-after`,Qt),Ut(`data-${tt.group}-end-before`,Qt),Ut(`data-${tt.group}-end-after`,Qt)):Re.writer.clear(Re.writer.createRangeOn(Qt),Qt);Re.writer.clearClonedElementsGroup(be.markerName),ae.stop()}function Ut(Qt,di){if(di.hasAttribute(Qt)){const vi=new Set(di.getAttribute(Qt).split(","));vi.delete(tt.name),vi.size==0?Re.writer.removeAttribute(Qt,di):Re.writer.setAttribute(Qt,Array.from(vi).join(","),di)}}}}(a),{priority:t.converterPriority||"normal"})}}(e))}}function dr(l,e){const t=l.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Sr(l,e,t,n,a){const h=e?l.start:l.end,x=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,H=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(x||H){let ae,be;e&&x||!e&&!H?(ae=x,be=!0):(ae=H,be=!1);const Re=t.mapper.toViewElement(ae);if(Re)return void function(tt,gt,Ut,Qt,di,vi){const rn=`data-${vi.group}-${gt?"start":"end"}-${Ut?"before":"after"}`,bn=tt.hasAttribute(rn)?tt.getAttribute(rn).split(","):[];bn.unshift(vi.name),Qt.writer.setAttribute(rn,bn.join(","),tt),Qt.mapper.bindElementToMarker(tt,di.markerName)}(Re,e,be,t,n,a)}(function(ae,be,Re,tt,gt){const Ut=`${gt.group}-${be?"start":"end"}`,Qt=gt.name?{name:gt.name}:null,di=Re.writer.createUIElement(Ut,Qt);Re.writer.insert(ae,di),Re.mapper.bindElementToMarker(di,tt.markerName)})(t.mapper.toViewPosition(h),e,t,n,a)}function fr(l){return typeof l=="string"&&(l={name:l}),{name:l.name,attributes:l.attributes?(0,_.$r)(l.attributes):[],children:!!l.children}}function Uo(l,e){return typeof l=="function"?l:(t,n)=>function(a,h,x){typeof a=="string"&&(a={name:a});let H;const ae=h.writer,be=Object.assign({},a.attributes);if(x=="container")H=ae.createContainerElement(a.name,be);else if(x=="attribute"){const Re={priority:a.priority||Ye.DEFAULT_PRIORITY};H=ae.createAttributeElement(a.name,be,Re)}else H=ae.createUIElement(a.name,be);if(a.styles){const Re=Object.keys(a.styles);for(const tt of Re)ae.setStyle(tt,a.styles[tt],H)}if(a.classes){const Re=a.classes;if(typeof Re=="string")ae.addClass(Re,H);else for(const tt of Re)ae.addClass(tt,H)}return H}(l,n,e)}function ur(l){return l.model.values?(e,t,n)=>{const a=l.view[e];return a?a(e,t,n):null}:l.view}function hr(l){return typeof l=="string"?e=>({key:l,value:e}):typeof l=="object"?l.value?()=>l:e=>({key:l.key,value:e}):l}function Bo(l,e,t){const n=typeof l=="function"?l(e,t):l;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function mr(l){const e=function(t){return(n,a)=>{if(!n.is("element",t.name))return!1;if(a.type=="attribute"){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(l);return(t,n)=>{const a=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const h of n.changes){const x=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(x&&e(x,h)){if(!n.reconvertedElements.has(x)){n.reconvertedElements.add(x);const H=Xt._createBefore(x);let ae=a.length;for(let be=a.length-1;be>=0;be--){const Re=a[be],tt=(Re.type=="attribute"?Re.range.start:Re.position).compareWith(H);if(tt=="before"||Re.type=="remove"&&tt=="same")break;ae=be}a.splice(ae,0,{type:"remove",name:x.name,position:H,length:1},{type:"reinsert",name:x.name,position:H,length:1})}}else a.push(h)}n.changes=a}}function Zo(l){return(e,t,n={})=>{const a=["insert"];for(const h of l.attributes)e.hasAttribute(h)&&a.push(`attribute:${h}`);return!!a.every(h=>t.test(e,h))&&(n.preflight||a.forEach(h=>t.consume(e,h)),!0)}}function br(l,e,t,n){for(const a of e)se(l.root,a,t,n)||t.convertItem(a)}function se(l,e,t,n){const{writer:a,mapper:h}=t;if(!n.reconversion)return!1;const x=h.toViewElement(e);return!(!x||x.root==l)&&!!t.canReuseView(x)&&(a.move(a.createRangeOn(x),h.toViewPosition(Xt._createBefore(e))),!0)}function re(l,e,{preflight:t}={}){return t?e.test(l,"insert"):e.consume(l,"insert")}function Je(l){const{schema:e,document:t}=l.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return l.insertElement("paragraph",n),!0;return!1}function At(l,e,t){const n=t.createContext(l);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function si(l,e){const t=e.createElement("paragraph");return e.insert(t,l),e.createPositionAt(t,0)}var Ei=Object.defineProperty,Si=Object.defineProperties,Ti=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,yo=Object.prototype.propertyIsEnumerable,ho=(l,e,t)=>e in l?Ei(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;class Tn extends cr{elementToElement(e){return this.add(Eo(e))}elementToAttribute(e){return this.add(function(t){t=(0,Vi.A)(t),Dn(t);const n=Qn(t,!1),a=Lo(t.view),h=a?`element:${a}`:"element";return x=>{x.on(h,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=(0,Vi.A)(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(h){typeof h.view=="string"&&(h.view={key:h.view});const x=h.view.key,H=h.view.value===void 0?/[\s\S]*/:h.view.value;let ae;return x=="class"||x=="style"?ae={[x=="class"?"classes":"styles"]:H}:ae={attributes:{[x]:H}},h.view.name&&(ae.name=h.view.name),h.view=ae,x}(t)),Dn(t,n);const a=Qn(t,!0);return h=>{h.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(x){return(H,ae)=>{const be=typeof x=="string"?x:x(H,ae);return ae.writer.createElement("$marker",{"data-name":be})}}(t.model);return Eo((a=((x,H)=>{for(var ae in H||(H={}))dn.call(H,ae)&&ho(x,ae,H[ae]);if(gn)for(var ae of gn(H))yo.call(H,ae)&&ho(x,ae,H[ae]);return x})({},t),h={model:n},Si(a,Ti(h))));var a,h}(e))}dataToMarker(e){return this.add(function(t){t=(0,Vi.A)(t),t.model||(t.model=x=>x?t.view+":"+x:t.view);const n={view:t.view,model:t.model},a=wo(ro(n,"start")),h=wo(ro(n,"end"));return x=>{x.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),x.on(`element:${t.view}-end`,h,{priority:t.converterPriority||"normal"});const H=_.vx.low,ae=_.vx.highest,be=_.vx.get(t.converterPriority)/ae;x.on("element",function(Re){return(tt,gt,Ut)=>{const Qt=`data-${Re.view}`;function di(vi,rn){for(const bn of rn){const eo=Re.model(bn,Ut),Yo=Ut.writer.createElement("$marker",{"data-name":eo});Ut.writer.insert(Yo,vi),gt.modelCursor.isEqual(vi)?gt.modelCursor=gt.modelCursor.getShiftedBy(1):gt.modelCursor=gt.modelCursor._getTransformedByInsertion(vi,1),gt.modelRange=gt.modelRange._getTransformedByInsertion(vi,1)[0]}}(Ut.consumable.test(gt.viewItem,{attributes:Qt+"-end-after"})||Ut.consumable.test(gt.viewItem,{attributes:Qt+"-start-after"})||Ut.consumable.test(gt.viewItem,{attributes:Qt+"-end-before"})||Ut.consumable.test(gt.viewItem,{attributes:Qt+"-start-before"}))&&(gt.modelRange||Object.assign(gt,Ut.convertChildren(gt.viewItem,gt.modelCursor)),Ut.consumable.consume(gt.viewItem,{attributes:Qt+"-end-after"})&&di(gt.modelRange.end,gt.viewItem.getAttribute(Qt+"-end-after").split(",")),Ut.consumable.consume(gt.viewItem,{attributes:Qt+"-start-after"})&&di(gt.modelRange.end,gt.viewItem.getAttribute(Qt+"-start-after").split(",")),Ut.consumable.consume(gt.viewItem,{attributes:Qt+"-end-before"})&&di(gt.modelRange.start,gt.viewItem.getAttribute(Qt+"-end-before").split(",")),Ut.consumable.consume(gt.viewItem,{attributes:Qt+"-start-before"})&&di(gt.modelRange.start,gt.viewItem.getAttribute(Qt+"-start-before").split(",")))}}(n),{priority:H+be})}}(e))}}function Eo(l){const e=wo(l=(0,Vi.A)(l)),t=Lo(l.view),n=t?`element:${t}`:"element";return a=>{a.on(n,e,{priority:l.converterPriority||"normal"})}}function Lo(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function wo(l){const e=new W(l.view);return(t,n,a)=>{const h=e.match(n.viewItem);if(!h)return;const x=h.match;if(x.name=!0,!a.consumable.test(n.viewItem,x))return;const H=function(ae,be,Re){return ae instanceof Function?ae(be,Re):Re.writer.createElement(ae)}(l.model,n.viewItem,a);H&&a.safeInsert(H,n.modelCursor)&&(a.consumable.consume(n.viewItem,x),a.convertChildren(n.viewItem,H),a.updateConversionResult(H,n))}}function Dn(l,e=null){const t=e===null||(h=>h.getAttribute(e)),n=typeof l.model!="object"?l.model:l.model.key,a=typeof l.model!="object"||l.model.value===void 0?t:l.model.value;l.model={key:n,value:a}}function Qn(l,e){const t=new W(l.view);return(n,a,h)=>{if(!a.modelRange&&e)return;const x=t.match(a.viewItem);if(!x||(function(Re,tt){const gt=typeof Re=="function"?Re(tt):Re;return typeof gt=="object"&&!Lo(gt)?!1:!gt.classes&&!gt.attributes&&!gt.styles}(l.view,a.viewItem)?x.match.name=!0:delete x.match.name,!h.consumable.test(a.viewItem,x.match)))return;const H=l.model.key,ae=typeof l.model.value=="function"?l.model.value(a.viewItem,h):l.model.value;if(ae===null)return;a.modelRange||Object.assign(a,h.convertChildren(a.viewItem,a.modelCursor)),function(Re,tt,gt,Ut){let Qt=!1;for(const di of Array.from(Re.getItems({shallow:gt})))Ut.schema.checkAttribute(di,tt.key)&&(Qt=!0,di.hasAttribute(tt.key)||Ut.writer.setAttribute(tt.key,tt.value,di));return Qt}(a.modelRange,{key:H,value:ae},e,h)&&(h.consumable.test(a.viewItem,{name:!0})&&(x.match.name=!0),h.consumable.consume(a.viewItem,x.match))}}function ro(l,e){return{view:`${l.view}-${e}`,model:(t,n)=>{const a=t.getAttribute("name"),h=l.model(a,n);return n.writer.createElement("$marker",{"data-name":h})}}}function So(l){l.document.registerPostFixer(e=>function(t,n){const a=n.document.selection,h=n.schema,x=[];let H=!1;for(const ae of a.getRanges()){const be=Oo(ae,h);be&&!be.isEqual(ae)?(x.push(be),H=!0):x.push(ae)}return H&&t.setSelection(function(ae){const be=[...ae],Re=new Set;let tt=1;for(;tt<be.length;){const gt=be[tt],Ut=be.slice(0,tt);for(const[Qt,di]of Ut.entries())if(!Re.has(Qt)){if(gt.isEqual(di))Re.add(Qt);else if(gt.isIntersecting(di)){Re.add(Qt),Re.add(tt);const vi=gt.getJoined(di);be.push(vi)}}tt++}return be.filter((gt,Ut)=>!Re.has(Ut))}(x),{backward:a.isBackward}),!1}(e,l))}function Oo(l,e){return l.isCollapsed?function(t,n){const a=t.start,h=n.getNearestSelectionRange(a);if(!h){const H=a.getAncestors().reverse().find(ae=>n.isObject(ae));return H?Se._createOn(H):null}if(!h.isCollapsed)return h;const x=h.start;return a.isEqual(x)?null:new Se(x)}(l,e):function(t,n){const{start:a,end:h}=t,x=n.checkChild(a,"$text"),H=n.checkChild(h,"$text"),ae=n.getLimitElement(a),be=n.getLimitElement(h);if(ae===be){if(x&&H)return null;if(function(gt,Ut,Qt){const di=gt.nodeAfter&&!Qt.isLimit(gt.nodeAfter)||Qt.checkChild(gt,"$text"),vi=Ut.nodeBefore&&!Qt.isLimit(Ut.nodeBefore)||Qt.checkChild(Ut,"$text");return di||vi}(a,h,n)){const gt=a.nodeAfter&&n.isSelectable(a.nodeAfter)?null:n.getNearestSelectionRange(a,"forward"),Ut=h.nodeBefore&&n.isSelectable(h.nodeBefore)?null:n.getNearestSelectionRange(h,"backward"),Qt=gt?gt.start:a,di=Ut?Ut.end:h;return new Se(Qt,di)}}const Re=ae&&!ae.is("rootElement"),tt=be&&!be.is("rootElement");if(Re||tt){const gt=a.nodeAfter&&h.nodeBefore&&a.nodeAfter.parent===h.nodeBefore.parent,Ut=Re&&(!gt||!kr(a.nodeAfter,n)),Qt=tt&&(!gt||!kr(h.nodeBefore,n));let di=a,vi=h;return Ut&&(di=Xt._createBefore(wr(ae,n))),Qt&&(vi=Xt._createAfter(wr(be,n))),new Se(di,vi)}return null}(l,e)}function wr(l,e){let t=l,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function kr(l,e){return l&&e.isSelectable(l)}class _r extends(0,_.VM)(){constructor(e,t){super(),this.model=e,this.view=new wn(t),this.mapper=new Nt,this.downcastDispatcher=new Ue({mapper:this.mapper,schema:e.schema});const n=this.model.document,a=n.selection,h=this.model.markers;var x,H,ae;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(be=>{this.downcastDispatcher.convertChanges(n.differ,h,be),this.downcastDispatcher.convertSelection(a,h,be)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(be,Re){return(tt,gt)=>{const Ut=gt.newSelection,Qt=[];for(const vi of Ut.getRanges())Qt.push(Re.toModelRange(vi));const di=be.createSelection(Qt,{backward:Ut.isBackward});di.isEqual(be.document.selection)||be.change(vi=>{vi.setSelection(di)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(x=this.mapper,H=this.model.schema,ae=this.view,(be,Re)=>{if(!ae.document.isComposing||_._K.isAndroid)for(let tt=0;tt<Re.targetRanges.length;tt++){const gt=Re.targetRanges[tt],Ut=x.toModelRange(gt),Qt=Oo(Ut,H);Qt&&!Qt.isEqual(Ut)&&(Re.targetRanges[tt]=x.toViewRange(Qt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(be,Re,tt)=>{if(!tt.consumable.consume(Re.item,be.name))return;const gt=tt.writer,Ut=tt.mapper.toViewPosition(Re.range.start),Qt=gt.createText(Re.item.data);gt.insert(Ut,Qt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(be,Re,tt)=>{tt.convertAttributes(Re.item),Re.reconversion||!Re.item.is("element")||Re.item.isEmpty||tt.convertChildren(Re.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(be,Re,tt)=>{const gt=tt.mapper.toViewPosition(Re.position),Ut=Re.position.getShiftedBy(Re.length),Qt=tt.mapper.toViewPosition(Ut,{isPhantom:!0}),di=tt.writer.createRange(gt,Qt),vi=tt.writer.remove(di.getTrimmed());for(const rn of tt.writer.createRangeIn(vi).getItems())tt.mapper.unbindViewElement(rn,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(be,Re,tt)=>{const gt=tt.writer,Ut=gt.document.selection;for(const Qt of Ut.getRanges())Qt.isCollapsed&&Qt.end.parent.isAttached()&&tt.writer.mergeAttributes(Qt.start);gt.setSelection(null)}),this.downcastDispatcher.on("selection",(be,Re,tt)=>{const gt=Re.selection;if(gt.isCollapsed||!tt.consumable.consume(gt,"selection"))return;const Ut=[];for(const Qt of gt.getRanges())Ut.push(tt.mapper.toViewRange(Qt));tt.writer.setSelection(Ut,{backward:gt.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(be,Re,tt)=>{const gt=Re.selection;if(!gt.isCollapsed||!tt.consumable.consume(gt,"selection"))return;const Ut=tt.writer,Qt=gt.getFirstPosition(),di=tt.mapper.toViewPosition(Qt),vi=Ut.breakAttributes(di);Ut.setSelection(vi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(be=>{if(be.rootName=="$graveyard")return null;const Re=new Yt(this.view.document,be.name);return Re.rootName=be.rootName,this.mapper.bindElements(be,Re),Re})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new _.Yb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Jo{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new vr(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const x of n)x!="style"&&x!="class"&&t.attributes.push(x);const a=e.getClassNames();for(const x of a)t.classes.push(x);const h=e.getStyleNames();for(const x of h)t.styles.push(x);return t}static createFrom(e,t){if(t||(t=new Jo),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Jo.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=Jo.createFrom(n,t);return t}}const fn=["attributes","classes","styles"];class vr{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of fn)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of fn)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of fn)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of fn)t in e&&this._revert(t,e[t])}_add(e,t){const n=(0,_.$r)(t),a=this._consumables[e];for(const h of n){if(e==="attributes"&&(h==="class"||h==="style"))throw new _.Yb("viewconsumable-invalid-attribute",this);if(a.set(h,!0),e==="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(x,!0)}}_test(e,t){const n=(0,_.$r)(t),a=this._consumables[e];for(const h of n)if(e!=="attributes"||h!=="class"&&h!=="style"){const x=a.get(h);if(x===void 0)return null;if(!x)return!1}else{const x=h=="class"?"classes":"styles",H=this._test(x,[...this._consumables[x].keys()]);if(H!==!0)return H}return!0}_consume(e,t){const n=(0,_.$r)(t),a=this._consumables[e];for(const h of n)if(e!=="attributes"||h!=="class"&&h!=="style"){if(a.set(h,!1),e=="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(h))a.set(x,!1)}else{const x=h=="class"?"classes":"styles";this._consume(x,[...this._consumables[x].keys()])}}_revert(e,t){const n=(0,_.$r)(t),a=this._consumables[e];for(const h of n)if(e!=="attributes"||h!=="class"&&h!=="style")a.get(h)===!1&&a.set(h,!0);else{const x=h=="class"?"classes":"styles";this._revert(x,[...this._consumables[x].keys()])}}}class tn extends(0,_.VM)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new xn(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new xn(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new _.Yb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new _.Yb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Xt){const n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof Qi))throw new _.Yb("schema-check-merge-no-element-before",this);if(!(a instanceof Qi))throw new _.Yb("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,a])=>{if(!a)return;const h=e(n,a);typeof h=="boolean"&&(t.stop(),t.return=h)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,a])=>{const h=e(n,a);typeof h=="boolean"&&(t.stop(),t.return=h)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Xt?t=e.parent:t=(e instanceof Se?[e]:Array.from(e.getRanges())).reduce((n,a)=>{const h=a.getCommonAncestor();return n?n.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new en("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const a of n)for(const h of a)if(this.checkAttribute(h.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const a of n)yield*a.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Se(e);let n,a;const h=e.getAncestors().reverse().find(x=>this.isLimit(x))||e.root;t!="both"&&t!="backward"||(n=new no({boundaries:Se._createIn(h),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(a=new no({boundaries:Se._createIn(h),startPosition:e}));for(const x of function*(H,ae){let be=!1;for(;!be;){if(be=!0,H){const Re=H.next();Re.done||(be=!1,yield{walker:H,value:Re.value})}if(ae){const Re=ae.next();Re.done||(be=!1,yield{walker:ae,value:Re.value})}}}(n,a)){const H=x.walker==n?"elementEnd":"elementStart",ae=x.value;if(ae.type==H&&this.isObject(ae.item))return Se._createOn(ae.item);if(this.checkChild(ae.nextPosition,"$text"))return new Se(ae.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const a=n.model;for(const[h,x]of Object.entries(t))a.schema.checkAttribute(e,h)&&n.setAttribute(h,x,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))bs(this,n,t);else{const a=Se._createIn(n).getPositions();for(const h of a)bs(this,h.nodeBefore||h.parent,t)}}getAttributesWithProperty(e,t,n){const a={};for(const[h,x]of e.getAttributes()){const H=this.getAttributeProperties(h);H[t]!==void 0&&(n!==void 0&&n!==H[t]||(a[h]=x))}return a}createContext(e){return new xn(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const a of n)e[a]=_n(t[a],a);for(const a of n)zn(e,a);for(const a of n)jo(e,a);for(const a of n)Io(e,a);for(const a of n)ko(e,a),Vo(e,a);for(const a of n)mo(e,a),Un(e,a),lo(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const a=t.getItem(n);if(e.allowIn.includes(a.name)){if(n==0)return!0;{const h=this.getDefinition(a);return this._checkContextMatch(h,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,a=e.start;for(const h of e.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(Se._createIn(h),t)),this.checkAttribute(h,t)||(n.isEqual(a)||(yield new Se(n,a)),n=Xt._createAfter(h)),a=Xt._createAfter(h);n.isEqual(a)||(yield new Se(n,a))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return t=="before"||t=="after"?new Se(Xt._createAt(n,t)):Se._createOn(n);const a=(0,_.$1)(e.getSelectedBlocks());if(!a)return new Se(e.focus);if(a.isEmpty)return new Se(Xt._createAt(a,0));const h=Xt._createAfter(a);return e.focus.isTouching(h)?new Se(h):new Se(Xt._createBefore(a))}}class xn{constructor(e){if(e instanceof xn)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Do)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new xn([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function _n(l,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,a){for(const h of n){const x=Object.keys(h).filter(H=>H.startsWith("is"));for(const H of x)a[H]=!!h[H]}}(l,t),En(l,t,"allowIn"),En(l,t,"allowContentOf"),En(l,t,"allowWhere"),En(l,t,"allowAttributes"),En(l,t,"allowAttributesOf"),En(l,t,"allowChildren"),En(l,t,"inheritTypesFrom"),function(n,a){for(const h of n){const x=h.inheritAllFrom;x&&(a.allowContentOf.push(x),a.allowWhere.push(x),a.allowAttributesOf.push(x),a.inheritTypesFrom.push(x))}}(l,t),t}function zn(l,e){const t=l[e];for(const n of t.allowChildren){const a=l[n];a&&a.allowIn.push(e)}t.allowChildren.length=0}function jo(l,e){for(const t of l[e].allowContentOf)l[t]&&qn(l,t).forEach(n=>{n.allowIn.push(e)});delete l[e].allowContentOf}function Io(l,e){for(const t of l[e].allowWhere){const n=l[t];if(n){const a=n.allowIn;l[e].allowIn.push(...a)}}delete l[e].allowWhere}function ko(l,e){for(const t of l[e].allowAttributesOf){const n=l[t];if(n){const a=n.allowAttributes;l[e].allowAttributes.push(...a)}}delete l[e].allowAttributesOf}function Vo(l,e){const t=l[e];for(const n of t.inheritTypesFrom){const a=l[n];if(a){const h=Object.keys(a).filter(x=>x.startsWith("is"));for(const x of h)x in t||(t[x]=a[x])}}delete t.inheritTypesFrom}function mo(l,e){const t=l[e],n=t.allowIn.filter(a=>l[a]);t.allowIn=Array.from(new Set(n))}function Un(l,e){const t=l[e];for(const n of t.allowIn)l[n].allowChildren.push(e)}function lo(l,e){const t=l[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function En(l,e,t){for(const n of l){const a=n[t];typeof a=="string"?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function qn(l,e){const t=l[e];return(n=l,Object.keys(n).map(a=>n[a])).filter(a=>a.allowIn.includes(t.name));var n}function Do(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:e=>l.getAttribute(e)}}function bs(l,e,t){for(const n of e.getAttributeKeys())l.checkAttribute(e,n)||t.removeAttribute(n,e)}var ws=Object.defineProperty,Gs=Object.defineProperties,Zs=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,Gr=(l,e,t)=>e in l?ws(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;class Js extends(0,_.Mm)(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,a)=>{for(var h in a||(a={}))Yr.call(a,h)&&Gr(n,h,a[h]);if(Ir)for(var h of Ir(a))ks.call(a,h)&&Gr(n,h,a[h]);return n})({},e),Gs(t,Zs({consumable:null,writer:null,store:null,convertItem:(n,a)=>this._convertItem(n,a),convertChildren:(n,a)=>this._convertChildren(n,a),safeInsert:(n,a)=>this._safeInsert(n,a),updateConversionResult:(n,a)=>this._updateConversionResult(n,a),splitToAllowedParent:(n,a)=>this._splitToAllowedParent(n,a),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(x,H){let ae;for(const be of new xn(x)){const Re={};for(const gt of be.getAttributeKeys())Re[gt]=be.getAttribute(gt);const tt=H.createElement(be.name,Re);ae&&H.insert(tt,ae),ae=Xt._createAt(tt,0)}return ae}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Jo.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),h=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const x of Array.from(this._modelCursor.parent.getChildren()))t.append(x,h);h.markers=function(x,H){const ae=new Set,be=new Map,Re=Se._createIn(x).getItems();for(const tt of Re)tt.is("element","$marker")&&ae.add(tt);for(const tt of ae){const gt=tt.getAttribute("data-name"),Ut=H.createPositionBefore(tt);be.has(gt)?be.get(gt).end=Ut.clone():be.set(gt,new Se(Ut.clone())),H.remove(tt)}return be}(h,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Se))throw new _.Yb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:Xt._createAt(t,0);const a=new Se(n);for(const h of Array.from(e.getChildren())){const x=this._convertItem(h,n);x.modelRange instanceof Se&&(a.end=x.modelRange.end,n=x.modelCursor)}return{modelRange:a,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));const h=this._cursorParents.get(e);t.modelCursor=h?a.createPositionAt(h,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:a}=this.conversionApi;let h=n.findAllowedParent(t,e);if(h){if(h===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return At(t,e,n)?{position:si(t,a)}:null;const x=this.conversionApi.writer.split(t,h),H=[];for(const be of x.range.getWalker())if(be.type=="elementEnd")H.push(be.item);else{const Re=H.pop(),tt=be.item;this._registerSplitPair(Re,tt)}const ae=x.range.end.parent;return this._cursorParents.set(e,ae),{position:x.position,cursorParent:ae}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class Qs{getHtml(e){const t=_.global.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Qo{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new cn(e,{renderingMode:"data"}),this.htmlWriter=new Qs}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)n.appendChild(a[0]);return n}}class _s extends(0,_.Mm)(){constructor(e,t){super(),this.model=e,this.mapper=new Nt,this.downcastDispatcher=new Ue({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,a,h)=>{if(!h.consumable.consume(a.item,n.name))return;const x=h.writer,H=h.mapper.toViewPosition(a.range.start),ae=x.createText(a.item.data);x.insert(H,ae)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,a,h)=>{h.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||h.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new Js({schema:e.schema}),this.viewDocument=new Ze(t),this.stylesProcessor=t,this.htmlProcessor=new Qo(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Ni(this.viewDocument),this.upcastDispatcher.on("text",(n,a,{schema:h,consumable:x,writer:H})=>{let ae=a.modelCursor;if(!x.test(a.viewItem))return;if(!h.checkChild(ae,"$text")){if(!At(ae,"$text",h)||a.viewItem.data.trim().length==0)return;const Re=ae.nodeBefore;ae=si(ae,H),Re&&Re.is("element","$marker")&&(H.move(H.createRangeOn(Re),ae),ae=H.createPositionAfter(Re))}x.consume(a.viewItem);const be=H.createText(a.viewItem.data);H.insert(be,ae),a.modelRange=H.createRange(ae,ae.getShiftedBy(be.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:x,modelCursor:H}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=x,a.modelCursor=H}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,a,h)=>{if(!a.modelRange&&h.consumable.consume(a.viewItem,{name:!0})){const{modelRange:x,modelCursor:H}=h.convertChildren(a.viewItem,a.modelCursor);a.modelRange=x,a.modelCursor=H}},{priority:"lowest"}),(0,_.VM)().prototype.decorate.call(this,"init"),(0,_.VM)().prototype.decorate.call(this,"set"),(0,_.VM)().prototype.decorate.call(this,"get"),(0,_.VM)().prototype.decorate.call(this,"toView"),(0,_.VM)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Je)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new _.Yb("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return a.isAttached()||(0,_.FF)("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const h=Se._createIn(e),x=new mi(n);this.mapper.bindElements(e,x);const H=e.is("documentFragment")?e.markers:function(ae){const be=[],Re=ae.root.document;if(!Re)return new Map;const tt=Se._createIn(ae);for(const gt of Re.model.markers){const Ut=gt.getRange(),Qt=Ut.isCollapsed,di=Ut.start.isEqual(tt.start)||Ut.end.isEqual(tt.end);if(Qt&&di)be.push([gt.name,Ut]);else{const vi=tt.getIntersection(Ut);vi&&be.push([gt.name,vi])}}return be.sort(([gt,Ut],[Qt,di])=>{if(Ut.end.compareWith(di.start)!=="after")return 1;if(Ut.start.compareWith(di.end)!=="before")return-1;switch(Ut.start.compareWith(di.start)){case"before":return 1;case"after":return-1;default:switch(Ut.end.compareWith(di.end)){case"before":return 1;case"after":return-1;default:return Qt.localeCompare(gt)}}}),new Map(be)}(e);return this.downcastDispatcher.convert(h,H,a,t),x}init(e){if(this.model.document.version)throw new _.Yb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new _.Yb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const a of Object.keys(t)){const h=this.model.document.getRoot(a);n.insert(this.parse(t[a],h),h,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new _.Yb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(n)){const x=this.model.document.getRoot(h);a.remove(a.createRangeIn(x)),a.insert(this.parse(n[h],x),x,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class vs{constructor(e,t){this._helpers=new Map,this._downcast=(0,_.$r)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,_.$r)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new _.Yb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new _.Yb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Pr(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Pr(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Pr(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new _.Yb("conversion-group-exists",this);const a=n?new ir(t):new Tn(t);this._helpers.set(e,a)}}function*Pr(l){if(l.model.values)for(const e of l.model.values){const t={key:l.model.key,value:e},n=l.view[e],a=l.upcastAlso?l.upcastAlso[e]:void 0;yield*ys(t,n,a)}else yield*ys(l.model,l.view,l.upcastAlso)}function*ys(l,e,t){if(yield{model:l,view:e},t)for(const n of(0,_.$r)(t))yield{model:l,view:n}}class Po{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Zr(l,e){const t=nr(e),n=t.reduce((x,H)=>x+H.offsetSize,0),a=l.parent;Go(l);const h=l.index;return a._insertChild(h,t),Wo(a,h+t.length),Wo(a,h),new Se(l,l.getShiftedBy(n))}function xs(l){if(!l.isFlat)throw new _.Yb("operation-utils-remove-range-not-flat",this);const e=l.start.parent;Go(l.start),Go(l.end);const t=e._removeChildren(l.start.index,l.end.index-l.start.index);return Wo(e,l.start.index),t}function yr(l,e){if(!l.isFlat)throw new _.Yb("operation-utils-move-range-not-flat",this);const t=xs(l);return Zr(e=e._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),t)}function nr(l){const e=[];(function t(n){if(typeof n=="string")e.push(new en(n));else if(n instanceof Pn)e.push(new en(n.data,n.getAttributes()));else if(n instanceof Cn)e.push(n);else if((0,_.xZ)(n))for(const a of n)t(a)})(l);for(let t=1;t<e.length;t++){const n=e[t],a=e[t-1];n instanceof en&&a instanceof en&&As(n,a)&&(e.splice(t-1,2,new en(a.data+n.data,a.getAttributes())),t--)}return e}function Wo(l,e){const t=l.getChild(e-1),n=l.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&As(t,n)){const a=new en(t.data+n.data,t.getAttributes());l._removeChildren(e-1,2),l._insertChild(e-1,a)}}function Go(l){const e=l.textNode,t=l.parent;if(e){const n=l.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const h=new en(e.data.substr(0,n),e.getAttributes()),x=new en(e.data.substr(n),e.getAttributes());t._insertChild(a,[h,x])}}function As(l,e){const t=l.getAttributes(),n=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;n.next()}return n.next().done}class yn extends Po{constructor(e,t,n,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Se._createFromPositionAndShift(this.sourcePosition,this.howMany),Se._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new yn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new yn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new _.Yb("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new _.Yb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,_.ww)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=n&&this.targetPosition.path[h]<n+this.howMany)throw new _.Yb("move-operation-node-into-itself",this)}}_execute(){yr(Se._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Xt.fromJSON(e.sourcePosition,t),a=Xt.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}}class co extends Po{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Rn(nr(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Rn([...this.nodes].map(n=>n._clone(!0))),t=new co(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Xt(e,[0]);return new yn(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new _.Yb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Rn([...e].map(t=>t._clone(!0))),Zr(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const h of e.nodes)h.name?n.push(Qi.fromJSON(h)):n.push(en.fromJSON(h));const a=new co(Xt.fromJSON(e.position,t),n,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class Mn extends Po{constructor(e,t,n,a,h){super(h),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Xt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Se(this.splitPosition,e)}get affectedSelectable(){const e=[Se._createFromPositionAndShift(this.splitPosition,0),Se._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Se._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Mn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Xt(e,[0]);return new Kn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new _.Yb("split-operation-position-invalid",this);if(!e.parent)throw new _.Yb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new _.Yb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new _.Yb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)yr(Se._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Zr(this.insertionPosition,t)}yr(new Se(Xt._createAt(e,this.splitPosition.offset),Xt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Xt(e.root,t,"toPrevious")}static fromJSON(e,t){const n=Xt.fromJSON(e.splitPosition,t),a=Xt.fromJSON(e.insertionPosition,t),h=e.graveyardPosition?Xt.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,a,h,e.baseVersion)}}class Kn extends Po{constructor(e,t,n,a,h){super(h),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new Xt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Se(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Se._createOn(e),Se._createFromPositionAndShift(this.targetPosition,0),Se._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Kn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Xt(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Mn(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new _.Yb("merge-operation-source-position-invalid",this);if(!t.parent)throw new _.Yb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new _.Yb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;yr(Se._createIn(e),this.targetPosition),yr(Se._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Xt.fromJSON(e.sourcePosition,t),a=Xt.fromJSON(e.targetPosition,t),h=Xt.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,h,e.baseVersion)}}class xo extends Po{constructor(e,t,n,a,h,x){super(x),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=h,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new xo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new xo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new xo(e.name,e.oldRange?Se.fromJSON(e.oldRange,t):null,e.newRange?Se.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const Jr=function(l,e){return(0,$e.A)(l,e)};class Nn extends Po{constructor(e,t,n,a,h){super(h),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Nn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Nn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new _.Yb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Jr(e.getAttribute(this.key),this.oldValue))throw new _.Yb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new _.Yb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Jr(this.oldValue,this.newValue)||function(e,t,n){Go(e.start),Go(e.end);for(const a of e.getItems({shallow:!0})){const h=a.is("$textProxy")?a.textNode:a;n!==null?h._setAttribute(t,n):h._removeAttribute(t),Wo(h.parent,h.index)}Wo(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Nn(Se.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Xn extends Po{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Xn(this.baseVersion)}getReversed(){return new Xn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ao extends Po{constructor(e,t,n,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ao(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ao(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Qi))throw new _.Yb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new _.Yb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ao(Xt.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class $o extends Po{constructor(e,t,n,a,h){super(h),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new $o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new $o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new _.Yb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new _.Yb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new _.Yb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new _.Yb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new $o(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Mo extends Po{constructor(e,t,n,a,h){super(h),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Mo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Mo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Mo(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Ro={};Ro[Nn.className]=Nn,Ro[co.className]=co,Ro[xo.className]=xo,Ro[yn.className]=yn,Ro[Xn.className]=Xn,Ro[Po.className]=Po,Ro[Ao.className]=Ao,Ro[$o.className]=$o,Ro[Mo.className]=Mo,Ro[Mn.className]=Mn,Ro[Kn.className]=Kn;class Cs{static fromJSON(e,t){return Ro[e.__className].fromJSON(e,t)}}const Mr=new Map;function An(l,e,t){let n=Mr.get(l);n||(n=new Map,Mr.set(l,n)),n.set(e,t)}function or(l){return[l]}function Qr(l,e,t={}){const n=function(a,h){const x=Mr.get(a);return x&&x.has(h)?x.get(h):or}(l.constructor,e.constructor);try{return n(l=l.clone(),e,t)}catch(a){throw a}}function Lr(l,e,t){l=l.slice(),e=e.slice();const n=new Xo(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(l),n.setOriginalOperations(e);const a=n.originalOperations;if(l.length==0||e.length==0)return{operationsA:l,operationsB:e,originalOperations:a};const h=new WeakMap;for(const ae of l)h.set(ae,0);const x={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:e.length};let H=0;for(;H<l.length;){const ae=l[H],be=h.get(ae);if(be==e.length){H++;continue}const Re=e[be],tt=Qr(ae,Re,n.getContext(ae,Re,!0)),gt=Qr(Re,ae,n.getContext(Re,ae,!1));n.updateRelation(ae,Re),n.setOriginalOperations(tt,ae),n.setOriginalOperations(gt,Re);for(const Ut of tt)h.set(Ut,be+gt.length);l.splice(H,1,...tt),e.splice(be,1,...gt)}if(t.padWithNoOps){const ae=l.length-x.originalOperationsACount,be=e.length-x.originalOperationsBCount;Ts(l,be-ae),Ts(e,ae-be)}return Or(l,x.nextBaseVersionB),Or(e,x.nextBaseVersionA),{operationsA:l,operationsB:e,originalOperations:a}}class Xo{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,n||a)}updateRelation(e,t){if(e instanceof yn)t instanceof Kn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof yn&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Mn){if(t instanceof Kn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof yn)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Se._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const a=n.end.offset-e.splitPosition.offset,h=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:a,offset:h})}}}else if(e instanceof Kn)t instanceof Kn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Mn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof yn&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof xo){const n=e.newRange;if(!n)return;if(t instanceof yn){const a=Se._createFromPositionAndShift(t.sourcePosition,t.howMany),h=a.containsPosition(n.start)||a.start.isEqual(n.start),x=a.containsPosition(n.end)||a.end.isEqual(n.end);!h&&!x||a.containsRange(n)||this._setRelation(e,t,{side:h?"left":"right",path:h?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Kn){const a=n.start.isEqual(t.targetPosition),h=n.start.isEqual(t.deletionPosition),x=n.end.isEqual(t.deletionPosition),H=n.end.isEqual(t.sourcePosition);(a||h||x||H)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:x,wasInRightElement:H})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;const h=this.originalOperations.get(e),x=this._relations.get(h);return x&&x.get(a)||null}_setRelation(e,t,n){const a=this.originalOperations.get(e),h=this.originalOperations.get(t);let x=this._relations.get(a);x||(x=new Map,this._relations.set(a,x)),x.set(h,n)}}function Or(l,e){for(const t of l)t.baseVersion=e++}function Ts(l,e){for(let t=0;t<e;t++)l.push(new Xn(0))}function Xr(l,e,t){const n=l.nodes.getNode(0).getAttribute(e);if(n==t)return null;const a=new Se(l.position,l.position.getShiftedBy(l.howMany));return new Nn(a,e,n,t,0)}function xr(l,e){return l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function zo(l,e){const t=[];for(let n=0;n<l.length;n++){const a=l[n],h=new yn(a.start,a.end.offset-a.start.offset,e,0);t.push(h);for(let x=n+1;x<l.length;x++)l[x]=l[x]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];e=e._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return t}An(Nn,Nn,(l,e,t)=>{if(l.key===e.key&&l.range.start.hasSameParentAs(e.range.start)){const n=l.range.getDifference(e.range).map(h=>new Nn(h,l.key,l.oldValue,l.newValue,0)),a=l.range.getIntersection(e.range);return a&&t.aIsStrong&&n.push(new Nn(a,e.key,e.newValue,l.newValue,0)),n.length==0?[new Xn(0)]:n}return[l]}),An(Nn,co,(l,e)=>{if(l.range.start.hasSameParentAs(e.position)&&l.range.containsPosition(e.position)){const t=l.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new Nn(n,l.key,l.oldValue,l.newValue,l.baseVersion));if(e.shouldReceiveAttributes){const n=Xr(e,l.key,l.oldValue);n&&t.unshift(n)}return t}return l.range=l.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[l]}),An(Nn,Kn,(l,e)=>{const t=[];l.range.start.hasSameParentAs(e.deletionPosition)&&(l.range.containsPosition(e.deletionPosition)||l.range.start.isEqual(e.deletionPosition))&&t.push(Se._createFromPositionAndShift(e.graveyardPosition,1));const n=l.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(a=>new Nn(a,l.key,l.oldValue,l.newValue,l.baseVersion))}),An(Nn,yn,(l,e)=>function(t,n){const a=Se._createFromPositionAndShift(n.sourcePosition,n.howMany);let h=null,x=[];a.containsRange(t,!0)?h=t:t.start.hasSameParentAs(a.start)?(x=t.getDifference(a),h=t.getIntersection(a)):x=[t];const H=[];for(let ae of x){ae=ae._getTransformedByDeletion(n.sourcePosition,n.howMany);const be=n.getMovedRangeStart(),Re=ae.start.hasSameParentAs(be),tt=ae._getTransformedByInsertion(be,n.howMany,Re);H.push(...tt)}return h&&H.push(h._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany,!1)[0]),H}(l.range,e).map(t=>new Nn(t,l.key,l.oldValue,l.newValue,l.baseVersion))),An(Nn,Mn,(l,e)=>{if(l.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(e.splitPosition)&&l.range.containsPosition(e.splitPosition)){const t=l.clone();return t.range=new Se(e.moveTargetPosition.clone(),l.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),l.range.end=e.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,t]}return l.range=l.range._getTransformedBySplitOperation(e),[l]}),An(co,Nn,(l,e)=>{const t=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(l.position)){const n=Xr(l,e.key,e.newValue);n&&t.push(n)}return t}),An(co,co,(l,e,t)=>(l.position.isEqual(e.position)&&t.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(e)),[l])),An(co,yn,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),An(co,Mn,(l,e)=>(l.position=l.position._getTransformedBySplitOperation(e),[l])),An(co,Kn,(l,e)=>(l.position=l.position._getTransformedByMergeOperation(e),[l])),An(xo,co,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(e)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(e)[0]),[l])),An(xo,xo,(l,e,t)=>{if(l.name==e.name){if(!t.aIsStrong)return[new Xn(0)];l.oldRange=e.newRange?e.newRange.clone():null}return[l]}),An(xo,Kn,(l,e)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(e)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(e)),[l])),An(xo,yn,(l,e,t)=>{if(l.oldRange&&(l.oldRange=Se._createFromRanges(l.oldRange._getTransformedByMoveOperation(e))),l.newRange){if(t.abRelation){const n=Se._createFromRanges(l.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(l.newRange.start))return l.newRange.end=n.end,l.newRange.start.path=t.abRelation.path,[l];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(l.newRange.end))return l.newRange.start=n.start,l.newRange.end.path=t.abRelation.path,[l]}l.newRange=Se._createFromRanges(l.newRange._getTransformedByMoveOperation(e))}return[l]}),An(xo,Mn,(l,e,t)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(e)),l.newRange){if(t.abRelation){const n=l.newRange._getTransformedBySplitOperation(e);return l.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?l.newRange.start=Xt._createAt(e.insertionPosition):l.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(l.newRange.start=Xt._createAt(e.moveTargetPosition)),l.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?l.newRange.end=Xt._createAt(e.moveTargetPosition):l.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?l.newRange.end=Xt._createAt(e.insertionPosition):l.newRange.end=n.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(e)}return[l]}),An(Kn,co,(l,e)=>(l.sourcePosition.hasSameParentAs(e.position)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(e),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e),[l])),An(Kn,Kn,(l,e,t)=>{if(l.sourcePosition.isEqual(e.sourcePosition)&&l.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),l.sourcePosition=new Xt(e.graveyardPosition.root,n),l.howMany=0,[l]}return[new Xn(0)]}if(l.sourcePosition.isEqual(e.sourcePosition)&&!l.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=l.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),x=l.targetPosition._getTransformedByMergeOperation(e);return[new yn(h,l.howMany,x,0)]}return[new Xn(0)]}return l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(e),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),l.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),An(Kn,yn,(l,e,t)=>{const n=Se._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&l.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(l.sourcePosition)?[new Xn(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(l.sourcePosition)?l.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(l.sourcePosition)&&t.abRelation=="mergeSourceAffected"?l.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(l.targetPosition)?(l.targetPosition.stickiness="toNone",l.howMany-=e.howMany):e.targetPosition.isEqual(l.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(l.targetPosition.stickiness="toPrevious",l.howMany+=e.howMany):(l.sourcePosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.sourcePosition.hasSameParentAs(e.sourcePosition)&&(l.howMany-=e.howMany)),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(e),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(e),l.sourcePosition.stickiness="toPrevious",l.targetPosition.stickiness="toNext",l.graveyardPosition.isEqual(e.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)),[l])}),An(Kn,Mn,(l,e,t)=>{if(e.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),l.deletionPosition.isEqual(e.graveyardPosition)&&(l.howMany=e.howMany)),l.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,a=e.graveyardPosition&&l.deletionPosition.isEqual(e.graveyardPosition);if(n||a||t.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),[l]}if(l.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l];if(t.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=e.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}return l.sourcePosition.hasSameParentAs(e.splitPosition)&&(l.howMany=e.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(e),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(e),[l]}),An(yn,co,(l,e)=>{const t=Se._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(e,!1)[0];return l.sourcePosition=t.start,l.howMany=t.end.offset-t.start.offset,l.targetPosition.isEqual(e.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(e)),[l]}),An(yn,yn,(l,e,t)=>{const n=Se._createFromPositionAndShift(l.sourcePosition,l.howMany),a=Se._createFromPositionAndShift(e.sourcePosition,e.howMany);let h,x=t.aIsStrong,H=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?H=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(H=!1),h=l.targetPosition.isEqual(e.targetPosition)&&H?l.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):l.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xr(l,e)&&xr(e,l))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(a,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),zo([n],h);if(a.containsPosition(l.targetPosition)&&a.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),zo([n],h);const ae=(0,_.ww)(l.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(ae=="prefix"||ae=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),zo([n],h);l.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?l.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(x=!1):x=!0;const be=[],Re=n.getDifference(a);for(const gt of Re){gt.start=gt.start._getTransformedByDeletion(e.sourcePosition,e.howMany),gt.end=gt.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const Ut=(0,_.ww)(gt.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",Qt=gt._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,Ut);be.push(...Qt)}const tt=n.getIntersection(a);return tt!==null&&x&&(tt.start=tt.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),tt.end=tt.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),be.length===0?be.push(tt):be.length==1?a.start.isBefore(n.start)||a.start.isEqual(n.start)?be.unshift(tt):be.push(tt):be.splice(1,0,tt)),be.length===0?[new Xn(l.baseVersion)]:zo(be,h)}),An(yn,Mn,(l,e,t)=>{let n=l.targetPosition.clone();l.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=l.targetPosition._getTransformedBySplitOperation(e));const a=Se._createFromPositionAndShift(l.sourcePosition,l.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||l.howMany++,l.targetPosition=n,[l];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let x=new Se(e.splitPosition,a.end);return x=x._getTransformedBySplitOperation(e),zo([new Se(a.start,e.splitPosition),x],n)}l.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),l.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=l.targetPosition);const h=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const x=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);l.howMany>1&&x&&!t.aWasUndone&&h.push(Se._createFromPositionAndShift(e.insertionPosition,1))}return zo(h,n)}),An(yn,Kn,(l,e,t)=>{const n=Se._createFromPositionAndShift(l.sourcePosition,l.howMany);if(e.deletionPosition.hasSameParentAs(l.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(l.type!="remove"||t.forceWeakRemove){if(l.howMany==1)return t.bWasUndone?(l.sourcePosition=e.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]):[new Xn(0)]}else if(!t.aWasUndone){const h=[];let x=e.graveyardPosition.clone(),H=e.targetPosition._getTransformedByMergeOperation(e);l.howMany>1&&(h.push(new yn(l.sourcePosition,l.howMany-1,l.targetPosition,0)),x=x._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),H=H._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const ae=e.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),be=new yn(x,1,ae,0),Re=be.getMovedRangeStart().path.slice();Re.push(0);const tt=new Xt(be.targetPosition.root,Re);H=H._getTransformedByMove(x,ae,1);const gt=new yn(H,e.howMany,tt,0);return h.push(be),h.push(gt),h}}const a=Se._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(e);return l.sourcePosition=a.start,l.howMany=a.end.offset-a.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(e),[l]}),An(Ao,co,(l,e)=>(l.position=l.position._getTransformedByInsertOperation(e),[l])),An(Ao,Kn,(l,e)=>l.position.isEqual(e.deletionPosition)?(l.position=e.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(e),[l])),An(Ao,yn,(l,e)=>(l.position=l.position._getTransformedByMoveOperation(e),[l])),An(Ao,Ao,(l,e,t)=>{if(l.position.isEqual(e.position)){if(!t.aIsStrong)return[new Xn(0)];l.oldName=e.newName}return[l]}),An(Ao,Mn,(l,e)=>{const t=l.position.path,n=e.splitPosition.getParentPath();if((0,_.ww)(t,n)=="same"&&!e.graveyardPosition){const a=new Ao(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,a]}return l.position=l.position._getTransformedBySplitOperation(e),[l]}),An($o,$o,(l,e,t)=>{if(l.root===e.root&&l.key===e.key){if(!t.aIsStrong||l.newValue===e.newValue)return[new Xn(0)];l.oldValue=e.newValue}return[l]}),An(Mo,Mo,(l,e)=>l.rootName===e.rootName&&l.isAdd===e.isAdd?[new Xn(0)]:[l]),An(Mn,co,(l,e)=>(l.splitPosition.hasSameParentAs(e.position)&&l.splitPosition.offset<e.position.offset&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(e),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(e),[l])),An(Mn,Kn,(l,e,t)=>{if(!l.graveyardPosition&&!t.bWasUndone&&l.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const a=new Xt(e.graveyardPosition.root,n),h=Mn.getInsertionPosition(new Xt(e.graveyardPosition.root,n)),x=new Mn(a,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),l.graveyardPosition=x.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[x,l]}return l.splitPosition.hasSameParentAs(e.deletionPosition)&&!l.splitPosition.isAfter(e.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(e.targetPosition)&&(l.howMany+=e.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(e),l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(e)),[l]}),An(Mn,yn,(l,e,t)=>{const n=Se._createFromPositionAndShift(e.sourcePosition,e.howMany);if(l.graveyardPosition){const h=n.start.isEqual(l.graveyardPosition)||n.containsPosition(l.graveyardPosition);if(!t.bWasUndone&&h){const x=l.splitPosition._getTransformedByMoveOperation(e),H=l.graveyardPosition._getTransformedByMoveOperation(e),ae=H.path.slice();ae.push(0);const be=new Xt(H.root,ae);return[new yn(x,l.howMany,be,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(e)}const a=l.splitPosition.isEqual(e.targetPosition);if(a&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return l.howMany+=e.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),[l];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:h,offset:x}=t.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(x),[l]}if(l.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(l.splitPosition)){const h=e.howMany-(l.splitPosition.offset-e.sourcePosition.offset);return l.howMany-=h,l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany),l.splitPosition=e.sourcePosition.clone(),l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),[l]}return e.sourcePosition.isEqual(e.targetPosition)||(l.splitPosition.hasSameParentAs(e.sourcePosition)&&l.splitPosition.offset<=e.sourcePosition.offset&&(l.howMany-=e.howMany),l.splitPosition.hasSameParentAs(e.targetPosition)&&l.splitPosition.offset<e.targetPosition.offset&&(l.howMany+=e.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(e),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(e):l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),[l]}),An(Mn,Mn,(l,e,t)=>{if(l.splitPosition.isEqual(e.splitPosition)){if(!l.graveyardPosition&&!e.graveyardPosition)return[new Xn(0)];if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition))return[new Xn(0)];if(t.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e),[l]}if(l.graveyardPosition&&e.graveyardPosition&&l.graveyardPosition.isEqual(e.graveyardPosition)){const n=l.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const h=[];return e.howMany&&h.push(new yn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),l.howMany&&h.push(new yn(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new Xn(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(e)),l.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return l.howMany++,[l];if(e.splitPosition.isEqual(l.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const a=new Xt(e.insertionPosition.root,n);return[l,new yn(l.insertionPosition,1,a,0)]}return l.splitPosition.hasSameParentAs(e.splitPosition)&&l.splitPosition.offset<e.splitPosition.offset&&(l.howMany-=e.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(e),l.insertionPosition=Mn.getInsertionPosition(l.splitPosition),[l]});class Co extends(0,_.Mm)(Xt){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new _.Yb("model-liveposition-root-not-rootelement",e);Xs.call(this)}detach(){this.stopListening()}toPosition(){return new Xt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Xs(){this.listenTo(this.root.document.model,"applyOperation",(l,e)=>{const t=e[0];t.isDocumentOperation&&es.call(this,t)},{priority:"low"})}function es(l){const e=this.getTransformedByOperation(l);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Co.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class rr{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,_.FF)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:a=!1,isTyping:h=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=a,this.isTyping=h}get type(){return(0,_.FF)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var ea=Object.defineProperty,Es=Object.defineProperties,Ss=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,Is=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,Ar=(l,e,t)=>e in l?ea(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,ts=(l,e)=>{for(var t in e||(e={}))Is.call(e,t)&&Ar(l,t,e[t]);if(jr)for(var t of jr(e))ta.call(e,t)&&Ar(l,t,e[t]);return l};class Ps{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=Se._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(n)){const h=a.getData();this.bufferMarkerChange(a.name,h,h)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const a=t.graveyardPosition.parent;this._markInsert(a,t.graveyardPosition.offset,1);const h=t.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=n:(a={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,a=!e.range&&t.range,h=e.range&&t.range&&!e.range.isEqual(t.range);if(n||a||h)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const a=this._changesInElement.get(n).sort((Re,tt)=>Re.offset===tt.offset?Re.type!=tt.type?Re.type=="remove"?-1:1:0:Re.offset<tt.offset?-1:1),h=this._elementSnapshots.get(n),x=is(n.getChildren()),H=ia(h.length,a);let ae=0,be=0;for(const Re of H)if(Re==="i")t.push(this._getInsertDiff(n,ae,x[ae])),ae++;else if(Re==="r")t.push(this._getRemoveDiff(n,ae,h[be])),be++;else if(Re==="a"){const tt=x[ae].attributes,gt=h[be].attributes;let Ut;if(x[ae].name=="$text")Ut=new Se(Xt._createAt(n,ae),Xt._createAt(n,ae+1));else{const Qt=n.offsetToIndex(ae);Ut=new Se(Xt._createAt(n,ae),Xt._createAt(n.getChild(Qt),0))}t.push(...this._getAttributesDiff(Ut,gt,tt)),ae++,be++}else ae++,be++}t.sort((n,a)=>n.position.root!=a.position.root?n.position.root.rootName<a.position.root.rootName?-1:1:n.position.isEqual(a.position)?n.changeCount-a.changeCount:n.position.isBefore(a.position)?-1:1);for(let n=1,a=0;n<t.length;n++){const h=t[a],x=t[n],H=h.type=="remove"&&x.type=="remove"&&h.name=="$text"&&x.name=="$text"&&h.position.isEqual(x.position),ae=h.type=="insert"&&x.type=="insert"&&h.name=="$text"&&x.name=="$text"&&h.position.parent==x.position.parent&&h.position.offset+h.length==x.position.offset,be=h.type=="attribute"&&x.type=="attribute"&&h.position.parent==x.position.parent&&h.range.isFlat&&x.range.isFlat&&h.position.offset+h.length==x.position.offset&&h.attributeKey==x.attributeKey&&h.attributeOldValue==x.attributeOldValue&&h.attributeNewValue==x.attributeNewValue;H||ae||be?(h.length++,be&&(h.range.end=h.range.end.getShiftedBy(1)),t[n]=null):a=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Vr),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=ts({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,a){const h=this._changedRoots.get(e)||{name:e},x=h.attributes||{};if(x[t]){const H=x[t];a===H.oldValue?delete x[t]:H.newValue=a}else x[t]={oldValue:n,newValue:a};Object.entries(x).length===0?(delete h.attributes,h.state===void 0&&this._changedRoots.delete(e)):(h.attributes=x,this._changedRoots.set(e,h))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Se._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const a=n.getData();this.bufferMarkerChange(n.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const a=n.getData();this.bufferMarkerChange(n.name,(t=ts({},a),Es(t,Ss({range:null}))),a)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,is(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const a=e.offset+e.howMany,h=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<h&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<h){const x=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:a,howMany:x-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(a<=n.offset)n.offset-=e.howMany;else if(a<=h)if(e.offset<n.offset){const x=a-n.offset;n.offset=e.offset,n.howMany-=x,e.nodesToHandle-=x}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<h){const x=h-e.offset;n.howMany-=x,e.nodesToHandle-=x}}if(n.type=="remove"&&(a<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(a<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const x=a-n.offset;n.offset=e.offset,n.howMany-=x}else if(e.offset<h)if(a<=h){const x=n.howMany;n.howMany=e.offset-n.offset;const H=x-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:H,count:this._changeCount++})}else n.howMany-=h-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&a>n.offset){if(a>h){const x={type:"attribute",offset:h,howMany:a-h,count:this._changeCount++};this._handleChange(x,t),t.push(x)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<h&&(a>h?(e.nodesToHandle=a-h,e.offset=h):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&a>n.offset){const x={type:"attribute",offset:n.offset,howMany:a-n.offset,count:this._changeCount++};this._handleChange(x,t),t.push(x),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&a<=h?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&a>=h&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Xt._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:Xt._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const a=[];n=new Map(n);for(const[h,x]of t){const H=n.has(h)?n.get(h):null;H!==x&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:x,attributeNewValue:H,changeCount:this._changeCount++}),n.delete(h)}for(const[h,x]of n)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:x,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),a=e.startOffset;if(n){for(const h of n)if(h.type=="insert"&&a>=h.offset&&a<h.offset+h.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const a=new Se(Xt._createAt(e,t),Xt._createAt(e,t+n));for(const h of a.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function is(l){const e=[];for(const t of l)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function ia(l,e){const t=[];let n=0,a=0;for(const h of e){if(h.offset>n){for(let x=0;x<h.offset-n;x++)t.push("e");a+=h.offset-n}if(h.type=="insert"){for(let x=0;x<h.howMany;x++)t.push("i");n=h.offset+h.howMany}else if(h.type=="remove"){for(let x=0;x<h.howMany;x++)t.push("r");n=h.offset,a+=h.howMany}else t.push(..."a".repeat(h.howMany).split("")),n=h.offset+h.howMany,a+=h.howMany}if(a<l)for(let h=0;h<l-a-n;h++)t.push("e");return t}function Vr(l){const e="position"in l&&l.position.root.rootName=="$graveyard",t="range"in l&&l.range.root.rootName=="$graveyard";return!e&&!t}class Rr{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new _.Yb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let a=t-1;for(const[H,ae]of this._gaps)e>H&&e<ae&&(e=ae),a>H&&a<ae&&(a=H-1);if(a<n.baseVersion||e>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(e);h===void 0&&(h=0);let x=this._baseVersionToOperationIndex.get(a);return x===void 0&&(x=this._operations.length-1),this._operations.slice(h,x+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Nr extends Qi{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Nr.prototype.is=function(l,e){return e?e===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var Ms=Object.defineProperty,Ls=Object.defineProperties,na=Object.getOwnPropertyDescriptors,ns=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,Os=Object.prototype.propertyIsEnumerable,Br=(l,e,t)=>e in l?Ms(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,os=(l,e)=>{for(var t in e||(e={}))oa.call(e,t)&&Br(l,t,e[t]);if(ns)for(var t of ns(e))Os.call(e,t)&&Br(l,t,e[t]);return l},rs=(l,e)=>Ls(l,na(e));const Cr="$graveyard";class ra extends(0,_.Mm)(){constructor(e){super(),this.model=e,this.history=new Rr,this.selection=new kn(this),this.roots=new _.pM({idProperty:"rootName"}),this.differ=new Ps(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Cr),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,a,h,x)=>{const H=rs(os({},n.getData()),{range:h});this.differ.bufferMarkerChange(n.name,x,H),a===null&&n.on("change",(ae,be)=>{const Re=n.getData();this.differ.bufferMarkerChange(n.name,rs(os({},Re),{range:be}),Re)})}),this.registerPostFixer(t=>{let n=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(t.remove(t.createRangeIn(a)),n=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(t.removeMarker(a),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Cr)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new _.Yb("model-document-createroot-name-exists",this,{name:t});const n=new Nr(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=v(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return js(e.start)&&js(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function js(l){const e=l.textNode;if(e){const t=e.data,n=l.offset-e.startOffset;return!(0,_.P5)(t,n)&&!(0,_.Iw)(t,n)}return!0}var Vs=Object.defineProperty,Wn=Object.defineProperties,Rs=Object.getOwnPropertyDescriptors,Ns=Object.getOwnPropertySymbols,ss=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Dr=(l,e,t)=>e in l?Vs(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;class Bs extends(0,_.Mm)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof er?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,a=!1){const h=e instanceof er?e.name:e;if(h.includes(","))throw new _.Yb("markercollection-incorrect-marker-name",this);const x=this._markers.get(h);if(x){const Re=x.getData(),tt=x.getRange();let gt=!1;return tt.isEqual(t)||(x._attachLiveRange(Ai.fromRange(t)),gt=!0),n!=x.managedUsingOperations&&(x._managedUsingOperations=n,gt=!0),typeof a=="boolean"&&a!=x.affectsData&&(x._affectsData=a,gt=!0),gt&&this.fire(`update:${h}`,x,tt,t,Re),x}const H=Ai.fromRange(t),ae=new er(h,H,n,a);var be;return this._markers.set(h,ae),this.fire(`update:${h}`,ae,null,t,(be=((Re,tt)=>{for(var gt in tt||(tt={}))ss.call(tt,gt)&&Dr(Re,gt,tt[gt]);if(Ns)for(var gt of Ns(tt))Tr.call(tt,gt)&&Dr(Re,gt,tt[gt]);return Re})({},ae.getData()),Wn(be,Rs({range:null})))),ae}_remove(e){const t=e instanceof er?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof er?e.name:e,n=this._markers.get(t);if(!n)throw new _.Yb("markercollection-refresh-marker-not-exists",this);const a=n.getRange();this.fire(`update:${t}`,n,a,a,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class er extends(0,_.Mm)(Vn){constructor(e,t,n,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new _.Yb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new _.Yb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new _.Yb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new _.Yb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new _.Yb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}er.prototype.is=function(l){return l==="marker"||l==="model:marker"};class Ds extends Po{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new _.Yb("detach-operation-on-document-node",this)}_execute(){xs(Se._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class qo extends Vn{constructor(e){super(),this.markers=new Map,this._children=new Rn,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Qi.fromJSON(n)):t.push(en.fromJSON(n));return new qo(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new en(a)]:((0,_.xZ)(a)||(a=[a]),Array.from(a).map(h=>typeof h=="string"?new en(h):h instanceof Pn?new en(h.data,h.getAttributes()):h))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}}qo.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class zs{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new en(e,t)}createElement(e,t){return new Qi(e,t)}createDocumentFragment(){return new qo}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof en&&e.data=="")return;const a=Xt._createAt(t,n);if(e.parent){if(as(e.root,a.root))return void this.move(Se._createOn(e),a);if(e.root.document)throw new _.Yb("model-writer-insert-forbidden-move",this);this.remove(e)}const h=a.root.document?a.root.document.version:null,x=new co(a,e,h);if(e instanceof en&&(x.shouldReceiveAttributes=!0),this.batch.addOperation(x),this.model.applyOperation(x),e instanceof qo)for(const[H,ae]of e.markers){const be=Xt._createAt(ae.root,0),Re={range:new Se(ae.start._getCombined(be,a),ae.end._getCombined(be,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(H)?this.updateMarker(H,Re):this.addMarker(H,Re)}}insertText(e,t,n,a){t instanceof qo||t instanceof Qi||t instanceof Xt?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}insertElement(e,t,n,a){t instanceof qo||t instanceof Qi||t instanceof Xt?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof qo||t instanceof Qi?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof qo||t instanceof Qi?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Se){const a=n.getMinimalFlatRanges();for(const h of a)Fs(this,e,t,h)}else zr(this,e,t,n)}setAttributes(e,t){for(const[n,a]of(0,_.av)(e))this.setAttribute(n,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Se){const n=t.getMinimalFlatRanges();for(const a of n)Fs(this,e,null,a)}else zr(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const a of n.getAttributeKeys())this.removeAttribute(a,n)};if(e instanceof Se)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Se))throw new _.Yb("writer-move-invalid-range",this);if(!e.isFlat)throw new _.Yb("writer-move-range-not-flat",this);const a=Xt._createAt(t,n);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!as(e.root,a.root))throw new _.Yb("writer-move-different-document",this);const h=e.root.document?e.root.document.version:null,x=new yn(e.start,e.end.offset-e.start.offset,a,h);this.batch.addOperation(x),this.model.applyOperation(x)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Se?e:Se._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),sa(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Qi))throw new _.Yb("writer-merge-no-element-before",this);if(!(n instanceof Qi))throw new _.Yb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Se._createIn(n),Xt._createAt(t,"end")),this.remove(n)}_merge(e){const t=Xt._createAt(e.nodeBefore,"end"),n=Xt._createAt(e.nodeAfter,0),a=e.root.document.graveyard,h=new Xt(a,[0]),x=e.root.document.version,H=new Kn(n,e.nodeAfter.maxOffset,t,h,x);this.batch.addOperation(H),this.model.applyOperation(H)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Qi))throw new _.Yb("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,a=new Ao(Xt._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let n,a,h=e.parent;if(!h.parent)throw new _.Yb("writer-split-element-no-parent",this);if(t||(t=h.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new _.Yb("writer-split-invalid-limit-element",this);do{const x=h.root.document?h.root.document.version:null,H=h.maxOffset-e.offset,ae=Mn.getInsertionPosition(e),be=new Mn(e,H,ae,null,x);this.batch.addOperation(be),this.model.applyOperation(be),n||a||(n=h,a=e.parent.nextSibling),h=(e=this.createPositionAfter(e.parent)).parent}while(h!==t);return{position:e,range:new Se(Xt._createAt(n,"end"),Xt._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new _.Yb("writer-wrap-range-not-flat",this);const n=t instanceof Qi?t:new Qi(t);if(n.childCount>0)throw new _.Yb("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new _.Yb("writer-wrap-element-attached",this);this.insert(n,e.start);const a=new Se(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,Xt._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new _.Yb("writer-unwrap-element-no-parent",this);this.move(Se._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new _.Yb("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,a=t.range,h=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new _.Yb("writer-addmarker-marker-exists",this);if(!a)throw new _.Yb("writer-addmarker-no-range",this);return n?(sr(this,e,null,a,h),this.model.markers.get(e)):this.model.markers._set(e,a,n,h)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,a=this.model.markers.get(n);if(!a)throw new _.Yb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,_.FF)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(a);const h=typeof t.usingOperation=="boolean",x=typeof t.affectsData=="boolean",H=x?t.affectsData:a.affectsData;if(!h&&!t.range&&!x)throw new _.Yb("writer-updatemarker-wrong-options",this);const ae=a.getRange(),be=t.range?t.range:ae;h&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?sr(this,n,null,be,H):(sr(this,n,ae,null,H),this.model.markers._set(n,be,void 0,H)):a.managedUsingOperations?sr(this,n,ae,be,H):this.model.markers._set(n,be,void 0,H)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new _.Yb("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);sr(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new _.Yb("writer-addroot-root-exists",this);const a=this.model.document,h=new Mo(e,t,!0,a,a.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new _.Yb("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===t&&this.removeMarker(h);for(const h of t.getAttributeKeys())this.removeAttribute(h,t);this.remove(this.createRangeIn(t));const n=this.model.document,a=new Mo(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,a]of(0,_.av)(e))this._setSelectionAttribute(n,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const a=kn._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=kn._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new _.Yb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const a=n.getRange();let h=!1;if(e==="move"){const x=t;h=x.containsPosition(a.start)||x.start.isEqual(a.start)||x.containsPosition(a.end)||x.end.isEqual(a.end)}else{const x=t,H=x.nodeBefore,ae=x.nodeAfter,be=a.start.parent==H&&a.start.isAtEnd,Re=a.end.parent==ae&&a.end.offset==0,tt=a.end.nodeAfter==ae,gt=a.start.nodeAfter==ae;h=be||Re||tt||gt}h&&this.updateMarker(n.name,{range:a})}}}function Fs(l,e,t,n){const a=l.model,h=a.document;let x,H,ae,be=n.start;for(const tt of n.getWalker({shallow:!0}))ae=tt.item.getAttribute(e),x&&H!=ae&&(H!=t&&Re(),be=x),x=tt.nextPosition,H=ae;function Re(){const tt=new Se(be,x),gt=tt.root.document?h.version:null,Ut=new Nn(tt,e,H,t,gt);l.batch.addOperation(Ut),a.applyOperation(Ut)}x instanceof Xt&&x!=be&&H!=t&&Re()}function zr(l,e,t,n){const a=l.model,h=a.document,x=n.getAttribute(e);let H,ae;if(x!=t){if(n.root===n){const be=n.document?h.version:null;ae=new $o(n,e,x,t,be)}else{H=new Se(Xt._createBefore(n),l.createPositionAfter(n));const be=H.root.document?h.version:null;ae=new Nn(H,e,x,t,be)}l.batch.addOperation(ae),a.applyOperation(ae)}}function sr(l,e,t,n,a){const h=l.model,x=h.document,H=new xo(e,t,n,h.markers,!!a,x.version);l.batch.addOperation(H),h.applyOperation(H)}function sa(l,e,t,n){let a;if(l.root.document){const h=n.document,x=new Xt(h.graveyard,[0]);a=new yn(l,e,x,h.version)}else a=new Ds(l,e);t.addOperation(a),n.applyOperation(a)}function as(l,e){return l===e||l instanceof Nr&&e instanceof Nr}function aa(l,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const a=l.schema;l.change(h=>{if(!t.doNotResetEntireContent&&function(be,Re){const tt=be.getLimitElement(Re);if(!Re.containsEntireContent(tt))return!1;const gt=Re.getFirstRange();return gt.start.parent==gt.end.parent?!1:be.checkChild(tt,"paragraph")}(a,e))return void function(be,Re){const tt=be.model.schema.getLimitElement(Re);be.remove(be.createRangeIn(tt)),gr(be,be.createPositionAt(tt,0),Re)}(h,e);const x={};if(!t.doNotAutoparagraph){const be=e.getSelectedElement();be&&Object.assign(x,a.getAttributesWithProperty(be,"copyOnReplace",!0))}const[H,ae]=function(be){const Re=be.root.document.model,tt=be.start;let gt=be.end;if(Re.hasContent(be,{ignoreMarkers:!0})){const Ut=function(Qt){const di=Qt.parent,vi=di.root.document.model.schema,rn=di.getAncestors({parentFirst:!0,includeSelf:!0});for(const bn of rn){if(vi.isLimit(bn))return null;if(vi.isBlock(bn))return bn}}(gt);if(Ut&&gt.isTouching(Re.createPositionAt(Ut,0))){const Qt=Re.createSelection(be);Re.modifySelection(Qt,{direction:"backward"});const di=Qt.getLastPosition(),vi=Re.createRange(di,gt);Re.hasContent(vi,{ignoreMarkers:!0})||(gt=di)}}return[Co.fromPosition(tt,"toPrevious"),Co.fromPosition(gt,"toNext")]}(n);H.isTouching(ae)||h.remove(h.createRange(H,ae)),t.leaveUnmerged||(function(be,Re,tt){const gt=be.model;if(!Hr(be.model.schema,Re,tt))return;const[Ut,Qt]=function(di,vi){const rn=di.getAncestors(),bn=vi.getAncestors();let eo=0;for(;rn[eo]&&rn[eo]==bn[eo];)eo++;return[rn[eo],bn[eo]]}(Re,tt);!Ut||!Qt||(!gt.hasContent(Ut,{ignoreMarkers:!0})&&gt.hasContent(Qt,{ignoreMarkers:!0})?Fr(be,Re,tt,Ut.parent):Hs(be,Re,tt,Ut.parent))}(h,H,ae),a.removeDisallowedAttributes(H.parent.getChildren(),h)),Ko(h,e,H),!t.doNotAutoparagraph&&function(be,Re){const tt=be.checkChild(Re,"$text"),gt=be.checkChild(Re,"paragraph");return!tt&&gt}(a,H)&&gr(h,H,e,x),H.detach(),ae.detach()})}function Hs(l,e,t,n){const a=e.parent,h=t.parent;if(a!=n&&h!=n){for(e=l.createPositionAfter(a),(t=l.createPositionBefore(h)).isEqual(e)||l.insert(h,e),l.merge(e);t.parent.isEmpty;){const x=t.parent;t=l.createPositionBefore(x),l.remove(x)}Hr(l.model.schema,e,t)&&Hs(l,e,t,n)}}function Fr(l,e,t,n){const a=e.parent,h=t.parent;if(a!=n&&h!=n){for(e=l.createPositionAfter(a),(t=l.createPositionBefore(h)).isEqual(e)||l.insert(a,t);e.parent.isEmpty;){const x=e.parent;e=l.createPositionBefore(x),l.remove(x)}t=l.createPositionBefore(h),function(x,H){const ae=H.nodeBefore,be=H.nodeAfter;ae.name!=be.name&&x.rename(ae,be.name),x.clearAttributes(ae),x.setAttributes(Object.fromEntries(be.getAttributes()),ae),x.merge(H)}(l,t),Hr(l.model.schema,e,t)&&Fr(l,e,t,n)}}function Hr(l,e,t){const n=e.parent,a=t.parent;return n!=a&&!l.isLimit(n)&&!l.isLimit(a)&&function(h,x,H){const ae=new Se(h,x);for(const be of ae.getWalker())if(H.isLimit(be.item))return!1;return!0}(e,t,l)}function gr(l,e,t,n={}){const a=l.createElement("paragraph");l.model.schema.setAllowedAttributes(a,n,l),l.insert(a,e),Ko(l,t,l.createPositionAt(a,0))}function Ko(l,e,t){e instanceof kn?l.setSelection(t):e.setTo(t)}function Ur(l,e){const t=[];Array.from(l.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(l.start)||n.start.isEqual(l.start))&&(n.end.isBefore(l.end)||n.end.isEqual(l.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let a=n;for(;a.parent&&a.isEmpty;){const h=e.createRangeOn(a);a=a.parent,e.remove(h)}})}class Wr{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new _.Yb("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Se._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Se(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Co.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new _.Yb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Co.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Co.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Qi)||!this._canMergeLeft(e))return;const t=Co._createBefore(e);t.stickiness="toNext";const n=Co.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Co._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Co._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Qi)||!this._canMergeRight(e))return;const t=Co._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new _.Yb("insertcontent-invalid-insertion-position",this);this.position=Xt._createAt(t.nodeBefore,"end");const n=Co.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Co._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Co._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Qi&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Qi&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function ls(l,e,t,n={}){if(!l.schema.isObject(e))throw new _.Yb("insertobject-element-not-an-object",l,{object:e});const a=t||l.document.selection;let h=a;n.findOptimalPosition&&l.schema.isBlock(e)&&(h=l.createSelection(l.schema.findOptimalInsertionRange(a,n.findOptimalPosition)));const x=(0,_.$1)(a.getSelectedBlocks()),H={};return x&&Object.assign(H,l.schema.getAttributesWithProperty(x,"copyOnReplace",!0)),l.change(ae=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let be=e;const Re=h.anchor.parent;!l.schema.checkChild(Re,e)&&l.schema.checkChild(Re,"paragraph")&&l.schema.checkChild("paragraph",e)&&(be=ae.createElement("paragraph"),ae.insert(e,be)),l.schema.setAllowedAttributes(be,H,ae);const tt=l.insertContent(be,h);return tt.isCollapsed||n.setSelection&&function(gt,Ut,Qt,di){const vi=gt.model;if(Qt=="on")return void gt.setSelection(Ut,"on");if(Qt!="after")throw new _.Yb("insertobject-invalid-place-parameter-value",vi);let rn=Ut.nextSibling;if(vi.schema.isInline(Ut))return void gt.setSelection(Ut,"after");!(rn&&vi.schema.checkChild(rn,"$text"))&&vi.schema.checkChild(Ut.parent,"paragraph")&&(rn=gt.createElement("paragraph"),vi.schema.setAllowedAttributes(rn,di,gt),vi.insertContent(rn,gt.createPositionAfter(Ut))),rn&&gt.setSelection(rn,0)}(ae,e,n.setSelection,H),tt})}const Us=' ,.?!:;"-()';function cs(l,e){const{isForward:t,walker:n,unit:a,schema:h,treatEmojiAsSingleUnit:x}=l,{type:H,item:ae,nextPosition:be}=e;if(H=="text")return l.unit==="word"?function(Re,tt){let gt=Re.position.textNode;for(gt||(gt=tt?Re.position.nodeAfter:Re.position.nodeBefore);gt&&gt.is("$text");){const Ut=Re.position.offset-gt.startOffset;if(ar(gt,Ut,tt))gt=tt?Re.position.nodeAfter:Re.position.nodeBefore;else{if($r(gt.data,Ut,tt))break;Re.next()}}return Re.position}(n,t):function(Re,tt,gt){const Ut=Re.position.textNode;if(Ut){const Qt=Ut.data;let di=Re.position.offset-Ut.startOffset;for(;(0,_.P5)(Qt,di)||tt=="character"&&(0,_.Iw)(Qt,di)||gt&&(0,_.SQ)(Qt,di);)Re.next(),di=Re.position.offset-Ut.startOffset}return Re.position}(n,a,x);if(H==(t?"elementStart":"elementEnd")){if(h.isSelectable(ae))return Xt._createAt(ae,t?"after":"before");if(h.checkChild(be,"$text"))return be}else{if(h.isLimit(ae))return void n.skip(()=>!0);if(h.checkChild(be,"$text"))return be}}function ds(l,e){const t=l.root,n=Xt._createAt(t,e?"end":0);return e?new Se(l,n):new Se(n,l)}function $r(l,e,t){const n=e+(t?0:-1);return Us.includes(l.charAt(n))}function ar(l,e,t){return e===(t?l.offsetSize:0)}class la extends(0,_.VM)(){constructor(){super(),this.markers=new Bs,this.document=new ra(this),this.schema=new tn,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),So(this),this.document.registerPostFixer(Je),this.on("insertContent",(e,[t,n])=>{e.return=function(a,h,x){return a.change(H=>{const ae=x||a.document.selection;ae.isCollapsed||a.deleteContent(ae,{doNotAutoparagraph:!0});const be=new Wr(a,H,ae.anchor),Re=[];let tt;if(h.is("documentFragment")){if(h.markers.size){const Qt=[];for(const[di,vi]of h.markers){const{start:rn,end:bn}=vi,eo=rn.isEqual(bn);Qt.push({position:rn,name:di,isCollapsed:eo},{position:bn,name:di,isCollapsed:eo})}Qt.sort(({position:di},{position:vi})=>di.isBefore(vi)?1:-1);for(const{position:di,name:vi,isCollapsed:rn}of Qt){let bn=null,eo=null;const Yo=di.parent===h&&di.isAtStart,lr=di.parent===h&&di.isAtEnd;Yo||lr?rn&&(eo=Yo?"start":"end"):(bn=H.createElement("$marker"),H.insert(bn,di)),Re.push({name:vi,element:bn,collapsed:eo})}}tt=h.getChildren()}else tt=[h];be.handleNodes(tt);let gt=be.getSelectionRange();if(h.is("documentFragment")&&Re.length){const Qt=gt?Ai.fromRange(gt):null,di={};for(let vi=Re.length-1;vi>=0;vi--){const{name:rn,element:bn,collapsed:eo}=Re[vi],Yo=!di[rn];if(Yo&&(di[rn]=[]),bn){const lr=H.createPositionAt(bn,"before");di[rn].push(lr),H.remove(bn)}else{const lr=be.getAffectedRange();if(!lr){eo&&di[rn].push(be.position);continue}eo?di[rn].push(lr[eo]):di[rn].push(Yo?lr.start:lr.end)}}for(const[vi,[rn,bn]]of Object.entries(di))rn&&bn&&rn.root===bn.root&&rn.root.document&&!H.model.markers.has(vi)&&H.addMarker(vi,{usingOperation:!0,affectsData:!0,range:new Se(rn,bn)});Qt&&(gt=Qt.toRange(),Qt.detach())}gt&&(ae instanceof kn?H.setSelection(gt):ae.setTo(gt));const Ut=be.getAffectedRange()||a.createRange(ae.anchor);return be.destroy(),Ut})}(this,t,n)}),this.on("insertObject",(e,[t,n,a])=>{e.return=ls(this,t,n,a)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new rr,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){_.Yb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new rr):e instanceof rr||(e=new rr(e)):e=new rr,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){_.Yb.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...a){const h=us(t,n);return this.fire("insertContent",[e,h,n,...a])}insertObject(e,t,n,a,...h){const x=us(t,n);return this.fire("insertObject",[e,x,a,a,...h])}deleteContent(e,t){aa(this,e,t)}modifySelection(e,t){(function(n,a,h={}){const x=n.schema,H=h.direction!="backward",ae=h.unit?h.unit:"character",be=!!h.treatEmojiAsSingleUnit,Re=a.focus,tt=new no({boundaries:ds(Re,H),singleCharacters:!0,direction:H?"forward":"backward"}),gt={walker:tt,schema:x,isForward:H,unit:ae,treatEmojiAsSingleUnit:be};let Ut;for(;Ut=tt.next();){if(Ut.done)return;const Qt=cs(gt,Ut.value);if(Qt)return void(a instanceof kn?n.change(di=>{di.setSelectionFocus(Qt)}):a.setFocus(Qt))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(a=>{const h=a.createDocumentFragment(),x=n.getFirstRange();if(!x||x.isCollapsed)return h;const H=x.start.root,ae=x.start.getCommonPath(x.end),be=H.getNodeByPath(ae);let Re;Re=x.start.parent==x.end.parent?x:a.createRange(a.createPositionAt(be,x.start.path[ae.length]),a.createPositionAt(be,x.end.path[ae.length]+1));const tt=Re.end.offset-Re.start.offset;for(const gt of Re.getItems({shallow:!0}))gt.is("$textProxy")?a.appendText(gt.data,gt.getAttributes(),h):a.append(a.cloneElement(gt,!0),h);if(Re!=x){const gt=x._getTransformedByMove(Re.start,a.createPositionAt(h,0),tt)[0],Ut=a.createRange(a.createPositionAt(h,0),gt.start);Ur(a.createRange(gt.end,a.createPositionAt(h,"end")),a),Ur(Ut,a)}return h})}(this,e)}hasContent(e,t={}){const n=e instanceof Se?e:Se._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:h=!1}=t;if(!h){for(const x of this.markers.getMarkersIntersectingRange(n))if(x.affectsData)return!0}for(const x of n.getItems())if(this.schema.isContent(x)&&(!x.is("$textProxy")||!a||x.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=us(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new Xt(e,t,n)}createPositionAt(e,t){return Xt._createAt(e,t)}createPositionAfter(e){return Xt._createAfter(e)}createPositionBefore(e){return Xt._createBefore(e)}createRange(e,t){return new Se(e,t)}createRangeIn(e){return Se._createIn(e)}createRangeOn(e){return Se._createOn(e)}createSelection(...e){return new _t(...e)}createBatch(e){return new rr(e)}createOperationFromJSON(e){return Cs.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new zs(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function us(l,e){if(l)return l instanceof _t||l instanceof kn?l:l instanceof Cn?e||e===0?new _t(l,e):l.is("rootElement")?new _t(l,"in"):new _t(l,"on"):new _t(l)}class ca extends ao{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class da extends ao{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Ws{constructor(e){this.document=e}createDocumentFragment(e){return new mi(this.document,e)}createElement(e,t,n){return new nt(this.document,e,t,n)}createText(e){return new L(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const a=n.getChildIndex(e);return this.removeChildren(a,1,n),this.insertChild(a,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new nt(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){(0,oe.A)(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Xe._createAt(e,t)}createPositionAfter(e){return Xe._createAfter(e)}createPositionBefore(e){return Xe._createBefore(e)}createRange(e,t){return new kt(e,t)}createRangeOn(e){return kt._createOn(e)}createRangeIn(e){return kt._createIn(e)}createSelection(...e){return new fi(...e)}}const tr=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,hs=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,$s=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,qs=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,Er=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Ks=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Ys=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function pr(l){return l.startsWith("#")?tr.test(l):l.startsWith("rgb")?hs.test(l)||$s.test(l):l.startsWith("hsl")?qs.test(l)||Er.test(l):Ys.has(l.toLowerCase())}const qr=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function ms(l){return qr.includes(l)}const ua=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Kr(l){return ua.test(l)}const gs=/^[+-]?[0-9]*([.][0-9]+)?%$/;function ps(l){return gs.test(l)}const ha=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function fs(l){return ha.includes(l)}const M=["center","top","bottom","left","right"];function o(l){return M.includes(l)}const i=["fixed","scroll","local"];function r(l){return i.includes(l)}const c=/^url\(/;function m(l){return c.test(l)}function k(l=""){if(l==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=ge(l),t=e[0],n=e[2]||t,a=e[1]||t;return{top:t,bottom:n,right:a,left:e[3]||a}}function A(l){return e=>{const{top:t,right:n,bottom:a,left:h}=e,x=[];return[t,n,h,a].every(H=>!!H)?x.push([l,E(e)]):(t&&x.push([l+"-top",t]),n&&x.push([l+"-right",n]),a&&x.push([l+"-bottom",a]),h&&x.push([l+"-left",h])),x}}function E({top:l,right:e,bottom:t,left:n}){const a=[];return n!==e?a.push(l,e,t,n):t!==l?a.push(l,e,t):e!==l?a.push(l,e):a.push(l),a.join(" ")}function R(l){return e=>({path:l,value:k(e)})}function ge(l){const e=l.matchAll(Ks);return Array.from(e).map(t=>t[0])}function Fe(l){l.setNormalizer("background",e=>{const t={},n=ge(e);for(const a of n)fs(a)?(t.repeat=t.repeat||[],t.repeat.push(a)):o(a)?(t.position=t.position||[],t.position.push(a)):r(a)?t.attachment=a:pr(a)?t.color=a:m(a)&&(t.image=a);return{path:"background",value:t}}),l.setNormalizer("background-color",e=>({path:"background.color",value:e})),l.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),l.setStyleRelation("background",["background-color"])}function it(l){l.setNormalizer("border",e=>{const{color:t,style:n,width:a}=Wi(e);return{path:"border",value:{color:k(t),style:k(n),width:k(a)}}}),l.setNormalizer("border-top",Mt("top")),l.setNormalizer("border-right",Mt("right")),l.setNormalizer("border-bottom",Mt("bottom")),l.setNormalizer("border-left",Mt("left")),l.setNormalizer("border-color",zt("color")),l.setNormalizer("border-width",zt("width")),l.setNormalizer("border-style",zt("style")),l.setNormalizer("border-top-color",ti("color","top")),l.setNormalizer("border-top-style",ti("style","top")),l.setNormalizer("border-top-width",ti("width","top")),l.setNormalizer("border-right-color",ti("color","right")),l.setNormalizer("border-right-style",ti("style","right")),l.setNormalizer("border-right-width",ti("width","right")),l.setNormalizer("border-bottom-color",ti("color","bottom")),l.setNormalizer("border-bottom-style",ti("style","bottom")),l.setNormalizer("border-bottom-width",ti("width","bottom")),l.setNormalizer("border-left-color",ti("color","left")),l.setNormalizer("border-left-style",ti("style","left")),l.setNormalizer("border-left-width",ti("width","left")),l.setExtractor("border-top",hi("top")),l.setExtractor("border-right",hi("right")),l.setExtractor("border-bottom",hi("bottom")),l.setExtractor("border-left",hi("left")),l.setExtractor("border-top-color","border.color.top"),l.setExtractor("border-right-color","border.color.right"),l.setExtractor("border-bottom-color","border.color.bottom"),l.setExtractor("border-left-color","border.color.left"),l.setExtractor("border-top-width","border.width.top"),l.setExtractor("border-right-width","border.width.right"),l.setExtractor("border-bottom-width","border.width.bottom"),l.setExtractor("border-left-width","border.width.left"),l.setExtractor("border-top-style","border.style.top"),l.setExtractor("border-right-style","border.style.right"),l.setExtractor("border-bottom-style","border.style.bottom"),l.setExtractor("border-left-style","border.style.left"),l.setReducer("border-color",A("border-color")),l.setReducer("border-style",A("border-style")),l.setReducer("border-width",A("border-width")),l.setReducer("border-top",an("top")),l.setReducer("border-right",an("right")),l.setReducer("border-bottom",an("bottom")),l.setReducer("border-left",an("left")),l.setReducer("border",function(){return t=>{const n=pi(t,"top"),a=pi(t,"right"),h=pi(t,"bottom"),x=pi(t,"left"),H=[n,a,h,x],ae={width:e(H,"width"),style:e(H,"style"),color:e(H,"color")},be=Bn(ae,"all");return be.length?be:[...Object.entries(ae).reduce((Re,[tt,gt])=>(gt&&(Re.push([`border-${tt}`,gt]),H.forEach(Ut=>delete Ut[tt])),Re),[]),...Bn(n,"top"),...Bn(a,"right"),...Bn(h,"bottom"),...Bn(x,"left")]};function e(t,n){return t.map(a=>a[n]).reduce((a,h)=>a==h?a:null)}}()),l.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),l.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),l.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),l.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),l.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),l.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),l.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),l.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Mt(l){return e=>{const{color:t,style:n,width:a}=Wi(e),h={};return t!==void 0&&(h.color={[l]:t}),n!==void 0&&(h.style={[l]:n}),a!==void 0&&(h.width={[l]:a}),{path:"border",value:h}}}function zt(l){return e=>({path:"border",value:Ht(e,l)})}function Ht(l,e){return{[e]:k(l)}}function ti(l,e){return t=>({path:"border",value:{[l]:{[e]:t}}})}function hi(l){return(e,t)=>{if(t.border)return pi(t.border,l)}}function pi(l,e){const t={};return l.width&&l.width[e]&&(t.width=l.width[e]),l.style&&l.style[e]&&(t.style=l.style[e]),l.color&&l.color[e]&&(t.color=l.color[e]),t}function Wi(l){const e={},t=ge(l);for(const n of t)Kr(n)||/thin|medium|thick/.test(n)?e.width=n:ms(n)?e.style=n:e.color=n;return e}function an(l){return e=>Bn(e,l)}function Bn(l,e){const t=[];if(l&&l.width&&t.push("width"),l&&l.style&&t.push("style"),l&&l.color&&t.push("color"),t.length==3){const n=t.map(a=>l[a]).join(" ");return[e=="all"?["border",n]:[`border-${e}`,n]]}return e=="all"?[]:t.map(n=>[`border-${e}-${n}`,l[n]])}function Zn(l){l.setNormalizer("margin",R("margin")),l.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),l.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),l.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),l.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),l.setReducer("margin",A("margin")),l.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function Yn(l){l.setNormalizer("padding",R("padding")),l.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),l.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),l.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),l.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),l.setReducer("padding",A("padding")),l.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},"./packages/ckeditor5-enter/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{x:()=>ye,D:()=>he});var u=s("./packages/ckeditor5-core/src/index.ts");function*y(we,g){for(const w of g)w&&we.getAttributeProperties(w[0]).copyOnEnter&&(yield w)}class P extends u.uB{execute(){this.editor.model.change(g=>{this.enterBlock(g),this.fire("afterExecute",{writer:g})})}enterBlock(g){const w=this.editor.model,p=w.document.selection,v=w.schema,T=p.isCollapsed,L=p.getFirstRange(),O=L.start.parent,oe=L.end.parent;if(v.isLimit(O)||v.isLimit(oe))return T||O!=oe||w.deleteContent(p),!1;if(T){const W=y(g.model.schema,p.getAttributes());return b(g,L.start),g.setSelectionAttribute(W),!0}{const W=!(L.start.isAtStart&&L.end.isAtEnd),te=O==oe;if(w.deleteContent(p,{leaveUnmerged:W}),W){if(te)return b(g,p.focus),!0;g.setSelection(oe,0)}}return!1}}function b(we,g){we.split(g),we.setSelection(g.parent.nextSibling,0)}var _=s("./packages/ckeditor5-engine/src/index.ts"),D=s("./packages/ckeditor5-utils/src/index.ts");const I={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class V extends _.nu{constructor(g){super(g);const w=this.document;let p=!1;w.on("keydown",(v,T)=>{p=T.shiftKey}),w.on("beforeinput",(v,T)=>{if(!this.isEnabled)return;let L=T.inputType;D._K.isSafari&&p&&L=="insertParagraph"&&(L="insertLineBreak");const O=T.domEvent,oe=I[L];if(!oe)return;const W=new _.cJ(w,"enter",T.targetRanges[0]);w.fire(W,new _.FY(g,O,{isSoft:oe.isSoft})),W.stop.called&&v.stop()})}observe(){}stopObserving(){}}class ye extends u.k_{static get pluginName(){return"Enter"}init(){const g=this.editor,w=g.editing.view,p=w.document,v=this.editor.t;w.addObserver(V),g.commands.add("enter",new P(g)),this.listenTo(p,"enter",(T,L)=>{p.isComposing||L.preventDefault(),L.isSoft||(g.execute("enter"),w.scrollToTheSelection())},{priority:"low"}),g.accessibility.addKeystrokeInfos({keystrokes:[{label:v("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class ne extends u.uB{execute(){const g=this.editor.model,w=g.document;g.change(p=>{(function(v,T,L){const O=L.isCollapsed,oe=L.getFirstRange(),W=oe.start.parent,te=oe.end.parent,S=W==te;if(O){const X=y(v.schema,L.getAttributes());U(v,T,oe.end),T.removeSelectionAttribute(L.getAttributeKeys()),T.setSelectionAttribute(X)}else{const X=!(oe.start.isAtStart&&oe.end.isAtEnd);v.deleteContent(L,{leaveUnmerged:X}),S?U(v,T,L.focus):X&&T.setSelection(te,0)}})(g,p,w.selection),this.fire("afterExecute",{writer:p})})}refresh(){const g=this.editor.model,w=g.document;this.isEnabled=function(p,v){if(v.rangeCount>1)return!1;const T=v.anchor;if(!T||!p.checkChild(T,"softBreak"))return!1;const L=v.getFirstRange(),O=L.start.parent,oe=L.end.parent;return!(($(O,p)||$(oe,p))&&O!==oe)}(g.schema,w.selection)}}function U(we,g,w){const p=g.createElement("softBreak");we.insertContent(p,w),g.setSelection(p,"after")}function $(we,g){return!we.is("rootElement")&&(g.isLimit(we)||$(we.parent,g))}class he extends u.k_{static get pluginName(){return"ShiftEnter"}init(){const g=this.editor,w=g.model.schema,p=g.conversion,v=g.editing.view,T=v.document,L=this.editor.t;w.register("softBreak",{allowWhere:"$text",isInline:!0}),p.for("upcast").elementToElement({model:"softBreak",view:"br"}),p.for("downcast").elementToElement({model:"softBreak",view:(O,{writer:oe})=>oe.createEmptyElement("br")}),v.addObserver(V),g.commands.add("shiftEnter",new ne(g)),this.listenTo(T,"enter",(O,oe)=>{T.isComposing||oe.preventDefault(),oe.isSoft&&(g.execute("shiftEnter"),v.scrollToTheSelection())},{priority:"low"}),g.accessibility.addKeystrokeInfos({keystrokes:[{label:L("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}},"./packages/ckeditor5-typing/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{ep:()=>p,pd:()=>V,Ki:()=>b,De:()=>J,qV:()=>L,Vp:()=>O,IG:()=>v,Py:()=>q,lO:()=>Le,ex:()=>T,Il:()=>He});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-utils/src/index.ts");class P{constructor(fe,le=20){this._batch=null,this.model=fe,this._size=0,this.limit=le,this._isLocked=!1,this._changeCallback=(pe,Ke)=>{Ke.isLocal&&Ke.isUndoable&&Ke!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(fe){this._size+=fe,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(fe=!1){this.isLocked&&!fe||(this._batch=null,this._size=0)}}class b extends u.uB{constructor(fe,le){super(fe),this._buffer=new P(fe.model,le),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(fe={}){const le=this.editor.model,pe=le.document,Ke=fe.text||"",nt=Ke.length;let ut=pe.selection;if(fe.selection?ut=fe.selection:fe.range&&(ut=le.createSelection(fe.range)),!le.canEditAt(ut))return;const wt=fe.resultRange;le.enqueueChange(this._buffer.batch,Ft=>{this._buffer.lock();const Wt=Array.from(pe.selection.getAttributes());le.deleteContent(ut),Ke&&le.insertContent(Ft.createText(Ke,Wt),ut),wt?Ft.setSelection(wt):ut.is("documentSelection")||Ft.setSelection(ut),this._buffer.unlock(),this._buffer.input(nt)})}}var _=s("./packages/ckeditor5-engine/src/index.ts");const D=["insertText","insertReplacementText"];class I extends _.nu{constructor(fe){super(fe),this.focusObserver=fe.getObserver(_.vp),y._K.isAndroid&&D.push("insertCompositionText");const le=fe.document;le.on("beforeinput",(pe,Ke)=>{if(!this.isEnabled)return;const{data:nt,targetRanges:ut,inputType:wt,domEvent:Ft}=Ke;if(!D.includes(wt))return;this.focusObserver.flush();const Wt=new y.vY(le,"insertText");le.fire(Wt,new _.FY(fe,Ft,{text:nt,selection:fe.createSelection(ut)})),Wt.stop.called&&pe.stop()}),le.on("compositionend",(pe,{data:Ke,domEvent:nt})=>{this.isEnabled&&!y._K.isAndroid&&Ke&&le.fire("insertText",new _.FY(fe,nt,{text:Ke,selection:le.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class V extends u.k_{static get pluginName(){return"Input"}init(){const fe=this.editor,le=fe.model,pe=fe.editing.view,Ke=le.document.selection;pe.addObserver(I);const nt=new b(fe,fe.config.get("typing.undoStep")||20);fe.commands.add("insertText",nt),fe.commands.add("input",nt),this.listenTo(pe.document,"insertText",(ut,wt)=>{pe.document.isComposing||wt.preventDefault();const{text:Ft,selection:Wt,resultRange:Lt}=wt,Yt=Array.from(Wt.getRanges()).map(kt=>fe.editing.mapper.toModelRange(kt));let bt=Ft;if(y._K.isAndroid){const kt=Array.from(Yt[0].getItems()).reduce((bi,fi)=>bi+(fi.is("$textProxy")?fi.data:""),"");kt&&(kt.length<=bt.length?bt.startsWith(kt)&&(bt=bt.substring(kt.length),Yt[0].start=Yt[0].start.getShiftedBy(kt.length)):kt.startsWith(bt)&&(Yt[0].start=Yt[0].start.getShiftedBy(bt.length),bt=""))}const Xe={text:bt,selection:le.createSelection(Yt)};Lt&&(Xe.resultRange=fe.editing.mapper.toModelRange(Lt)),fe.execute("insertText",Xe),pe.scrollToTheSelection()}),y._K.isAndroid?this.listenTo(pe.document,"keydown",(ut,wt)=>{!Ke.isCollapsed&&wt.keyCode==229&&pe.document.isComposing&&ye(le,nt)}):this.listenTo(pe.document,"compositionstart",()=>{Ke.isCollapsed||ye(le,nt)})}}function ye(ot,fe){if(!fe.isEnabled)return;const le=fe.buffer;le.lock(),ot.enqueueChange(le.batch,()=>{ot.deleteContent(ot.document.selection)}),le.unlock()}class ne extends u.uB{constructor(fe,le){super(fe),this.direction=le,this._buffer=new P(fe.model,fe.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(fe={}){const le=this.editor.model,pe=le.document;le.enqueueChange(this._buffer.batch,Ke=>{this._buffer.lock();const nt=Ke.createSelection(fe.selection||pe.selection);if(!le.canEditAt(nt))return;const ut=fe.sequence||1,wt=nt.isCollapsed;if(nt.isCollapsed&&le.modifySelection(nt,{direction:this.direction,unit:fe.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(ut))return void this._replaceEntireContentWithParagraph(Ke);if(this._shouldReplaceFirstBlockWithParagraph(nt,ut))return void this.editor.execute("paragraph",{selection:nt});if(nt.isCollapsed)return;let Ft=0;nt.getFirstRange().getMinimalFlatRanges().forEach(Wt=>{Ft+=(0,y.U9)(Wt.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),le.deleteContent(nt,{doNotResetEntireContent:wt,direction:this.direction}),this._buffer.input(Ft),Ke.setSelection(nt),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(fe){if(fe>1)return!1;const le=this.editor.model,pe=le.document.selection,Ke=le.schema.getLimitElement(pe);if(!(pe.isCollapsed&&pe.containsEntireContent(Ke))||!le.schema.checkChild(Ke,"paragraph"))return!1;const nt=Ke.getChild(0);return!nt||!nt.is("element","paragraph")}_replaceEntireContentWithParagraph(fe){const le=this.editor.model,pe=le.document.selection,Ke=le.schema.getLimitElement(pe),nt=fe.createElement("paragraph");fe.remove(fe.createRangeIn(Ke)),fe.insert(nt,Ke),fe.setSelection(nt,0)}_shouldReplaceFirstBlockWithParagraph(fe,le){const pe=this.editor.model;if(le>1||this.direction!="backward"||!fe.isCollapsed)return!1;const Ke=fe.getFirstPosition(),nt=pe.schema.getLimitElement(Ke),ut=nt.getChild(0);return Ke.parent==ut&&!!fe.containsEntireContent(ut)&&!!pe.schema.checkChild(nt,"paragraph")&&ut.name!="paragraph"}}const U="word",$="selection",he="backward",we="forward",g={deleteContent:{unit:$,direction:he},deleteContentBackward:{unit:"codePoint",direction:he},deleteWordBackward:{unit:U,direction:he},deleteHardLineBackward:{unit:$,direction:he},deleteSoftLineBackward:{unit:$,direction:he},deleteContentForward:{unit:"character",direction:we},deleteWordForward:{unit:U,direction:we},deleteHardLineForward:{unit:$,direction:we},deleteSoftLineForward:{unit:$,direction:we}};class w extends _.nu{constructor(fe){super(fe);const le=fe.document;let pe=0;le.on("keydown",()=>{pe++}),le.on("keyup",()=>{pe=0}),le.on("beforeinput",(Ke,nt)=>{if(!this.isEnabled)return;const{targetRanges:ut,domEvent:wt,inputType:Ft}=nt,Wt=g[Ft];if(!Wt)return;const Lt={direction:Wt.direction,unit:Wt.unit,sequence:pe};Lt.unit==$&&(Lt.selectionToRemove=fe.createSelection(ut[0])),Ft==="deleteContentBackward"&&(y._K.isAndroid&&(Lt.sequence=1),function(bt){if(bt.length!=1||bt[0].isCollapsed)return!1;const Xe=bt[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let kt=0;for(const{nextPosition:bi}of Xe){if(bi.parent.is("$text")){const fi=bi.parent.data,Di=bi.offset;if((0,y.P5)(fi,Di)||(0,y.Iw)(fi,Di)||(0,y.SQ)(fi,Di))continue;kt++}else kt++;if(kt>1)return!0}return!1}(ut)&&(Lt.unit=$,Lt.selectionToRemove=fe.createSelection(ut)));const Yt=new _.cJ(le,"delete",ut[0]);le.fire(Yt,new _.FY(fe,wt,Lt)),Yt.stop.called&&Ke.stop()}),y._K.isBlink&&function(Ke){const nt=Ke.view,ut=nt.document;let wt=null,Ft=!1;function Wt(Yt){return Yt==y.uP.backspace||Yt==y.uP.delete}function Lt(Yt){return Yt==y.uP.backspace?he:we}ut.on("keydown",(Yt,{keyCode:bt})=>{wt=bt,Ft=!1}),ut.on("keyup",(Yt,{keyCode:bt,domEvent:Xe})=>{const kt=ut.selection,bi=Ke.isEnabled&&bt==wt&&Wt(bt)&&!kt.isCollapsed&&!Ft;if(wt=null,bi){const fi=kt.getFirstRange(),Di=new _.cJ(ut,"delete",fi),Yi={unit:$,direction:Lt(bt),selectionToRemove:kt};ut.fire(Di,new _.FY(nt,Xe,Yi))}}),ut.on("beforeinput",(Yt,{inputType:bt})=>{const Xe=g[bt];Wt(wt)&&Xe&&Xe.direction==Lt(wt)&&(Ft=!0)},{priority:"high"}),ut.on("beforeinput",(Yt,{inputType:bt,data:Xe})=>{wt==y.uP.delete&&bt=="insertText"&&Xe=="\x7F"&&Yt.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class p extends u.k_{static get pluginName(){return"Delete"}init(){const fe=this.editor,le=fe.editing.view,pe=le.document,Ke=fe.model.document;le.addObserver(w),this._undoOnBackspace=!1;const nt=new ne(fe,"forward");fe.commands.add("deleteForward",nt),fe.commands.add("forwardDelete",nt),fe.commands.add("delete",new ne(fe,"backward")),this.listenTo(pe,"delete",(ut,wt)=>{pe.isComposing||wt.preventDefault();const{direction:Ft,sequence:Wt,selectionToRemove:Lt,unit:Yt}=wt,bt=Ft==="forward"?"deleteForward":"delete",Xe={sequence:Wt};if(Yt=="selection"){const kt=Array.from(Lt.getRanges()).map(bi=>fe.editing.mapper.toModelRange(bi));Xe.selection=fe.model.createSelection(kt)}else Xe.unit=Yt;fe.execute(bt,Xe),le.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(pe,"delete",(ut,wt)=>{this._undoOnBackspace&&wt.direction=="backward"&&wt.sequence==1&&wt.unit=="codePoint"&&(this._undoOnBackspace=!1,fe.execute("undo"),wt.preventDefault(),ut.stop())},{context:"$capture"}),this.listenTo(Ke,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class v extends u.k_{static get requires(){return[V,p]}static get pluginName(){return"Typing"}}function T(ot,fe){let le=ot.start;return{text:Array.from(ot.getWalker({ignoreElementEnd:!1})).reduce((pe,{item:Ke})=>Ke.is("$text")||Ke.is("$textProxy")?pe+Ke.data:(le=fe.createPositionAfter(Ke),""),""),range:fe.createRange(le,ot.end)}}class L extends(0,y.VM)(){constructor(fe,le){super(),this.model=fe,this.testCallback=le,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(fe.document.selection),this.stopListening(fe.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const fe=this.model.document;this.listenTo(fe.selection,"change:range",(le,{directChange:pe})=>{pe&&(fe.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(fe,"change:data",(le,pe)=>{!pe.isUndo&&pe.isLocal&&this._evaluateTextBeforeSelection("data",{batch:pe})})}_evaluateTextBeforeSelection(fe,le={}){const pe=this.model,Ke=pe.document.selection,nt=pe.createRange(pe.createPositionAt(Ke.focus.parent,0),Ke.focus),{text:ut,range:wt}=T(nt,pe),Ft=this.testCallback(ut);if(!Ft&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Ft,Ft){const Wt=Object.assign(le,{text:ut,range:wt});typeof Ft=="object"&&Object.assign(Wt,Ft),this.fire(`matched:${fe}`,Wt)}}}class O extends u.k_{constructor(fe){super(fe),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const fe=this.editor,le=fe.model,pe=fe.editing.view,Ke=fe.locale,nt=le.document.selection;this.listenTo(pe.document,"arrowKey",(ut,wt)=>{if(!nt.isCollapsed||wt.shiftKey||wt.altKey||wt.ctrlKey)return;const Ft=wt.keyCode==y.uP.arrowright,Wt=wt.keyCode==y.uP.arrowleft;if(!Ft&&!Wt)return;const Lt=Ke.contentLanguageDirection;let Yt=!1;Yt=Lt==="ltr"&&Ft||Lt==="rtl"&&Wt?this._handleForwardMovement(wt):this._handleBackwardMovement(wt),Yt===!0&&ut.stop()},{context:"$text",priority:"highest"}),this.listenTo(nt,"change:range",(ut,wt)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!wt.directChange&&de(nt.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(fe){this.attributes.add(fe)}_handleForwardMovement(fe){const le=this.attributes,pe=this.editor.model,Ke=pe.document.selection,nt=Ke.getFirstPosition();return!this._isGravityOverridden&&(!nt.isAtStart||!oe(Ke,le))&&!!de(nt,le)&&(S(fe),oe(Ke,le)&&de(nt,le,!0)?te(pe,le):this._overrideGravity(),!0)}_handleBackwardMovement(fe){const le=this.attributes,pe=this.editor.model,Ke=pe.document.selection,nt=Ke.getFirstPosition();return this._isGravityOverridden?(S(fe),this._restoreGravity(),de(nt,le,!0)?te(pe,le):W(pe,le,nt),!0):nt.isAtStart?!!oe(Ke,le)&&(S(fe),W(pe,le,nt),!0):!oe(Ke,le)&&de(nt,le,!0)?(S(fe),W(pe,le,nt),!0):!!X(nt,le)&&(nt.isAtEnd&&!oe(Ke,le)&&de(nt,le)?(S(fe),W(pe,le,nt),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const fe=this.editor,le=fe.model,pe=le.document.selection,Ke=fe.editing.view.document;fe.editing.view.addObserver(_.q$);let nt=!1;this.listenTo(Ke,"mousedown",()=>{nt=!0}),this.listenTo(Ke,"selectionChange",()=>{const ut=this.attributes;if(!nt||(nt=!1,!pe.isCollapsed)||!oe(pe,ut))return;const wt=pe.getFirstPosition();de(wt,ut)&&(wt.isAtStart||de(wt,ut,!0)?te(le,ut):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const fe=this.editor.model,le=fe.document.selection,pe=this.attributes;this.listenTo(fe,"insertContent",()=>{const Ke=le.getFirstPosition();oe(le,pe)&&de(Ke,pe)&&te(fe,pe)},{priority:"low"})}_handleDeleteContentAfterNode(){const fe=this.editor,le=fe.model,pe=le.document.selection,Ke=fe.editing.view;let nt=!1,ut=!1;this.listenTo(Ke.document,"delete",(wt,Ft)=>{nt=Ft.direction==="backward"},{priority:"high"}),this.listenTo(le,"deleteContent",()=>{if(!nt)return;const wt=pe.getFirstPosition();ut=oe(pe,this.attributes)&&!X(wt,this.attributes)},{priority:"high"}),this.listenTo(le,"deleteContent",()=>{nt&&(nt=!1,ut||fe.model.enqueueChange(()=>{const wt=pe.getFirstPosition();oe(pe,this.attributes)&&de(wt,this.attributes)&&(wt.isAtStart||de(wt,this.attributes,!0)?te(le,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(fe=>fe.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(fe=>{fe.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function oe(ot,fe){for(const le of fe)if(ot.hasAttribute(le))return!0;return!1}function W(ot,fe,le){const pe=le.nodeBefore;ot.change(Ke=>{if(pe){const nt=[],ut=ot.schema.isObject(pe)&&ot.schema.isInline(pe);for(const[wt,Ft]of pe.getAttributes())!ot.schema.checkAttribute("$text",wt)||ut&&ot.schema.getAttributeProperties(wt).copyFromObject===!1||nt.push([wt,Ft]);Ke.setSelectionAttribute(nt)}else Ke.removeSelectionAttribute(fe)})}function te(ot,fe){ot.change(le=>{le.removeSelectionAttribute(fe)})}function S(ot){ot.preventDefault()}function X(ot,fe){return de(ot.getShiftedBy(-1),fe)}function de(ot,fe,le=!1){const{nodeBefore:pe,nodeAfter:Ke}=ot;for(const nt of fe){const ut=pe?pe.getAttribute(nt):void 0,wt=Ke?Ke.getAttribute(nt):void 0;if((!le||ut!==void 0&&wt!==void 0)&&wt!==ut)return!0}return!1}var _e=s("./node_modules/lodash-es/escapeRegExp.js");const Ae={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:xe('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:xe("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:xe("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:xe('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:xe('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:xe("'"),to:[null,"\u201A",null,"\u2019"]}},rt={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},et=["symbols","mathematical","typography","quotes"];class J extends u.k_{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(fe){super(fe),fe.config.define("typing",{transformations:{include:et}})}init(){const fe=this.editor.model.document.selection;fe.on("change:range",()=>{this.isEnabled=!fe.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const fe=this.editor,le=fe.model,pe=fe.plugins.get("Delete"),Ke=function(ut){const wt=ut.extra||[],Ft=ut.remove||[],Wt=Lt=>!Ft.includes(Lt);return function(Lt){const Yt=new Set;for(const bt of Lt)if(typeof bt=="string"&&rt[bt])for(const Xe of rt[bt])Yt.add(Xe);else Yt.add(bt);return Array.from(Yt)}(ut.include.concat(wt).filter(Wt)).filter(Wt).map(Lt=>typeof Lt=="string"&&Ae[Lt]?Ae[Lt]:Lt).filter(Lt=>typeof Lt=="object").map(Lt=>({from:Z(Lt.from),to:Ce(Lt.to)}))}(fe.config.get("typing.transformations")),nt=new L(fe.model,ut=>{for(const wt of Ke)if(wt.from.test(ut))return{normalizedTransformation:wt}});nt.on("matched:data",(ut,wt)=>{if(!wt.batch.isTyping)return;const{from:Ft,to:Wt}=wt.normalizedTransformation,Lt=Ft.exec(wt.text),Yt=Wt(Lt.slice(1)),bt=wt.range;let Xe=Lt.index;le.enqueueChange(kt=>{for(let bi=1;bi<Lt.length;bi++){const fi=Lt[bi],Di=Yt[bi-1];if(Di==null){Xe+=fi.length;continue}const Yi=bt.start.getShiftedBy(Xe),Ii=le.createRange(Yi,Yi.getShiftedBy(fi.length)),$i=Oe(Yi);le.insertContent(kt.createText(Di,$i),Ii),Xe+=Di.length}le.enqueueChange(()=>{pe.requestUndoOnBackspace()})})}),nt.bind("isEnabled").to(this)}}function Z(ot){return typeof ot=="string"?new RegExp(`(${(0,_e.A)(ot)})$`):ot}function Ce(ot){return typeof ot=="string"?()=>[ot]:ot instanceof Array?()=>ot:ot}function Oe(ot){return(ot.textNode?ot.textNode:ot.nodeAfter).getAttributes()}function xe(ot){return new RegExp(`(^|\\s)(${ot})([^${ot}]*)(${ot})$`)}function q(ot,fe,le,pe){return pe.createRange(Le(ot,fe,le,!0,pe),Le(ot,fe,le,!1,pe))}function Le(ot,fe,le,pe,Ke){let nt=ot.textNode||(pe?ot.nodeBefore:ot.nodeAfter),ut=null;for(;nt&&nt.getAttribute(fe)==le;)ut=nt,nt=pe?nt.previousSibling:nt.nextSibling;return ut?Ke.createPositionAt(ut,pe?"before":"after"):ot}function He(ot,fe,le,pe){const Ke=ot.editing.view,nt=new Set;Ke.document.registerPostFixer(ut=>{const wt=ot.model.document.selection;let Ft=!1;if(wt.hasAttribute(fe)){const Wt=q(wt.getFirstPosition(),fe,wt.getAttribute(fe),ot.model),Lt=ot.editing.mapper.toViewRange(Wt);for(const Yt of Lt.getItems())Yt.is("element",le)&&!Yt.hasClass(pe)&&(ut.addClass(pe,Yt),nt.add(Yt),Ft=!0)}return Ft}),ot.conversion.for("editingDowncast").add(ut=>{function wt(){Ke.change(Ft=>{for(const Wt of nt.values())Ft.removeClass(pe,Wt),nt.delete(Wt)})}ut.on("insert",wt,{priority:"highest"}),ut.on("remove",wt,{priority:"highest"}),ut.on("attribute",wt,{priority:"highest"}),ut.on("selection",wt,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/button/button.ts":()=>{},"./packages/ckeditor5-ui/src/index.ts":(d,f,s)=>{"use strict";function u({emitter:o,activator:i,callback:r,contextElements:c}){o.listenTo(document,"mousedown",(m,k)=>{if(!i())return;const A=typeof k.composedPath=="function"?k.composedPath():[],E=typeof c=="function"?c():c;for(const R of E)if(R.contains(k.target)||A.includes(R))return;r()})}function y(o){const i=o;i.set("_isCssTransitionsDisabled",!1),i.disableCssTransitions=()=>{i._isCssTransitionsDisabled=!0},i.enableCssTransitions=()=>{i._isCssTransitionsDisabled=!1},i.extendTemplate({attributes:{class:[i.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function P(o){return class extends o{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function b({view:o}){o.listenTo(o.element,"submit",(i,r)=>{r.preventDefault(),o.fire("submit")},{useCapture:!0})}function _({keystrokeHandler:o,focusTracker:i,gridItems:r,numberOfColumns:c,uiLanguageDirection:m}){const k=typeof c=="number"?()=>c:c;function A(ge){return Fe=>{const it=r.find(Ht=>Ht.element===i.focusedElement),Mt=r.getIndex(it),zt=ge(Mt,r);r.get(zt).focus(),Fe.stopPropagation(),Fe.preventDefault()}}function E(ge,Fe){return ge===Fe-1?0:ge+1}function R(ge,Fe){return ge===0?Fe-1:ge-1}o.set("arrowright",A((ge,Fe)=>m==="rtl"?R(ge,Fe.length):E(ge,Fe.length))),o.set("arrowleft",A((ge,Fe)=>m==="rtl"?E(ge,Fe.length):R(ge,Fe.length))),o.set("arrowup",A((ge,Fe)=>{let it=ge-k();return it<0&&(it=ge+k()*Math.floor(Fe.length/k()),it>Fe.length-1&&(it-=k())),it})),o.set("arrowdown",A((ge,Fe)=>{let it=ge+k();return it>Fe.length-1&&(it=ge%k()),it}))}s.d(f,{KO:()=>nt,uI:()=>Rr,Jr:()=>zn,bQ:()=>Wn,Lz:()=>Bs,v1:()=>ut,Xt:()=>Nn,$n:()=>Ft(),e0:()=>Xe,_:()=>fi,Kn:()=>Ze,pQ:()=>oi,ph:()=>qi,oB:()=>se,vF:()=>Vt,eH:()=>re,pU:()=>Xo,wi:()=>P,ep:()=>Wr,lG:()=>Dn,_m:()=>wo,nu:()=>Tn,lU:()=>Et,Vz:()=>Pe,BO:()=>Kt,Gn:()=>co,nc:()=>Jr,eF:()=>$i,Ly:()=>Ms(),H:()=>ni,Dy:()=>Ei,MZ:()=>rs,Ln:()=>bt,WU:()=>$o,LU:()=>Ao,Zz:()=>B,hK:()=>j,E6:()=>ve,y0:()=>He,xE:()=>xt,m_:()=>$e,BD:()=>z,Je:()=>Ee,uO:()=>ct,kS:()=>Kr,GG:()=>gs,I8:()=>zr,BY:()=>qr,zj:()=>pr,yJ:()=>M,Eg:()=>Mo,wD:()=>es,b8:()=>Ps,XE:()=>js,AO:()=>Ct,xw:()=>Co,Wm:()=>Ii,Bj:()=>U,OB:()=>Ne,Cy:()=>mn,IY:()=>Li,X3:()=>po,JV:()=>lo,Ss:()=>xe,s3:()=>V,Jc:()=>Cs,l1:()=>_,O:()=>Vn,fM:()=>Vi,wy:()=>u,yu:()=>ki,By:()=>vo,F_:()=>Qi,Vr:()=>Pn,GR:()=>no,Zn:()=>Rn,b2:()=>Ye,I0:()=>y,tp:()=>gi,eG:()=>xi,lF:()=>ft,mB:()=>ls,iv:()=>Tt,fl:()=>fo,Z5:()=>b});var D=s("./packages/ckeditor5-core/src/index.ts"),I=s("./packages/ckeditor5-utils/src/index.ts");class V extends I.pM{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",(r,c,m)=>{this._renderViewIntoCollectionParent(c,m)}),this.on("remove",(r,c)=>{c.element&&this._parentElement&&c.element.remove()}),this._parentElement=null}destroy(){this.map(i=>i.destroy())}setParent(i){this._parentElement=i;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...i){if(!i.length||!i.every(r=>typeof r=="string"))throw new I.Yb("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const c of this)for(const m of i)c.delegate(m).to(r);this.on("add",(c,m)=>{for(const k of i)m.delegate(k).to(r)}),this.on("remove",(c,m)=>{for(const k of i)m.stopDelegating(k,r)})}}}_renderViewIntoCollectionParent(i,r){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[r])}remove(i){return super.remove(i)}}var ye=s("./node_modules/lodash-es/cloneDeepWith.js"),ne=s("./node_modules/lodash-es/isObject.js");class U extends(0,I.Mm)(){constructor(i){super(),Object.assign(this,O(L(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,intoFragment:!1,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new I.Yb("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*function*i(r){if(r.children)for(const c of r.children)de(c)?yield c:_e(c)&&(yield*i(c))}(this)}static bind(i,r){return{to:(c,m)=>new he({eventNameOrFunction:c,attribute:c,observable:i,emitter:r,callback:m}),if:(c,m,k)=>new we({observable:i,emitter:r,attribute:c,valueIfTrue:m,callback:k})}}static extend(i,r){if(i._isRendered)throw new I.Yb("template-extend-render",[this,i]);S(i,O(L(r)))}_renderNode(i){let r;if(r=i.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new I.Yb("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let r=i.node;return r||(r=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),r}_renderText(i){let r=i.node;return r?i.revertData.text=r.textContent:r=i.node=document.createTextNode(""),g(this.text)?this._bindToObservable({schema:this.text,updater:p(r),data:i}):r.textContent=this.text.join(""),r}_renderAttributes(i){if(!this.attributes)return;const r=i.node,c=i.revertData;for(const m in this.attributes){const k=r.getAttribute(m),A=this.attributes[m];c&&(c.attributes[m]=k);const E=rt(A)?A[0].ns:null;if(g(A)){const R=rt(A)?A[0].value:A;c&&et(m)&&R.unshift(k),this._bindToObservable({schema:R,updater:v(r,m,E),data:i})}else if(m=="style"&&typeof A[0]!="string")this._renderStyleAttribute(A[0],i);else{c&&k&&et(m)&&A.unshift(k);const R=A.map(ge=>ge&&ge.value||ge).reduce((ge,Fe)=>ge.concat(Fe),[]).reduce(W,"");X(R)||r.setAttributeNS(E,m,R)}}}_renderStyleAttribute(i,r){const c=r.node;for(const m in i){const k=i[m];g(k)?this._bindToObservable({schema:[k],updater:T(c,m),data:r}):c.style[m]=k}}_renderElementChildren(i){const r=i.node,c=i.intoFragment?document.createDocumentFragment():r,m=i.isApplying;let k=0;for(const A of this.children)if(Ae(A)){if(!m){A.setParent(r);for(const E of A)c.appendChild(E.element)}}else if(de(A))m||(A.isRendered||A.render(),c.appendChild(A.element));else if((0,I.Ll)(A))c.appendChild(A);else if(m){const E={children:[],bindings:[],attributes:{}};i.revertData.children.push(E),A._renderNode({intoFragment:!1,node:c.childNodes[k++],isApplying:!0,revertData:E})}else c.appendChild(A.render());i.intoFragment&&r.appendChild(c)}_setUpListeners(i){if(this.eventListeners)for(const r in this.eventListeners){const c=this.eventListeners[r].map(m=>{const[k,A]=r.split("@");return m.activateDomEventListener(k,A,i)});i.revertData&&i.revertData.bindings.push(c)}}_bindToObservable({schema:i,updater:r,data:c}){const m=c.revertData;w(i,r,c);const k=i.filter(A=>!X(A)).filter(A=>A.observable).map(A=>A.activateAttributeListener(i,r,c));m&&m.bindings.push(k)}_revertTemplateFromNode(i,r){for(const m of r.bindings)for(const k of m)k();if(r.text)return void(i.textContent=r.text);const c=i;for(const m in r.attributes){const k=r.attributes[m];k===null?c.removeAttribute(m):c.setAttribute(m,k)}for(let m=0;m<r.children.length;++m)this._revertTemplateFromNode(c.childNodes[m],r.children[m])}}class ${constructor(i){this.attribute=i.attribute,this.observable=i.observable,this.emitter=i.emitter,this.callback=i.callback}getValue(i){const r=this.observable[this.attribute];return this.callback?this.callback(r,i):r}activateAttributeListener(i,r,c){const m=()=>w(i,r,c);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,m),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,m)}}}class he extends ${constructor(i){super(i),this.eventNameOrFunction=i.eventNameOrFunction}activateDomEventListener(i,r,c){const m=(k,A)=>{r&&!A.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(A):this.observable.fire(this.eventNameOrFunction,A))};return this.emitter.listenTo(c.node,i,m),()=>{this.emitter.stopListening(c.node,i,m)}}}class we extends ${constructor(i){super(i),this.valueIfTrue=i.valueIfTrue}getValue(i){return!X(super.getValue(i))&&(this.valueIfTrue||!0)}}function g(o){return!!o&&(o.value&&(o=o.value),Array.isArray(o)?o.some(g):o instanceof $)}function w(o,i,{node:r}){const c=function(k,A){return k.map(E=>E instanceof $?E.getValue(A):E)}(o,r);let m;m=o.length==1&&o[0]instanceof we?c[0]:c.reduce(W,""),X(m)?i.remove():i.set(m)}function p(o){return{set(i){o.textContent=i},remove(){o.textContent=""}}}function v(o,i,r){return{set(c){o.setAttributeNS(r,i,c)},remove(){o.removeAttributeNS(r,i)}}}function T(o,i){return{set(r){o.style[i]=r},remove(){o.style[i]=null}}}function L(o){return(0,ye.A)(o,i=>{if(i&&(i instanceof $||_e(i)||de(i)||Ae(i)))return i})}function O(o){if(typeof o=="string"?o=function(i){return{text:[i]}}(o):o.text&&function(i){i.text=(0,I.$r)(i.text)}(o),o.on&&(o.eventListeners=function(i){for(const r in i)oe(i,r);return i}(o.on),delete o.on),!o.text){o.attributes&&function(r){for(const c in r)r[c].value&&(r[c].value=(0,I.$r)(r[c].value)),oe(r,c)}(o.attributes);const i=[];if(o.children)if(Ae(o.children))i.push(o.children);else for(const r of o.children)_e(r)||de(r)||(0,I.Ll)(r)?i.push(r):i.push(new U(r));o.children=i}return o}function oe(o,i){o[i]=(0,I.$r)(o[i])}function W(o,i){return X(i)?o:X(o)?i:`${o} ${i}`}function te(o,i){for(const r in i)o[r]?o[r].push(...i[r]):o[r]=i[r]}function S(o,i){if(i.attributes&&(o.attributes||(o.attributes={}),te(o.attributes,i.attributes)),i.eventListeners&&(o.eventListeners||(o.eventListeners={}),te(o.eventListeners,i.eventListeners)),i.text&&o.text.push(...i.text),i.children&&i.children.length){if(o.children.length!=i.children.length)throw new I.Yb("ui-template-extend-children-mismatch",o);let r=0;for(const c of i.children)S(o.children[r++],c)}}function X(o){return!o&&o!==0}function de(o){return o instanceof xe}function _e(o){return o instanceof U}function Ae(o){return o instanceof V}function rt(o){return(0,ne.A)(o[0])&&o[0].ns}function et(o){return o=="class"||o=="style"}var J=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Z=s.n(J),Ce=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Ce.A,Oe),Ce.A.locals;class xe extends(0,I.c5)((0,I.VM)()){constructor(i){super(),this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new I.pM,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,c)=>{c.locale=i,c.t=i&&i.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=U.bind(this,this)}createCollection(i){const r=new V(i);return this._viewCollections.add(r),r}registerChild(i){(0,I.xZ)(i)||(i=[i]);for(const r of i)this._unboundChildren.add(r)}deregisterChild(i){(0,I.xZ)(i)||(i=[i]);for(const r of i)this._unboundChildren.remove(r)}setTemplate(i){this.template=new U(i)}extendTemplate(i){U.extend(this.template,i)}render(){if(this.isRendered)throw new I.Yb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(i=>i.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var q=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),Le={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(q.A,Le),q.A.locals;class He extends xe{constructor(i){super(i),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,I.Ld)()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class ot extends xe{constructor(i,r){super(i);const c=i.t,m=new He;m.text=c("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":m.id,role:"document",tabindex:-1},children:[(0,I.n)(document,"p",{},c("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(r.values())),m]})}focus(){this.element.focus()}_createCategories(i){return i.map(r=>{const c=[(0,I.n)(document,"h3",{},r.label),...Array.from(r.groups.values()).map(m=>this._createGroup(m)).flat()];return r.description&&c.splice(1,0,(0,I.n)(document,"p",{},r.description)),(0,I.n)(document,"section",{},c)})}_createGroup(i){const r=i.keystrokes.sort((m,k)=>m.label.localeCompare(k.label)).map(m=>this._createGroupRow(m)).flat(),c=[(0,I.n)(document,"dl",{},r)];return i.label&&c.unshift((0,I.n)(document,"h4",{},i.label)),c}_createGroupRow(i){const r=this.locale.t,c=(0,I.n)(document,"dt"),m=(0,I.n)(document,"dd"),k=function(E){return typeof E=="string"?[[E]]:typeof E[0]=="string"?[E]:E}(i.keystroke),A=[];for(const E of k)A.push(E.map(fe).join(""));return c.innerHTML=i.label,m.innerHTML=A.join(", ")+(i.mayRequireFn&&I._K.isMac?` ${r("(may require <kbd>Fn</kbd>)")}`:""),[c,m]}}function fe(o){return(0,I.YA)(o).split("+").map(i=>`<kbd>${i}</kbd>`).join("+")}const le='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var pe=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/accessibilityhelp.css"),Ke={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(pe.A,Ke),pe.A.locals;class nt extends D.k_{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Dn]}static get pluginName(){return"AccessibilityHelp"}init(){const i=this.editor,r=i.locale.t;i.ui.componentFactory.add("accessibilityHelp",()=>{const c=this._createButton(fi);return c.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),c}),i.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const c=this._createButton(Kr);return c.label=r("Accessibility"),c}),i.keystrokes.set("Alt+0",(c,m)=>{this._showDialog(),m()}),this._setupRootLabels()}_createButton(i){const r=new i(this.editor.locale);return r.set({keystroke:"Alt+0",icon:le}),r.on("execute",()=>this._showDialog()),r}_setupRootLabels(){const i=this.editor,r=i.editing.view,c=i.t;function m(k,A){const E=`${A.getAttribute("aria-label")}. ${c("Press %0 for help.",[(0,I.YA)("Alt+0")])}`;k.setAttribute("aria-label",E,A)}i.ui.on("ready",()=>{r.change(k=>{for(const A of r.document.roots)m(k,A)}),i.on("addRoot",(k,A)=>{const E=i.editing.view.document.getRoot(A.rootName);r.change(R=>m(R,E))},{priority:"low"})})}_showDialog(){const i=this.editor,r=i.plugins.get("Dialog"),c=i.locale.t;this.contentView||(this.contentView=new ot(i.locale,i.accessibility.keystrokeInfos)),r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:c("Accessibility help"),icon:le,hasCloseButton:!0,content:this.contentView})}}class ut extends V{constructor(i,r=[]){super(r),this.locale=i}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new U({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=(0,I.n)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&i.childElementCount==0&&i.remove()}}var wt=s("./packages/ckeditor5-ui/src/button/button.ts"),Ft=s.n(wt),Wt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),Lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Wt.A,Lt),Wt.A.locals;const Yt=class extends xe{constructor(){super();const o=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",o.if("isVisible","ck-hidden",i=>!i),"ck-reset_all-excluded",o.if("isColorInherited","ck-icon_inherit-color")],viewBox:o.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const o=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=o.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:r,value:c}of Array.from(o.attributes))Yt.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,c);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;o.childNodes.length>0;)this.element.appendChild(o.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(o=>{o.style.fill=this.fillColor})}};let bt=Yt;bt.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Xe extends xe{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const i=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("style"),id:i.to("id")},children:[{text:i.to("text")}]})}}var kt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(kt.A,bi),kt.A.locals;class fi extends xe{constructor(i,r=new Xe){super(i),this._focusDelayed=null;const c=this.bindTemplate,m=(0,I.Ld)();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${m}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new bt,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const k={tag:"button",attributes:{class:["ck","ck-button",c.to("class"),c.if("isEnabled","ck-disabled",A=>!A),c.if("isVisible","ck-hidden",A=>!A),c.to("isOn",A=>A?"ck-on":"ck-off"),c.if("withText","ck-button_with-text"),c.if("withKeystroke","ck-button_with-keystroke")],role:c.to("role"),type:c.to("type",A=>A||"button"),tabindex:c.to("tabindex"),"aria-checked":c.to("ariaChecked"),"aria-label":c.to("ariaLabel"),"aria-labelledby":c.to("ariaLabelledBy"),"aria-disabled":c.if("isEnabled",!0,A=>!A),"aria-pressed":c.to("isOn",A=>!!this.isToggleable&&String(!!A)),"data-cke-tooltip-text":c.to("_tooltipString"),"data-cke-tooltip-position":c.to("tooltipPosition")},children:this.children,on:{click:c.to(A=>{this.isEnabled?this.fire("execute"):A.preventDefault()})}};I._K.isSafari&&(this._focusDelayed||(this._focusDelayed=(0,I.cb)(()=>this.focus(),0)),k.on.mousedown=c.to(()=>{this._focusDelayed()}),k.on.mouseup=c.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(k)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(i){return i.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),i}_createKeystrokeView(){const i=new xe;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>(0,I.YA)(r))}]}),i}_getTooltipString(i,r,c){return i?typeof i=="string"?i:(c&&(c=(0,I.YA)(c)),i instanceof Function?i(r,c):`${r}${c?` (${c})`:""}`):""}}var Di=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),Yi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Di.A,Yi),Di.A.locals;class Ii extends fi{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new xe;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}class $i extends fi{constructor(i){super(i),this.buttonView=this,this._fileInputView=new ht(i),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class ht extends xe{constructor(i){super(i),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const G='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var ce=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css"),Ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ce.A,Ie),ce.A.locals;class Ze extends xe{constructor(i,r){super(i);const c=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",c.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:c.if("isCollapsed","hidden"),"aria-labelledby":c.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const i=new fi(this.locale),r=i.bindTemplate;return i.set({withText:!0,icon:G}),i.extendTemplate({attributes:{"aria-expanded":r.to("isOn",c=>String(c))}}),i.bind("label").to(this),i.bind("isOn").to(this,"isCollapsed",c=>!c),i.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),i}}function Ye(o,i){const r=o.t,c={Black:r("Black"),"Dim grey":r("Dim grey"),Grey:r("Grey"),"Light grey":r("Light grey"),White:r("White"),Red:r("Red"),Orange:r("Orange"),Yellow:r("Yellow"),"Light green":r("Light green"),Green:r("Green"),Aquamarine:r("Aquamarine"),Turquoise:r("Turquoise"),"Light blue":r("Light blue"),Blue:r("Blue"),Purple:r("Purple")};return i.map(m=>{const k=c[m.label];return k&&k!=m.label&&(m.label=k),m})}function ft(o){return o.map(Tt).filter(i=>!!i)}function Tt(o){return typeof o=="string"?{model:o,label:o,hasBorder:!1,view:{name:"span",styles:{color:o}}}:{model:o.color,label:o.label||o.color,hasBorder:o.hasBorder!==void 0&&o.hasBorder,view:{name:"span",styles:{color:`${o.color}`}}}}class Vt extends fi{constructor(i){super(i);const r=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:r.to("color")},class:["ck","ck-color-grid__tile",r.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Bt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Bt.A,ei),Bt.A.locals;class oi extends xe{constructor(i,r){super(i);const c=r&&r.colorDefinitions?r.colorDefinitions:[];this.columns=r&&r.columns?r.columns:5;const m={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new I.$x,this.keystrokes=new I.EP,this.items.on("add",(k,A)=>{A.isOn=A.color===this.selectedColor}),c.forEach(k=>{const A=new Vt;A.set({color:k.color,label:k.label,tooltip:!0,hasBorder:k.options.hasBorder}),A.on("execute",()=>{this.fire("execute",{value:k.color,hasBorder:k.options.hasBorder,label:k.label})}),this.items.add(A)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:m}}),this.on("change:selectedColor",(k,A,E)=>{for(const R of this.items)R.isOn=R.color===E})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(i,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),_({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var Mi=s("./node_modules/color-name/index.js");const Pi=function(o){var i,r,c=[],m=1;if(typeof o=="string")if(Mi[o])c=Mi[o].slice(),r="rgb";else if(o==="transparent")m=0,r="rgb",c=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(o)){var k=o.slice(1);m=1,(R=k.length)<=4?(c=[parseInt(k[0]+k[0],16),parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16)],R===4&&(m=parseInt(k[3]+k[3],16)/255)):(c=[parseInt(k[0]+k[1],16),parseInt(k[2]+k[3],16),parseInt(k[4]+k[5],16)],R===8&&(m=parseInt(k[6]+k[7],16)/255)),c[0]||(c[0]=0),c[1]||(c[1]=0),c[2]||(c[2]=0),r="rgb"}else if(i=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(o)){var A=i[1],E=A==="rgb";r=k=A.replace(/a$/,"");var R=k==="cmyk"?4:k==="gray"?1:3;c=i[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(ge,Fe){if(/%$/.test(ge))return Fe===R?parseFloat(ge)/100:k==="rgb"?255*parseFloat(ge)/100:parseFloat(ge);if(k[Fe]==="h"){if(/deg$/.test(ge))return parseFloat(ge);if(zi[ge]!==void 0)return zi[ge]}return parseFloat(ge)}),A===k&&c.push(1),m=E||c[R]===void 0?1:c[R],c=c.slice(0,R)}else o.length>10&&/[0-9](?:\s|\/)/.test(o)&&(c=o.match(/([0-9]+)/g).map(function(ge){return parseFloat(ge)}),r=o.match(/([a-z])/gi).join("").toLowerCase());else isNaN(o)?Array.isArray(o)||o.length?(c=[o[0],o[1],o[2]],r="rgb",m=o.length===4?o[3]:1):o instanceof Object&&(o.r!=null||o.red!=null||o.R!=null?(r="rgb",c=[o.r||o.red||o.R||0,o.g||o.green||o.G||0,o.b||o.blue||o.B||0]):(r="hsl",c=[o.h||o.hue||o.H||0,o.s||o.saturation||o.S||0,o.l||o.lightness||o.L||o.b||o.brightness]),m=o.a||o.alpha||o.opacity||1,o.opacity!=null&&(m/=100)):(r="rgb",c=[o>>>16,(65280&o)>>>8,255&o]);return{space:r,values:c,alpha:m}};var zi={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},mi=s("./node_modules/color-convert/index.js");function Ni(o,i){if(!o)return"";const r=vt(o);if(!r)return"";if(r.space===i)return o;if(c=r,!Object.keys(mi).includes(c.space))return"";var c;const m=mi[r.space][i];return m?function(k,A){switch(A){case"hex":return`#${k}`;case"rgb":return`rgb( ${k[0]}, ${k[1]}, ${k[2]} )`;case"hsl":return`hsl( ${k[0]}, ${k[1]}%, ${k[2]}% )`;case"hwb":return`hwb( ${k[0]}, ${k[1]}, ${k[2]} )`;case"lab":return`lab( ${k[0]}% ${k[1]} ${k[2]} )`;case"lch":return`lch( ${k[0]}% ${k[1]} ${k[2]} )`;default:return""}}(m(r.space==="hex"?r.hexValue:r.values),i):""}function vt(o){if(o.startsWith("#")){const r=Pi(o);return{space:"hex",values:r.values,hexValue:o,alpha:r.alpha}}const i=Pi(o);return i.space?i:null}var qe=s("./node_modules/lodash-es/debounce.js"),pt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),Be={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(pt.A,Be),pt.A.locals;class xt extends xe{constructor(i,r){super(i);const c=`ck-labeled-field-view-${(0,I.Ld)()}`,m=`ck-labeled-field-view-status-${(0,I.Ld)()}`;this.fieldView=r(this,c,m),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(c),this.statusView=this._createStatusView(m),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(A,E)=>A||E);const k=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",k.to("class"),k.if("isEnabled","ck-disabled",A=>!A),k.if("isEmpty","ck-labeled-field-view_empty"),k.if("isFocused","ck-labeled-field-view_focused"),k.if("placeholder","ck-labeled-field-view_placeholder"),k.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(i){const r=new He(this.locale);return r.for=i,r.bind("text").to(this,"label"),r}_createStatusView(i){const r=new xe(this.locale),c=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",c.if("errorText","ck-labeled-field-view__status_error"),c.if("_statusText","ck-hidden",m=>!m)],id:i,role:c.if("errorText","alert")},children:[{text:c.to("_statusText")}]}),r}focus(i){this.fieldView.focus(i)}}class Zt extends xe{constructor(i){super(i),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new I.$x,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...c)=>{this.fire("input",...c),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(i,r,c)=>{this._setDomElementValue(c),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||i===0?i:""}}var Ot=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),Rt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Ot.A,Rt),Ot.A.locals;class ve extends Zt{constructor(i){super(i),this.set("inputMode","text");const r=this.bindTemplate;this.extendTemplate({attributes:{inputmode:r.to("inputMode")}})}}class j extends ve{constructor(i){super(i),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class B extends ve{constructor(i,{min:r,max:c,step:m}={}){super(i);const k=this.bindTemplate;this.set("min",r),this.set("max",c),this.set("step",m),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:k.to("min"),max:k.to("max"),step:k.to("step")}})}}var Y=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css"),Te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Y.A,Te),Y.A.locals;class Ne extends Zt{constructor(i){super(i),this._isUpdateAutoGrowHeightPending=!1;const r=(0,I.To)("px");this.set("minRows",2),this.set("maxRows",5),this.set("_height",null),this.set("resize","none"),this._resizeObserver=null,this.on("change:minRows",this._validateMinMaxRows.bind(this)),this.on("change:maxRows",this._validateMinMaxRows.bind(this));const c=this.bindTemplate;this.template.tag="textarea",this.extendTemplate({attributes:{class:["ck-textarea"],style:{height:c.to("_height",m=>m?r(m):null),resize:c.to("resize")},rows:c.to("minRows")}})}render(){super.render();let i=!1;this.on("input",()=>{this._updateAutoGrowHeight(!0),this.fire("update")}),this.on("change:value",()=>{I.global.window.requestAnimationFrame(()=>{(0,I.zN)(this.element)?(this._updateAutoGrowHeight(),this.fire("update")):this._isUpdateAutoGrowHeightPending=!0})}),this._resizeObserver=new I.tb(this.element,r=>{const c=!!r.contentRect.width&&!!r.contentRect.height;!i&&c&&this._isUpdateAutoGrowHeightPending&&I.global.window.requestAnimationFrame(()=>{this._updateAutoGrowHeight(),this.fire("update")}),i=c})}destroy(){this._resizeObserver&&this._resizeObserver.destroy()}reset(){super.reset(),this._updateAutoGrowHeight(),this.fire("update")}_updateAutoGrowHeight(i){const r=this.element;if(!r.offsetParent)return void(this._isUpdateAutoGrowHeightPending=!0);this._isUpdateAutoGrowHeightPending=!1;const c=ee(r,"1"),m=ee(r,r.value),k=c.ownerDocument.defaultView.getComputedStyle(c),A=parseFloat(k.paddingTop)+parseFloat(k.paddingBottom),E=(0,I.Md)(c),R=parseFloat(k.lineHeight),ge=E.top+E.bottom,Fe=new I.rw(c).height,it=Math.round((m.scrollHeight-A)/R),Mt=this.maxRows*R+A+ge,zt=it===1?Fe:this.minRows*R+A+ge;this._height=Math.min(Math.max(Math.max(it,this.minRows)*R+A+ge,zt),Mt),i&&(r.scrollTop=r.scrollHeight),c.remove(),m.remove()}_validateMinMaxRows(){if(this.minRows>this.maxRows)throw new I.Yb("ui-textarea-view-min-rows-greater-than-max-rows",{textareaView:this,minRows:this.minRows,maxRows:this.maxRows})}}function ee(o,i){const r=o.cloneNode();return r.style.position="absolute",r.style.top="-99999px",r.style.left="-99999px",r.style.height="auto",r.style.overflow="hidden",r.style.width=o.ownerDocument.defaultView.getComputedStyle(o).width,r.tabIndex=-1,r.rows=1,r.value=i,o.parentNode.insertBefore(r,o),r}class Pe extends xe{constructor(i){super(i);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",c=>`ck-dropdown__panel_${c}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(c=>{c.target.tagName.toLocaleLowerCase()!=="input"&&c.preventDefault()})}})}focus(){if(this.children.length){const i=this.children.first;typeof i.focus=="function"?i.focus():(0,I.FF)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const i=this.children.last;typeof i.focusLast=="function"?i.focusLast():i.focus()}}}var ze=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),Qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ze.A,Qe),ze.A.locals;const dt=class extends xe{constructor(o,i,r){super(o);const c=this.bindTemplate;this.buttonView=i,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new I.EP,this.focusTracker=new I.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",c.to("class"),c.if("isEnabled","ck-disabled",m=>!m)],id:c.to("id"),"aria-describedby":c.to("ariaDescribedById")},children:[i,r]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":c.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(i,r,c)=>{if(c)if(this.panelPosition==="auto"){const m=dt._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=m?m.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const o=(i,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(i,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(i,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",o),this.keystrokes.set("esc",o)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:o,north:i,southEast:r,southWest:c,northEast:m,northWest:k,southMiddleEast:A,southMiddleWest:E,northMiddleEast:R,northMiddleWest:ge}=dt.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,c,A,E,o,m,k,R,ge,i]:[c,r,E,A,o,k,m,ge,R,i]}};let Kt=dt;Kt.defaultPanelPositions={south:(o,i)=>({top:o.bottom,left:o.left-(i.width-o.width)/2,name:"s"}),southEast:o=>({top:o.bottom,left:o.left,name:"se"}),southWest:(o,i)=>({top:o.bottom,left:o.left-i.width+o.width,name:"sw"}),southMiddleEast:(o,i)=>({top:o.bottom,left:o.left-(i.width-o.width)/4,name:"sme"}),southMiddleWest:(o,i)=>({top:o.bottom,left:o.left-3*(i.width-o.width)/4,name:"smw"}),north:(o,i)=>({top:o.top-i.height,left:o.left-(i.width-o.width)/2,name:"n"}),northEast:(o,i)=>({top:o.top-i.height,left:o.left,name:"ne"}),northWest:(o,i)=>({top:o.top-i.height,left:o.left-i.width+o.width,name:"nw"}),northMiddleEast:(o,i)=>({top:o.top-i.height,left:o.left-(i.width-o.width)/4,name:"nme"}),northMiddleWest:(o,i)=>({top:o.top-i.height,left:o.left-3*(i.width-o.width)/4,name:"nmw"})},Kt._getOptimalPosition=I.W;class Et extends fi{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new bt;return i.content=G,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}class ni extends(0,I.Mm)(){constructor(i){if(super(),this.focusables=i.focusables,this.focusTracker=i.focusTracker,this.keystrokeHandler=i.keystrokeHandler,this.actions=i.actions,i.actions&&i.keystrokeHandler)for(const r in i.actions){let c=i.actions[r];typeof c=="string"&&(c=[c]);for(const m of c)i.keystrokeHandler.set(m,(k,A)=>{this[r](),A()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(yi)||null}get last(){return this.focusables.filter(yi).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let i=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,c)=>{const m=r.element===this.focusTracker.focusedElement;return m&&(i=c),m}),i)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const i=this.next;i&&this.focusables.getIndex(i)===this.current||i===this.first?this.fire("forwardCycle"):this._focus(i,1)}focusPrevious(){const i=this.previous;i&&this.focusables.getIndex(i)===this.current||i===this.last?this.fire("backwardCycle"):this._focus(i,-1)}_focus(i,r){i&&this.focusTracker.focusedElement!==i.element&&i.focus(r)}_getDomFocusableItem(i){const r=this.focusables.length;if(!r)return null;const c=this.current;if(c===null)return this[i===1?"first":"last"];let m=this.focusables.get(c),k=(c+r+i)%r;do{const A=this.focusables.get(k);if(yi(A)){m=A;break}k=(k+r+i)%r}while(k!==c);return m}}function yi(o){return gi(o)&&(0,I.zN)(o.element)}function gi(o){return!(!("focus"in o)||typeof o.focus!="function")}function xi(o){return gi(o)&&"focusCycler"in o&&o.focusCycler instanceof ni}class Li extends xe{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class mn extends xe{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var jn=Object.defineProperty,vn=Object.getOwnPropertySymbols,Ln=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Jn=(o,i,r)=>i in o?jn(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r,cn=(o,i)=>{for(var r in i||(i={}))Ln.call(i,r)&&Jn(o,r,i[r]);if(vn)for(var r of vn(i))In.call(i,r)&&Jn(o,r,i[r]);return o};function fo(o){if(Array.isArray(o))return{items:o,removeItems:[]};const i={items:[],removeItems:[]};return o?cn(cn({},i),o):i}var go=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),_o={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(go.A,_o),go.A.locals;const{threeVerticalDots:To}=D.Pt,io={alignLeft:D.Pt.alignLeft,bold:D.Pt.bold,importExport:D.Pt.importExport,paragraph:D.Pt.paragraph,plus:D.Pt.plus,text:D.Pt.text,threeVerticalDots:D.Pt.threeVerticalDots,pilcrow:D.Pt.pilcrow,dragIndicator:D.Pt.dragIndicator};class po extends xe{constructor(i,r){super(i);const c=this.bindTemplate,m=this.t;this.options=r||{},this.set("ariaLabel",m("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new I.$x,this.keystrokes=new I.EP,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new No(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const k=i.uiLanguageDirection==="rtl";this._focusCycler=new ni({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[k?"arrowright":"arrowleft","arrowup"],focusNext:[k?"arrowleft":"arrowright","arrowdown"]}});const A=["ck","ck-toolbar",c.to("class"),c.if("isCompact","ck-toolbar_compact")];var E;this.options.shouldGroupWhenFull&&this.options.isFloating&&A.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:A,role:"toolbar","aria-label":c.to("ariaLabel"),style:{maxWidth:c.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(E=this,E.bindTemplate.to(R=>{R.target===E.element&&R.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Dt(this):new ao(this)}render(){super.render(),this.focusTracker.add(this.element);for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(i,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,r,c){this.items.addMany(this._buildItemsFromConfig(i,r,c))}_buildItemsFromConfig(i,r,c){const m=fo(i),k=c||m.removeItems;return this._cleanItemsConfiguration(m.items,r,k).map(A=>(0,ne.A)(A)?this._createNestedToolbarDropdown(A,r,k):A==="|"?new Li:A==="-"?new mn:r.create(A)).filter(A=>!!A)}_cleanItemsConfiguration(i,r,c){const m=i.filter((k,A,E)=>k==="|"||c.indexOf(k)===-1&&(k==="-"?!this.options.shouldGroupWhenFull||((0,I.FF)("toolbarview-line-break-ignored-when-grouping-items",E),!1):!(!(0,ne.A)(k)&&!r.has(k))||((0,I.FF)("toolbarview-item-unavailable",{item:k}),!1)));return this._cleanSeparatorsAndLineBreaks(m)}_cleanSeparatorsAndLineBreaks(i){const r=A=>A!=="-"&&A!=="|",c=i.length,m=i.findIndex(r);if(m===-1)return[];const k=c-i.slice().reverse().findIndex(r);return i.slice(m,k).filter((A,E,R)=>r(A)?!0:!(E>0&&R[E-1]===A))}_createNestedToolbarDropdown(i,r,c){let{label:m,icon:k,items:A,tooltip:E=!0,withText:R=!1}=i;if(A=this._cleanItemsConfiguration(A,r,c),!A.length)return null;const ge=ki(this.locale);return m||(0,I.FF)("toolbarview-nested-toolbar-dropdown-missing-label",i),ge.class="ck-toolbar__nested-toolbar-dropdown",ge.buttonView.set({label:m,tooltip:E,withText:!!R}),k!==!1?ge.buttonView.icon=io[k]||k||To:ge.buttonView.withText=!0,Vi(ge,()=>ge.toolbarView._buildItemsFromConfig(A,r,c)),ge}}class No extends xe{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ao{constructor(i){const r=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using(c=>c),i.focusables.bindTo(i.items).using(c=>gi(c)?c:null),i.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Dt{constructor(i){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),i.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),i.children.on("change",this._updateFocusCyclableItems.bind(this)),i.items.on("change",(r,c)=>{const m=c.index,k=Array.from(c.added);for(const A of c.removed)m>=this.ungroupedItems.length?this.groupedItems.remove(A):this.ungroupedItems.remove(A);for(let A=m;A<m+k.length;A++){const E=k[A-m];A>this.ungroupedItems.length?this.groupedItems.add(E,A-this.ungroupedItems.length):this.ungroupedItems.add(E,A)}this._updateGrouping()}),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,I.zN)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,r=this.viewLocale.uiLanguageDirection,c=new I.rw(i.lastChild),m=new I.rw(i);if(!this.cachedPadding){const k=I.global.window.getComputedStyle(i),A=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(k[A])}return r==="ltr"?c.right>m.right-this.cachedPadding:c.left<m.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new I.tb(this.viewElement,r=>{i&&i===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Li),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,r=i.t,c=ki(i);return c.class="ck-toolbar__grouped-dropdown",c.panelPosition=i.uiLanguageDirection==="ltr"?"sw":"se",Vi(c,this.groupedItems),c.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:i.uiLanguageDirection==="rtl"?"se":"sw",icon:To}),c}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(i=>{gi(i)&&this.viewFocusables.add(i)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class z extends xe{constructor(i){super(i);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",c=>!c)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Ee extends xe{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class $e extends xe{constructor(i,r=new He){super(i);const c=this.bindTemplate,m=new ct(i);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,m]),m.set({role:"group",ariaLabelledBy:r.id}),m.focusTracker.destroy(),m.keystrokes.destroy(),this.items=m.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",c.if("isVisible","ck-hidden",k=>!k)]},children:this.children})}focus(){if(this.items){const i=this.items.find(r=>!(r instanceof Ee));i&&i.focus()}}}var Ge=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Ge.A,at),Ge.A.locals;class ct extends xe{constructor(i){super(i),this._listItemGroupToChangeListeners=new WeakMap;const r=this.bindTemplate;this.focusables=new V,this.items=this.createCollection(),this.focusTracker=new I.$x,this.keystrokes=new I.EP,this._focusCycler=new ni({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const i of this.items)i instanceof $e?this._registerFocusableItemsGroup(i):i instanceof z&&this._registerFocusableListItem(i);this.items.on("change",(i,r)=>{for(const c of r.removed)c instanceof $e?this._deregisterFocusableItemsGroup(c):c instanceof z&&this._deregisterFocusableListItem(c);for(const c of Array.from(r.added).reverse())c instanceof $e?this._registerFocusableItemsGroup(c,r.index):this._registerFocusableListItem(c,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(i,r){this.focusTracker.add(i.element),this.focusables.add(i,r)}_deregisterFocusableListItem(i){this.focusTracker.remove(i.element),this.focusables.remove(i)}_getOnGroupItemsChangeCallback(i){return(r,c)=>{for(const m of c.removed)this._deregisterFocusableListItem(m);for(const m of Array.from(c.added).reverse())this._registerFocusableListItem(m,this.items.getIndex(i)+c.index)}}_registerFocusableItemsGroup(i,r){Array.from(i.items).forEach((m,k)=>{const A=r!==void 0?r+k:void 0;this._registerFocusableListItem(m,A)});const c=this._getOnGroupItemsChangeCallback(i);this._listItemGroupToChangeListeners.set(i,c),i.items.on("change",c)}_deregisterFocusableItemsGroup(i){for(const r of i.items)this._deregisterFocusableListItem(r);i.items.off("change",this._listItemGroupToChangeListeners.get(i)),this._listItemGroupToChangeListeners.delete(i)}}var It=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),yt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(It.A,yt),It.A.locals;class Ct extends xe{constructor(i,r){super(i);const c=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new I.EP,this.focusTracker=new I.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",c.to("class"),c.if("isVisible","ck-hidden",m=>!m),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(i,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(i,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(i){const r=i||new fi;return i||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const i=new fi,r=i.bindTemplate;return i.icon=G,i.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",c=>String(c))}}),i.bind("isEnabled").to(this),i.bind("label").to(this),i.bind("tooltip").to(this),i.delegate("execute").to(this,"open"),i}}var $t=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()($t.A,ii),$t.A.locals;var wi=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),li={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(wi.A,li),wi.A.locals;function ki(o,i=Et){const r=typeof i=="function"?new i(o):i,c=new Pe(o),m=new Kt(o,r,c);return r.bind("isEnabled").to(m),r instanceof Ct?r.arrowView.bind("isOn").to(m,"isOpen"):r.bind("isOn").to(m,"isOpen"),function(k){(function(A){A.on("render",()=>{u({emitter:A,activator:()=>A.isOpen,callback:()=>{A.isOpen=!1},contextElements:()=>[A.element,...A.focusTracker._elements]})})})(k),function(A){A.on("execute",E=>{E.source instanceof Ii||(A.isOpen=!1)})}(k),function(A){A.focusTracker.on("change:isFocused",(E,R,ge)=>{A.isOpen&&!ge&&(A.isOpen=!1)})}(k),function(A){A.keystrokes.set("arrowdown",(E,R)=>{A.isOpen&&(A.panelView.focus(),R())}),A.keystrokes.set("arrowup",(E,R)=>{A.isOpen&&(A.panelView.focusLast(),R())})}(k),function(A){A.on("change:isOpen",(E,R,ge)=>{if(ge)return;const Fe=A.panelView.element;Fe&&Fe.contains(I.global.document.activeElement)&&A.buttonView.focus()})}(k),function(A){A.on("change:isOpen",(E,R,ge)=>{ge&&A.panelView.focus()},{priority:"low"})}(k)}(m),m}function Vi(o,i,r={}){o.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.isOpen?wn(o,i,r):o.once("change:isOpen",()=>wn(o,i,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&Rn(o,()=>o.toolbarView.items.find(c=>c.isOn))}function wn(o,i,r){const c=o.locale,m=c.t,k=o.toolbarView=new po(c),A=typeof i=="function"?i():i;k.ariaLabel=r.ariaLabel||m("Dropdown toolbar"),r.maxWidth&&(k.maxWidth=r.maxWidth),r.class&&(k.class=r.class),r.isCompact&&(k.isCompact=r.isCompact),r.isVertical&&(k.isVertical=!0),A instanceof V?k.items.bindTo(A).using(E=>E):k.items.addMany(A),o.panelView.children.add(k),k.items.delegate("execute").to(o)}function Vn(o,i,r={}){o.isOpen?Cn(o,i,r):o.once("change:isOpen",()=>Cn(o,i,r),{priority:"highest"}),Rn(o,()=>o.listView.items.find(c=>c instanceof z&&c.children.first.isOn))}function Cn(o,i,r){const c=o.locale,m=o.listView=new ct(c),k=typeof i=="function"?i():i;m.ariaLabel=r.ariaLabel,m.role=r.role,en(o,m.items,k,c),o.panelView.children.add(m),m.items.delegate("execute").to(o)}function Rn(o,i){o.on("change:isOpen",()=>{if(!o.isOpen)return;const r=i();r&&(typeof r.focus=="function"?r.focus():(0,I.FF)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:I.vx.low-10})}function en(o,i,r,c){i.bindTo(r).using(m=>{if(m.type==="separator")return new Ee(c);if(m.type==="group"){const k=new $e(c);return k.set({label:m.label}),en(o,k.items,m.items,c),k.items.delegate("execute").to(o),k}if(m.type==="button"||m.type==="switchbutton"){const k=new z(c);let A;return m.type==="button"?(A=new fi(c),A.bind("ariaChecked").to(A,"isOn")):A=new Ii(c),A.bind(...Object.keys(m.model)).to(m.model),A.delegate("execute").to(k),k.children.add(A),k}return null})}const Pn=(o,i,r)=>{const c=new j(o.locale);return c.set({id:i,ariaDescribedById:r}),c.bind("isReadOnly").to(o,"isEnabled",m=>!m),c.bind("hasError").to(o,"errorText",m=>!!m),c.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused","placeholder").to(c),c},Qi=(o,i,r)=>{const c=new B(o.locale);return c.set({id:i,ariaDescribedById:r,inputMode:"numeric"}),c.bind("isReadOnly").to(o,"isEnabled",m=>!m),c.bind("hasError").to(o,"errorText",m=>!!m),c.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused","placeholder").to(c),c},no=(o,i,r)=>{const c=new Ne(o.locale);return c.set({id:i,ariaDescribedById:r}),c.bind("isReadOnly").to(o,"isEnabled",m=>!m),c.bind("hasError").to(o,"errorText",m=>!!m),c.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused","placeholder").to(c),c},vo=(o,i,r)=>{const c=ki(o.locale);return c.set({id:i,ariaDescribedById:r}),c.bind("isEnabled").to(o),c},Xt=(o,i=0,r=1)=>o>r?r:o<i?i:o,ue=(o,i=0,r=Math.pow(10,i))=>Math.round(r*o)/r,N=o=>(o[0]==="#"&&(o=o.substring(1)),o.length<6?{r:parseInt(o[0]+o[0],16),g:parseInt(o[1]+o[1],16),b:parseInt(o[2]+o[2],16),a:o.length===4?ue(parseInt(o[3]+o[3],16)/255,2):1}:{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16),a:o.length===8?ue(parseInt(o.substring(6,8),16)/255,2):1}),ie=({h:o,s:i,v:r,a:c})=>{const m=(200-i)*r/100;return{h:ue(o),s:ue(m>0&&m<200?i*r/100/(m<=100?m:200-m)*100:0),l:ue(m/2),a:ue(c,2)}},We=o=>{const{h:i,s:r,l:c}=ie(o);return`hsl(${i}, ${r}%, ${c}%)`},lt=({h:o,s:i,v:r,a:c})=>{o=o/360*6,i/=100,r/=100;const m=Math.floor(o),k=r*(1-i),A=r*(1-(o-m)*i),E=r*(1-(1-o+m)*i),R=m%6;return{r:ue(255*[r,A,k,k,E,r][R]),g:ue(255*[E,r,r,A,k,k][R]),b:ue(255*[k,k,E,r,r,A][R]),a:ue(c,2)}},Se=o=>{const i=o.toString(16);return i.length<2?"0"+i:i},Nt=({r:o,g:i,b:r,a:c})=>{const m=c<1?Se(ue(255*c)):"";return"#"+Se(o)+Se(i)+Se(r)+m},ui=({r:o,g:i,b:r,a:c})=>{const m=Math.max(o,i,r),k=m-Math.min(o,i,r),A=k?m===o?(i-r)/k:m===i?2+(r-o)/k:4+(o-i)/k:0;return{h:ue(60*(A<0?A+6:A)),s:ue(m?k/m*100:0),v:ue(m/255*100),a:c}},ri=(o,i)=>{if(o===i)return!0;for(const r in o)if(o[r]!==i[r])return!1;return!0},me={},C=o=>{let i=me[o];return i||(i=document.createElement("template"),i.innerHTML=o,me[o]=i),i},F=(o,i,r)=>{o.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:r}))};let Q=!1;const ke=o=>"touches"in o,Ve=(o,i)=>{const r=ke(i)?i.touches[0]:i,c=o.el.getBoundingClientRect();F(o.el,"move",o.getMove({x:Xt((r.pageX-(c.left+window.pageXOffset))/c.width),y:Xt((r.pageY-(c.top+window.pageYOffset))/c.height)}))};class je{constructor(i,r,c,m){const k=C(`<div role="slider" tabindex="0" part="${r}" ${c}><div part="${r}-pointer"></div></div>`);i.appendChild(k.content.cloneNode(!0));const A=i.querySelector(`[part=${r}]`);A.addEventListener("mousedown",this),A.addEventListener("touchstart",this),A.addEventListener("keydown",this),this.el=A,this.xy=m,this.nodes=[A.firstChild,A]}set dragging(i){const r=i?document.addEventListener:document.removeEventListener;r(Q?"touchmove":"mousemove",this),r(Q?"touchend":"mouseup",this)}handleEvent(i){switch(i.type){case"mousedown":case"touchstart":if(i.preventDefault(),!(r=>!(Q&&!ke(r)||(Q||(Q=ke(r)),0)))(i)||!Q&&i.button!=0)return;this.el.focus(),Ve(this,i),this.dragging=!0;break;case"mousemove":case"touchmove":i.preventDefault(),Ve(this,i);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((r,c)=>{const m=c.keyCode;m>40||r.xy&&m<37||m<33||(c.preventDefault(),F(r.el,"move",r.getMove({x:m===39?.01:m===37?-.01:m===34?.05:m===33?-.05:m===35?1:m===36?-1:0,y:m===40?.01:m===38?-.01:0},!0)))})(this,i)}}style(i){i.forEach((r,c)=>{for(const m in r)this.nodes[c].style.setProperty(m,r[m])})}}class Me extends je{constructor(i){super(i,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:i}){this.h=i,this.style([{left:i/360*100+"%",color:We({h:i,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${ue(i)}`)}getMove(i,r){return{h:r?Xt(this.h+360*i.x,0,360):360*i.x}}}class De extends je{constructor(i){super(i,"saturation",'aria-label="Color"',!0)}update(i){this.hsva=i,this.style([{top:100-i.v+"%",left:`${i.s}%`,color:We(i)},{"background-color":We({h:i.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${ue(i.s)}%, Brightness ${ue(i.v)}%`)}getMove(i,r){return{s:r?Xt(this.hsva.s+100*i.x,0,100):100*i.x,v:r?Xt(this.hsva.v-100*i.y,0,100):Math.round(100-100*i.y)}}}const Ue=Symbol("same"),st=Symbol("color"),mt=Symbol("hsva"),_t=Symbol("update"),Pt=Symbol("parts"),qt=Symbol("css"),jt=Symbol("sliders");class Jt extends HTMLElement{static get observedAttributes(){return["color"]}get[qt](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[jt](){return[De,Me]}get color(){return this[st]}set color(i){if(!this[Ue](i)){const r=this.colorModel.toHsva(i);this[_t](r),this[st]=i}}constructor(){super();const i=C(`<style>${this[qt].join("")}</style>`),r=this.attachShadow({mode:"open"});r.appendChild(i.content.cloneNode(!0)),r.addEventListener("move",this),this[Pt]=this[jt].map(c=>new c(r))}connectedCallback(){if(this.hasOwnProperty("color")){const i=this.color;delete this.color,this.color=i}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(i,r,c){const m=this.colorModel.fromAttr(c);this[Ue](m)||(this.color=m)}handleEvent(i){const r=this[mt],c={...r,...i.detail};let m;this[_t](c),ri(c,r)||this[Ue](m=this.colorModel.fromHsva(c))||(this[st]=m,F(this,"color-changed",{value:m}))}[Ue](i){return this.color&&this.colorModel.equal(i,this.color)}[_t](i){this[mt]=i,this[Pt].forEach(r=>r.update(i))}}const ci={defaultColor:"#000",toHsva:o=>ui(N(o)),fromHsva:({h:o,s:i,v:r})=>Nt(lt({h:o,s:i,v:r,a:1})),equal:(o,i)=>o.toLowerCase()===i.toLowerCase()||ri(N(o),N(i)),fromAttr:o=>o};class Oi extends Jt{get colorModel(){return ci}}var Ai=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"),ji={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Ai.A,ji),Ai.A.locals;class qi extends xe{constructor(i,r={}){super(i),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const c=this.createCollection();r.hideInput||c.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:c}),this._config=r,this._debounceColorPickerEvent=(0,qe.A)(m=>{this.set("color",m),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(m,k,A)=>{m.return=Ni(A,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Ri(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Ri(this.color)!=Ri(this._hexColor)&&(this.color=this._hexColor)})}render(){var i,r;if(super.render(),i="hex-color-picker",r=Oi,customElements.get(i)===void 0&&customElements.define(i,r),this.picker=I.global.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const c=document.createElement("style");c.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(c)}this.picker.addEventListener("color-changed",c=>{const m=c.detail.value;this._debounceColorPickerEvent(m)})}focus(){!this._config.hideInput&&(I._K.isGecko||I._K.isiOS||I._K.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const i=[...this.picker.shadowRoot.children].filter(r=>r.getAttribute("role")==="slider").map(r=>new kn(r));this.slidersView=this.createCollection(),i.forEach(r=>{this.slidersView.add(r)})}_createInputRow(){const i=new oo,r=this._createColorInput();return new bo(this.locale,[i,r])}_createColorInput(){const i=new xt(this.locale,Pn),{t:r}=this.locale;return i.set({label:r("HEX"),class:"color-picker-hex-input"}),i.fieldView.bind("value").to(this,"_hexColor",c=>i.isFocused?i.fieldView.value:c.startsWith("#")?c.substring(1):c),i.fieldView.on("input",()=>{const c=i.fieldView.element.value;if(c){const m=c.trim(),k=m.startsWith("#")?m.substring(1):m;[3,4,6,8].includes(k.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(k)&&this._debounceColorPickerEvent("#"+k)}}),i}}function Ri(o){let i=function(r){if(!r)return"";const c=vt(r);return c?c.space==="hex"?c.hexValue:Ni(r,"hex"):"#000"}(o);return i||(i="#000"),i.length===4&&(i="#"+[i[1],i[1],i[2],i[2],i[3],i[3]].join("")),i.toLowerCase()}class kn extends xe{constructor(i){super(),this.element=i}focus(){this.element.focus()}}class oo extends xe{constructor(i){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class bo extends xe{constructor(i,r){super(i),this.children=this.createCollection(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class cr extends(0,I.VM)(I.pM){constructor(i){super(i),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(i,r){return this.find(c=>c.color===i.color)?this:super.add(i,r)}hasColor(i){return!!this.find(r=>r.color===i)}}const{eraser:ir,colorPalette:dr}=D.Pt;class Sr extends xe{constructor(i,{colors:r,columns:c,removeButtonLabel:m,documentColorsLabel:k,documentColorsCount:A,colorPickerLabel:E,focusTracker:R,focusables:ge}){super(i);const Fe=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=R,this.items=this.createCollection(),this.colorDefinitions=r,this.columns=c,this.documentColors=new cr,this.documentColorsCount=A,this._focusables=ge,this._removeButtonLabel=m,this._colorPickerLabel=E,this._documentColorsLabel=k,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",Fe.if("isVisible","ck-hidden",it=>!it)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(i,r){const c=i.document,m=this.documentColorsCount;this.documentColors.clear();for(const k of c.getRoots()){const A=i.createRangeIn(k);for(const E of A.getItems())if(E.is("$textProxy")&&E.hasAttribute(r)&&(this._addColorToDocumentColors(E.getAttribute(r)),this.documentColors.length>=m))return}}updateSelectedColors(){const i=this.documentColorsGrid,r=this.staticColorsGrid,c=this.selectedColor;r.selectedColor=c,i&&(i.selectedColor=c)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const i=U.bind(this.documentColors,this.documentColors),r=new He(this.locale);r.text=this._documentColorsLabel,r.extendTemplate({attributes:{class:["ck","ck-color-grid__label",i.if("isEmpty","ck-hidden")]}}),this.items.add(r),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new fi,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:dr,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const i=new fi;return i.set({withText:!0,icon:ir,label:this._removeButtonLabel}),i.class="ck-color-selector__remove-color",i.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),i.render(),i}_createStaticColorsGrid(){const i=new oi(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return i.on("execute",(r,c)=>{this.fire("execute",{value:c.value,source:"staticColorsGrid"})}),i}_createDocumentColorsGrid(){const i=U.bind(this.documentColors,this.documentColors),r=new oi(this.locale,{columns:this.columns});return r.extendTemplate({attributes:{class:i.if("isEmpty","ck-hidden")}}),r.items.bindTo(this.documentColors).using(c=>{const m=new Vt;return m.set({color:c.color,hasBorder:c.options&&c.options.hasBorder}),c.label&&m.set({label:c.label,tooltip:!0}),m.on("execute",()=>{this.fire("execute",{value:c.color,source:"documentColorsGrid"})}),m}),this.documentColors.on("change:isEmpty",(c,m,k)=>{k&&(r.selectedColor=null)}),r}_addColorToDocumentColors(i){const r=this.colorDefinitions.find(c=>c.color===i);r?this.documentColors.add(Object.assign({},r)):this.documentColors.add({color:i,label:i,options:{hasBorder:!1}})}}var fr=Object.defineProperty,Uo=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,Bo=(o,i,r)=>i in o?fr(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r;class mr extends xe{constructor(i,{focusTracker:r,focusables:c,keystrokes:m,colorPickerViewConfig:k}){super(i),this.items=this.createCollection(),this.focusTracker=r,this.keystrokes=m,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=c,this._colorPickerViewConfig=k;const A=this.bindTemplate,{saveButtonView:E,cancelButtonView:R}=this._createActionButtons();this.saveButtonView=E,this.cancelButtonView=R,this.actionBarView=this._createActionBarView({saveButtonView:E,cancelButtonView:R}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",A.if("isVisible","ck-hidden",ge=>!ge)]},children:this.items})}render(){super.render();const i=new qi(this.locale,((r,c)=>{for(var m in c||(c={}))ur.call(c,m)&&Bo(r,m,c[m]);if(Uo)for(var m of Uo(c))hr.call(c,m)&&Bo(r,m,c[m]);return r})({},this._colorPickerViewConfig));this.colorPickerView=i,this.colorPickerView.render(),this.selectedColor&&(i.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(r,c,m)=>{i.color=m}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",i=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),i.stopPropagation(),i.preventDefault())})}_stopPropagationOnArrowsKeys(){const i=r=>r.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}_addColorPickersElementsToFocusTracker(){for(const r of this.colorPickerView.slidersView)this.focusTracker.add(r.element),this._focusables.add(r);const i=this.colorPickerView.hexInputRow.children.get(1);i.element&&(this.focusTracker.add(i.element),this._focusables.add(i)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:i,cancelButtonView:r}){const c=new xe,m=this.createCollection();return m.add(i),m.add(r),c.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:m}),c}_createActionButtons(){const i=this.locale,r=i.t,c=new fi(i),m=new fi(i);return c.set({icon:D.Pt.check,class:"ck-button-save",type:"button",withText:!1,label:r("Accept")}),m.set({icon:D.Pt.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:r("Cancel")}),c.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),m.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:c,cancelButtonView:m}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(i,r)=>{this.fire("execute",{value:r.color,source:"colorPicker"}),this.set("selectedColor",r.color)})}}var Zo=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css"),br={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Zo.A,br),Zo.A.locals;class se extends xe{constructor(i,{colors:r,columns:c,removeButtonLabel:m,documentColorsLabel:k,documentColorsCount:A,colorPickerLabel:E,colorPickerViewConfig:R}){super(i),this.items=this.createCollection(),this.focusTracker=new I.$x,this.keystrokes=new I.EP,this._focusables=new V,this._colorPickerViewConfig=R,this._focusCycler=new ni({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new Sr(i,{colors:r,columns:c,removeButtonLabel:m,documentColorsLabel:k,documentColorsCount:A,colorPickerLabel:E,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new mr(i,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:R}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(ge,Fe,it)=>{this.colorGridsFragmentView.set("selectedColor",it),this.colorPickerFragmentView.set("selectedColor",it)}),this.colorGridsFragmentView.on("change:selectedColor",(ge,Fe,it)=>{this.set("selectedColor",it)}),this.colorPickerFragmentView.on("change:selectedColor",(ge,Fe,it)=>{this.set("selectedColor",it)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(i,r){this.colorGridsFragmentView.updateDocumentColors(i,r)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class re{constructor(i){this._components=new Map,this.editor=i}*names(){for(const i of this._components.values())yield i.originalName}add(i,r){this._components.set(Je(i),{callback:r,originalName:i})}create(i){if(!this.has(i))throw new I.Yb("componentfactory-item-missing",this,{name:i});return this._components.get(Je(i)).callback(this.editor.locale)}has(i){return this._components.has(Je(i))}}function Je(o){return String(o).toLowerCase()}var At=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),si={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(At.A,si),At.A.locals;class Ei extends xe{constructor(i,r={}){super(i);const c=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",c.to("class")]},children:this.children}),r.icon&&(this.iconView=new bt,this.iconView.content=r.icon,this.children.add(this.iconView));const m=new xe(i);m.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:c.to("label")}]}),this.children.add(m)}}var Si=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialogactions.css"),Ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Si.A,Ti),Si.A.locals;class gn extends xe{constructor(i){super(i),this.children=this.createCollection(),this.keystrokes=new I.EP,this._focusTracker=new I.$x,this._focusables=new V,this.focusCycler=new ni({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(i){for(const r of i){const c=new fi(this.locale);let m;for(m in c.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(c),r)m!="onExecute"&&m!="onCreate"&&c.set(m,r[m]);this.children.add(c)}this._updateFocusCyclableItems()}focus(i){i===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(i=>{this._focusables.add(i),this._focusTracker.add(i.element)})}}class dn extends xe{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var yo=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dialog/dialog.css"),ho={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(yo.A,ho),yo.A.locals;const Tn={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},Eo=(0,I.To)("px"),Lo=class extends function(o){return class extends o{constructor(...i){super(...i),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(I.global.document,"mouseup",this._onDragEndBound),this.listenTo(I.global.document,"touchend",this._onDragEndBound),this.listenTo(I.global.document,"mousemove",this._onDragBound),this.listenTo(I.global.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(I.global.document,"mouseup",this._onDragEndBound),this.stopListening(I.global.document,"touchend",this._onDragEndBound),this.stopListening(I.global.document,"mousemove",this._onDragBound),this.stopListening(I.global.document,"touchmove",this._onDragBound)}_onDragStart(i,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let c=0,m=0;r instanceof MouseEvent?(c=r.clientX,m=r.clientY):(c=r.touches[0].clientX,m=r.touches[0].clientY),this._lastDraggingCoordinates={x:c,y:m},this.isDragging=!0}_onDrag(i,r){if(!this.isDragging)return void this._detachDragListeners();let c=0,m=0;r instanceof MouseEvent?(c=r.clientX,m=r.clientY):(c=r.touches[0].clientX,m=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(c-this._lastDraggingCoordinates.x),deltaY:Math.round(m-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:c,y:m}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return!!this.dragHandleElement&&(this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target))}}}(xe){constructor(o,{getCurrentDomRoot:i,getViewportOffset:r}){super(o),this.wasMoved=!1;const c=this.bindTemplate,m=o.t;this.set("className",""),this.set("ariaLabel",m("Editor dialog")),this.set("isModal",!1),this.set("position",Tn.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=i,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new I.EP,this.focusTracker=new I.$x,this._focusables=new V,this._focusCycler=new ni({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",c.if("isModal","ck-dialog-overlay__transparent",k=>!k),c.if("_isVisible","ck-hidden",k=>!k)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",c.to("className")],role:"dialog","aria-label":c.to("ariaLabel"),style:{top:c.to("_top",k=>Eo(k)),left:c.to("_left",k=>Eo(k)),visibility:c.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(o,i)=>{this.fire("close",{source:"escKeyPress"}),i()}),this.on("drag",(o,{deltaX:i,deltaY:r})=>{this.wasMoved=!0,this.moveBy(i,r)}),this.listenTo(I.global.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(I.global.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(o,i,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:o,title:i,hasCloseButton:r=!0,content:c,actionButtons:m}){i&&(this.headerView=new Ei(this.locale,{icon:o}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=i,this.ariaLabel=i,this.parts.add(this.headerView,0)),c&&(c instanceof xe&&(c=[c]),this.contentView=new dn(this.locale),this.contentView.children.addMany(c),this.parts.add(this.contentView)),m&&(this.actionsView=new gn(this.locale),this.actionsView.setButtons(m),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(o,i){const r=this._getViewportRect(),c=this._getDialogRect();o+c.width>r.right&&(o=r.right-c.width),o<r.left&&(o=r.left),i<r.top&&(i=r.top),this._moveTo(o,i)}_moveTo(o,i){this._left=o,this._top=i}moveBy(o,i){this.moveTo(this._left+o,this._top+i)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const o=this._getViewportRect();let i,r=this.position;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(o):r=Tn.SCREEN_CENTER;const c=Lo.defaultOffset,m=this._getDialogRect();switch(r){case Tn.EDITOR_TOP_SIDE:if(i){const k=this.locale.contentLanguageDirection==="ltr"?i.right-m.width-c:i.left+c;this.moveTo(k,i.top+c)}else this._moveOffScreen();break;case Tn.EDITOR_CENTER:i?this.moveTo(Math.round(i.left+i.width/2-m.width/2),Math.round(i.top+i.height/2-m.height/2)):this._moveOffScreen();break;case Tn.SCREEN_CENTER:this.moveTo(Math.round((o.width-m.width)/2),Math.round((o.height-m.height)/2));break;case Tn.EDITOR_TOP_CENTER:i?this.moveTo(Math.round(i.left+i.width/2-m.width/2),i.top+c):this._moveOffScreen();break;case Tn.EDITOR_BOTTOM_CENTER:i?this.moveTo(Math.round(i.left+i.width/2-m.width/2),i.bottom-m.height-c):this._moveOffScreen();break;case Tn.EDITOR_ABOVE_CENTER:i?this.moveTo(Math.round(i.left+i.width/2-m.width/2),i.top-m.height-c):this._moveOffScreen();break;case Tn.EDITOR_BELOW_CENTER:i?this.moveTo(Math.round(i.left+i.width/2-m.width/2),i.bottom+c):this._moveOffScreen()}}_getVisibleDomRootRect(o){let i=new I.rw(this._getCurrentDomRoot()).getVisible();return i?(i=o.getIntersection(i),i||null):null}_getDialogRect(){return new I.rw(this.element.firstElementChild)}_getViewportRect(){return function(o){o=Object.assign({top:0,bottom:0,left:0,right:0},o);const i=new I.rw(I.global.window);return i.top+=o.top,i.height-=o.top,i.bottom-=o.bottom,i.height-=o.bottom,i.left+=o.left,i.right-=o.right,i.width-=o.left+o.right,i}(this._getViewportOffset())}_updateFocusCyclableItems(){const o=[];if(this.contentView)for(const i of this.contentView.children)gi(i)&&o.push(i);this.actionsView&&o.push(this.actionsView),this.closeButtonView&&o.push(this.closeButtonView),o.forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element),xi(i)&&(this.listenTo(i.focusCycler,"forwardCycle",r=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}),this.listenTo(i.focusCycler,"backwardCycle",r=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}))})}_createCloseButton(){const o=new fi(this.locale),i=this.locale.t;return o.set({label:i("Close"),tooltip:!0,icon:D.Pt.cancel}),o.on("execute",()=>this.fire("close",{source:"closeButton"})),o}};let wo=Lo;wo.defaultOffset=15;class Dn extends D.k_{constructor(i){super(i);const r=i.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),i.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(i,r)=>{this._show(r)}),this.on("show",(i,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{Dn._visibleDialogPlugin&&Dn._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const i=this.editor;i.keystrokes.set("Ctrl+F6",(r,c)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?i.editing.view.focus():this.view.focus(),c())})}_initMultiRootIntegration(){const i=this.editor.model;i.document.on("change:data",()=>{if(!this.view)return;const r=i.document.differ.getChangedRoots();for(const c of r)c.state&&this.view.updatePosition()})}show(i){this.hide(),this.fire(`show:${i.id}`,i)}_show({id:i,icon:r,title:c,hasCloseButton:m=!0,content:k,actionButtons:A,className:E,isModal:R,position:ge,onHide:Fe}){const it=this.editor;this.view=new wo(it.locale,{getCurrentDomRoot:()=>it.editing.view.getDomRoot(it.model.document.selection.anchor.root.rootName),getViewportOffset:()=>it.ui.viewportOffset});const Mt=this.view;Mt.on("close",()=>{this.hide()}),it.ui.view.body.add(Mt),it.ui.focusTracker.add(Mt.element),it.keystrokes.listenTo(Mt.element),ge||(ge=R?Tn.SCREEN_CENTER:Tn.EDITOR_CENTER),Mt.set({position:ge,_isVisible:!0,className:E,isModal:R}),Mt.setupParts({icon:r,title:c,hasCloseButton:m,content:k,actionButtons:A}),this.id=i,Fe&&(this._onHide=Fe),this.isOpen=!0,Dn._visibleDialogPlugin=this}hide(){Dn._visibleDialogPlugin&&Dn._visibleDialogPlugin.fire(`hide:${Dn._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const i=this.editor,r=this.view;r.contentView&&r.contentView.reset(),i.ui.view.body.remove(r),i.ui.focusTracker.remove(r.element),i.keystrokes.stopListening(r.element),r.destroy(),i.editing.view.focus(),this.id=null,this.isOpen=!1,Dn._visibleDialogPlugin=null}}var Qn=s("./node_modules/lodash-es/isElement.js"),ro=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),So={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ro.A,So),ro.A.locals;var Oo=Object.defineProperty,wr=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,Jo=(o,i,r)=>i in o?Oo(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r,fn=(o,i)=>{for(var r in i||(i={}))kr.call(i,r)&&Jo(o,r,i[r]);if(wr)for(var r of wr(i))_r.call(i,r)&&Jo(o,r,i[r]);return o};const vr=(0,I.To)("px"),tn=I.global.document.body,xn={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},_n=class extends xe{constructor(o){super(o);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",r=>`ck-balloon-panel_${r}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",vr),left:i.to("left",vr)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(o){this.show();const i=_n.defaultPositions,r=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:tn,fitInViewport:!0},o),c=_n._getOptimalPosition(r)||xn,m=parseInt(c.left),k=parseInt(c.top),A=c.name,E=c.config||{},{withArrow:R=!0}=E;this.top=k,this.left=m,this.position=A,this.withArrow=R}pin(o){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(o):this._stopPinning()},this._startPinning(o),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(o){this.attachTo(o);const i=jo(o.target),r=o.limiter?jo(o.limiter):tn;this.listenTo(I.global.document,"scroll",(c,m)=>{const k=m.target,A=i&&k.contains(i),E=r&&k.contains(r);!A&&!E&&i&&r||this.attachTo(o)},{useCapture:!0}),this.listenTo(I.global.window,"resize",()=>{this.attachTo(o)})}_stopPinning(){this.stopListening(I.global.document,"scroll"),this.stopListening(I.global.window,"resize")}};let zn=_n;function jo(o){return(0,Qn.A)(o)?o:(0,I._Z)(o)?o.commonAncestorContainer:typeof o=="function"?jo(o()):null}function Io(o={}){const{sideOffset:i=zn.arrowSideOffset,heightOffset:r=zn.arrowHeightOffset,stickyVerticalOffset:c=zn.stickyVerticalOffset,config:m}=o;return{northWestArrowSouthWest:(E,R)=>fn({top:k(E,R),left:E.left-i,name:"arrow_sw"},m&&{config:m}),northWestArrowSouthMiddleWest:(E,R)=>fn({top:k(E,R),left:E.left-.25*R.width-i,name:"arrow_smw"},m&&{config:m}),northWestArrowSouth:(E,R)=>fn({top:k(E,R),left:E.left-R.width/2,name:"arrow_s"},m&&{config:m}),northWestArrowSouthMiddleEast:(E,R)=>fn({top:k(E,R),left:E.left-.75*R.width+i,name:"arrow_sme"},m&&{config:m}),northWestArrowSouthEast:(E,R)=>fn({top:k(E,R),left:E.left-R.width+i,name:"arrow_se"},m&&{config:m}),northArrowSouthWest:(E,R)=>fn({top:k(E,R),left:E.left+E.width/2-i,name:"arrow_sw"},m&&{config:m}),northArrowSouthMiddleWest:(E,R)=>fn({top:k(E,R),left:E.left+E.width/2-.25*R.width-i,name:"arrow_smw"},m&&{config:m}),northArrowSouth:(E,R)=>fn({top:k(E,R),left:E.left+E.width/2-R.width/2,name:"arrow_s"},m&&{config:m}),northArrowSouthMiddleEast:(E,R)=>fn({top:k(E,R),left:E.left+E.width/2-.75*R.width+i,name:"arrow_sme"},m&&{config:m}),northArrowSouthEast:(E,R)=>fn({top:k(E,R),left:E.left+E.width/2-R.width+i,name:"arrow_se"},m&&{config:m}),northEastArrowSouthWest:(E,R)=>fn({top:k(E,R),left:E.right-i,name:"arrow_sw"},m&&{config:m}),northEastArrowSouthMiddleWest:(E,R)=>fn({top:k(E,R),left:E.right-.25*R.width-i,name:"arrow_smw"},m&&{config:m}),northEastArrowSouth:(E,R)=>fn({top:k(E,R),left:E.right-R.width/2,name:"arrow_s"},m&&{config:m}),northEastArrowSouthMiddleEast:(E,R)=>fn({top:k(E,R),left:E.right-.75*R.width+i,name:"arrow_sme"},m&&{config:m}),northEastArrowSouthEast:(E,R)=>fn({top:k(E,R),left:E.right-R.width+i,name:"arrow_se"},m&&{config:m}),southWestArrowNorthWest:E=>fn({top:A(E),left:E.left-i,name:"arrow_nw"},m&&{config:m}),southWestArrowNorthMiddleWest:(E,R)=>fn({top:A(E),left:E.left-.25*R.width-i,name:"arrow_nmw"},m&&{config:m}),southWestArrowNorth:(E,R)=>fn({top:A(E),left:E.left-R.width/2,name:"arrow_n"},m&&{config:m}),southWestArrowNorthMiddleEast:(E,R)=>fn({top:A(E),left:E.left-.75*R.width+i,name:"arrow_nme"},m&&{config:m}),southWestArrowNorthEast:(E,R)=>fn({top:A(E),left:E.left-R.width+i,name:"arrow_ne"},m&&{config:m}),southArrowNorthWest:E=>fn({top:A(E),left:E.left+E.width/2-i,name:"arrow_nw"},m&&{config:m}),southArrowNorthMiddleWest:(E,R)=>fn({top:A(E),left:E.left+E.width/2-.25*R.width-i,name:"arrow_nmw"},m&&{config:m}),southArrowNorth:(E,R)=>fn({top:A(E),left:E.left+E.width/2-R.width/2,name:"arrow_n"},m&&{config:m}),southArrowNorthMiddleEast:(E,R)=>fn({top:A(E),left:E.left+E.width/2-.75*R.width+i,name:"arrow_nme"},m&&{config:m}),southArrowNorthEast:(E,R)=>fn({top:A(E),left:E.left+E.width/2-R.width+i,name:"arrow_ne"},m&&{config:m}),southEastArrowNorthWest:E=>fn({top:A(E),left:E.right-i,name:"arrow_nw"},m&&{config:m}),southEastArrowNorthMiddleWest:(E,R)=>fn({top:A(E),left:E.right-.25*R.width-i,name:"arrow_nmw"},m&&{config:m}),southEastArrowNorth:(E,R)=>fn({top:A(E),left:E.right-R.width/2,name:"arrow_n"},m&&{config:m}),southEastArrowNorthMiddleEast:(E,R)=>fn({top:A(E),left:E.right-.75*R.width+i,name:"arrow_nme"},m&&{config:m}),southEastArrowNorthEast:(E,R)=>fn({top:A(E),left:E.right-R.width+i,name:"arrow_ne"},m&&{config:m}),westArrowEast:(E,R)=>fn({top:E.top+E.height/2-R.height/2,left:E.left-R.width-r,name:"arrow_e"},m&&{config:m}),eastArrowWest:(E,R)=>fn({top:E.top+E.height/2-R.height/2,left:E.right+r,name:"arrow_w"},m&&{config:m}),viewportStickyNorth:(E,R,ge,Fe)=>{const it=Fe||ge;return E.getIntersection(it)?it.height-E.height>c?null:{top:it.top+c,left:E.left+E.width/2-R.width/2,name:"arrowless",config:fn({withArrow:!1},m)}:null}};function k(E,R){return E.top-R.height-r}function A(E){return E.bottom+r}}zn.arrowSideOffset=25,zn.arrowHeightOffset=10,zn.stickyVerticalOffset=20,zn._getOptimalPosition=I.W,zn.defaultPositions=Io();var ko=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),Vo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ko.A,Vo),ko.A.locals;const mo="ck-tooltip",Un=class extends(0,I.c5)(){constructor(o){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Un._editors.add(o),Un._instance)return Un._instance;Un._instance=this,this.tooltipTextView=new xe(o.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new zn(o.locale),this.balloonPanelView.class=mo,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(i){const r=new MutationObserver(()=>{i()});return{attach(c){r.observe(c,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){r.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=(0,qe.A)(this._pinTooltip,600),this._unpinTooltipDebounced=(0,qe.A)(this._unpinTooltip,400),this.listenTo(I.global.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(I.global.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(I.global.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(I.global.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(I.global.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(I.global.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(o){const i=o.ui.view&&o.ui.view.body;Un._editors.delete(o),this.stopListening(o.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),Un._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Un._instance=null)}static getPositioningFunctions(o){const i=Un.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[o]}_onKeyDown(o,i){i.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),i.stopPropagation())}_onEnterOrFocus(o,{target:i}){const r=En(i);r?r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,qn(r))):o.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(o,{target:i,relatedTarget:r}){if(o.name==="mouseleave"){if(!(0,Qn.A)(i))return;const c=this.balloonPanelView.element,m=c&&(c===r||c.contains(r)),k=!m&&i===c;if(m)return void this._unpinTooltipDebounced.cancel();if(!k&&this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const A=En(i),E=En(r);(k||A&&A!==E)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(o,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(o,{text:i,position:r,cssClass:c}){this._unpinTooltip();const m=(0,I.$1)(Un._editors.values()).ui.view.body;m.has(this.balloonPanelView)||m.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:o,positions:Un.getPositioningFunctions(r)}),this._resizeObserver=new I.tb(o,()=>{(0,I.zN)(o)||this._unpinTooltip()}),this._mutationObserver.attach(o),this.balloonPanelView.class=[mo,c].filter(k=>k).join(" ");for(const k of Un._editors)this.listenTo(k.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=o,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const o of Un._editors)this.stopListening(o.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){const o=qn(this._currentElementWithTooltip);(0,I.zN)(this._currentElementWithTooltip)&&o.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Un.getPositioningFunctions(o.position)}):this._unpinTooltip()}};let lo=Un;function En(o){return(0,Qn.A)(o)?o.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function qn(o){return{text:o.dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}}lo.defaultBalloonPositions=Io({heightOffset:5,sideOffset:13}),lo._editors=new Set,lo._instance=null;var Do=s("./node_modules/lodash-es/throttle.js"),bs=Object.defineProperty,ws=Object.getOwnPropertySymbols,Gs=Object.prototype.hasOwnProperty,Zs=Object.prototype.propertyIsEnumerable,Ir=(o,i,r)=>i in o?bs(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r,Yr=(o,i)=>{for(var r in i||(i={}))Gs.call(i,r)&&Ir(o,r,i[r]);if(ws)for(var r of ws(i))Zs.call(i,r)&&Ir(o,r,i[r]);return o};const ks=50,Gr=350,Js="Powered by";class Qs extends(0,I.c5)(){constructor(i){super(),this.editor=i,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,Do.A)(this._showBalloon.bind(this),50,{leading:!0}),i.on("ready",this._handleEditorReady.bind(this))}destroy(){const i=this._balloonView;i&&(i.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const i=this.editor;(i.config.get("ui.poweredBy.forceVisible")||(0,I.rQ)(i.config.get("licenseKey"))!=="VALID")&&i.ui.view&&(i.ui.focusTracker.on("change:isFocused",(r,c,m)=>{this._updateLastFocusedEditableElement(),m?this._showBalloon():this._hideBalloon()}),i.ui.focusTracker.on("change:focusedElement",(r,c,m)=>{this._updateLastFocusedEditableElement(),m&&this._showBalloon()}),i.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const i=this.editor,r=this._balloonView=new zn,c=vs(i),m=new Qo(i.locale,c.label);r.content.add(m),r.set({class:"ck-powered-by-balloon"}),i.ui.view.body.add(r),i.ui.focusTracker.add(r.element),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const i=function(r,c){const m=vs(r),k=m.side==="right"?function(A,E){return _s(A,E,(R,ge)=>R.left+R.width-ge.width-E.horizontalOffset)}(c,m):function(A,E){return _s(A,E,R=>R.left+E.horizontalOffset)}(c,m);return{target:c,positions:[k]}}(this.editor,this._lastFocusedEditableElement);i&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(i))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const i=this.editor,r=i.ui.focusTracker.isFocused,c=i.ui.focusTracker.focusedElement;if(!r||!c)return void(this._lastFocusedEditableElement=null);const m=Array.from(i.ui.getEditableElementsNames()).map(k=>i.ui.getEditableElement(k));m.includes(c)?this._lastFocusedEditableElement=c:this._lastFocusedEditableElement=m[0]}}class Qo extends xe{constructor(i,r){super(i);const c=new bt,m=this.bindTemplate;c.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),c.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],c],on:{dragstart:m.to(k=>k.preventDefault())}}]})}}function _s(o,i,r){return(c,m)=>{const k=new I.rw(o);if(k.width<Gr||k.height<ks)return null;let A;A=i.position==="inside"?k.bottom-m.height:k.bottom-m.height/2,A-=i.verticalOffset;const E=r(k,m),R=c.clone().moveTo(E,A).getIntersection(m.clone().moveTo(E,A)).getVisible();return!R||R.getArea()<m.getArea()?null:{top:A,left:E,name:`position_${i.position}-side_${i.side}`,config:{withArrow:!1}}}}function vs(o){const i=o.config.get("ui.poweredBy"),r=i&&i.position||"border";return Yr({position:r,label:Js,verticalOffset:r==="inside"?5:0,horizontalOffset:5,side:o.locale.contentLanguageDirection==="ltr"?"right":"left"},i)}var Pr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"),ys={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Pr.A,ys),Pr.A.locals;const Po="polite";class Zr{constructor(i){this.editor=i}announce(i,r,c=Po){const m=this.editor;this.view||(this.view=new xs(m.locale),m.ui.view.body.add(this.view));let k=this.view.regionViews.find(A=>A.regionName===i);k||(k=new yr(this.view.locale),this.view.regionViews.add(k)),k.set({regionName:i,text:r,politeness:c})}}class xs extends xe{constructor(i){super(i),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class yr extends xe{constructor(i){super(i);const r=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",Po),this.setTemplate({tag:"div",attributes:{role:"region","data-region":r.to("regionName"),"aria-live":r.to("politeness")},children:[{text:r.to("text")}]})}}var nr=Object.defineProperty,Wo=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,As=Object.prototype.propertyIsEnumerable,yn=(o,i,r)=>i in o?nr(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r;class co extends(0,I.VM)(){constructor(i){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const r=i.editing.view;this.editor=i,this.componentFactory=new re(i),this.focusTracker=new I.$x,this.tooltipManager=new lo(i),this.poweredBy=new Qs(i),this.ariaLiveAnnouncer=new Zr(i),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null,this.editor.keystrokes.stopListening(i);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(i,r){this._editableElementsMap.set(i,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const c=()=>{this.editor.editing.view.getDomRoot(i)||this.editor.keystrokes.listenTo(r)};this.isReady?c():this.once("ready",c)}removeEditableElement(i){const r=this._editableElementsMap.get(i);r&&(this._editableElementsMap.delete(i),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(i,r={}){i.isRendered?(this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)):i.once("render",()=>{this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)}),this._focusableToolbarDefinitions.push({toolbarView:i,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const i=this.editor,r=i.config.get("ui.viewportOffset");if(r)return r;const c=i.config.get("toolbar.viewportTopOffset");return c?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:c}):{top:0}}_initFocusTracking(){const i=this.editor,r=i.editing.view;let c,m;i.keystrokes.set("Alt+F10",(k,A)=>{const E=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(E)&&!Array.from(r.domRoots.values()).includes(E)&&(c=E);const R=this._getCurrentFocusedToolbarDefinition();R&&m||(m=this._getFocusableCandidateToolbarDefinitions());for(let ge=0;ge<m.length;ge++){const Fe=m.shift();if(m.push(Fe),Fe!==R&&this._focusFocusableCandidateToolbar(Fe)){R&&R.options.afterBlur&&R.options.afterBlur();break}}A()}),i.keystrokes.set("Esc",(k,A)=>{const E=this._getCurrentFocusedToolbarDefinition();E&&(c?(c.focus(),c=null):i.editing.view.focus(),E.options.afterBlur&&E.options.afterBlur(),A())})}_getFocusableCandidateToolbarDefinitions(){const i=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:c,options:m}=r;((0,I.zN)(c.element)||m.beforeFocus)&&i.push(r)}return i.sort((r,c)=>Mn(r)-Mn(c)),i}_getCurrentFocusedToolbarDefinition(){for(const i of this._focusableToolbarDefinitions)if(i.toolbarView.element&&i.toolbarView.element.contains(this.focusTracker.focusedElement))return i;return null}_focusFocusableCandidateToolbar(i){const{toolbarView:r,options:{beforeFocus:c}}=i;return c&&c(),!!(0,I.zN)(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(i,r){const c=((m,k)=>{for(var A in k||(k={}))Go.call(k,A)&&yn(m,A,k[A]);if(Wo)for(var A of Wo(k))As.call(k,A)&&yn(m,A,k[A]);return m})({top:0,bottom:0,left:0,right:0},this.viewportOffset);r.viewportOffset.top+=c.top,r.viewportOffset.bottom+=c.bottom,r.viewportOffset.left+=c.left,r.viewportOffset.right+=c.right}}function Mn(o){const{toolbarView:i,options:r}=o;let c=10;return(0,I.zN)(i.element)&&c--,r.isContextual&&c--,c}var Kn=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),xo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Kn.A,xo),Kn.A.locals;class Jr extends xe{constructor(i){super(i),this.body=new ut(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Nn extends Jr{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,r=new He;return r.text=i("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class Xn extends xe{constructor(i,r,c){super(i),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=c,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const i=this._editingView;function r(c){i.change(m=>{const k=i.document.getRoot(c.name);m.addClass(c.isFocused?"ck-focused":"ck-blurred",k),m.removeClass(c.isFocused?"ck-blurred":"ck-focused",k)})}i.isRenderingInProgress?function c(m){i.once("change:isRenderingInProgress",(k,A,E)=>{E?c(m):r(m)})}(this):r(this)}}class Ao extends Xn{constructor(i,r,c,m={}){super(i,r,c);const k=i.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=m.label||(()=>k("Editor editing area: %0",this.name))}render(){super.render();const i=this._editingView;i.change(r=>{const c=i.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),c)})}}class $o extends xe{constructor(i){super(i);const r=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:r.to("loaded")}})}render(){return new Promise(i=>(this.on("loaded",i),super.render()))}}class Mo extends D.HY{static get pluginName(){return"Notification"}init(){this.on("show:warning",(i,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(i,r={}){this._showNotification({message:i,type:"success",namespace:r.namespace,title:r.title})}showInfo(i,r={}){this._showNotification({message:i,type:"info",namespace:r.namespace,title:r.title})}showWarning(i,r={}){this._showNotification({message:i,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(i){const r=i.namespace?`show:${i.type}:${i.namespace}`:`show:${i.type}`;this.fire(r,{message:i.message,type:i.type,title:i.title||""})}}var Ro=s("./node_modules/lodash-es/assignIn.js");class Cs extends(0,I.VM)(){constructor(i,r){super(),r&&(0,Ro.A)(this,r),i&&this.set(i)}}var Mr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),An={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Mr.A,An),Mr.A.locals;var or=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),Qr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(or.A,Qr),or.A.locals;const Lr=(0,I.To)("px");class Xo extends D.k_{constructor(i){super(i),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,c=r.document.selection.editableElement;return c?r.domConverter.mapViewToDom(c.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this._view||this._createPanelView(),this.hasView(i.view))throw new I.Yb("contextualballoon-add-view-exist",[this,i]);const r=i.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(r));const c=this._idToStack.get(r);i.singleViewMode&&this.showStack(r),c.set(i.view,i),this._viewToStack.set(i.view,c),c===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new I.Yb("contextualballoon-remove-view-not-exist",[this,i]);const r=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const r=this._idToStack.get(i);if(!r)throw new I.Yb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new zn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find(r=>r[1]===i)[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let r=i.indexOf(this._visibleStack)+1;i[r]||(r=0),this.showStack(this._getStackId(i[r]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let r=i.indexOf(this._visibleStack)-1;i[r]||(r=i.length-1),this.showStack(this._getStackId(i[r]))}_createRotatorView(){const i=new Or(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(c,m)=>!m&&c>1),i.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(c,m)=>{if(m<2)return"";const k=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[k,m])}),i.buttonNextView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),i.buttonPrevView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),i}_createFakePanelsView(){const i=new Ts(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,c)=>!c&&r>=2?Math.min(r-1,2):0),i.listenTo(this.view,"change:top",()=>i.updatePosition()),i.listenTo(this.view,"change:left",()=>i.updatePosition()),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:r="",withArrow:c=!0,singleViewMode:m=!1}){this.view.class=r,this.view.withArrow=c,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),m&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}}class Or extends xe{constructor(i){super(i);const r=i.t,c=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new I.$x,this.buttonPrevView=this._createButtonView(r("Previous"),D.Pt.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),D.Pt.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",c.to("isNavigationVisible",m=>m?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:c.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,r){const c=new fi(this.locale);return c.set({label:i,icon:r,tooltip:!0}),c}}class Ts extends xe{constructor(i,r){super(i);const c=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",c.to("numberOfPanels",m=>m?"":"ck-hidden")],style:{top:c.to("top",Lr),left:c.to("left",Lr),width:c.to("width",Lr),height:c.to("height",Lr)}},children:this.content}),this.on("change:numberOfPanels",(m,k,A,E)=>{A>E?this._addPanels(A-E):this._removePanels(E-A),this.updatePosition()})}_addPanels(i){for(;i--;){const r=new xe;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(i){for(;i--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:r}=this._balloonPanelView,{width:c,height:m}=new I.rw(this._balloonPanelView.element);Object.assign(this,{top:i,left:r,width:c,height:m})}}}var Xr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),xr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Xr.A,xr),Xr.A.locals;const zo=(0,I.To)("px");class Co extends xe{constructor(i){super(i);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new U({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",c=>c?"block":"none"),height:r.to("isSticky",c=>c?zo(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new U({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",c=>c?zo(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",c=>c&&zo(c)),bottom:r.to("_stickyBottomOffset",c=>c&&zo(c)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(I.global.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const i=new I.rw(this.limiterElement);let r=i.getVisible();if(r){const c=new I.rw(I.global.window);c.top+=this.viewportTopOffset,c.height-=this.viewportTopOffset,r=r.getIntersection(c)}if(r&&i.top<r.top){const c=r.top;if(c+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const m=Math.max(i.bottom-r.bottom,0)+this.limiterBottomOffset;i.bottom-m>i.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(m):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<i.height?this._stickToTopOfAncestors(c):this._unstick()}else this._unstick()}_stickToTopOfAncestors(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=i,this._stickyBottomOffset=null,this._marginLeft=zo(-I.global.window.scrollX)}_stickToBottomOfLimiter(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=i,this._marginLeft=zo(-I.global.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new I.rw(this.contentPanelElement)}}class Xs extends xt{constructor(i,r){const c=i.t,m=Object.assign({},{showResetButton:!0,showIcon:!0,creator:Pn},r);super(i,m.creator),this.label=r.label,this._viewConfig=m,this._viewConfig.showIcon&&(this.iconView=new bt,this.iconView.content=D.Pt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new fi(i),this.resetButtonView.set({label:c("Clear"),icon:D.Pt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",k=>!k),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class es extends xe{constructor(){super();const i=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",i.if("isVisible","ck-hidden",r=>!r)],tabindex:-1},children:[{tag:"span",children:[{text:[i.to("primaryText")]}]},{tag:"span",children:[{text:[i.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class rr extends xe{constructor(i){super(i),this.children=this.createCollection(),this.focusTracker=new I.$x,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new ni({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const i of this.children)this.focusTracker.add(i.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var ea=s("./node_modules/lodash-es/escapeRegExp.js"),Es=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css"),Ss={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Es.A,Ss),Es.A.locals;var jr=Object.defineProperty,Is=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,ts=(o,i,r)=>i in o?jr(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r;class Ps extends xe{constructor(i,r){super(i),this._config=r,this.filteredView=r.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new I.$x,this.keystrokes=new I.EP,this.resultsView=new rr(i),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),r.infoView&&r.infoView.instance?this.infoView=r.infoView.instance:(this.infoView=new es,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new ni({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(c,{resultsCount:m,totalItemsCount:k})=>{this.resultsCount=m,this.totalItemsCount=k}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",r.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const i=r=>r.stopPropagation();for(const r of this.focusableChildren)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(i){const r=i?new RegExp((0,ea.A)(i),"ig"):null,c=this.filteredView.filter(r);this.fire("search",((m,k)=>{for(var A in k||(k={}))ta.call(k,A)&&ts(m,A,k[A]);if(Is)for(var A of Is(k))Ar.call(k,A)&&ts(m,A,k[A]);return m})({query:i},c))}_createSearchTextQueryView(){const i=new Xs(this.locale,this._config.queryView);return this.listenTo(i.fieldView,"input",()=>{this.search(i.fieldView.element.value)}),i.on("reset",()=>this.reset()),i.bind("isEnabled").to(this),i}_enableDefaultInfoViewBehavior(){const i=this.locale.t,r=this.infoView;function c(m,{query:k,resultsCount:A,totalItemsCount:E}){return typeof m=="function"?m(k,A,E):m}this.on("search",(m,k)=>{if(k.resultsCount)r.set({isVisible:!1});else{const A=this._config.infoView&&this._config.infoView.text;let E,R;k.totalItemsCount?A&&A.notFound?(E=A.notFound.primary,R=A.notFound.secondary):(E=i("No results found"),R=""):A&&A.noSearchableItems?(E=A.noSearchableItems.primary,R=A.noSearchableItems.secondary):(E=i("No searchable items"),R=""),r.set({primaryText:c(E,k),secondaryText:c(R,k),isVisible:!0})}})}}var is=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css"),ia={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(is.A,ia),is.A.locals;const Vr=class extends Ps{constructor(o,i){super(o,i),this._config=i;const r=(0,I.To)("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const c=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[c.if("isVisible","ck-hidden",m=>!m),c.to("_position",m=>`ck-search__results_${m}`)],style:{width:c.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(m,k,A)=>{this._updateResultsVisibility(),A?this.resultsView.element.scrollTop=0:i.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(m,k)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,k())}),this.listenTo(I.global.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(m,{value:k})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=k,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new I.rw(this.queryView.fieldView.element).width;const o=Vr._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Vr.defaultResultsPositions});this.resultsView._position=o?o.name:"s"}_updateResultsVisibility(){const o=this._config.queryMinChars===void 0?0:this._config.queryMinChars,i=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&i>=o}};let Rr=Vr;Rr.defaultResultsPositions=[o=>({top:o.bottom,left:o.left,name:"s"}),(o,i)=>({top:o.top-i.height,left:o.left,name:"n"})],Rr._getOptimalPosition=I.W;var Nr=s("./packages/ckeditor5-ui/src/search/filteredview.ts"),Ms=s.n(Nr);const Ls=function(o){return function(i){return o?.[i]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var na=s("./node_modules/lodash-es/toString.js"),ns=/[&<>"']/g,oa=RegExp(ns.source);const Os=function(o){return(o=(0,na.A)(o))&&oa.test(o)?o.replace(ns,Ls):o};var Br=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"),os={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Br.A,os),Br.A.locals;class rs extends xe{constructor(){super(),this.set("text",void 0),this.setTemplate({tag:"span",attributes:{class:["ck","ck-highlighted-text"]}}),this.on("render",()=>{this.on("change:text",()=>{this._updateInnerHTML(this.text)}),this._updateInnerHTML(this.text)})}highlightText(i){this._updateInnerHTML(function(r,c){if(!c)return Os(r);const m=[];let k=0,A=c.exec(r);for(;A!==null;){const E=A.index;E!==k&&m.push({text:r.substring(k,E),isMatch:!1}),m.push({text:A[0],isMatch:!0}),k=c.lastIndex,A=c.exec(r)}return k!==r.length&&m.push({text:r.substring(k),isMatch:!1}),m.map(E=>(E.text=Os(E.text),E)).map(E=>E.isMatch?`<mark>${E.text}</mark>`:E.text).join("")}(this.text||"",i))}_updateInnerHTML(i){this.element.innerHTML=i||""}}var Cr=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css"),ra={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Cr.A,ra),Cr.A.locals;class js extends xe{constructor(){super(),this.set("isVisible",!1);const i=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-spinner-container",i.if("isVisible","ck-hidden",r=>!r)]},children:[{tag:"span",attributes:{class:["ck","ck-spinner"]}}]})}}const Vs=(0,I.To)("px");class Wn extends D.k_{constructor(i){super(i),this._resizeObserver=null,this._balloonConfig=fo(i.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new I.$x,i.ui.once("ready",()=>{this.focusTracker.add(i.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),i.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=i.plugins.get(Xo),this._fireSelectionChangeDebounced=(0,qe.A)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get requires(){return[Xo]}init(){const i=this.editor,r=i.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(c,m,k)=>{const A=this._balloon.visibleView===this.toolbarView;!k&&A?this.hide():k&&this.show()}),this.listenTo(r,"change:range",(c,m)=>{(m.directChange||r.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(i,"ready",()=>{const c=i.ui.view.editable.element;this._resizeObserver=new I.tb(c,m=>{this.toolbarView.maxWidth=Vs(.9*m.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),i.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const i=this.editor.locale.t,r=!this._balloonConfig.shouldNotGroupWhenFull,c=new po(this.editor.locale,{shouldGroupWhenFull:r,isFloating:!0});return c.ariaLabel=i("Editor contextual toolbar"),c.render(),c}show(i=!1){const r=this.editor,c=r.model.document.selection,m=r.model.schema;this._balloon.hasView(this.toolbarView)||c.isCollapsed&&!i||function(k,A){return k.rangeCount===1?!1:[...k.getRanges()].every(E=>{const R=E.getContainedElement();return R&&A.isSelectable(R)})}(c,m)||Array.from(this.toolbarView.items).every(k=>k.isEnabled!==void 0&&!k.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const i=this.editor.editing.view,r=i.document,c=r.selection,m=r.selection.isBackward;return{target:()=>{const k=m?c.getFirstRange():c.getLastRange(),A=I.rw.getDomRangeRects(i.domConverter.viewRangeToDom(k));return m?A[0]:(A.length>1&&A[A.length-1].width===0&&A.pop(),A[A.length-1])},positions:this._getBalloonPositions(m)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(i){const r=I._K.isSafari&&I._K.isiOS?Io({heightOffset:Math.max(zn.arrowHeightOffset,Math.round(20/I.global.window.visualViewport.scale))}):zn.defaultPositions;return i?[r.northWestArrowSouth,r.northWestArrowSouthWest,r.northWestArrowSouthEast,r.northWestArrowSouthMiddleEast,r.northWestArrowSouthMiddleWest,r.southWestArrowNorth,r.southWestArrowNorthWest,r.southWestArrowNorthEast,r.southWestArrowNorthMiddleWest,r.southWestArrowNorthMiddleEast]:[r.southEastArrowNorth,r.southEastArrowNorthEast,r.southEastArrowNorthWest,r.southEastArrowNorthMiddleEast,r.southEastArrowNorthMiddleWest,r.northEastArrowSouth,r.northEastArrowSouthEast,r.northEastArrowSouthWest,r.northEastArrowSouthMiddleEast,r.northEastArrowSouthMiddleWest]}}var Rs=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),Ns={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Rs.A,Ns),Rs.A.locals;const ss=(0,I.To)("px");class Tr extends fi{constructor(i){super(i);const r=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:r.to("top",c=>ss(c)),left:r.to("left",c=>ss(c))}}})}}const Dr=(0,I.To)("px");class Bs extends D.k_{constructor(i){super(i),this._resizeObserver=null,this._blockToolbarConfig=fo(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),u({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}init(){const i=this.editor,r=i.t,c=r("Click to edit block"),m=r("Drag to move"),k=r("Edit block"),A=i.plugins.has("DragDropBlockToolbar"),E=A?`${c}
${m}`:k;this.buttonView.label=E,A&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(i.model.document.selection,"change:range",(R,ge)=>{ge.directChange&&this._hidePanel()}),this.listenTo(i.ui,"update",()=>this._updateButton()),this.listenTo(i,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(i.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(R,ge,Fe)=>{Fe?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),i.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),i.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const R of this.toolbarView.items)R.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const i=this.editor.locale.t,r=!this._blockToolbarConfig.shouldNotGroupWhenFull,c=new po(this.editor.locale,{shouldGroupWhenFull:r,isFloating:!0});return c.ariaLabel=i("Editor block content toolbar"),c}_createPanelView(){const i=this.editor,r=new zn(i.locale);return r.content.add(this.toolbarView),r.class="ck-toolbar-container",i.ui.view.body.add(r),i.ui.focusTracker.add(r.element),this.toolbarView.keystrokes.set("Esc",(c,m)=>{this._hidePanel(!0),m()}),r}_createButtonView(){const i=this.editor,r=i.t,c=new Tr(i.locale),m=this._blockToolbarConfig.icon,k=io[m]||m||io.dragIndicator;return c.set({label:r("Edit block"),icon:k,withText:!1}),c.bind("isOn").to(this.panelView,"isVisible"),c.bind("tooltip").to(this.panelView,"isVisible",A=>!A),this.listenTo(c,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),i.ui.view.body.add(c),i.ui.focusTracker.add(c.element),c}_updateButton(){const i=this.editor,r=i.model,c=i.editing.view;if(!i.ui.focusTracker.isFocused)return void this._hideButton();if(!i.model.canEditAt(i.model.document.selection))return void this._hideButton();const m=Array.from(r.document.selection.getSelectedBlocks())[0];if(!m||Array.from(this.toolbarView.items).every(A=>!A.isEnabled))return void this._hideButton();const k=c.domConverter.mapViewToDom(i.editing.mapper.toViewElement(m));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(k),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const i=this.panelView.isVisible;this.panelView.show();const r=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(r),this.panelView.pin({target:this.buttonView.element,limiter:r}),i||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const i=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(i)}_hidePanel(i){this.panelView.isVisible=!1,i&&this.editor.editing.view.focus()}_attachButtonToElement(i){const r=window.getComputedStyle(i),c=new I.rw(this._getSelectedEditableElement()),m=parseInt(r.paddingTop,10),k=parseInt(r.lineHeight,10)||1.2*parseInt(r.fontSize,10),A=new I.rw(this.buttonView.element),E=new I.rw(i);let R;R=this.editor.locale.uiLanguageDirection==="ltr"?c.left-A.width:c.right;const ge=E.top+m+(k-A.height)/2;A.moveTo(R,ge);const Fe=A.toAbsoluteRect();this.buttonView.top=Fe.top,this.buttonView.left=Fe.left}_setupToolbarResize(){const i=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==i&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new I.tb(i,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(i)})))}_getToolbarMaxWidth(i){const r=new I.rw(i),c=new I.rw(this.buttonView.element),m=this.editor.locale.uiLanguageDirection==="rtl"?c.left-r.right+c.width:r.left-c.left;return Dr(r.width+m)}}var er=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenubutton.css"),Ds={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(er.A,Ds),er.A.locals;class qo extends fi{constructor(i){super(i);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",c=>String(c)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new bt;return i.content=G,i.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),i}}var zs=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitem.css"),Fs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(zs.A,Fs),zs.A.locals;class zr extends z{constructor(i,r){super(i);const c=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:c.to("mouseenter")}}),this.delegate("mouseenter").to(r)}}var sr=s("./node_modules/lodash-es/cloneDeep.js"),sa=Object.defineProperty,as=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,Hs=Object.prototype.propertyIsEnumerable,Fr=(o,i,r)=>i in o?sa(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r,Hr=(o,i)=>{for(var r in i||(i={}))aa.call(i,r)&&Fr(o,r,i[r]);if(as)for(var r of as(i))Hs.call(i,r)&&Fr(o,r,i[r]);return o};const gr={toggleMenusAndFocusItemsOnHover(o){o.on("menu:mouseenter",i=>{if(o.isOpen){for(const r of o.menus){const c=i.path[0],m=c instanceof zr&&c.children.first===r;r.isOpen=(i.path.includes(r)||m)&&r.isEnabled}i.source.focus()}})},focusCycleMenusOnArrows(o){const i=o.locale.uiLanguageDirection==="rtl";function r(c,m){const k=o.children.getIndex(c),A=c.isOpen,E=o.children.length,R=o.children.get((k+E+m)%E);c.isOpen=!1,A&&(R.isOpen=!0),R.buttonView.focus()}o.on("menu:arrowright",c=>{r(c.source,i?-1:1)}),o.on("menu:arrowleft",c=>{r(c.source,i?1:-1)})},closeMenusWhenTheBarCloses(o){o.on("change:isOpen",()=>{o.isOpen||o.menus.forEach(i=>{i.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(o){o.on("menu:change:isOpen",(i,r,c)=>{c&&o.menus.filter(m=>i.source.parentMenuView===m.parentMenuView&&i.source!==m&&m.isOpen).forEach(m=>{m.isOpen=!1})})},closeOnClickOutside(o){u({emitter:o,activator:()=>o.isOpen,callback:()=>o.close(),contextElements:()=>o.children.map(i=>i.element)})}},Ko={openAndFocusPanelOnArrowDownKey(o){o.keystrokes.set("arrowdown",(i,r)=>{o.focusTracker.focusedElement===o.buttonView.element&&(o.isOpen||(o.isOpen=!0),o.panelView.focus(),r())})},openOnArrowRightKey(o){const i=o.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";o.keystrokes.set(i,(r,c)=>{o.focusTracker.focusedElement===o.buttonView.element&&o.isEnabled&&(o.isOpen||(o.isOpen=!0),o.panelView.focus(),c())})},openOnButtonClick(o){o.buttonView.on("execute",()=>{o.isOpen=!0,o.panelView.focus()})},toggleOnButtonClick(o){o.buttonView.on("execute",()=>{o.isOpen=!o.isOpen,o.isOpen&&o.panelView.focus()})},closeOnArrowLeftKey(o){const i=o.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";o.keystrokes.set(i,(r,c)=>{o.isOpen&&(o.isOpen=!1,o.focus(),c())})},closeOnEscKey(o){o.keystrokes.set("esc",(i,r)=>{o.isOpen&&(o.isOpen=!1,o.focus(),r())})},closeOnParentClose(o){o.parentMenuView.on("change:isOpen",(i,r,c)=>{c||i.source!==o.parentMenuView||(o.isOpen=!1)})}},Ur={southEast:o=>({top:o.bottom,left:o.left,name:"se"}),southWest:(o,i)=>({top:o.bottom,left:o.left-i.width+o.width,name:"sw"}),northEast:(o,i)=>({top:o.top-i.height,left:o.left,name:"ne"}),northWest:(o,i)=>({top:o.top-i.height,left:o.left-i.width+o.width,name:"nw"}),eastSouth:o=>({top:o.top,left:o.right-5,name:"es"}),eastNorth:(o,i)=>({top:o.top-i.height,left:o.right-5,name:"en"}),westSouth:(o,i)=>({top:o.top,left:o.left-i.width+5,name:"ws"}),westNorth:(o,i)=>({top:o.top-i.height,left:o.left-i.width+5,name:"wn"})},Wr=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function ls(o){let i;return i="items"in o&&o.items?Hr({items:o.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},o):Hr({items:(0,sr.A)(Wr),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},o),i}function Us({normalizedConfig:o,locale:i,componentFactory:r}){const c=(0,sr.A)(o);return function(m,k){const A=k.removeItems,E=[];k.items=k.items.filter(({menuId:R})=>!A.includes(R)||(E.push(R),!1)),ar(k.items,R=>{R.groups=R.groups.filter(({groupId:ge})=>!A.includes(ge)||(E.push(ge),!1));for(const ge of R.groups)ge.items=ge.items.filter(Fe=>{const it=Ws(Fe);return!A.includes(it)||(E.push(it),!1)})});for(const R of A)E.includes(R)||(0,I.FF)("menu-bar-item-could-not-be-removed",{menuBarConfig:m,itemName:R})}(o,c),function(m,k){const A=k.addItems,E=[];for(const R of A){const ge=ca(R.position),Fe=da(R.position);if(la(R))if(Fe){const it=k.items.findIndex(Mt=>Mt.menuId===Fe);it!=-1?ge==="before"?(k.items.splice(it,0,R.menu),E.push(R)):ge==="after"&&(k.items.splice(it+1,0,R.menu),E.push(R)):cs(k,R.menu,Fe,ge)&&E.push(R)}else ge==="start"?(k.items.unshift(R.menu),E.push(R)):ge==="end"&&(k.items.push(R.menu),E.push(R));else us(R)?ar(k.items,it=>{if(it.menuId===Fe)ge==="start"?(it.groups.unshift(R.group),E.push(R)):ge==="end"&&(it.groups.push(R.group),E.push(R));else{const Mt=it.groups.findIndex(zt=>zt.groupId===Fe);Mt!==-1&&(ge==="before"?(it.groups.splice(Mt,0,R.group),E.push(R)):ge==="after"&&(it.groups.splice(Mt+1,0,R.group),E.push(R)))}}):cs(k,R.item,Fe,ge)&&E.push(R)}for(const R of A)E.includes(R)||(0,I.FF)("menu-bar-item-could-not-be-added",{menuBarConfig:m,addedItemConfig:R})}(o,c),function(m,k,A){ar(k.items,E=>{for(const R of E.groups)R.items=R.items.filter(ge=>{const Fe=typeof ge=="string"&&!A.has(ge);return Fe&&!k.isUsingDefaultConfig&&(0,I.FF)("menu-bar-item-unavailable",{menuBarConfig:m,parentMenuConfig:(0,sr.A)(E),componentName:ge}),!Fe})})}(o,c,r),ds(o,c),function(m,k){const A=k.t,E={File:A({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:A({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:A({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:A({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:A({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:A({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:A({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:A({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:A({string:"Font",id:"MENU_BAR_MENU_FONT"})};ar(m.items,R=>{R.label in E&&(R.label=E[R.label])})}(c,i),c}function cs(o,i,r,c){let m=!1;return ar(o.items,k=>{for(const{groupId:A,items:E}of k.groups){if(m)return;if(A===r)c==="start"?(E.unshift(i),m=!0):c==="end"&&(E.push(i),m=!0);else{const R=E.findIndex(ge=>Ws(ge)===r);R!==-1&&(c==="before"?(E.splice(R,0,i),m=!0):c==="after"&&(E.splice(R+1,0,i),m=!0))}}}),m}function ds(o,i){const r=i.isUsingDefaultConfig;let c=!1;i.items=i.items.filter(m=>!!m.groups.length||($r(o,m,r),!1)),i.items.length?(ar(i.items,m=>{m.groups=m.groups.filter(k=>!!k.items.length||(c=!0,!1));for(const k of m.groups)k.items=k.items.filter(A=>!(tr(A)&&!A.groups.length)||($r(o,A,r),c=!0,!1))}),c&&ds(o,i)):$r(o,o,r)}function $r(o,i,r){r||(0,I.FF)("menu-bar-menu-empty",{menuBarConfig:o,emptyMenuConfig:i})}function ar(o,i){if(Array.isArray(o))for(const c of o)r(c);function r(c){i(c);for(const m of c.groups)for(const k of m.items)tr(k)&&r(k)}}function la(o){return typeof o=="object"&&"menu"in o}function us(o){return typeof o=="object"&&"group"in o}function ca(o){return o.startsWith("start")?"start":o.startsWith("end")?"end":o.startsWith("after")?"after":"before"}function da(o){const i=o.match(/^[^:]+:(.+)/);return i?i[1]:null}function Ws(o){return typeof o=="string"?o:o.menuId}function tr(o){return typeof o=="object"&&"menuId"in o}var hs=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenupanel.css"),$s={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(hs.A,$s),hs.A.locals;class qs extends xe{constructor(i){super(i);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",c=>`ck-menu-bar__menu__panel_position_${c}`),r.if("isVisible","ck-hidden",c=>!c)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(c=>{c.target.tagName.toLocaleLowerCase()!=="input"&&c.preventDefault()})}})}focus(i=1){this.children.length&&(i===1?this.children.first.focus():this.children.last.focus())}}var Er=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenu.css"),Ks={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(Er.A,Ks),Er.A.locals;const Ys=class extends xe{constructor(o){super(o);const i=this.bindTemplate;this.buttonView=new qo(o),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new qs(o),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new I.EP,this.focusTracker=new I.$x,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",i.to("class"),i.if("isEnabled","ck-disabled",r=>!r),i.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Ko.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Ko.openOnButtonClick(this),Ko.openOnArrowRightKey(this),Ko.closeOnArrowLeftKey(this),Ko.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Ko.openAndFocusPanelOnArrowDownKey(this),Ko.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(o,i)=>{this.fire("arrowright"),i()}),this.keystrokes.set("arrowleft",(o,i)=>{this.fire("arrowleft"),i()})}_repositionPanelOnOpen(){this.on("change:isOpen",(o,i,r)=>{if(!r)return;const c=Ys._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=c?c.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:o,southWest:i,northEast:r,northWest:c,westSouth:m,eastSouth:k,westNorth:A,eastNorth:E}=Ur;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[k,E,m,A]:[o,i,r,c]:this.parentMenuView?[m,A,k,E]:[i,o,c,r]}};let pr=Ys;pr._getOptimalPosition=I.W;class qr extends ct{constructor(i){super(i),this.role="menu"}}var ms=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubarmenulistitembutton.css"),ua={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ms.A,ua),ms.A.locals;class Kr extends fi{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class gs extends $i{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var ps=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/menubar/menubar.css"),ha={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Z()(ps.A,ha),ps.A.locals;const fs=["mouseenter","arrowleft","arrowright","change:isOpen"];class M extends xe{constructor(i){super(i),this.menus=[];const r=i.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(i,r){const c=Us({normalizedConfig:i,locale:this.locale,componentFactory:r}).items.map(m=>this._createMenu({componentFactory:r,menuDefinition:m}));this.children.addMany(c)}render(){super.render(),gr.toggleMenusAndFocusItemsOnHover(this),gr.closeMenusWhenTheBarCloses(this),gr.closeMenuWhenAnotherOnTheSameLevelOpens(this),gr.focusCycleMenusOnArrows(this),gr.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const i of this.children)i.isOpen=!1}registerMenu(i,r=null){r?(i.delegate(...fs).to(r),i.parentMenuView=r):i.delegate(...fs).to(this,c=>"menu:"+c),i._attachBehaviors(),this.menus.push(i)}_createMenu({componentFactory:i,menuDefinition:r,parentMenuView:c}){const m=this.locale,k=new pr(m);return this.registerMenu(k,c),k.buttonView.set({label:r.label}),k.once("change:isOpen",()=>{const A=new qr(m);A.ariaLabel=r.label,k.panelView.children.add(A),A.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:k,componentFactory:i}))}),k}_createMenuItems({menuDefinition:i,parentMenuView:r,componentFactory:c}){const m=this.locale,k=[];for(const A of i.groups){for(const E of A.items){const R=new zr(m,r);if((0,ne.A)(E))R.children.add(this._createMenu({componentFactory:c,menuDefinition:E,parentMenuView:r}));else{const ge=this._createMenuItemContentFromFactory({componentName:E,componentFactory:c,parentMenuView:r});if(!ge)continue;R.children.add(ge)}k.push(R)}A!==i.groups[i.groups.length-1]&&k.push(new Ee(m))}return k}_createMenuItemContentFromFactory({componentName:i,parentMenuView:r,componentFactory:c}){const m=c.create(i);return m instanceof pr||m instanceof Kr||m instanceof gs?(this._registerMenuTree(m,r),m.on("execute",()=>{this.close()}),m):((0,I.FF)("menu-bar-component-unsupported",{componentName:i,componentView:m}),null)}_registerMenuTree(i,r){if(!(i instanceof pr))return void i.delegate("mouseenter").to(r);this.registerMenu(i,r);const c=i.panelView.children.filter(k=>k instanceof qr)[0];if(!c)return void i.delegate("mouseenter").to(r);const m=c.items.filter(k=>k instanceof z);for(const k of m)this._registerMenuTree(k.children.get(0),i)}_setupIsOpenUpdater(){let i;this.on("menu:change:isOpen",(r,c,m)=>{clearTimeout(i),m?this.isOpen=!0:i=setTimeout(()=>{this.isOpen=Array.from(this.children).some(k=>k.isOpen)},0)})}}},"./packages/ckeditor5-ui/src/search/filteredview.ts":()=>{},"./packages/ckeditor5-utils/src/ckeditorerror.ts":(d,f,s)=>{"use strict";s.d(f,{Ay:()=>y,FF:()=>P,vV:()=>b});const u="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class y extends Error{constructor(V,ye,ne){super(function(U,$){const he=new WeakSet,we=(p,v)=>{if(typeof v=="object"&&v!==null){if(he.has(v))return`[object ${v.constructor.name}]`;he.add(v)}return v},g=$?` ${JSON.stringify($,we)}`:"",w=_(U);return U+g+w}(V,ne)),this.name="CKEditorError",this.context=ye,this.data=ne}is(V){return V==="CKEditorError"}static rethrowUnexpectedError(V,ye){if(V.is&&V.is("CKEditorError"))throw V;const ne=new y(V.message,ye);throw ne.stack=V.stack,ne}}function P(I,V){console.warn(...D(I,V))}function b(I,V){console.error(...D(I,V))}function _(I){return`
Read more: ${u}#error-${I}`}function D(I,V){const ye=_(I);return V?[I,V,ye]:[I,ye]}},"./packages/ckeditor5-utils/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{Yb:()=>v.Ay,pM:()=>at,TS:()=>Di,c5:()=>ce,PZ:()=>Ke,Mm:()=>W,vY:()=>$,$x:()=>It,EP:()=>yt,hT:()=>Ge,VM:()=>Le,rw:()=>mi,tb:()=>xt,KL:()=>nt,ww:()=>wt,U9:()=>ut,n:()=>Xe,cb:()=>Vn,Ui:()=>V,q8:()=>ye,_K:()=>P,Nv:()=>ki,Mr:()=>_,j3:()=>Tt,$1:()=>ct,DS:()=>Vt,Md:()=>ei,QC:()=>go,pG:()=>Bt,YA:()=>To,iJ:()=>Dt,Kf:()=>po,W:()=>ee,global:()=>ft,qh:()=>Rt,PT:()=>ve,Yy:()=>w,Yt:()=>io,mY:()=>Rn,Cn:()=>j,HK:()=>No,kv:()=>en,Iw:()=>no,SQ:()=>Xt,P5:()=>Qi,xZ:()=>Ft,k$:()=>Pn,Ll:()=>$i,_Z:()=>Mi,KH:()=>oi,i8:()=>B,zN:()=>Y,uP:()=>cn,vV:()=>v.vV,FF:()=>v.FF,jh:()=>ne,ZX:()=>_o,vx:()=>g,kM:()=>p.k,TF:()=>Qe,L5:()=>li,bi:()=>Kt,vK:()=>dt,C_:()=>Zt,eL:()=>wn,$r:()=>z,av:()=>Ct,To:()=>Ot,Ld:()=>we,rQ:()=>Cn,rE:()=>p.A,uk:()=>$t});const u=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var y;const P={isMac:b(u),isWindows:(y=u,y.indexOf("windows")>-1),isGecko:function(ue){return!!ue.match(/gecko\/\d+/)}(u),isSafari:function(ue){return ue.indexOf(" applewebkit/")>-1&&ue.indexOf("chrome")===-1}(u),isiOS:function(ue){return!!ue.match(/iphone|ipad/i)||b(ue)&&navigator.maxTouchPoints>0}(u),isAndroid:function(ue){return ue.indexOf("android")>-1}(u),isBlink:function(ue){return ue.indexOf("chrome/")>-1&&ue.indexOf("edge/")<0}(u),features:{isRegExpUnicodePropertySupported:function(){let ue=!1;try{ue="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return ue}()}};function b(ue){return ue.indexOf("macintosh")>-1}function _(ue,N,ie,We){ie=ie||function(ri,me){return ri===me};const lt=Array.isArray(ue)?ue:Array.prototype.slice.call(ue),Se=Array.isArray(N)?N:Array.prototype.slice.call(N),Nt=function(ri,me,C){const F=D(ri,me,C);if(F===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Q=I(ri,F),ke=I(me,F),Ve=D(Q,ke,C),je=ri.length-Ve,Me=me.length-Ve;return{firstIndex:F,lastIndexOld:je,lastIndexNew:Me}}(lt,Se,ie);return We?function(ri,me){const{firstIndex:C,lastIndexOld:F,lastIndexNew:Q}=ri;if(C===-1)return Array(me).fill("equal");let ke=[];return C>0&&(ke=ke.concat(Array(C).fill("equal"))),Q-C>0&&(ke=ke.concat(Array(Q-C).fill("insert"))),F-C>0&&(ke=ke.concat(Array(F-C).fill("delete"))),Q<me&&(ke=ke.concat(Array(me-Q).fill("equal"))),ke}(Nt,Se.length):function(ri,me){const C=[],{firstIndex:F,lastIndexOld:Q,lastIndexNew:ke}=me;return ke-F>0&&C.push({index:F,type:"insert",values:ri.slice(F,ke)}),Q-F>0&&C.push({index:F+(ke-F),type:"delete",howMany:Q-F}),C}(Se,Nt)}function D(ue,N,ie){for(let We=0;We<Math.max(ue.length,N.length);We++)if(ue[We]===void 0||N[We]===void 0||!ie(ue[We],N[We]))return We;return-1}function I(ue,N){return ue.slice(N).reverse()}function V(ue,N,ie){ie=ie||function(je,Me){return je===Me};const We=ue.length,lt=N.length;if(We>200||lt>200||We+lt>300)return V.fastDiff(ue,N,ie,!0);let Se,Nt;if(lt<We){const je=ue;ue=N,N=je,Se="delete",Nt="insert"}else Se="insert",Nt="delete";const ui=ue.length,ri=N.length,me=ri-ui,C={},F={};function Q(je){const Me=(F[je-1]!==void 0?F[je-1]:-1)+1,De=F[je+1]!==void 0?F[je+1]:-1,Ue=Me>De?-1:1;C[je+Ue]&&(C[je]=C[je+Ue].slice(0)),C[je]||(C[je]=[]),C[je].push(Me>De?Se:Nt);let st=Math.max(Me,De),mt=st-je;for(;mt<ui&&st<ri&&ie(ue[mt],N[st]);)mt++,st++,C[je].push("equal");return st}let ke,Ve=0;do{for(ke=-Ve;ke<me;ke++)F[ke]=Q(ke);for(ke=me+Ve;ke>me;ke--)F[ke]=Q(ke);F[me]=Q(me),Ve++}while(F[me]!==ri);return C[me].slice(1)}function ye(ue,N){const ie=[];let We=0,lt=null;return ue.forEach(Nt=>{Nt=="equal"?(Se(),We++):Nt=="insert"?(lt&&lt.type=="insert"?lt.values.push(N[We]):(Se(),lt={type:"insert",index:We,values:[N[We]]}),We++):lt&&lt.type=="delete"?lt.howMany++:(Se(),lt={type:"delete",index:We,howMany:1})}),Se(),ie;function Se(){lt&&(ie.push(lt),lt=null)}}function ne(ue,...N){N.forEach(ie=>{const We=Object.getOwnPropertyNames(ie),lt=Object.getOwnPropertySymbols(ie);We.concat(lt).forEach(Se=>{if(Se in ue.prototype||typeof ie=="function"&&(Se=="length"||Se=="name"||Se=="prototype"))return;const Nt=Object.getOwnPropertyDescriptor(ie,Se);Nt.enumerable=!1,Object.defineProperty(ue.prototype,Se,Nt)})})}V.fastDiff=_;const U=function(){return function ue(){ue.called=!0}};class ${constructor(N,ie){this.source=N,this.name=ie,this.path=[],this.stop=U(),this.off=U()}}const he=new Array(256).fill("").map((ue,N)=>("0"+N.toString(16)).slice(-2));function we(){const ue=4294967296*Math.random()>>>0,N=4294967296*Math.random()>>>0,ie=4294967296*Math.random()>>>0,We=4294967296*Math.random()>>>0;return"e"+he[255&ue]+he[ue>>8&255]+he[ue>>16&255]+he[ue>>24&255]+he[255&N]+he[N>>8&255]+he[N>>16&255]+he[N>>24&255]+he[255&ie]+he[ie>>8&255]+he[ie>>16&255]+he[ie>>24&255]+he[255&We]+he[We>>8&255]+he[We>>16&255]+he[We>>24&255]}const g={get(ue="normal"){return typeof ue!="number"?this[ue]||this.normal:ue},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function w(ue,N){const ie=g.get(N.priority);for(let We=0;We<ue.length;We++)if(g.get(ue[We].priority)<ie)return void ue.splice(We,0,N);ue.push(N)}var p=s("./packages/ckeditor5-utils/src/version.ts"),v=s("./packages/ckeditor5-utils/src/ckeditorerror.ts");const T=Symbol("listeningTo"),L=Symbol("emitterId"),O=Symbol("delegations"),oe=W(Object);function W(ue){return ue?class extends ue{on(N,ie,We){this.listenTo(this,N,ie,We)}once(N,ie,We){let lt=!1;this.listenTo(this,N,(Se,...Nt)=>{lt||(lt=!0,Se.off(),ie.call(this,Se,...Nt))},We)}off(N,ie){this.stopListening(this,N,ie)}listenTo(N,ie,We,lt={}){let Se,Nt;this[T]||(this[T]={});const ui=this[T];S(N)||te(N);const ri=S(N);(Se=ui[ri])||(Se=ui[ri]={emitter:N,callbacks:{}}),(Nt=Se.callbacks[ie])||(Nt=Se.callbacks[ie]=[]),Nt.push(We),function(me,C,F,Q,ke){C._addEventListener?C._addEventListener(F,Q,ke):me._addEventListener.call(C,F,Q,ke)}(this,N,ie,We,lt)}stopListening(N,ie,We){const lt=this[T];let Se=N&&S(N);const Nt=lt&&Se?lt[Se]:void 0,ui=Nt&&ie?Nt.callbacks[ie]:void 0;if(!(!lt||N&&!Nt||ie&&!ui))if(We)rt(this,N,ie,We),ui.indexOf(We)!==-1&&(ui.length===1?delete Nt.callbacks[ie]:rt(this,N,ie,We));else if(ui){for(;We=ui.pop();)rt(this,N,ie,We);delete Nt.callbacks[ie]}else if(Nt){for(ie in Nt.callbacks)this.stopListening(N,ie);delete lt[Se]}else{for(Se in lt)this.stopListening(lt[Se].emitter);delete this[T]}}fire(N,...ie){try{const We=N instanceof $?N:new $(this,N),lt=We.name;let Se=_e(this,lt);if(We.path.push(this),Se){const ui=[We,...ie];Se=Array.from(Se);for(let ri=0;ri<Se.length&&(Se[ri].callback.apply(this,ui),We.off.called&&(delete We.off.called,this._removeEventListener(lt,Se[ri].callback)),!We.stop.called);ri++);}const Nt=this[O];if(Nt){const ui=Nt.get(lt),ri=Nt.get("*");ui&&Ae(ui,We,ie),ri&&Ae(ri,We,ie)}return We.return}catch(We){v.Ay.rethrowUnexpectedError(We,this)}}delegate(...N){return{to:(ie,We)=>{this[O]||(this[O]=new Map),N.forEach(lt=>{const Se=this[O].get(lt);Se?Se.set(ie,We):this[O].set(lt,new Map([[ie,We]]))})}}}stopDelegating(N,ie){if(this[O])if(N)if(ie){const We=this[O].get(N);We&&We.delete(ie)}else this[O].delete(N);else this[O].clear()}_addEventListener(N,ie,We){(function(Nt,ui){const ri=X(Nt);if(ri[ui])return;let me=ui,C=null;const F=[];for(;me!==""&&!ri[me];)ri[me]={callbacks:[],childEvents:[]},F.push(ri[me]),C&&ri[me].childEvents.push(C),C=me,me=me.substr(0,me.lastIndexOf(":"));if(me!==""){for(const Q of F)Q.callbacks=ri[me].callbacks.slice();ri[me].childEvents.push(C)}})(this,N);const lt=de(this,N),Se={callback:ie,priority:g.get(We.priority)};for(const Nt of lt)w(Nt,Se)}_removeEventListener(N,ie){const We=de(this,N);for(const lt of We)for(let Se=0;Se<lt.length;Se++)lt[Se].callback==ie&&(lt.splice(Se,1),Se--)}}:oe}function te(ue,N){ue[L]||(ue[L]=N||we())}function S(ue){return ue[L]}function X(ue){return ue._events||Object.defineProperty(ue,"_events",{value:{}}),ue._events}function de(ue,N){const ie=X(ue)[N];if(!ie)return[];let We=[ie.callbacks];for(let lt=0;lt<ie.childEvents.length;lt++){const Se=de(ue,ie.childEvents[lt]);We=We.concat(Se)}return We}function _e(ue,N){let ie;return ue._events&&(ie=ue._events[N])&&ie.callbacks.length?ie.callbacks:N.indexOf(":")>-1?_e(ue,N.substr(0,N.lastIndexOf(":"))):null}function Ae(ue,N,ie){for(let[We,lt]of ue){lt?typeof lt=="function"&&(lt=lt(N.name)):lt=N.name;const Se=new $(N.source,lt);Se.path=[...N.path],We.fire(Se,...ie)}}function rt(ue,N,ie,We){N._removeEventListener?N._removeEventListener(ie,We):ue._removeEventListener.call(N,ie,We)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(ue=>{W[ue]=oe.prototype[ue]});var et=s("./node_modules/lodash-es/isObject.js");const J=Symbol("observableProperties"),Z=Symbol("boundObservables"),Ce=Symbol("boundProperties"),Oe=Symbol("decoratedMethods"),xe=Symbol("decoratedOriginal"),q=Le(W());function Le(ue){return ue?class extends ue{set(N,ie){if((0,et.A)(N))return void Object.keys(N).forEach(lt=>{this.set(lt,N[lt])},this);He(this);const We=this[J];if(N in this&&!We.has(N))throw new v.Ay("observable-set-cannot-override",this);Object.defineProperty(this,N,{enumerable:!0,configurable:!0,get:()=>We.get(N),set(lt){const Se=We.get(N);let Nt=this.fire(`set:${N}`,N,lt,Se);Nt===void 0&&(Nt=lt),Se===Nt&&We.has(N)||(We.set(N,Nt),this.fire(`change:${N}`,N,Nt,Se))}}),this[N]=ie}bind(...N){if(!N.length||!le(N))throw new v.Ay("observable-bind-wrong-properties",this);if(new Set(N).size!==N.length)throw new v.Ay("observable-bind-duplicate-properties",this);He(this);const ie=this[Ce];N.forEach(lt=>{if(ie.has(lt))throw new v.Ay("observable-bind-rebind",this)});const We=new Map;return N.forEach(lt=>{const Se={property:lt,to:[]};ie.set(lt,Se),We.set(lt,Se)}),{to:ot,toMany:fe,_observable:this,_bindProperties:N,_to:[],_bindings:We}}unbind(...N){if(!this[J])return;const ie=this[Ce],We=this[Z];if(N.length){if(!le(N))throw new v.Ay("observable-unbind-wrong-properties",this);N.forEach(lt=>{const Se=ie.get(lt);Se&&(Se.to.forEach(([Nt,ui])=>{const ri=We.get(Nt),me=ri[ui];me.delete(Se),me.size||delete ri[ui],Object.keys(ri).length||(We.delete(Nt),this.stopListening(Nt,"change"))}),ie.delete(lt))})}else We.forEach((lt,Se)=>{this.stopListening(Se,"change")}),We.clear(),ie.clear()}decorate(N){He(this);const ie=this[N];if(!ie)throw new v.Ay("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:N});this.on(N,(We,lt)=>{We.return=ie.apply(this,lt)}),this[N]=function(...We){return this.fire(N,We)},this[N][xe]=ie,this[Oe]||(this[Oe]=[]),this[Oe].push(N)}stopListening(N,ie,We){if(!N&&this[Oe]){for(const lt of this[Oe])this[lt]=this[lt][xe];delete this[Oe]}super.stopListening(N,ie,We)}}:q}function He(ue){ue[J]||(Object.defineProperty(ue,J,{value:new Map}),Object.defineProperty(ue,Z,{value:new Map}),Object.defineProperty(ue,Ce,{value:new Map}))}function ot(...ue){const N=function(...Se){if(!Se.length)throw new v.Ay("observable-bind-to-parse-error",null);const Nt={to:[]};let ui;return typeof Se[Se.length-1]=="function"&&(Nt.callback=Se.pop()),Se.forEach(ri=>{if(typeof ri=="string")ui.properties.push(ri);else{if(typeof ri!="object")throw new v.Ay("observable-bind-to-parse-error",null);ui={observable:ri,properties:[]},Nt.to.push(ui)}}),Nt}(...ue),ie=Array.from(this._bindings.keys()),We=ie.length;if(!N.callback&&N.to.length>1)throw new v.Ay("observable-bind-to-no-callback",this);if(We>1&&N.callback)throw new v.Ay("observable-bind-to-extra-callback",this);var lt;N.to.forEach(Se=>{if(Se.properties.length&&Se.properties.length!==We)throw new v.Ay("observable-bind-to-properties-length",this);Se.properties.length||(Se.properties=this._bindProperties)}),this._to=N.to,N.callback&&(this._bindings.get(ie[0]).callback=N.callback),lt=this._observable,this._to.forEach(Se=>{const Nt=lt[Z];let ui;Nt.get(Se.observable)||lt.listenTo(Se.observable,"change",(ri,me)=>{ui=Nt.get(Se.observable)[me],ui&&ui.forEach(C=>{pe(lt,C.property)})})}),function(Se){let Nt;Se._bindings.forEach((ui,ri)=>{Se._to.forEach(me=>{Nt=me.properties[ui.callback?0:Se._bindProperties.indexOf(ri)],ui.to.push([me.observable,Nt]),function(C,F,Q,ke){const Ve=C[Z],je=Ve.get(Q),Me=je||{};Me[ke]||(Me[ke]=new Set),Me[ke].add(F),je||Ve.set(Q,Me)}(Se._observable,ui,me.observable,Nt)})})}(this),this._bindProperties.forEach(Se=>{pe(this._observable,Se)})}function fe(ue,N,ie){if(this._bindings.size>1)throw new v.Ay("observable-bind-to-many-not-one-binding",this);this.to(...function(We,lt){const Se=We.map(Nt=>[Nt,lt]);return Array.prototype.concat.apply([],Se)}(ue,N),ie)}function le(ue){return ue.every(N=>typeof N=="string")}function pe(ue,N){const ie=ue[Ce].get(N);let We;ie.callback?We=ie.callback.apply(ue,ie.to.map(lt=>lt[0][lt[1]])):(We=ie.to[0],We=We[0][We[1]]),Object.prototype.hasOwnProperty.call(ue,N)?ue[N]=We:ue.set(N,We)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(ue=>{Le[ue]=q.prototype[ue]});class Ke{constructor(){this._replacedElements=[]}replace(N,ie){this._replacedElements.push({element:N,newElement:ie}),N.style.display="none",ie&&N.parentNode.insertBefore(ie,N.nextSibling)}restore(){this._replacedElements.forEach(({element:N,newElement:ie})=>{N.style.display="",ie&&ie.remove()}),this._replacedElements=[]}}function nt(ue){let N=new AbortController;function ie(...We){return N.abort(),N=new AbortController,ue(N.signal,...We)}return ie.abort=()=>N.abort(),ie}function ut(ue){let N=0;for(const ie of ue)N++;return N}function wt(ue,N){const ie=Math.min(ue.length,N.length);for(let We=0;We<ie;We++)if(ue[We]!=N[We])return We;return ue.length==N.length?"same":ue.length<N.length?"prefix":"extension"}function Ft(ue){return!(!ue||!ue[Symbol.iterator])}var Wt=s("./node_modules/lodash-es/_baseGetTag.js"),Lt=s("./node_modules/lodash-es/isArray.js"),Yt=s("./node_modules/lodash-es/isObjectLike.js");const bt=function(ue){return typeof ue=="string"||!(0,Lt.A)(ue)&&(0,Yt.A)(ue)&&(0,Wt.A)(ue)=="[object String]"};function Xe(ue,N,ie={},We=[]){const lt=ie&&ie.xmlns,Se=lt?ue.createElementNS(lt,N):ue.createElement(N);for(const Nt in ie)Se.setAttribute(Nt,ie[Nt]);!bt(We)&&Ft(We)||(We=[We]);for(let Nt of We)bt(Nt)&&(Nt=ue.createTextNode(Nt)),Se.appendChild(Nt);return Se}var kt=s("./node_modules/lodash-es/isPlainObject.js"),bi=s("./node_modules/lodash-es/cloneDeepWith.js"),fi=s("./node_modules/lodash-es/isElement.js");class Di{constructor(N,ie){this._config={},ie&&this.define(Yi(ie)),N&&this._setObjectToTarget(this._config,N)}set(N,ie){this._setToTarget(this._config,N,ie)}define(N,ie){this._setToTarget(this._config,N,ie,!0)}get(N){return this._getFromSource(this._config,N)}*names(){for(const N of Object.keys(this._config))yield N}_setToTarget(N,ie,We,lt=!1){if((0,kt.A)(ie))return void this._setObjectToTarget(N,ie,lt);const Se=ie.split(".");ie=Se.pop();for(const Nt of Se)(0,kt.A)(N[Nt])||(N[Nt]={}),N=N[Nt];if((0,kt.A)(We))return(0,kt.A)(N[ie])||(N[ie]={}),N=N[ie],void this._setObjectToTarget(N,We,lt);lt&&N[ie]!==void 0||(N[ie]=We)}_getFromSource(N,ie){const We=ie.split(".");ie=We.pop();for(const lt of We){if(!(0,kt.A)(N[lt])){N=null;break}N=N[lt]}return N?Yi(N[ie]):void 0}_setObjectToTarget(N,ie,We){Object.keys(ie).forEach(lt=>{this._setToTarget(N,lt,ie[lt],We)})}}function Yi(ue){return(0,bi.A)(ue,Ii)}function Ii(ue){return(0,fi.A)(ue)||typeof ue=="function"?ue:void 0}function $i(ue){if(ue){if(ue.defaultView)return ue instanceof ue.defaultView.Document;if(ue.ownerDocument&&ue.ownerDocument.defaultView)return ue instanceof ue.ownerDocument.defaultView.Node}return!1}function ht(ue){const N=Object.prototype.toString.apply(ue);return N=="[object Window]"||N=="[object global]"}const G=ce(W());function ce(ue){return ue?class extends ue{listenTo(N,ie,We,lt={}){if($i(N)||ht(N)){const Se={capture:!!lt.useCapture,passive:!!lt.usePassive},Nt=this._getProxyEmitter(N,Se)||new Ie(N,Se);this.listenTo(Nt,ie,We,lt)}else super.listenTo(N,ie,We,lt)}stopListening(N,ie,We){if($i(N)||ht(N)){const lt=this._getAllProxyEmitters(N);for(const Se of lt)this.stopListening(Se,ie,We)}else super.stopListening(N,ie,We)}_getProxyEmitter(N,ie){return function(We,lt){const Se=We[T];return Se&&Se[lt]?Se[lt].emitter:null}(this,Ze(N,ie))}_getAllProxyEmitters(N){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(ie=>this._getProxyEmitter(N,ie)).filter(ie=>!!ie)}}:G}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(ue=>{ce[ue]=G.prototype[ue]});class Ie extends W(){constructor(N,ie){super(),te(this,Ze(N,ie)),this._domNode=N,this._options=ie}attach(N){if(this._domListeners&&this._domListeners[N])return;const ie=this._createDomListener(N);this._domNode.addEventListener(N,ie,this._options),this._domListeners||(this._domListeners={}),this._domListeners[N]=ie}detach(N){let ie;!this._domListeners[N]||(ie=this._events[N])&&ie.callbacks.length||this._domListeners[N].removeListener()}_addEventListener(N,ie,We){this.attach(N),W().prototype._addEventListener.call(this,N,ie,We)}_removeEventListener(N,ie){W().prototype._removeEventListener.call(this,N,ie),this.detach(N)}_createDomListener(N){const ie=We=>{this.fire(N,We)};return ie.removeListener=()=>{this._domNode.removeEventListener(N,ie,this._options),delete this._domListeners[N]},ie}}function Ze(ue,N){let ie=function(We){return We["data-ck-expando"]||(We["data-ck-expando"]=we())}(ue);for(const We of Object.keys(N).sort())N[We]&&(ie+="-"+We);return ie}let Ye;try{Ye={window,document}}catch{Ye={window:{},document:{}}}const ft=Ye;function Tt(ue){let N=ue.parentElement;if(!N)return null;for(;N.tagName!="BODY";){const ie=N.style.overflowY||ft.window.getComputedStyle(N).overflowY;if(ie==="auto"||ie==="scroll")break;if(N=N.parentElement,!N)return null}return N}function Vt(ue){const N=[];let ie=ue;for(;ie&&ie.nodeType!=Node.DOCUMENT_NODE;)N.unshift(ie),ie=ie.parentNode;return N}function Bt(ue){return ue instanceof HTMLTextAreaElement?ue.value:ue.innerHTML}function ei(ue){const N=ue.ownerDocument.defaultView.getComputedStyle(ue);return{top:parseInt(N.borderTopWidth,10),right:parseInt(N.borderRightWidth,10),bottom:parseInt(N.borderBottomWidth,10),left:parseInt(N.borderLeftWidth,10)}}function oi(ue){return Object.prototype.toString.call(ue)=="[object Text]"}function Mi(ue){return Object.prototype.toString.apply(ue)=="[object Range]"}function Pi(ue){return ue&&ue.parentNode?ue.offsetParent===ft.document.body?null:ue.offsetParent:null}const zi=["top","right","bottom","left","width","height"];class mi{constructor(N){const ie=Mi(N);if(Object.defineProperty(this,"_source",{value:N._source||N,writable:!0,enumerable:!1}),qe(N)||ie)if(ie){const We=mi.getDomRangeRects(N);Ni(this,mi.getBoundingRect(We))}else Ni(this,N.getBoundingClientRect());else if(ht(N)){const{innerWidth:We,innerHeight:lt}=N;Ni(this,{top:0,right:We,bottom:lt,left:0,width:We,height:lt})}else Ni(this,N)}clone(){return new mi(this)}moveTo(N,ie){return this.top=ie,this.right=N+this.width,this.bottom=ie+this.height,this.left=N,this}moveBy(N,ie){return this.top+=ie,this.right+=N,this.left+=N,this.bottom+=ie,this}getIntersection(N){const ie={top:Math.max(this.top,N.top),right:Math.min(this.right,N.right),bottom:Math.min(this.bottom,N.bottom),left:Math.max(this.left,N.left),width:0,height:0};if(ie.width=ie.right-ie.left,ie.height=ie.bottom-ie.top,ie.width<0||ie.height<0)return null;{const We=new mi(ie);return We._source=this._source,We}}getIntersectionArea(N){const ie=this.getIntersection(N);return ie?ie.getArea():0}getArea(){return this.width*this.height}getVisible(){const N=this._source;let ie=this.clone();if(vt(N))return ie;let We,lt=N,Se=N.parentNode||N.commonAncestorContainer;for(;Se&&!vt(Se);){const ui=((Nt=Se)instanceof HTMLElement?Nt.ownerDocument.defaultView.getComputedStyle(Nt).overflow:"visible")==="visible";lt instanceof HTMLElement&&pt(lt)==="absolute"&&(We=lt);const ri=pt(Se);if(ui||We&&(ri==="relative"&&ui||ri!=="relative")){lt=Se,Se=Se.parentNode;continue}const me=new mi(Se),C=ie.getIntersection(me);if(!C)return null;C.getArea()<ie.getArea()&&(ie=C),lt=Se,Se=Se.parentNode}var Nt;return ie}isEqual(N){for(const ie of zi)if(this[ie]!==N[ie])return!1;return!0}contains(N){const ie=this.getIntersection(N);return!(!ie||!ie.isEqual(N))}toAbsoluteRect(){const{scrollX:N,scrollY:ie}=ft.window,We=this.clone().moveBy(N,ie);if(qe(We._source)){const lt=Pi(We._source);lt&&function(Se,Nt){const ui=new mi(Nt),ri=ei(Nt);let me=0,C=0;me-=ui.left,C-=ui.top,me+=Nt.scrollLeft,C+=Nt.scrollTop,me-=ri.left,C-=ri.top,Se.moveBy(me,C)}(We,lt)}return We}excludeScrollbarsAndBorders(){const N=this._source;let ie,We,lt;if(ht(N))ie=N.innerWidth-N.document.documentElement.clientWidth,We=N.innerHeight-N.document.documentElement.clientHeight,lt=N.getComputedStyle(N.document.documentElement).direction;else{const Se=ei(N);ie=N.offsetWidth-N.clientWidth-Se.left-Se.right,We=N.offsetHeight-N.clientHeight-Se.top-Se.bottom,lt=N.ownerDocument.defaultView.getComputedStyle(N).direction,this.left+=Se.left,this.top+=Se.top,this.right-=Se.right,this.bottom-=Se.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=ie,lt==="ltr"?this.right-=ie:this.left+=ie,this.height-=We,this.bottom-=We,this}static getDomRangeRects(N){const ie=[],We=Array.from(N.getClientRects());if(We.length)for(const lt of We)ie.push(new mi(lt));else{let lt=N.startContainer;oi(lt)&&(lt=lt.parentNode);const Se=new mi(lt.getBoundingClientRect());Se.right=Se.left,Se.width=0,ie.push(Se)}return ie}static getBoundingRect(N){const ie={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let We=0;for(const lt of N)We++,ie.left=Math.min(ie.left,lt.left),ie.top=Math.min(ie.top,lt.top),ie.right=Math.max(ie.right,lt.right),ie.bottom=Math.max(ie.bottom,lt.bottom);return We==0?null:(ie.width=ie.right-ie.left,ie.height=ie.bottom-ie.top,new mi(ie))}}function Ni(ue,N){for(const ie of zi)ue[ie]=N[ie]}function vt(ue){return!!qe(ue)&&ue===ue.ownerDocument.body}function qe(ue){return ue!==null&&typeof ue=="object"&&ue.nodeType===1&&typeof ue.getBoundingClientRect=="function"}function pt(ue){return ue instanceof HTMLElement?ue.ownerDocument.defaultView.getComputedStyle(ue).position:"static"}const Be=class{constructor(ue,N){Be._observerInstance||Be._createObserver(),this._element=ue,this._callback=N,Be._addElementCallback(ue,N),Be._observerInstance.observe(ue)}get element(){return this._element}destroy(){Be._deleteElementCallback(this._element,this._callback)}static _addElementCallback(ue,N){Be._elementCallbacks||(Be._elementCallbacks=new Map);let ie=Be._elementCallbacks.get(ue);ie||(ie=new Set,Be._elementCallbacks.set(ue,ie)),ie.add(N)}static _deleteElementCallback(ue,N){const ie=Be._getElementCallbacks(ue);ie&&(ie.delete(N),ie.size||(Be._elementCallbacks.delete(ue),Be._observerInstance.unobserve(ue))),Be._elementCallbacks&&!Be._elementCallbacks.size&&(Be._observerInstance=null,Be._elementCallbacks=null)}static _getElementCallbacks(ue){return Be._elementCallbacks?Be._elementCallbacks.get(ue):null}static _createObserver(){Be._observerInstance=new ft.window.ResizeObserver(ue=>{for(const N of ue){const ie=Be._getElementCallbacks(N.target);if(ie)for(const We of ie)We(N)}})}};let xt=Be;function Zt(ue,N){ue instanceof HTMLTextAreaElement&&(ue.value=N),ue.innerHTML=N}function Ot(ue){return N=>N+ue}function Rt(ue){let N=0;for(;ue.previousSibling;)ue=ue.previousSibling,N++;return N}function ve(ue,N,ie){ue.insertBefore(ie,ue.childNodes[N]||null)}function j(ue){return ue&&ue.nodeType===Node.COMMENT_NODE}function B(ue){try{ft.document.createAttribute(ue)}catch{return!1}return!0}function Y(ue){return!!(ue&&ue.getClientRects&&ue.getClientRects().length)}xt._observerInstance=null,xt._elementCallbacks=null;var Te=s("./node_modules/lodash-es/isFunction.js"),Ne=Math.pow;function ee({element:ue,target:N,positions:ie,limiter:We,fitInViewport:lt,viewportOffsetConfig:Se}){(0,Te.A)(N)&&(N=N()),(0,Te.A)(We)&&(We=We());const Nt=Pi(ue),ui=function(Q){Q=Object.assign({top:0,bottom:0,left:0,right:0},Q);const ke=new mi(ft.window);return ke.top+=Q.top,ke.height-=Q.top,ke.bottom-=Q.bottom,ke.height-=Q.bottom,ke}(Se),ri=new mi(ue),me=Pe(N,ui);let C;if(!me||!ui.getIntersection(me))return null;const F={targetRect:me,elementRect:ri,positionedElementAncestor:Nt,viewportRect:ui};if(We||lt){if(We){const Q=Pe(We,ui);Q&&(F.limiterRect=Q)}C=function(Q,ke){const{elementRect:Ve}=ke,je=Ve.getArea(),Me=Q.map(st=>new ze(st,ke)).filter(st=>!!st.name);let De=0,Ue=null;for(const st of Me){const{limiterIntersectionArea:mt,viewportIntersectionArea:_t}=st;if(mt===je)return st;const Pt=Ne(_t,2)+Ne(mt,2);Pt>De&&(De=Pt,Ue=st)}return Ue}(ie,F)}else C=new ze(ie[0],F);return C}function Pe(ue,N){const ie=new mi(ue).getVisible();return ie?ie.getIntersection(N):null}class ze{constructor(N,ie){const We=N(ie.targetRect,ie.elementRect,ie.viewportRect,ie.limiterRect);if(!We)return;const{left:lt,top:Se,name:Nt,config:ui}=We;this.name=Nt,this.config=ui,this._positioningFunctionCoordinates={left:lt,top:Se},this._options=ie}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const N=this._options.limiterRect;return N?N.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Qe(ue){const N=ue.parentNode;N&&N.removeChild(ue)}function dt({target:ue,viewportOffset:N=0,ancestorOffset:ie=0,alignToTop:We,forceScroll:lt}){const Se=mn(ue);let Nt=Se,ui=null;for(N=function(ri){return typeof ri=="number"?{top:ri,bottom:ri,left:ri,right:ri}:ri}(N);Nt;){let ri;ri=jn(Nt==Se?ue:ui),ni({parent:ri,getRect:()=>vn(ue,Nt),alignToTop:We,ancestorOffset:ie,forceScroll:lt});const me=vn(ue,Nt);if(Et({window:Nt,rect:me,viewportOffset:N,alignToTop:We,forceScroll:lt}),Nt.parent!=Nt){if(ui=Nt.frameElement,Nt=Nt.parent,!ui)return}else Nt=null}}function Kt(ue,N,ie){ni({parent:jn(ue),getRect:()=>new mi(ue),ancestorOffset:N,limiterElement:ie})}function Et({window:ue,rect:N,alignToTop:ie,forceScroll:We,viewportOffset:lt}){const Se=N.clone().moveBy(0,lt.bottom),Nt=N.clone().moveBy(0,-lt.top),ui=new mi(ue).excludeScrollbarsAndBorders(),ri=ie&&We,me=[Nt,Se].every(Ve=>ui.contains(Ve));let{scrollX:C,scrollY:F}=ue;const Q=C,ke=F;ri?F-=ui.top-N.top+lt.top:me||(gi(Nt,ui)?F-=ui.top-N.top+lt.top:yi(Se,ui)&&(F+=ie?N.top-ui.top-lt.top:N.bottom-ui.bottom+lt.bottom)),me||(xi(N,ui)?C-=ui.left-N.left+lt.left:Li(N,ui)&&(C+=N.right-ui.right+lt.right)),C==Q&&F===ke||ue.scrollTo(C,F)}function ni({parent:ue,getRect:N,alignToTop:ie,forceScroll:We,ancestorOffset:lt=0,limiterElement:Se}){const Nt=mn(ue),ui=ie&&We;let ri,me,C;const F=Se||Nt.document.body;for(;ue!=F;)me=N(),ri=new mi(ue).excludeScrollbarsAndBorders(),C=ri.contains(me),ui?ue.scrollTop-=ri.top-me.top+lt:C||(gi(me,ri)?ue.scrollTop-=ri.top-me.top+lt:yi(me,ri)&&(ue.scrollTop+=ie?me.top-ri.top-lt:me.bottom-ri.bottom+lt)),C||(xi(me,ri)?ue.scrollLeft-=ri.left-me.left+lt:Li(me,ri)&&(ue.scrollLeft+=me.right-ri.right+lt)),ue=ue.parentNode}function yi(ue,N){return ue.bottom>N.bottom}function gi(ue,N){return ue.top<N.top}function xi(ue,N){return ue.left<N.left}function Li(ue,N){return ue.right>N.right}function mn(ue){return Mi(ue)?ue.startContainer.ownerDocument.defaultView:ue.ownerDocument.defaultView}function jn(ue){if(Mi(ue)){let N=ue.commonAncestorContainer;return oi(N)&&(N=N.parentNode),N}return ue.parentNode}function vn(ue,N){const ie=mn(ue),We=new mi(ue);if(ie===N)return We;{let lt=ie;for(;lt!=N;){const Se=lt.frameElement,Nt=new mi(Se).excludeScrollbarsAndBorders();We.moveBy(Nt.left,Nt.top),lt=lt.parent}}return We}const Ln={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},In={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Jn={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21E5",33:"Page Up",34:"Page Down"},cn=function(){const ue={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let N=65;N<=90;N++)ue[String.fromCharCode(N).toLowerCase()]=N;for(let N=48;N<=57;N++)ue[N-48]=N;for(let N=112;N<=123;N++)ue["f"+(N-111)]=N;return Object.assign(ue,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),ue}(),fo=Object.fromEntries(Object.entries(cn).map(([ue,N])=>{let ie;return ie=N in Jn?Jn[N]:ue.charAt(0).toUpperCase()+ue.slice(1),[N,ie]}));function go(ue){let N;if(typeof ue=="string"){if(N=cn[ue.toLowerCase()],!N)throw new v.Ay("keyboard-unknown-key",null,{key:ue})}else N=ue.keyCode+(ue.altKey?cn.alt:0)+(ue.ctrlKey?cn.ctrl:0)+(ue.shiftKey?cn.shift:0)+(ue.metaKey?cn.cmd:0);return N}function _o(ue){return typeof ue=="string"&&(ue=function(N){return N.split("+").map(ie=>ie.trim())}(ue)),ue.map(N=>typeof N=="string"?function(ie){if(ie.endsWith("!"))return go(ie.slice(0,-1));const We=go(ie);return(P.isMac||P.isiOS)&&We==cn.ctrl?cn.cmd:We}(N):N).reduce((N,ie)=>ie+N,0)}function To(ue){let N=_o(ue);return Object.entries(P.isMac||P.isiOS?Ln:In).reduce((ie,[We,lt])=>(N&cn[We]&&(N&=~cn[We],ie+=lt),ie),"")+(N?fo[N]:"")}function io(ue){return ue==cn.arrowright||ue==cn.arrowleft||ue==cn.arrowup||ue==cn.arrowdown}function po(ue,N){const ie=N==="ltr";switch(ue){case cn.arrowleft:return ie?"left":"right";case cn.arrowright:return ie?"right":"left";case cn.arrowup:return"up";case cn.arrowdown:return"down"}}function No(ue,N){const ie=po(ue,N);return ie==="down"||ie==="right"}const ao=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Dt(ue){return ao.includes(ue)?"rtl":"ltr"}function z(ue){return Array.isArray(ue)?ue:[ue]}var Ee=s("./node_modules/lodash-es/merge.js");function $e(ue,N,ie=1,We){if(typeof ie!="number")throw new v.Ay("translation-service-quantity-not-a-number",null,{quantity:ie});const lt=We||ft.window.CKEDITOR_TRANSLATIONS,Se=function(C){return Object.keys(C).length}(lt);Se===1&&(ue=Object.keys(lt)[0]);const Nt=N.id||N.string;if(Se===0||!function(C,F,Q){return!!Q[C]&&!!Q[C].dictionary[F]}(ue,Nt,lt))return ie!==1?N.plural:N.string;const ui=lt[ue].dictionary,ri=lt[ue].getPluralForm||(C=>C===1?0:1),me=ui[Nt];return typeof me=="string"?me:me[Number(ri(ie))]}ft.window.CKEDITOR_TRANSLATIONS||(ft.window.CKEDITOR_TRANSLATIONS={});class Ge{constructor({uiLanguage:N="en",contentLanguage:ie,translations:We}={}){this.uiLanguage=N,this.contentLanguage=ie||this.uiLanguage,this.uiLanguageDirection=Dt(this.uiLanguage),this.contentLanguageDirection=Dt(this.contentLanguage),this.translations=function(lt){return Array.isArray(lt)?lt.reduce((Se,Nt)=>(0,Ee.A)(Se,Nt)):lt}(We),this.t=(lt,Se)=>this._t(lt,Se)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(N,ie=[]){ie=z(ie),typeof N=="string"&&(N={string:N});const We=N.plural?ie[0]:1;return function(lt,Se){return lt.replace(/%(\d+)/g,(Nt,ui)=>ui<Se.length?Se[ui]:Nt)}($e(this.uiLanguage,N,We,this.translations),ie)}}class at extends W(){constructor(N={},ie={}){super();const We=Ft(N);if(We||(ie=N),this._items=[],this._itemMap=new Map,this._idProperty=ie.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],We)for(const lt of N)this._items.push(lt),this._itemMap.set(this._getItemIdBeforeAdding(lt),lt)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(N,ie){return this.addMany([N],ie)}addMany(N,ie){if(ie===void 0)ie=this._items.length;else if(ie>this._items.length||ie<0)throw new v.Ay("collection-add-item-invalid-index",this);let We=0;for(const lt of N){const Se=this._getItemIdBeforeAdding(lt),Nt=ie+We;this._items.splice(Nt,0,lt),this._itemMap.set(Se,lt),this.fire("add",lt,Nt),We++}return this.fire("change",{added:N,removed:[],index:ie}),this}get(N){let ie;if(typeof N=="string")ie=this._itemMap.get(N);else{if(typeof N!="number")throw new v.Ay("collection-get-invalid-arg",this);ie=this._items[N]}return ie||null}has(N){if(typeof N=="string")return this._itemMap.has(N);{const ie=N[this._idProperty];return ie&&this._itemMap.has(ie)}}getIndex(N){let ie;return ie=typeof N=="string"?this._itemMap.get(N):N,ie?this._items.indexOf(ie):-1}remove(N){const[ie,We]=this._remove(N);return this.fire("change",{added:[],removed:[ie],index:We}),ie}map(N,ie){return this._items.map(N,ie)}forEach(N,ie){this._items.forEach(N,ie)}find(N,ie){return this._items.find(N,ie)}filter(N,ie){return this._items.filter(N,ie)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const N=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:N,index:0})}bindTo(N){if(this._bindToCollection)throw new v.Ay("collection-bind-to-rebind",this);return this._bindToCollection=N,{as:ie=>{this._setUpBindToBinding(We=>new ie(We))},using:ie=>{typeof ie=="function"?this._setUpBindToBinding(ie):this._setUpBindToBinding(We=>We[ie])}}}_setUpBindToBinding(N){const ie=this._bindToCollection,We=(lt,Se,Nt)=>{const ui=ie._bindToCollection==this,ri=ie._bindToInternalToExternalMap.get(Se);if(ui&&ri)this._bindToExternalToInternalMap.set(Se,ri),this._bindToInternalToExternalMap.set(ri,Se);else{const me=N(Se);if(!me)return void this._skippedIndexesFromExternal.push(Nt);let C=Nt;for(const F of this._skippedIndexesFromExternal)Nt>F&&C--;for(const F of ie._skippedIndexesFromExternal)C>=F&&C++;this._bindToExternalToInternalMap.set(Se,me),this._bindToInternalToExternalMap.set(me,Se),this.add(me,C);for(let F=0;F<ie._skippedIndexesFromExternal.length;F++)C<=ie._skippedIndexesFromExternal[F]&&ie._skippedIndexesFromExternal[F]++}};for(const lt of ie)We(0,lt,ie.getIndex(lt));this.listenTo(ie,"add",We),this.listenTo(ie,"remove",(lt,Se,Nt)=>{const ui=this._bindToExternalToInternalMap.get(Se);ui&&this.remove(ui),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((ri,me)=>(Nt<me&&ri.push(me-1),Nt>me&&ri.push(me),ri),[])})}_getItemIdBeforeAdding(N){const ie=this._idProperty;let We;if(ie in N){if(We=N[ie],typeof We!="string")throw new v.Ay("collection-add-invalid-id",this);if(this.get(We))throw new v.Ay("collection-add-item-already-exists",this)}else N[ie]=We=we();return We}_remove(N){let ie,We,lt,Se=!1;const Nt=this._idProperty;if(typeof N=="string"?(We=N,lt=this._itemMap.get(We),Se=!lt,lt&&(ie=this._items.indexOf(lt))):typeof N=="number"?(ie=N,lt=this._items[ie],Se=!lt,lt&&(We=lt[Nt])):(lt=N,We=lt[Nt],ie=this._items.indexOf(lt),Se=ie==-1||!this._itemMap.get(We)),Se)throw new v.Ay("collection-remove-404",this);this._items.splice(ie,1),this._itemMap.delete(We);const ui=this._bindToInternalToExternalMap.get(lt);return this._bindToInternalToExternalMap.delete(lt),this._bindToExternalToInternalMap.delete(ui),this.fire("remove",lt,ie),[lt,ie]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ct(ue){const N=ue.next();return N.done?null:N.value}class It extends ce(Le()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(N){if(this._elements.has(N))throw new v.Ay("focustracker-add-element-already-exist",this);this.listenTo(N,"focus",()=>this._focus(N),{useCapture:!0}),this.listenTo(N,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(N)}remove(N){N===this.focusedElement&&this._blur(),this._elements.has(N)&&(this.stopListening(N),this._elements.delete(N))}destroy(){this.stopListening()}_focus(N){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=N,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class yt{constructor(){this._listener=new(ce())}listenTo(N){this._listener.listenTo(N,"keydown",(ie,We)=>{this._listener.fire("_keydown:"+go(We),We)})}set(N,ie,We={}){const lt=_o(N),Se=We.priority;this._listener.listenTo(this._listener,"_keydown:"+lt,(Nt,ui)=>{ie(ui,()=>{ui.preventDefault(),ui.stopPropagation(),Nt.stop()}),Nt.return=!0},{priority:Se})}press(N){return!!this._listener.fire("_keydown:"+go(N),N)}stopListening(N){this._listener.stopListening(N)}destroy(){this.stopListening()}}function Ct(ue){return Ft(ue)?new Map(ue):function(N){const ie=new Map;for(const We in N)ie.set(We,N[We]);return ie}(ue)}function $t(ue,N={}){return new Promise((ie,We)=>{const lt=N.signal||new AbortController().signal;lt.throwIfAborted();const Se=setTimeout(function(){lt.removeEventListener("abort",Nt),ie()},ue);function Nt(){clearTimeout(Se),We(lt.reason)}lt.addEventListener("abort",Nt,{once:!0})})}var ii=Math.pow,wi=(ue,N,ie)=>new Promise((We,lt)=>{var Se=ri=>{try{ui(ie.next(ri))}catch(me){lt(me)}},Nt=ri=>{try{ui(ie.throw(ri))}catch(me){lt(me)}},ui=ri=>ri.done?We(ri.value):Promise.resolve(ri.value).then(Se,Nt);ui((ie=ie.apply(ue,N)).next())});function li(ue){return wi(this,arguments,function*(N,ie={}){const{maxAttempts:We=4,retryDelay:lt=ki(),signal:Se=new AbortController().signal}=ie;Se.throwIfAborted();for(let Nt=0;;Nt++){try{return yield N()}catch(ui){if(Nt+1>=We)throw ui}yield $t(lt(Nt),{signal:Se})}})}function ki(ue={}){const{delay:N=1e3,factor:ie=2,maxDelay:We=1e4}=ue;return lt=>Math.min(ii(ie,lt)*N,We)}const Vi=1e4;function wn(ue,N,ie,We){if(Math.max(N.length,ue.length)>Vi)return ue.slice(0,ie).concat(N).concat(ue.slice(ie+We,ue.length));{const lt=Array.from(ue);return lt.splice(ie,We,...N),lt}}function Vn(ue,N){let ie;function We(...lt){We.cancel(),ie=setTimeout(()=>ue(...lt),N)}return We.cancel=()=>{clearTimeout(ie)},We}function Cn(ue){function N(F){return F.length>=40&&F.length<=255?"VALID":"INVALID"}if(!ue)return"INVALID";let ie="";try{ie=atob(ue)}catch{return"INVALID"}const We=ie.split("-"),lt=We[0],Se=We[1];if(!Se)return N(ue);try{atob(Se)}catch{try{if(atob(lt),!atob(lt).length)return N(ue)}catch{return N(ue)}}if(lt.length<40||lt.length>255)return"INVALID";let Nt="";try{atob(lt),Nt=atob(Se)}catch{return"INVALID"}if(Nt.length!==8)return"INVALID";const ui=Number(Nt.substring(0,4)),ri=Number(Nt.substring(4,6))-1,me=Number(Nt.substring(6,8)),C=new Date(ui,ri,me);return C<p.k||isNaN(Number(C))?"INVALID":"VALID"}function Rn(ue){return!!ue&&ue.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(ue)}function en(ue){return!!ue&&ue.length==1&&/[\ud800-\udbff]/.test(ue)}function Pn(ue){return!!ue&&ue.length==1&&/[\udc00-\udfff]/.test(ue)}function Qi(ue,N){return en(ue.charAt(N-1))&&Pn(ue.charAt(N))}function no(ue,N){return Rn(ue.charAt(N))}const vo=function(){const ue=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],N=new RegExp("\\p{Regional_Indicator}{2}","u").source,ie="(?:"+ue.map(We=>We.source).join("|")+")";return new RegExp(`${N}|${ie}(?:\u200D${ie})*`,"ug")}();function Xt(ue,N){const ie=String(ue).matchAll(vo);return Array.from(ie).some(We=>We.index<N&&N<We.index+We[0].length)}},"./packages/ckeditor5-utils/src/version.ts":(d,f,s)=>{"use strict";s.d(f,{A:()=>P,k:()=>b});var u=s("./packages/ckeditor5-utils/src/ckeditorerror.ts");const y="41.3.1",P=y,b=new Date(2024,3,16);if(globalThis.CKEDITOR_VERSION)throw new u.Ay("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=y},"./packages/ckeditor5-widget/src/index.ts":(d,f,s)=>{"use strict";s.d(f,{iW:()=>$,w_:()=>he,x0:()=>fe,VE:()=>$i,oP:()=>pe,oT:()=>Oe,iB:()=>oe,p9:()=>L,p4:()=>we,_s:()=>v,je:()=>T,Ex:()=>g,YN:()=>O,$u:()=>W});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-engine/src/index.ts"),P=s("./packages/ckeditor5-typing/src/index.ts"),b=s("./packages/ckeditor5-utils/src/index.ts"),_=s("./packages/ckeditor5-ui/src/index.ts"),D=s("./packages/ckeditor5-enter/src/index.ts");class I extends(0,b.Mm)(){constructor(){super(...arguments),this._stack=[]}add(G,ce){const Ie=this._stack,Ze=Ie[0];this._insertDescriptor(G);const Ye=Ie[0];Ze===Ye||V(Ze,Ye)||this.fire("change:top",{oldDescriptor:Ze,newDescriptor:Ye,writer:ce})}remove(G,ce){const Ie=this._stack,Ze=Ie[0];this._removeDescriptor(G);const Ye=Ie[0];Ze===Ye||V(Ze,Ye)||this.fire("change:top",{oldDescriptor:Ze,newDescriptor:Ye,writer:ce})}_insertDescriptor(G){const ce=this._stack,Ie=ce.findIndex(Ye=>Ye.id===G.id);if(V(G,ce[Ie]))return;Ie>-1&&ce.splice(Ie,1);let Ze=0;for(;ce[Ze]&&ye(ce[Ze],G);)Ze++;ce.splice(Ze,0,G)}_removeDescriptor(G){const ce=this._stack,Ie=ce.findIndex(Ze=>Ze.id===G);Ie>-1&&ce.splice(Ie,1)}}function V(ht,G){return ht&&G&&ht.priority==G.priority&&ne(ht.classes)==ne(G.classes)}function ye(ht,G){return ht.priority>G.priority||!(ht.priority<G.priority)&&ne(ht.classes)>ne(G.classes)}function ne(ht){return Array.isArray(ht)?ht.sort().join(","):ht}const U='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',$="ck-widget",he="ck-widget_selected";function we(ht){return!!ht.is("element")&&!!ht.getCustomProperty("widget")}function g(ht,G,ce={}){if(!ht.is("containerElement"))throw new b.Yb("widget-to-widget-wrong-element-type",null,{element:ht});return G.setAttribute("contenteditable","false",ht),G.addClass($,ht),G.setCustomProperty("widget",!0,ht),ht.getFillerOffset=te,G.setCustomProperty("widgetLabel",[],ht),ce.label&&T(ht,ce.label),ce.hasSelectionHandle&&function(Ie,Ze){const Ye=Ze.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(ft){const Tt=this.toDomElement(ft),Vt=new _.Ln;return Vt.set("content",U),Vt.render(),Tt.appendChild(Vt.element),Tt});Ze.insert(Ze.createPositionAt(Ie,0),Ye),Ze.addClass(["ck-widget_with-selection-handle"],Ie)}(ht,G),v(ht,G),ht}function w(ht,G,ce){if(G.classes&&ce.addClass((0,b.$r)(G.classes),ht),G.attributes)for(const Ie in G.attributes)ce.setAttribute(Ie,G.attributes[Ie],ht)}function p(ht,G,ce){if(G.classes&&ce.removeClass((0,b.$r)(G.classes),ht),G.attributes)for(const Ie in G.attributes)ce.removeAttribute(Ie,ht)}function v(ht,G,ce=w,Ie=p){const Ze=new I;Ze.on("change:top",(Ye,ft)=>{ft.oldDescriptor&&Ie(ht,ft.oldDescriptor,ft.writer),ft.newDescriptor&&ce(ht,ft.newDescriptor,ft.writer)}),G.setCustomProperty("addHighlight",(Ye,ft,Tt)=>Ze.add(ft,Tt),ht),G.setCustomProperty("removeHighlight",(Ye,ft,Tt)=>Ze.remove(ft,Tt),ht)}function T(ht,G){ht.getCustomProperty("widgetLabel").push(G)}function L(ht){return ht.getCustomProperty("widgetLabel").reduce((G,ce)=>typeof ce=="function"?G?G+". "+ce():ce():G?G+". "+ce:ce,"")}function O(ht,G,ce={}){return G.addClass(["ck-editor__editable","ck-editor__nested-editable"],ht),G.setAttribute("role","textbox",ht),G.setAttribute("tabindex","-1",ht),ce.label&&G.setAttribute("aria-label",ce.label,ht),G.setAttribute("contenteditable",ht.isReadOnly?"false":"true",ht),ht.on("change:isReadOnly",(Ie,Ze,Ye)=>{G.setAttribute("contenteditable",Ye?"false":"true",ht)}),ht.on("change:isFocused",(Ie,Ze,Ye)=>{Ye?G.addClass("ck-editor__nested-editable_focused",ht):G.removeClass("ck-editor__nested-editable_focused",ht)}),v(ht,G),ht}function oe(ht,G){const ce=ht.getSelectedElement();if(ce){const Ie=de(ht);if(Ie)return G.createRange(G.createPositionAt(ce,Ie))}return G.schema.findOptimalInsertionRange(ht)}function W(ht,G){return(ce,Ie)=>{const{mapper:Ze,viewPosition:Ye}=Ie,ft=Ze.findMappedViewAncestor(Ye);if(!G(ft))return;const Tt=Ze.toModelElement(ft);Ie.modelPosition=ht.createPositionAt(Tt,Ye.isAtStart?"before":"after")}}function te(){return null}const S="widget-type-around";function X(ht,G,ce){return!!ht&&we(ht)&&!ce.isInline(G)}function de(ht){return ht.getAttribute(S)}var _e=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ae=s.n(_e),rt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),et={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ae()(rt.A,et),rt.A.locals;const J=["before","after"],Z=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Ce="ck-widget__type-around_disabled";class Oe extends u.k_{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[D.x,P.ep]}init(){const G=this.editor,ce=G.editing.view;this.on("change:isEnabled",(Ie,Ze,Ye)=>{ce.change(ft=>{for(const Tt of ce.document.roots)Ye?ft.removeClass(Ce,Tt):ft.addClass(Ce,Tt)}),Ye||G.model.change(ft=>{ft.removeSelectionAttribute(S)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(G,ce){const Ie=this.editor,Ze=Ie.editing.view,Ye=Ie.model.schema.getAttributesWithProperty(G,"copyOnReplace",!0);Ie.execute("insertParagraph",{position:Ie.model.createPositionAt(G,ce),attributes:Ye}),Ze.focus(),Ze.scrollToTheSelection()}_listenToIfEnabled(G,ce,Ie,Ze){this.listenTo(G,ce,(...Ye)=>{this.isEnabled&&Ie(...Ye)},Ze)}_insertParagraphAccordingToFakeCaretPosition(){const G=this.editor.model.document.selection,ce=de(G);if(!ce)return!1;const Ie=G.getSelectedElement();return this._insertParagraph(Ie,ce),!0}_enableTypeAroundUIInjection(){const G=this.editor,ce=G.model.schema,Ie=G.locale.t,Ze={before:Ie("Insert paragraph before block"),after:Ie("Insert paragraph after block")};G.editing.downcastDispatcher.on("insert",(Ye,ft,Tt)=>{const Vt=Tt.mapper.toViewElement(ft.item);Vt&&X(Vt,ft.item,ce)&&(function(Bt,ei,oi){const Mi=Bt.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Pi){const zi=this.toDomElement(Pi);return function(mi,Ni){for(const vt of J){const qe=new _.Bj({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${vt}`],title:Ni[vt],"aria-hidden":"true"},children:[mi.ownerDocument.importNode(Z,!0)]});mi.appendChild(qe.render())}}(zi,ei),function(mi){const Ni=new _.Bj({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});mi.appendChild(Ni.render())}(zi),zi});Bt.insert(Bt.createPositionAt(oi,"end"),Mi)}(Tt.writer,Ze,Vt),Vt.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Ie("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const G=this.editor,ce=G.model,Ie=ce.document.selection,Ze=ce.schema,Ye=G.editing.view;function ft(Tt){return`ck-widget_type-around_show-fake-caret_${Tt}`}this._listenToIfEnabled(Ye.document,"arrowKey",(Tt,Vt)=>{this._handleArrowKeyPress(Tt,Vt)},{context:[we,"$text"],priority:"high"}),this._listenToIfEnabled(Ie,"change:range",(Tt,Vt)=>{Vt.directChange&&G.model.change(Bt=>{Bt.removeSelectionAttribute(S)})}),this._listenToIfEnabled(ce.document,"change:data",()=>{const Tt=Ie.getSelectedElement();Tt&&X(G.editing.mapper.toViewElement(Tt),Tt,Ze)||G.model.change(Vt=>{Vt.removeSelectionAttribute(S)})}),this._listenToIfEnabled(G.editing.downcastDispatcher,"selection",(Tt,Vt,Bt)=>{const ei=Bt.writer;if(this._currentFakeCaretModelElement){const zi=Bt.mapper.toViewElement(this._currentFakeCaretModelElement);zi&&(ei.removeClass(J.map(ft),zi),this._currentFakeCaretModelElement=null)}const oi=Vt.selection.getSelectedElement();if(!oi)return;const Mi=Bt.mapper.toViewElement(oi);if(!X(Mi,oi,Ze))return;const Pi=de(Vt.selection);Pi&&(ei.addClass(ft(Pi),Mi),this._currentFakeCaretModelElement=oi)}),this._listenToIfEnabled(G.ui.focusTracker,"change:isFocused",(Tt,Vt,Bt)=>{Bt||G.model.change(ei=>{ei.removeSelectionAttribute(S)})})}_handleArrowKeyPress(G,ce){const Ie=this.editor,Ze=Ie.model,Ye=Ze.document.selection,ft=Ze.schema,Tt=Ie.editing.view,Vt=ce.keyCode,Bt=(0,b.HK)(Vt,Ie.locale.contentLanguageDirection),ei=Tt.document.selection.getSelectedElement();let oi;X(ei,Ie.editing.mapper.toModelElement(ei),ft)?oi=this._handleArrowKeyPressOnSelectedWidget(Bt):Ye.isCollapsed?oi=this._handleArrowKeyPressWhenSelectionNextToAWidget(Bt):ce.shiftKey||(oi=this._handleArrowKeyPressWhenNonCollapsedSelection(Bt)),oi&&(ce.preventDefault(),G.stop())}_handleArrowKeyPressOnSelectedWidget(G){const ce=this.editor.model,Ie=de(ce.document.selection);return ce.change(Ze=>Ie?Ie!==(G?"after":"before")?(Ze.removeSelectionAttribute(S),!0):!1:(Ze.setSelectionAttribute(S,G?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(G){const ce=this.editor,Ie=ce.model,Ze=Ie.schema,Ye=ce.plugins.get("Widget"),ft=Ye._getObjectElementNextToSelection(G);return!!X(ce.editing.mapper.toViewElement(ft),ft,Ze)&&(Ie.change(Tt=>{Ye._setSelectionOverElement(ft),Tt.setSelectionAttribute(S,G?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(G){const ce=this.editor,Ie=ce.model,Ze=Ie.schema,Ye=ce.editing.mapper,ft=Ie.document.selection,Tt=G?ft.getLastPosition().nodeBefore:ft.getFirstPosition().nodeAfter;return!!X(Ye.toViewElement(Tt),Tt,Ze)&&(Ie.change(Vt=>{Vt.setSelection(Tt,"on"),Vt.setSelectionAttribute(S,G?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const G=this.editor,ce=G.editing.view;this._listenToIfEnabled(ce.document,"mousedown",(Ie,Ze)=>{const Ye=Ze.domTarget.closest(".ck-widget__type-around__button");if(!Ye)return;const ft=function(Bt){return Bt.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(Ye),Tt=function(Bt,ei){const oi=Bt.closest(".ck-widget");return ei.mapDomToView(oi)}(Ye,ce.domConverter),Vt=G.editing.mapper.toModelElement(Tt);this._insertParagraph(Vt,ft),Ze.preventDefault(),Ie.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const G=this.editor,ce=G.model.document.selection,Ie=G.editing.view;this._listenToIfEnabled(Ie.document,"enter",(Ze,Ye)=>{if(Ze.eventPhase!="atTarget")return;const ft=ce.getSelectedElement(),Tt=G.editing.mapper.toViewElement(ft),Vt=G.model.schema;let Bt;this._insertParagraphAccordingToFakeCaretPosition()?Bt=!0:X(Tt,ft,Vt)&&(this._insertParagraph(ft,Ye.isSoft?"before":"after"),Bt=!0),Bt&&(Ye.preventDefault(),Ze.stop())},{context:we})}_enableInsertingParagraphsOnTypingKeystroke(){const G=this.editor.editing.view.document;this._listenToIfEnabled(G,"insertText",(ce,Ie)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Ie.selection=G.selection)},{priority:"high"}),b._K.isAndroid?this._listenToIfEnabled(G,"keydown",(ce,Ie)=>{Ie.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(G,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const G=this.editor,ce=G.editing.view,Ie=G.model,Ze=Ie.schema;this._listenToIfEnabled(ce.document,"delete",(Ye,ft)=>{if(Ye.eventPhase!="atTarget")return;const Tt=de(Ie.document.selection);if(!Tt)return;const Vt=ft.direction,Bt=Ie.document.selection.getSelectedElement(),ei=Vt=="forward";if(Tt==="before"===ei)G.execute("delete",{selection:Ie.createSelection(Bt,"on")});else{const oi=Ze.getNearestSelectionRange(Ie.createPositionAt(Bt,Tt),Vt);if(oi)if(oi.isCollapsed){const Mi=Ie.createSelection(oi.start);if(Ie.modifySelection(Mi,{direction:Vt}),Mi.focus.isEqual(oi.start)){const Pi=function(zi,mi){let Ni=mi;for(const vt of mi.getAncestors({parentFirst:!0})){if(vt.childCount>1||zi.isLimit(vt))break;Ni=vt}return Ni}(Ze,oi.start.parent);Ie.deleteContent(Ie.createSelection(Pi,"on"),{doNotAutoparagraph:!0})}else Ie.change(Pi=>{Pi.setSelection(oi),G.execute(ei?"deleteForward":"delete")})}else Ie.change(Mi=>{Mi.setSelection(oi),G.execute(ei?"deleteForward":"delete")})}ft.preventDefault(),Ye.stop()},{context:we})}_enableInsertContentIntegration(){const G=this.editor,ce=this.editor.model,Ie=ce.document.selection;this._listenToIfEnabled(G.model,"insertContent",(Ze,[Ye,ft])=>{if(ft&&!ft.is("documentSelection"))return;const Tt=de(Ie);return Tt?(Ze.stop(),ce.change(Vt=>{const Bt=Ie.getSelectedElement(),ei=ce.createPositionAt(Bt,Tt),oi=Vt.createSelection(ei),Mi=ce.insertContent(Ye,oi);return Vt.setSelection(oi),Mi})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const G=this.editor,ce=this.editor.model.document.selection;this._listenToIfEnabled(G.model,"insertObject",(Ie,Ze)=>{const[,Ye,ft={}]=Ze;if(Ye&&!Ye.is("documentSelection"))return;const Tt=de(ce);Tt&&(ft.findOptimalPosition=Tt,Ze[3]=ft)},{priority:"high"})}_enableDeleteContentIntegration(){const G=this.editor,ce=this.editor.model.document.selection;this._listenToIfEnabled(G.model,"deleteContent",(Ie,[Ze])=>{Ze&&!Ze.is("documentSelection")||de(ce)&&Ie.stop()},{priority:"high"})}}function xe(ht){const G=ht.model;return(ce,Ie)=>{const Ze=Ie.keyCode==b.uP.arrowup,Ye=Ie.keyCode==b.uP.arrowdown,ft=Ie.shiftKey,Tt=G.document.selection;if(!Ze&&!Ye)return;const Vt=Ye;if(ft&&function(ei,oi){return!ei.isCollapsed&&ei.isBackward==oi}(Tt,Vt))return;const Bt=function(ei,oi,Mi){const Pi=ei.model;if(Mi){const zi=oi.isCollapsed?oi.focus:oi.getLastPosition(),mi=q(Pi,zi,"forward");if(!mi)return null;const Ni=Pi.createRange(zi,mi),vt=Le(Pi.schema,Ni,"backward");return vt?Pi.createRange(zi,vt):null}{const zi=oi.isCollapsed?oi.focus:oi.getFirstPosition(),mi=q(Pi,zi,"backward");if(!mi)return null;const Ni=Pi.createRange(mi,zi),vt=Le(Pi.schema,Ni,"forward");return vt?Pi.createRange(vt,zi):null}}(ht,Tt,Vt);if(Bt){if(Bt.isCollapsed&&(Tt.isCollapsed||ft))return;(Bt.isCollapsed||function(ei,oi,Mi){const Pi=ei.model,zi=ei.view.domConverter;if(Mi){const pt=Pi.createSelection(oi.start);Pi.modifySelection(pt),pt.focus.isAtEnd||oi.start.isEqual(pt.focus)||(oi=Pi.createRange(pt.focus,oi.end))}const mi=ei.mapper.toViewRange(oi),Ni=zi.viewRangeToDom(mi),vt=b.rw.getDomRangeRects(Ni);let qe;for(const pt of vt)if(qe!==void 0){if(Math.round(pt.top)>=qe)return!1;qe=Math.max(qe,Math.round(pt.bottom))}else qe=Math.round(pt.bottom);return!0}(ht,Bt,Vt))&&(G.change(ei=>{const oi=Vt?Bt.end:Bt.start;if(ft){const Mi=G.createSelection(Tt.anchor);Mi.setFocus(oi),ei.setSelection(Mi)}else ei.setSelection(oi)}),ce.stop(),Ie.preventDefault(),Ie.stopPropagation())}}}function q(ht,G,ce){const Ie=ht.schema,Ze=ht.createRangeIn(G.root),Ye=ce=="forward"?"elementStart":"elementEnd";for(const{previousPosition:ft,item:Tt,type:Vt}of Ze.getWalker({startPosition:G,direction:ce})){if(Ie.isLimit(Tt)&&!Ie.isInline(Tt))return ft;if(Vt==Ye&&Ie.isBlock(Tt))return null}return null}function Le(ht,G,ce){const Ie=ce=="backward"?G.end:G.start;if(ht.checkChild(Ie,"$text"))return Ie;for(const{nextPosition:Ze}of G.getWalker({direction:ce}))if(ht.checkChild(Ze,"$text"))return Ze;return null}var He=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ae()(He.A,ot),He.A.locals;class fe extends u.k_{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Oe,P.ep]}init(){const G=this.editor,ce=G.editing.view,Ie=ce.document,Ze=G.t;this.editor.editing.downcastDispatcher.on("selection",(Ye,ft,Tt)=>{const Vt=Tt.writer,Bt=ft.selection;if(Bt.isCollapsed)return;const ei=Bt.getSelectedElement();if(!ei)return;const oi=G.editing.mapper.toViewElement(ei);we(oi)&&Tt.consumable.consume(Bt,"selection")&&Vt.setSelection(Vt.createRangeOn(oi),{fake:!0,label:L(oi)})}),this.editor.editing.downcastDispatcher.on("selection",(Ye,ft,Tt)=>{this._clearPreviouslySelectedWidgets(Tt.writer);const Vt=Tt.writer,Bt=Vt.document.selection;let ei=null;for(const oi of Bt.getRanges())for(const Mi of oi){const Pi=Mi.item;we(Pi)&&!le(Pi,ei)&&(Vt.addClass(he,Pi),this._previouslySelected.add(Pi),ei=Pi)}},{priority:"low"}),ce.addObserver(y.q$),this.listenTo(Ie,"mousedown",(...Ye)=>this._onMousedown(...Ye)),this.listenTo(Ie,"arrowKey",(...Ye)=>{this._handleSelectionChangeOnArrowKeyPress(...Ye)},{context:[we,"$text"]}),this.listenTo(Ie,"arrowKey",(...Ye)=>{this._preventDefaultOnArrowKeyPress(...Ye)},{context:"$root"}),this.listenTo(Ie,"arrowKey",xe(this.editor.editing),{context:"$text"}),this.listenTo(Ie,"delete",(Ye,ft)=>{this._handleDelete(ft.direction=="forward")&&(ft.preventDefault(),Ye.stop())},{context:"$root"}),this.listenTo(Ie,"tab",(Ye,ft)=>{Ye.eventPhase=="atTarget"&&(ft.shiftKey||this._selectFirstNestedEditable()&&(ft.preventDefault(),Ye.stop()))},{context:we,priority:"low"}),this.listenTo(Ie,"tab",(Ye,ft)=>{ft.shiftKey&&this._selectAncestorWidget()&&(ft.preventDefault(),Ye.stop())},{priority:"low"}),this.listenTo(Ie,"keydown",(Ye,ft)=>{ft.keystroke==b.uP.esc&&this._selectAncestorWidget()&&(ft.preventDefault(),Ye.stop())},{priority:"low"}),G.accessibility.addKeystrokeInfoGroup({id:"widget",label:Ze("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:Ze("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:Ze("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:Ze("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:Ze("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(G,ce){const Ie=this.editor,Ze=Ie.editing.view,Ye=Ze.document;let ft=ce.target;if(ce.domEvent.detail>=3)return void(this._selectBlockContent(ft)&&ce.preventDefault());if(function(Vt){let Bt=Vt;for(;Bt;){if(Bt.is("editableElement")&&!Bt.is("rootElement"))return!0;if(we(Bt))return!1;Bt=Bt.parent}return!1}(ft)||!we(ft)&&(ft=ft.findAncestor(we),!ft))return;b._K.isAndroid&&ce.preventDefault(),Ye.isFocused||Ze.focus();const Tt=Ie.editing.mapper.toModelElement(ft);this._setSelectionOverElement(Tt)}_selectBlockContent(G){const ce=this.editor,Ie=ce.model,Ze=ce.editing.mapper,Ye=Ie.schema,ft=Ze.findMappedViewAncestor(this.editor.editing.view.createPositionAt(G,0)),Tt=function(Vt,Bt){for(const ei of Vt.getAncestors({includeSelf:!0,parentFirst:!0})){if(Bt.checkChild(ei,"$text"))return ei;if(Bt.isLimit(ei)&&!Bt.isObject(ei))break}return null}(Ze.toModelElement(ft),Ie.schema);return!!Tt&&(Ie.change(Vt=>{const Bt=Ye.isLimit(Tt)?null:function(Mi,Pi){const zi=new y.rU({startPosition:Mi});for(const{item:mi}of zi){if(Pi.isLimit(mi)||!mi.is("element"))return null;if(Pi.checkChild(mi,"$text"))return mi}return null}(Vt.createPositionAfter(Tt),Ye),ei=Vt.createPositionAt(Tt,0),oi=Bt?Vt.createPositionAt(Bt,0):Vt.createPositionAt(Tt,"end");Vt.setSelection(Vt.createRange(ei,oi))}),!0)}_handleSelectionChangeOnArrowKeyPress(G,ce){const Ie=ce.keyCode,Ze=this.editor.model,Ye=Ze.schema,ft=Ze.document.selection,Tt=ft.getSelectedElement(),Vt=(0,b.Kf)(Ie,this.editor.locale.contentLanguageDirection),Bt=Vt=="down"||Vt=="right",ei=Vt=="up"||Vt=="down";if(Tt&&Ye.isObject(Tt)){const Mi=Bt?ft.getLastPosition():ft.getFirstPosition(),Pi=Ye.getNearestSelectionRange(Mi,Bt?"forward":"backward");return void(Pi&&(Ze.change(zi=>{zi.setSelection(Pi)}),ce.preventDefault(),G.stop()))}if(!ft.isCollapsed&&!ce.shiftKey){const Mi=ft.getFirstPosition(),Pi=ft.getLastPosition(),zi=Mi.nodeAfter,mi=Pi.nodeBefore;return void((zi&&Ye.isObject(zi)||mi&&Ye.isObject(mi))&&(Ze.change(Ni=>{Ni.setSelection(Bt?Pi:Mi)}),ce.preventDefault(),G.stop()))}if(!ft.isCollapsed)return;const oi=this._getObjectElementNextToSelection(Bt);if(oi&&Ye.isObject(oi)){if(Ye.isInline(oi)&&ei)return;this._setSelectionOverElement(oi),ce.preventDefault(),G.stop()}}_preventDefaultOnArrowKeyPress(G,ce){const Ie=this.editor.model,Ze=Ie.schema,Ye=Ie.document.selection.getSelectedElement();Ye&&Ze.isObject(Ye)&&(ce.preventDefault(),G.stop())}_handleDelete(G){const ce=this.editor.model.document.selection;if(!this.editor.model.canEditAt(ce)||!ce.isCollapsed)return;const Ie=this._getObjectElementNextToSelection(G);return Ie?(this.editor.model.change(Ze=>{let Ye=ce.anchor.parent;for(;Ye.isEmpty;){const ft=Ye;Ye=ft.parent,Ze.remove(ft)}this._setSelectionOverElement(Ie)}),!0):void 0}_setSelectionOverElement(G){this.editor.model.change(ce=>{ce.setSelection(ce.createRangeOn(G))})}_getObjectElementNextToSelection(G){const ce=this.editor.model,Ie=ce.schema,Ze=ce.document.selection,Ye=ce.createSelection(Ze);if(ce.modifySelection(Ye,{direction:G?"forward":"backward"}),Ye.isEqual(Ze))return null;const ft=G?Ye.focus.nodeBefore:Ye.focus.nodeAfter;return ft&&Ie.isObject(ft)?ft:null}_clearPreviouslySelectedWidgets(G){for(const ce of this._previouslySelected)G.removeClass(he,ce);this._previouslySelected.clear()}_selectFirstNestedEditable(){const G=this.editor,ce=this.editor.editing.view.document;for(const Ie of ce.selection.getFirstRange().getItems())if(Ie.is("editableElement")){const Ze=G.editing.mapper.toModelElement(Ie);if(!Ze)continue;const Ye=G.model.createPositionAt(Ze,0),ft=G.model.schema.getNearestSelectionRange(Ye,"forward");return G.model.change(Tt=>{Tt.setSelection(ft)}),!0}return!1}_selectAncestorWidget(){const G=this.editor,ce=G.editing.mapper,Ie=G.editing.view.document.selection.getFirstPosition().parent,Ze=(Ie.is("$text")?Ie.parent:Ie).findAncestor(we);if(!Ze)return!1;const Ye=ce.toModelElement(Ze);return!!Ye&&(G.model.change(ft=>{ft.setSelection(Ye,"on")}),!0)}}function le(ht,G){return!!G&&Array.from(ht.getAncestors()).includes(G)}class pe extends u.k_{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[_.pU]}static get pluginName(){return"WidgetToolbarRepository"}init(){const G=this.editor;if(G.plugins.has("BalloonToolbar")){const ce=G.plugins.get("BalloonToolbar");this.listenTo(ce,"show",Ie=>{(function(Ze){const Ye=Ze.getSelectedElement();return!(!Ye||!we(Ye))})(G.editing.view.document.selection)&&Ie.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(G.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(G.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const G of this._toolbarDefinitions.values())G.view.destroy()}register(G,{ariaLabel:ce,items:Ie,getRelatedElement:Ze,balloonClassName:Ye="ck-toolbar-container"}){if(!Ie.length)return void(0,b.FF)("widget-toolbar-no-items",{toolbarId:G});const ft=this.editor,Tt=ft.t,Vt=new _.X3(ft.locale);if(Vt.ariaLabel=ce||Tt("Widget toolbar"),this._toolbarDefinitions.has(G))throw new b.Yb("widget-toolbar-duplicated",this,{toolbarId:G});const Bt={view:Vt,getRelatedElement:Ze,balloonClassName:Ye,itemsConfig:Ie,initialized:!1};ft.ui.addToolbar(Vt,{isContextual:!0,beforeFocus:()=>{const ei=Ze(ft.editing.view.document.selection);ei&&this._showToolbar(Bt,ei)},afterBlur:()=>{this._hideToolbar(Bt)}}),this._toolbarDefinitions.set(G,Bt)}_updateToolbarsVisibility(){let G=0,ce=null,Ie=null;for(const Ze of this._toolbarDefinitions.values()){const Ye=Ze.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&Ye)if(this.editor.ui.focusTracker.isFocused){const ft=Ye.getAncestors().length;ft>G&&(G=ft,ce=Ye,Ie=Ze)}else this._isToolbarVisible(Ze)&&this._hideToolbar(Ze);else this._isToolbarInBalloon(Ze)&&this._hideToolbar(Ze)}Ie&&this._showToolbar(Ie,ce)}_hideToolbar(G){this._balloon.remove(G.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(G,ce){this._isToolbarVisible(G)?Ke(this.editor,ce):this._isToolbarInBalloon(G)||(G.initialized||(G.initialized=!0,G.view.fillFromConfig(G.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:G.view,position:nt(this.editor,ce),balloonClassName:G.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Ie of this._toolbarDefinitions.values())if(this._isToolbarVisible(Ie)){const Ze=Ie.getRelatedElement(this.editor.editing.view.document.selection);Ke(this.editor,Ze)}}))}_isToolbarVisible(G){return this._balloon.visibleView===G.view}_isToolbarInBalloon(G){return this._balloon.hasView(G.view)}}function Ke(ht,G){const ce=ht.plugins.get("ContextualBalloon"),Ie=nt(ht,G);ce.updatePosition(Ie)}function nt(ht,G){const ce=ht.editing.view,Ie=_.Jr.defaultPositions;return{target:ce.domConverter.mapViewToDom(G),positions:[Ie.northArrowSouth,Ie.northArrowSouthWest,Ie.northArrowSouthEast,Ie.southArrowNorth,Ie.southArrowNorthWest,Ie.southArrowNorthEast,Ie.viewportStickyNorth]}}class ut extends(0,b.VM)(){constructor(G){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=G,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(G,ce,Ie){const Ze=new b.rw(ce);this.activeHandlePosition=function(ft){const Tt=["top-left","top-right","bottom-right","bottom-left"];for(const Vt of Tt)if(ft.classList.contains(wt(Vt)))return Vt}(G),this._referenceCoordinates=function(ft,Tt){const Vt=new b.rw(ft),Bt=Tt.split("-"),ei={x:Bt[1]=="right"?Vt.right:Vt.left,y:Bt[0]=="bottom"?Vt.bottom:Vt.top};return ei.x+=ft.ownerDocument.defaultView.scrollX,ei.y+=ft.ownerDocument.defaultView.scrollY,ei}(ce,function(ft){const Tt=ft.split("-"),Vt={top:"bottom",bottom:"top",left:"right",right:"left"};return`${Vt[Tt[0]]}-${Vt[Tt[1]]}`}(this.activeHandlePosition)),this._originalWidth=Ze.width,this._originalHeight=Ze.height,this._aspectRatio=Ze.width/Ze.height;const Ye=Ie.style.width;Ye&&Ye.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(Ye):this._originalWidthPercents=function(ft,Tt){const Vt=ft.parentElement;let Bt=parseFloat(Vt.ownerDocument.defaultView.getComputedStyle(Vt).width);const ei=5;let oi=0,Mi=Vt;for(;isNaN(Bt);){if(Mi=Mi.parentElement,++oi>ei)return 0;Bt=parseFloat(Vt.ownerDocument.defaultView.getComputedStyle(Mi).width)}return Tt.width/Bt*100}(Ie,Ze)}update(G){this.proposedWidth=G.width,this.proposedHeight=G.height,this.proposedWidthPercents=G.widthPercents,this.proposedHandleHostWidth=G.handleHostWidth,this.proposedHandleHostHeight=G.handleHostHeight}}function wt(ht){return`ck-widget__resizer__handle-${ht}`}class Ft extends _.Ss{constructor(){super();const G=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",G.to("_viewPosition",ce=>ce?`ck-orientation-${ce}`:"")],style:{display:G.if("_isVisible","none",ce=>!ce)}},children:[{text:G.to("_label")}]})}_bindToState(G,ce){this.bind("_isVisible").to(ce,"proposedWidth",ce,"proposedHeight",(Ie,Ze)=>Ie!==null&&Ze!==null),this.bind("_label").to(ce,"proposedHandleHostWidth",ce,"proposedHandleHostHeight",ce,"proposedWidthPercents",(Ie,Ze,Ye)=>G.unit==="px"?`${Ie}\xD7${Ze}`:`${Ye}%`),this.bind("_viewPosition").to(ce,"activeHandlePosition",ce,"proposedHandleHostWidth",ce,"proposedHandleHostHeight",(Ie,Ze,Ye)=>Ze<50||Ye<50?"above-center":Ie)}_dismiss(){this.unbind(),this._isVisible=!1}}var Wt=Object.defineProperty,Lt=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,bi=(ht,G,ce)=>G in ht?Wt(ht,G,{enumerable:!0,configurable:!0,writable:!0,value:ce}):ht[G]=ce;class fi extends(0,b.VM)(){constructor(G){super(),this._viewResizerWrapper=null,this._options=G,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(ce,Ie)=>ce&&Ie),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",ce=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),ce.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(G=>{G.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(G=>{G.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const G=this,ce=this._options.viewElement;this._options.editor.editing.view.change(Ie=>{const Ze=Ie.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(Ye){const ft=this.toDomElement(Ye);return G._appendHandles(ft),G._appendSizeUI(ft),ft});Ie.insert(Ie.createPositionAt(ce,"end"),Ze),Ie.addClass("ck-widget_with-resizer",ce),this._viewResizerWrapper=Ze,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(G){this._state=new ut(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(G,this._getHandleHost(),this._getResizeHost())}updateSize(G){const ce=this._proposeNewSize(G);this._options.editor.editing.view.change(Bt=>{const ei=this._options.unit||"%",oi=(ei==="%"?ce.widthPercents:ce.width)+ei;Bt.setStyle("width",oi,this._options.viewElement)});const Ie=this._getHandleHost(),Ze=new b.rw(Ie),Ye=Math.round(Ze.width),ft=Math.round(Ze.height),Tt=new b.rw(Ie);var Vt;ce.width=Math.round(Tt.width),ce.height=Math.round(Tt.height),this.redraw(Ze),this.state.update((Vt=((Bt,ei)=>{for(var oi in ei||(ei={}))Xe.call(ei,oi)&&bi(Bt,oi,ei[oi]);if(bt)for(var oi of bt(ei))kt.call(ei,oi)&&bi(Bt,oi,ei[oi]);return Bt})({},ce),Lt(Vt,Yt({handleHostWidth:Ye,handleHostHeight:ft}))))}commit(){const G=this._options.unit||"%",ce=(G==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+G;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(ce)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(G){const ce=this._domResizerWrapper;if(!((Ie=ce)&&Ie.ownerDocument&&Ie.ownerDocument.contains(Ie)))return;var Ie;const Ze=ce.parentElement,Ye=this._getHandleHost(),ft=this._viewResizerWrapper,Tt=[ft.getStyle("width"),ft.getStyle("height"),ft.getStyle("left"),ft.getStyle("top")];let Vt;if(Ze.isSameNode(Ye)){const Bt=G||new b.rw(Ye);Vt=[Bt.width+"px",Bt.height+"px",void 0,void 0]}else Vt=[Ye.offsetWidth+"px",Ye.offsetHeight+"px",Ye.offsetLeft+"px",Ye.offsetTop+"px"];(0,b.ww)(Tt,Vt)!=="same"&&this._options.editor.editing.view.change(Bt=>{Bt.setStyle({width:Vt[0],height:Vt[1],left:Vt[2],top:Vt[3]},ft)})}containsHandle(G){return this._domResizerWrapper.contains(G)}static isResizeHandle(G){return G.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(G=>{G.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(G){const ce=this.state,Ie={x:(Ze=G).pageX,y:Ze.pageY};var Ze;const Ye=!this._options.isCentered||this._options.isCentered(this),ft={x:ce._referenceCoordinates.x-(Ie.x+ce.originalWidth),y:Ie.y-ce.originalHeight-ce._referenceCoordinates.y};Ye&&ce.activeHandlePosition.endsWith("-right")&&(ft.x=Ie.x-(ce._referenceCoordinates.x+ce.originalWidth)),Ye&&(ft.x*=2);let Tt=Math.abs(ce.originalWidth+ft.x),Vt=Math.abs(ce.originalHeight+ft.y);return(Tt/ce.aspectRatio>Vt?"width":"height")=="width"?Vt=Tt/ce.aspectRatio:Tt=Vt*ce.aspectRatio,{width:Math.round(Tt),height:Math.round(Vt),widthPercents:Math.min(Math.round(ce.originalWidthPercents/ce.originalWidth*Tt*100)/100,100)}}_getResizeHost(){const G=this._domResizerWrapper.parentElement;return this._options.getResizeHost(G)}_getHandleHost(){const G=this._domResizerWrapper.parentElement;return this._options.getHandleHost(G)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(G){const ce=["top-left","top-right","bottom-right","bottom-left"];for(const Ze of ce)G.appendChild(new _.Bj({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(Ie=Ze,`ck-widget__resizer__handle-${Ie}`)}}).render());var Ie}_appendSizeUI(G){this._sizeView=new Ft,this._sizeView.render(),G.appendChild(this._sizeView.element)}}var Di=s("./node_modules/lodash-es/throttle.js"),Yi=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),Ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ae()(Yi.A,Ii),Yi.A.locals;class $i extends u.k_{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const G=this.editor.editing,ce=b.global.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),G.view.addObserver(y.q$),this._observer=new((0,b.c5)()),this.listenTo(G.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(ce,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(ce,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,Di.A)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[Ze,Ye]of this._resizers)Ze.isAttached()||(this._resizers.delete(Ze),Ye.destroy())},{priority:"lowest"}),this._observer.listenTo(b.global.window,"resize",this._redrawSelectedResizerThrottled);const Ie=this.editor.editing.view.document.selection;Ie.on("change",()=>{const Ze=Ie.getSelectedElement(),Ye=this.getResizerByViewElement(Ze)||null;Ye?this.select(Ye):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const G of this._resizers.values())G.destroy();this._redrawSelectedResizerThrottled.cancel()}select(G){this.deselect(),this.selectedResizer=G,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(G){const ce=new fi(G),Ie=this.editor.plugins;if(ce.attach(),Ie.has("WidgetToolbarRepository")){const Ye=Ie.get("WidgetToolbarRepository");ce.on("begin",()=>{Ye.forceDisabled("resize")},{priority:"lowest"}),ce.on("cancel",()=>{Ye.clearForceDisabled("resize")},{priority:"highest"}),ce.on("commit",()=>{Ye.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(G.viewElement,ce);const Ze=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(Ze)==ce&&this.select(ce),ce}getResizerByViewElement(G){return this._resizers.get(G)}_getResizerByHandle(G){for(const ce of this._resizers.values())if(ce.containsHandle(G))return ce}_mouseDownListener(G,ce){const Ie=ce.domTarget;fi.isResizeHandle(Ie)&&(this._activeResizer=this._getResizerByHandle(Ie)||null,this._activeResizer&&(this._activeResizer.begin(Ie),G.stop(),ce.preventDefault()))}_mouseMoveListener(G,ce){this._activeResizer&&this._activeResizer.updateSize(ce)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},"./src/clipboard.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Clipboard:()=>Ni,ClipboardMarkersUtils:()=>wt,ClipboardPipeline:()=>Ft,DragDrop:()=>oi,DragDropBlockToolbar:()=>ft,DragDropTarget:()=>kt,PastePlainText:()=>mi});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-utils/src/index.ts"),P=s("./packages/ckeditor5-engine/src/index.ts");class b extends P.$A{constructor(qe){super(qe),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const pt=this.document;function Be(xt){return(Zt,Ot)=>{Ot.preventDefault();const Rt=Ot.dropRange?[Ot.dropRange]:null,ve=new y.vY(pt,xt);pt.fire(ve,{dataTransfer:Ot.dataTransfer,method:Zt.name,targetRanges:Rt,target:Ot.target,domEvent:Ot.domEvent}),ve.stop.called&&Ot.stopPropagation()}}this.listenTo(pt,"paste",Be("clipboardInput"),{priority:"low"}),this.listenTo(pt,"drop",Be("clipboardInput"),{priority:"low"}),this.listenTo(pt,"dragover",Be("dragging"),{priority:"low"})}onDomEvent(qe){const pt="clipboardData"in qe?qe.clipboardData:qe.dataTransfer,Be=qe.type=="drop"||qe.type=="paste",xt={dataTransfer:new P._v(pt,{cacheFiles:Be})};qe.type!="drop"&&qe.type!="dragover"||(xt.dropRange=function(Zt,Ot){const Rt=Ot.target.ownerDocument,ve=Ot.clientX,j=Ot.clientY;let B;return Rt.caretRangeFromPoint&&Rt.caretRangeFromPoint(ve,j)?B=Rt.caretRangeFromPoint(ve,j):Ot.rangeParent&&(B=Rt.createRange(),B.setStart(Ot.rangeParent,Ot.rangeOffset),B.collapse(!0)),B?Zt.domConverter.domRangeToView(B):null}(this.view,qe)),this.fire(qe.type,qe,xt)}}const _=["figcaption","li"],D=["ol","ul"];function I(vt){if(vt.is("$text")||vt.is("$textProxy"))return vt.data;if(vt.is("element","img")&&vt.hasAttribute("alt"))return vt.getAttribute("alt");if(vt.is("element","br"))return`
`;let qe="",pt=null;for(const Be of vt.getChildren())qe+=V(Be,pt)+I(Be),pt=Be;return qe}function V(vt,qe){return qe?vt.is("element","li")&&!vt.isEmpty&&vt.getChild(0).is("containerElement")||D.includes(vt.name)&&D.includes(qe.name)?`

`:vt.is("containerElement")||qe.is("containerElement")?_.includes(vt.name)||_.includes(qe.name)?`
`:`

`:"":""}var ye=s("./node_modules/lodash-es/_baseAssignValue.js"),ne=s("./node_modules/lodash-es/_baseFor.js"),U=s("./node_modules/lodash-es/keys.js");const $=function(vt,qe){return vt&&(0,ne.A)(vt,qe,U.A)};var he=s("./node_modules/lodash-es/_Stack.js"),we=s("./node_modules/lodash-es/_baseIsEqual.js");const g=function(vt,qe,pt,Be){var xt=pt.length,Zt=xt,Ot=!Be;if(vt==null)return!Zt;for(vt=Object(vt);xt--;){var Rt=pt[xt];if(Ot&&Rt[2]?Rt[1]!==vt[Rt[0]]:!(Rt[0]in vt))return!1}for(;++xt<Zt;){var ve=(Rt=pt[xt])[0],j=vt[ve],B=Rt[1];if(Ot&&Rt[2]){if(j===void 0&&!(ve in vt))return!1}else{var Y=new he.A;if(Be)var Te=Be(j,B,ve,vt,qe,Y);if(!(Te===void 0?(0,we.A)(B,j,3,Be,Y):Te))return!1}}return!0};var w=s("./node_modules/lodash-es/isObject.js");const p=function(vt){return vt==vt&&!(0,w.A)(vt)},v=function(vt){for(var qe=(0,U.A)(vt),pt=qe.length;pt--;){var Be=qe[pt],xt=vt[Be];qe[pt]=[Be,xt,p(xt)]}return qe},T=function(vt,qe){return function(pt){return pt!=null&&pt[vt]===qe&&(qe!==void 0||vt in Object(pt))}},L=function(vt){var qe=v(vt);return qe.length==1&&qe[0][2]?T(qe[0][0],qe[0][1]):function(pt){return pt===vt||g(pt,vt,qe)}};var O=s("./node_modules/lodash-es/get.js");const oe=function(vt,qe){return vt!=null&&qe in Object(vt)};var W=s("./node_modules/lodash-es/_castPath.js"),te=s("./node_modules/lodash-es/isArguments.js"),S=s("./node_modules/lodash-es/isArray.js"),X=s("./node_modules/lodash-es/_isIndex.js"),de=s("./node_modules/lodash-es/isLength.js"),_e=s("./node_modules/lodash-es/_toKey.js");const Ae=function(vt,qe,pt){for(var Be=-1,xt=(qe=(0,W.A)(qe,vt)).length,Zt=!1;++Be<xt;){var Ot=(0,_e.A)(qe[Be]);if(!(Zt=vt!=null&&pt(vt,Ot)))break;vt=vt[Ot]}return Zt||++Be!=xt?Zt:!!(xt=vt==null?0:vt.length)&&(0,de.A)(xt)&&(0,X.A)(Ot,xt)&&((0,S.A)(vt)||(0,te.A)(vt))},rt=function(vt,qe){return vt!=null&&Ae(vt,qe,oe)};var et=s("./node_modules/lodash-es/_isKey.js");const J=function(vt,qe){return(0,et.A)(vt)&&p(qe)?T((0,_e.A)(vt),qe):function(pt){var Be=(0,O.A)(pt,vt);return Be===void 0&&Be===qe?rt(pt,vt):(0,we.A)(qe,Be,3)}};var Z=s("./node_modules/lodash-es/identity.js");const Ce=function(vt){return function(qe){return qe?.[vt]}};var Oe=s("./node_modules/lodash-es/_baseGet.js");const xe=function(vt){return function(qe){return(0,Oe.A)(qe,vt)}},q=function(vt){return(0,et.A)(vt)?Ce((0,_e.A)(vt)):xe(vt)},Le=function(vt){return typeof vt=="function"?vt:vt==null?Z.A:typeof vt=="object"?(0,S.A)(vt)?J(vt[0],vt[1]):L(vt):q(vt)},He=function(vt,qe){var pt={};return qe=Le(qe,3),$(vt,function(Be,xt,Zt){(0,ye.A)(pt,xt,qe(Be,xt,Zt))}),pt};var ot=Object.defineProperty,fe=Object.defineProperties,le=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,ut=(vt,qe,pt)=>qe in vt?ot(vt,qe,{enumerable:!0,configurable:!0,writable:!0,value:pt}):vt[qe]=pt;class wt extends u.k_{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(qe,pt){this._markersToCopy.set(qe,pt)}_copySelectedFragmentWithMarkers(qe,pt,Be=xt=>xt.model.getSelectedContent(xt.model.document.selection)){return this.editor.model.change(xt=>{const Zt=xt.model.document.selection;xt.setSelection(pt);const Ot=this._insertFakeMarkersIntoSelection(xt,xt.model.document.selection,qe),Rt=Be(xt),ve=this._removeFakeMarkersInsideElement(xt,Rt);for(const[j,B]of Object.entries(Ot)){ve[j]||(ve[j]=xt.createRangeIn(Rt));for(const Y of B)xt.remove(Y)}Rt.markers.clear();for(const[j,B]of Object.entries(ve))Rt.markers.set(j,B);return xt.setSelection(Zt),Rt})}_pasteMarkersIntoTransformedElement(qe,pt){const Be=this._getPasteMarkersFromRangeMap(qe);return this.editor.model.change(xt=>{const Zt=this._insertFakeMarkersElements(xt,Be),Ot=pt(xt),Rt=this._removeFakeMarkersInsideElement(xt,Ot);for(const ve of Object.values(Zt).flat())xt.remove(ve);for(const[ve,j]of Object.entries(Rt))xt.model.markers.has(ve)||xt.addMarker(ve,{usingOperation:!0,affectsData:!0,range:j});return Ot})}_pasteFragmentWithMarkers(qe){const pt=this._getPasteMarkersFromRangeMap(qe.markers);qe.markers.clear();for(const Be of pt)qe.markers.set(Be.name,Be.range);return this.editor.model.insertContent(qe)}_forceMarkersCopy(qe,pt,Be={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const xt=this._markersToCopy.get(qe);this._markersToCopy.set(qe,Be),pt(),xt?this._markersToCopy.set(qe,xt):this._markersToCopy.delete(qe)}_isMarkerCopyable(qe,pt){const Be=this._getMarkerClipboardConfig(qe);if(!Be)return!1;if(!pt)return!0;const{allowedActions:xt}=Be;return xt==="all"||xt.includes(pt)}_hasMarkerConfiguration(qe){return!!this._getMarkerClipboardConfig(qe)}_getMarkerClipboardConfig(qe){const[pt]=qe.split(":");return this._markersToCopy.get(pt)||null}_insertFakeMarkersIntoSelection(qe,pt,Be){const xt=this._getCopyableMarkersFromSelection(qe,pt,Be);return this._insertFakeMarkersElements(qe,xt)}_getCopyableMarkersFromSelection(qe,pt,Be){const xt=Array.from(pt.getRanges()),Zt=new Set(xt.flatMap(Ot=>Array.from(qe.model.markers.getMarkersIntersectingRange(Ot))));return Array.from(Zt).filter(Ot=>{if(!this._isMarkerCopyable(Ot.name,Be))return!1;const{copyPartiallySelected:Rt}=this._getMarkerClipboardConfig(Ot.name);if(!Rt){const ve=Ot.getRange();return xt.some(j=>j.containsRange(ve,!0))}return!0}).map(Ot=>({name:Be==="dragstart"?this._getUniqueMarkerName(Ot.name):Ot.name,range:Ot.getRange()}))}_getPasteMarkersFromRangeMap(qe,pt=null){const{model:Be}=this.editor;return(qe instanceof Map?Array.from(qe.entries()):Object.entries(qe)).flatMap(([xt,Zt])=>{if(!this._hasMarkerConfiguration(xt))return[{name:xt,range:Zt}];if(this._isMarkerCopyable(xt,pt)){const Ot=this._getMarkerClipboardConfig(xt),Rt=Be.markers.has(xt)&&Be.markers.get(xt).getRange().root.rootName==="$graveyard";return(Ot.duplicateOnPaste||Rt)&&(xt=this._getUniqueMarkerName(xt)),[{name:xt,range:Zt}]}return[]})}_insertFakeMarkersElements(qe,pt){const Be={},xt=pt.flatMap(Zt=>{const{start:Ot,end:Rt}=Zt.range;return[{position:Ot,marker:Zt,type:"start"},{position:Rt,marker:Zt,type:"end"}]}).sort(({position:Zt},{position:Ot})=>Zt.isBefore(Ot)?1:-1);for(const{position:Zt,marker:Ot,type:Rt}of xt){const ve=qe.createElement("$marker",{"data-name":Ot.name,"data-type":Rt});Be[Ot.name]||(Be[Ot.name]=[]),Be[Ot.name].push(ve),qe.insert(ve,Zt)}return Be}_removeFakeMarkersInsideElement(qe,pt){const Be=this._getAllFakeMarkersFromElement(qe,pt).reduce((xt,Zt)=>{const Ot=Zt.markerElement&&qe.createPositionBefore(Zt.markerElement);let Rt=xt[Zt.name],ve=!1;Rt&&Rt.start&&Rt.end&&(this._getMarkerClipboardConfig(Zt.name).duplicateOnPaste?xt[this._getUniqueMarkerName(Zt.name)]=xt[Zt.name]:ve=!0,Rt=null);var j,B;return ve||(xt[Zt.name]=(j=((Y,Te)=>{for(var Ne in Te||(Te={}))Ke.call(Te,Ne)&&ut(Y,Ne,Te[Ne]);if(pe)for(var Ne of pe(Te))nt.call(Te,Ne)&&ut(Y,Ne,Te[Ne]);return Y})({},Rt),B={[Zt.type]:Ot},fe(j,le(B)))),Zt.markerElement&&qe.remove(Zt.markerElement),xt},{});return He(Be,xt=>new P.Q6(xt.start||qe.createPositionFromPath(pt,[0]),xt.end||qe.createPositionAt(pt,"end")))}_getAllFakeMarkersFromElement(qe,pt){const Be=Array.from(qe.createRangeIn(pt)).flatMap(({item:Ot})=>{if(!Ot.is("element","$marker"))return[];const Rt=Ot.getAttribute("data-name"),ve=Ot.getAttribute("data-type");return[{markerElement:Ot,name:Rt,type:ve}]}),xt=[],Zt=[];for(const Ot of Be)Ot.type==="end"&&(Be.some(Rt=>Rt.name===Ot.name&&Rt.type==="start")||xt.push({markerElement:null,name:Ot.name,type:"start"})),Ot.type==="start"&&(Be.some(Rt=>Rt.name===Ot.name&&Rt.type==="end")||Zt.unshift({markerElement:null,name:Ot.name,type:"end"}));return[...xt,...Be,...Zt]}_getUniqueMarkerName(qe){const pt=qe.split(":"),Be=(0,y.Ld)().substring(1,6);return pt.length===3?`${pt.slice(0,2).join(":")}:${Be}`:`${pt.join(":")}:${Be}`}}class Ft extends u.k_{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[wt]}init(){this.editor.editing.view.addObserver(b),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(qe,pt,Be){const xt=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:Be==="cut"},()=>{const Zt=xt._copySelectedFragmentWithMarkers(Be,pt);this.fire("outputTransformation",{dataTransfer:qe,content:Zt,method:Be})})}_setupPasteDrop(){const qe=this.editor,pt=qe.model,Be=qe.editing.view,xt=Be.document,Zt=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(xt,"clipboardInput",(Ot,Rt)=>{Rt.method!="paste"||qe.model.canEditAt(qe.model.document.selection)||Ot.stop()},{priority:"highest"}),this.listenTo(xt,"clipboardInput",(Ot,Rt)=>{const ve=Rt.dataTransfer;let j;if(Rt.content)j=Rt.content;else{let Te="";ve.getData("text/html")?Te=function(Ne){return Ne.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ee,Pe)=>Pe.length==1?" ":Pe).replace(/<!--[\s\S]*?-->/g,"")}(ve.getData("text/html")):ve.getData("text/plain")&&(((B=(B=ve.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||B.includes("<br>"))&&(B=`<p>${B}</p>`),Te=B),j=this.editor.data.htmlProcessor.toView(Te)}var B;const Y=new y.vY(this,"inputTransformation");this.fire(Y,{content:j,dataTransfer:ve,targetRanges:Rt.targetRanges,method:Rt.method}),Y.stop.called&&Ot.stop(),Be.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(Ot,Rt)=>{if(Rt.content.isEmpty)return;const ve=this.editor.data.toModel(Rt.content,"$clipboardHolder");ve.childCount!=0&&(Ot.stop(),pt.change(()=>{this.fire("contentInsertion",{content:ve,method:Rt.method,dataTransfer:Rt.dataTransfer,targetRanges:Rt.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(Ot,Rt)=>{Rt.resultRange=Zt._pasteFragmentWithMarkers(Rt.content)},{priority:"low"})}_setupCopyCut(){const qe=this.editor,pt=qe.model.document,Be=qe.editing.view.document,xt=(Zt,Ot)=>{const Rt=Ot.dataTransfer;Ot.preventDefault(),this._fireOutputTransformationEvent(Rt,pt.selection,Zt.name)};this.listenTo(Be,"copy",xt,{priority:"low"}),this.listenTo(Be,"cut",(Zt,Ot)=>{qe.model.canEditAt(qe.model.document.selection)?xt(Zt,Ot):Ot.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(Zt,Ot)=>{const Rt=qe.data.toView(Ot.content);Be.fire("clipboardOutput",{dataTransfer:Ot.dataTransfer,content:Rt,method:Ot.method})},{priority:"low"}),this.listenTo(Be,"clipboardOutput",(Zt,Ot)=>{Ot.content.isEmpty||(Ot.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Ot.content)),Ot.dataTransfer.setData("text/plain",I(Ot.content))),Ot.method=="cut"&&qe.model.deleteContent(pt.selection)},{priority:"low"})}}var Wt=s("./packages/ckeditor5-widget/src/index.ts"),Lt=s("./packages/ckeditor5-ui/src/index.ts");const Yt=(0,y.To)("px");class bt extends Lt.Ss{constructor(){super();const qe=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",qe.if("isVisible","ck-hidden",pt=>!pt)],style:{left:qe.to("left",pt=>Yt(pt)),top:qe.to("top",pt=>Yt(pt)),width:qe.to("width",pt=>Yt(pt))}}})}}var Xe=s("./node_modules/lodash-es/throttle.js");class kt extends u.k_{constructor(){super(...arguments),this.removeDropMarkerDelayed=(0,y.cb)(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=(0,Xe.A)(qe=>this._updateDropMarker(qe),40),this._reconvertMarkerThrottled=(0,Xe.A)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new bt,this._domEmitter=new((0,y.c5)()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:qe}of this._scrollables.values())qe.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(qe,pt,Be,xt,Zt,Ot){this.removeDropMarkerDelayed.cancel();const Rt=bi(this.editor,qe,pt,Be,xt,Zt,Ot);if(Rt)return Ot&&Ot.containsRange(Rt)?this.removeDropMarker():void this._updateDropMarkerThrottled(Rt)}getFinalDropRange(qe,pt,Be,xt,Zt,Ot){const Rt=bi(this.editor,qe,pt,Be,xt,Zt,Ot);return this.removeDropMarker(),Rt}removeDropMarker(){const qe=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,qe.markers.has("drop-target")&&qe.change(pt=>{pt.removeMarker("drop-target")})}_setupDropMarker(){const qe=this.editor;qe.ui.view.body.add(this._dropTargetLineView),qe.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),qe.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(pt,{writer:Be})=>{if(qe.model.schema.checkChild(pt.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(Be);pt.markerRange.isCollapsed?this._updateDropTargetLine(pt.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(qe){const pt=this.editor,Be=pt.model.markers;pt.model.change(xt=>{Be.has("drop-target")?Be.get("drop-target").getRange().isEqual(qe)||xt.updateMarker("drop-target",{range:qe}):xt.addMarker("drop-target",{range:qe,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(qe){return qe.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(pt){const Be=this.toDomElement(pt);return Be.append("\u2060",pt.createElement("span"),"\u2060"),Be})}_updateDropTargetLine(qe){const pt=this.editor.editing,Be=qe.start.nodeBefore,xt=qe.start.nodeAfter,Zt=qe.start.parent,Ot=Be?pt.mapper.toViewElement(Be):null,Rt=Ot?pt.view.domConverter.mapViewToDom(Ot):null,ve=xt?pt.mapper.toViewElement(xt):null,j=ve?pt.view.domConverter.mapViewToDom(ve):null,B=pt.mapper.toViewElement(Zt);if(!B)return;const Y=pt.view.domConverter.mapViewToDom(B),Te=this._getScrollableRect(B),{scrollX:Ne,scrollY:ee}=y.global.window,Pe=Rt?new y.rw(Rt):null,ze=j?new y.rw(j):null,Qe=new y.rw(Y).excludeScrollbarsAndBorders(),dt=Pe?Pe.bottom:Qe.top,Kt=ze?ze.top:Qe.bottom,Et=y.global.window.getComputedStyle(Y),ni=dt<=Kt?(dt+Kt)/2:Kt;if(Te.top<ni&&ni<Te.bottom){const yi=Qe.left+parseFloat(Et.paddingLeft),gi=Qe.right-parseFloat(Et.paddingRight),xi=Math.max(yi+Ne,Te.left),Li=Math.min(gi+Ne,Te.right);this._dropTargetLineView.set({isVisible:!0,left:xi,top:ni+ee,width:Li-xi})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(qe){const pt=qe.root.rootName;let Be;if(this._scrollables.has(pt))Be=this._scrollables.get(pt).domElement;else{Be=function(Zt){let Ot=Zt;do{Ot=Ot.parentElement;const Rt=y.global.window.getComputedStyle(Ot).overflowY;if(Rt=="auto"||Rt=="scroll")break}while(Ot.tagName!="BODY");return Ot}(this.editor.editing.view.domConverter.mapViewToDom(qe)),this._domEmitter.listenTo(Be,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const xt=new y.tb(Be,this._reconvertMarkerThrottled);this._scrollables.set(pt,{domElement:Be,resizeObserver:xt})}return new y.rw(Be).excludeScrollbarsAndBorders()}}function bi(vt,qe,pt,Be,xt,Zt,Ot){const Rt=vt.model,ve=vt.editing.mapper;let j=Ii(vt,qe);for(;j;){if(!Zt){if(Rt.schema.checkChild(j,"$text")){if(pt){const B=pt[0].start,Y=ve.toModelPosition(B);if(!Ot||Array.from(Ot.getItems()).every(Te=>Rt.schema.checkChild(Y,Te))){if(Rt.schema.checkChild(Y,"$text"))return Rt.createRange(Y);if(B)return Di(vt,Ii(vt,B.parent),Be,xt)}}}else if(Rt.schema.isInline(j))return Di(vt,j,Be,xt)}if(Rt.schema.isBlock(j))return Di(vt,j,Be,xt);if(Rt.schema.checkChild(j,"$block")){const B=Array.from(j.getChildren()).filter(Ne=>Ne.is("element")&&!fi(vt,Ne));let Y=0,Te=B.length;if(Te==0)return Rt.createRange(Rt.createPositionAt(j,"end"));for(;Y<Te-1;){const Ne=Math.floor((Y+Te)/2);Yi(vt,B[Ne],Be,xt)=="before"?Te=Ne:Y=Ne}return Di(vt,B[Y],Be,xt)}j=j.parent}return null}function fi(vt,qe){const pt=vt.editing.mapper,Be=vt.editing.view.domConverter,xt=pt.toViewElement(qe);if(!xt)return!0;const Zt=Be.mapViewToDom(xt);return y.global.window.getComputedStyle(Zt).float!="none"}function Di(vt,qe,pt,Be){const xt=vt.model;return xt.createRange(xt.createPositionAt(qe,Yi(vt,qe,pt,Be)))}function Yi(vt,qe,pt,Be){const xt=vt.editing.mapper,Zt=vt.editing.view.domConverter,Ot=xt.toViewElement(qe),Rt=Zt.mapViewToDom(Ot),ve=new y.rw(Rt);return vt.model.schema.isInline(qe)?pt<(ve.left+ve.right)/2?"before":"after":Be<(ve.top+ve.bottom)/2?"before":"after"}function Ii(vt,qe){const pt=vt.editing.mapper,Be=vt.editing.view,xt=pt.toModelElement(qe);if(xt)return xt;const Zt=Be.createPositionBefore(qe),Ot=pt.findMappedViewAncestor(Zt);return pt.toModelElement(Ot)}var $i=Object.defineProperty,ht=Object.defineProperties,G=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,Ye=(vt,qe,pt)=>qe in vt?$i(vt,qe,{enumerable:!0,configurable:!0,writable:!0,value:pt}):vt[qe]=pt;class ft extends u.k_{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new((0,y.c5)())}static get pluginName(){return"DragDropBlockToolbar"}init(){const qe=this.editor;if(this.listenTo(qe,"change:isReadOnly",(pt,Be,xt)=>{xt?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),y._K.isAndroid&&this.forceDisabled("noAndroidSupport"),qe.plugins.has("BlockToolbar")){const pt=qe.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(pt,"dragstart",(Be,xt)=>this._handleBlockDragStart(xt)),this._domEmitter.listenTo(y.global.document,"dragover",(Be,xt)=>this._handleBlockDragging(xt)),this._domEmitter.listenTo(y.global.document,"drop",(Be,xt)=>this._handleBlockDragging(xt)),this._domEmitter.listenTo(y.global.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&pt.setAttribute("draggable","true"),this.on("change:isEnabled",(Be,xt,Zt)=>{pt.setAttribute("draggable",Zt?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(qe){if(!this.isEnabled)return;const pt=this.editor.model,Be=pt.document.selection,xt=this.editor.editing.view,Zt=Array.from(Be.getSelectedBlocks()),Ot=pt.createRange(pt.createPositionBefore(Zt[0]),pt.createPositionAfter(Zt[Zt.length-1]));pt.change(Rt=>Rt.setSelection(Ot)),this._isBlockDragging=!0,xt.focus(),xt.getObserver(b).onDomEvent(qe)}_handleBlockDragging(qe){if(!this.isEnabled||!this._isBlockDragging)return;const pt=qe.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),Be=qe.clientY,xt=document.elementFromPoint(pt,Be),Zt=this.editor.editing.view;var Ot,Rt;xt&&xt.closest(".ck-editor__editable")&&Zt.getObserver(b).onDomEvent((Ot=((ve,j)=>{for(var B in j||(j={}))Ie.call(j,B)&&Ye(ve,B,j[B]);if(ce)for(var B of ce(j))Ze.call(j,B)&&Ye(ve,B,j[B]);return ve})({},qe),Rt={type:qe.type,dataTransfer:qe.dataTransfer,target:xt,clientX:pt,clientY:Be,preventDefault:()=>qe.preventDefault(),stopPropagation:()=>qe.stopPropagation()},ht(Ot,G(Rt))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var Tt=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Vt=s.n(Tt),Bt=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vt()(Bt.A,ei),Bt.A.locals;class oi extends u.k_{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=(0,y.cb)(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new((0,y.c5)())}static get pluginName(){return"DragDrop"}static get requires(){return[Ft,Wt.x0,kt,ft]}init(){const qe=this.editor,pt=qe.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,pt.addObserver(b),pt.addObserver(P.q$),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(qe,"change:isReadOnly",(Be,xt,Zt)=>{Zt?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(Be,xt,Zt)=>{Zt||this._finalizeDragging(!1)}),y._K.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const qe=this.editor,pt=qe.model,Be=qe.editing.view,xt=Be.document,Zt=qe.plugins.get(kt);this.listenTo(xt,"dragstart",(Ot,Rt)=>{if(Rt.target&&Rt.target.is("editableElement")||(this._prepareDraggedRange(Rt.target),!this._draggedRange))return void Rt.preventDefault();this._draggingUid=(0,y.Ld)(),Rt.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",Rt.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const ve=pt.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(Rt.dataTransfer,ve,"dragstart");const{dataTransfer:j,domTarget:B,domEvent:Y}=Rt,{clientX:Te}=Y;this._updatePreview({dataTransfer:j,domTarget:B,clientX:Te}),Rt.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(xt,"dragend",(Ot,Rt)=>{this._finalizeDragging(!Rt.dataTransfer.isCanceled&&Rt.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(y.global.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(xt,"dragenter",()=>{this.isEnabled&&Be.focus()}),this.listenTo(xt,"dragleave",()=>{Zt.removeDropMarkerDelayed()}),this.listenTo(xt,"dragging",(Ot,Rt)=>{if(!this.isEnabled)return void(Rt.dataTransfer.dropEffect="none");const{clientX:ve,clientY:j}=Rt.domEvent;Zt.updateDropMarker(Rt.target,Rt.targetRanges,ve,j,this._blockMode,this._draggedRange),this._draggedRange||(Rt.dataTransfer.dropEffect="copy"),y._K.isGecko||(Rt.dataTransfer.effectAllowed=="copy"?Rt.dataTransfer.dropEffect="copy":["all","copyMove"].includes(Rt.dataTransfer.effectAllowed)&&(Rt.dataTransfer.dropEffect="move")),Ot.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const qe=this.editor,pt=qe.editing.view.document,Be=qe.plugins.get(kt);this.listenTo(pt,"clipboardInput",(xt,Zt)=>{if(Zt.method!="drop")return;const{clientX:Ot,clientY:Rt}=Zt.domEvent,ve=Be.getFinalDropRange(Zt.target,Zt.targetRanges,Ot,Rt,this._blockMode,this._draggedRange);if(!ve)return this._finalizeDragging(!1),void xt.stop();if(this._draggedRange&&this._draggingUid!=Zt.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Mi(Zt.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(ve,!0))return this._finalizeDragging(!1),void xt.stop();Zt.targetRanges=[qe.editing.mapper.toViewRange(ve)]},{priority:"high"})}_setupContentInsertionIntegration(){const qe=this.editor.plugins.get(Ft);qe.on("contentInsertion",(pt,Be)=>{if(!this.isEnabled||Be.method!=="drop")return;const xt=Be.targetRanges.map(Zt=>this.editor.editing.mapper.toModelRange(Zt));this.editor.model.change(Zt=>Zt.setSelection(xt))},{priority:"high"}),qe.on("contentInsertion",(pt,Be)=>{if(!this.isEnabled||Be.method!=="drop")return;const xt=Mi(Be.dataTransfer)=="move",Zt=!Be.resultRange||!Be.resultRange.isCollapsed;this._finalizeDragging(Zt&&xt)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const qe=this.editor,pt=qe.editing.view,Be=pt.document;this.listenTo(Be,"mousedown",(xt,Zt)=>{if(y._K.isAndroid||!Zt)return;this._clearDraggableAttributesDelayed.cancel();let Ot=Pi(Zt.target);if(y._K.isBlink&&!qe.isReadOnly&&!Ot&&!Be.selection.isCollapsed){const Rt=Be.selection.getSelectedElement();Rt&&(0,Wt.p4)(Rt)||(Ot=Be.selection.editableElement)}Ot&&(pt.change(Rt=>{Rt.setAttribute("draggable","true",Ot)}),this._draggableElement=qe.editing.mapper.toModelElement(Ot))}),this.listenTo(Be,"mouseup",()=>{y._K.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const qe=this.editor.editing;qe.view.change(pt=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&pt.removeAttribute("draggable",qe.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(qe){const pt=this.editor,Be=pt.model;pt.plugins.get(kt).removeDropMarker(),this._clearDraggableAttributes(),pt.plugins.has("WidgetToolbarRepository")&&pt.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(qe&&this.isEnabled&&Be.change(xt=>{const Zt=Be.createSelection(this._draggedRange);Be.deleteContent(Zt,{doNotAutoparagraph:!0});const Ot=Zt.getFirstPosition().parent;Ot.isEmpty&&!Be.schema.checkChild(Ot,"$text")&&Be.schema.checkChild(Ot,"paragraph")&&xt.insertElement("paragraph",Ot,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(qe){const pt=this.editor,Be=pt.model,xt=Be.document.selection,Zt=qe?Pi(qe):null;if(Zt){const j=pt.editing.mapper.toModelElement(Zt);this._draggedRange=P.Oo.fromRange(Be.createRangeOn(j)),this._blockMode=Be.schema.isBlock(j),pt.plugins.has("WidgetToolbarRepository")&&pt.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(xt.isCollapsed&&!xt.getFirstPosition().parent.isEmpty)return;const Ot=Array.from(xt.getSelectedBlocks()),Rt=xt.getFirstRange();if(Ot.length==0)return void(this._draggedRange=P.Oo.fromRange(Rt));const ve=zi(Be,Ot);if(Ot.length>1)this._draggedRange=P.Oo.fromRange(ve),this._blockMode=!0;else if(Ot.length==1){const j=Rt.start.isTouching(ve.start)&&Rt.end.isTouching(ve.end);this._draggedRange=P.Oo.fromRange(j?ve:Rt),this._blockMode=j}Be.change(j=>j.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:qe,domTarget:pt,clientX:Be}){const xt=this.editor.editing.view,Zt=xt.document.selection.editableElement,Ot=xt.domConverter.mapViewToDom(Zt),Rt=y.global.window.getComputedStyle(Ot);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=(0,y.n)(y.global.document,"div",{style:"position: fixed; left: -999999px;"}),y.global.document.body.appendChild(this._previewContainer));const ve=new y.rw(Ot);if(Ot.contains(pt))return;const j=parseFloat(Rt.paddingLeft),B=(0,y.n)(y.global.document,"div");B.className="ck ck-content",B.style.width=Rt.width,B.style.paddingLeft=`${ve.left-Be+j}px`,y._K.isiOS&&(B.style.backgroundColor="white"),B.innerHTML=qe.getData("text/html"),qe.setDragImage(B,0,0),this._previewContainer.appendChild(B)}}function Mi(vt){return y._K.isGecko?vt.dropEffect:["all","copyMove"].includes(vt.effectAllowed)?"move":"copy"}function Pi(vt){if(vt.is("editableElement"))return null;if(vt.hasClass("ck-widget__selection-handle"))return vt.findAncestor(Wt.p4);if((0,Wt.p4)(vt))return vt;const qe=vt.findAncestor(pt=>(0,Wt.p4)(pt)||pt.is("editableElement"));return(0,Wt.p4)(qe)?qe:null}function zi(vt,qe){const pt=qe[0],Be=qe[qe.length-1],xt=pt.getCommonAncestor(Be),Zt=vt.createPositionBefore(pt),Ot=vt.createPositionAfter(Be);if(xt&&xt.is("element")&&!vt.schema.isLimit(xt)){const Rt=vt.createRangeOn(xt),ve=Zt.isTouching(Rt.start),j=Ot.isTouching(Rt.end);if(ve&&j)return zi(vt,[xt])}return vt.createRange(Zt,Ot)}class mi extends u.k_{static get pluginName(){return"PastePlainText"}static get requires(){return[Ft]}init(){const qe=this.editor,pt=qe.model,Be=qe.editing.view,xt=Be.document,Zt=pt.document.selection;let Ot=!1;Be.addObserver(b),this.listenTo(xt,"keydown",(Rt,ve)=>{Ot=ve.shiftKey}),qe.plugins.get(Ft).on("contentInsertion",(Rt,ve)=>{(Ot||function(j,B){if(j.childCount>1)return!1;const Y=j.getChild(0);return B.isObject(Y)?!1:Array.from(Y.getAttributeKeys()).length==0}(ve.content,pt.schema))&&pt.change(j=>{const B=Array.from(Zt.getAttributes()).filter(([Te])=>pt.schema.getAttributeProperties(Te).isFormatting);Zt.isCollapsed||pt.deleteContent(Zt,{doNotAutoparagraph:!0}),B.push(...Zt.getAttributes());const Y=j.createRangeIn(ve.content);for(const Te of Y.getItems())Te.is("$textProxy")&&j.setAttributes(B,Te)})})}}class Ni extends u.k_{static get pluginName(){return"Clipboard"}static get requires(){return[wt,Ft,oi,mi]}init(){const qe=this.editor,pt=this.editor.t;qe.accessibility.addKeystrokeInfos({keystrokes:[{label:pt("Copy selected content"),keystroke:"CTRL+C"},{label:pt("Paste content"),keystroke:"CTRL+V"},{label:pt("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}},"./src/core.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Command:()=>u.uB,Context:()=>u.ob,ContextPlugin:()=>u.HY,DataApiMixin:()=>u.CC,Editor:()=>u.KE,ElementApiMixin:()=>u.mJ,MultiCommand:()=>u.fE,PendingActions:()=>u.TS,Plugin:()=>u.k_,attachToForm:()=>u.JF,icons:()=>u.Pt,secureSourceElement:()=>u.Jl});var u=s("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{AttributeElement:()=>u.Zq,AttributeOperation:()=>u.ML,BubblingEventInfo:()=>u.cJ,ClickObserver:()=>u.Re,Conversion:()=>u.dY,DataController:()=>u.P3,DataTransfer:()=>u._v,DocumentFragment:()=>u.kB,DocumentSelection:()=>u.oi,DomConverter:()=>u.P$,DomEventData:()=>u.FY,DomEventObserver:()=>u.$A,DowncastWriter:()=>u.zN,EditingController:()=>u.L_,EditingView:()=>u.gK,Element:()=>u.Hg,FocusObserver:()=>u.vp,History:()=>u.BZ,HtmlDataProcessor:()=>u.q6,InsertOperation:()=>u.ZG,LivePosition:()=>u.m8,LiveRange:()=>u.Oo,MarkerOperation:()=>u.m4,Matcher:()=>u.PN,MergeOperation:()=>u.GY,Model:()=>u.Kx,MouseObserver:()=>u.q$,MoveOperation:()=>u.hW,NoOperation:()=>u.fS,Observer:()=>u.nu,OperationFactory:()=>u.cr,Position:()=>u.yX,Range:()=>u.Q6,RenameOperation:()=>u.EZ,Renderer:()=>u.A4,RootAttributeOperation:()=>u.gf,RootOperation:()=>u.at,SplitOperation:()=>u._A,StylesMap:()=>u.DG,StylesProcessor:()=>u.tG,TabObserver:()=>u.Yi,Text:()=>u.EY,TextProxy:()=>u.Qo,TreeWalker:()=>u.rU,UpcastWriter:()=>u.Wq,ViewAttributeElement:()=>u.UJ,ViewContainerElement:()=>u.xQ,ViewDocument:()=>u.Vg,ViewDocumentFragment:()=>u.f5,ViewEditableElement:()=>u.OQ,ViewElement:()=>u.m2,ViewEmptyElement:()=>u.Vt,ViewRawElement:()=>u.aZ,ViewRootEditableElement:()=>u.Un,ViewText:()=>u.HQ,ViewTreeWalker:()=>u.u$,ViewUIElement:()=>u.cw,addBackgroundRules:()=>u.D0,addBorderRules:()=>u.v7,addMarginRules:()=>u.vt,addPaddingRules:()=>u.mC,disablePlaceholder:()=>u.Kc,enablePlaceholder:()=>u.JT,getBoxSidesShorthandValue:()=>u.qE,getBoxSidesValueReducer:()=>u.rC,getBoxSidesValues:()=>u.QS,getFillerOffset:()=>u.SH,getPositionShorthandNormalizer:()=>u.gz,getShorthandValues:()=>u.M1,hidePlaceholder:()=>u.YU,isAttachment:()=>u.s5,isColor:()=>u._o,isLength:()=>u.Vq,isLineStyle:()=>u.ew,isPercentage:()=>u.fp,isPosition:()=>u.E,isRepeat:()=>u.Cd,isURL:()=>u.mv,needsPlaceholder:()=>u.$0,showPlaceholder:()=>u.Zu,transformSets:()=>u._j});var u=s("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Enter:()=>u.x,ShiftEnter:()=>u.D});var u=s("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Paragraph:()=>I,ParagraphButtonUI:()=>ne});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-utils/src/index.ts");class P extends u.uB{constructor($){super($),this._isEnabledBasedOnSelection=!1}refresh(){const $=this.editor.model,he=$.document,we=(0,y.$1)(he.selection.getSelectedBlocks());this.value=!!we&&we.is("element","paragraph"),this.isEnabled=!!we&&b(we,$.schema)}execute($={}){const he=this.editor.model,we=he.document,g=$.selection||we.selection;he.canEditAt(g)&&he.change(w=>{const p=g.getSelectedBlocks();for(const v of p)!v.is("element","paragraph")&&b(v,he.schema)&&w.rename(v,"paragraph")})}}function b(U,$){return $.checkChild(U.parent,"paragraph")&&!$.isObject(U)}class _ extends u.uB{constructor($){super($),this._isEnabledBasedOnSelection=!1}execute($){const he=this.editor.model,we=$.attributes;let g=$.position;he.canEditAt(g)&&he.change(w=>{if(g=this._findPositionToInsertParagraph(g,w),!g)return;const p=w.createElement("paragraph");we&&he.schema.setAllowedAttributes(p,we,w),he.insertContent(p,g),w.setSelection(p,"in")})}_findPositionToInsertParagraph($,he){const we=this.editor.model;if(we.schema.checkChild($,"paragraph"))return $;const g=we.schema.findAllowedParent($,"paragraph");if(!g)return null;const w=$.parent,p=we.schema.checkChild(w,"$text");return w.isEmpty||p&&$.isAtEnd?we.createPositionAfter(w):!w.isEmpty&&p&&$.isAtStart?we.createPositionBefore(w):he.split($,g).position}}const D=class extends u.k_{static get pluginName(){return"Paragraph"}init(){const U=this.editor,$=U.model;U.commands.add("paragraph",new P(U)),U.commands.add("insertParagraph",new _(U)),$.schema.register("paragraph",{inheritAllFrom:"$block"}),U.conversion.elementToElement({model:"paragraph",view:"p"}),U.conversion.for("upcast").elementToElement({model:(he,{writer:we})=>D.paragraphLikeElements.has(he.name)?he.isEmpty?null:we.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let I=D;I.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var V=s("./packages/ckeditor5-ui/src/index.ts");const ye=u.Pt.paragraph;class ne extends u.k_{static get requires(){return[I]}init(){const $=this.editor,he=$.t;$.ui.componentFactory.add("paragraph",we=>{const g=new V._(we),w=$.commands.get("paragraph");return g.label=he("Paragraph"),g.icon=ye,g.tooltip=!0,g.isToggleable=!0,g.bind("isEnabled").to(w),g.bind("isOn").to(w,"value"),g.on("execute",()=>{$.execute("paragraph")}),g})}}},"./src/select-all.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{SelectAll:()=>ye,SelectAllEditing:()=>D,SelectAllUI:()=>V});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-utils/src/index.ts");class P extends u.uB{constructor(U){super(U),this.affectsData=!1}execute(){const U=this.editor.model,$=U.document.selection;let he=U.schema.getLimitElement($);if($.containsEntireContent(he)||!b(U.schema,he))do if(he=he.parent,!he)return;while(!b(U.schema,he));U.change(we=>{we.setSelection(he,"in")})}}function b(ne,U){return ne.isLimit(U)&&(ne.checkChild(U,"$text")||ne.checkChild(U,"paragraph"))}const _=(0,y.ZX)("Ctrl+A");class D extends u.k_{static get pluginName(){return"SelectAllEditing"}init(){const U=this.editor,$=U.t,he=U.editing.view.document;U.commands.add("selectAll",new P(U)),this.listenTo(he,"keydown",(we,g)=>{(0,y.QC)(g)===_&&(U.execute("selectAll"),g.preventDefault())}),U.accessibility.addKeystrokeInfos({keystrokes:[{label:$("Select all"),keystroke:"CTRL+A"}]})}}var I=s("./packages/ckeditor5-ui/src/index.ts");class V extends u.k_{static get pluginName(){return"SelectAllUI"}init(){const U=this.editor;U.ui.componentFactory.add("selectAll",()=>{const $=this._createButton(I._);return $.set({tooltip:!0}),$}),U.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(I.kS))}_createButton(U){const $=this.editor,he=$.locale,we=$.commands.get("selectAll"),g=new U($.locale),w=he.t;return g.set({label:w("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),g.bind("isEnabled").to(we,"isEnabled"),this.listenTo(g,"execute",()=>{$.execute("selectAll"),$.editing.view.focus()}),g}}class ye extends u.k_{static get requires(){return[D,V]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Delete:()=>u.ep,Input:()=>u.pd,InsertTextCommand:()=>u.Ki,TextTransformation:()=>u.De,TextWatcher:()=>u.qV,TwoStepCaretMovement:()=>u.Vp,Typing:()=>u.IG,findAttributeRange:()=>u.Py,findAttributeRangeBound:()=>u.lO,getLastTextLine:()=>u.ex,inlineHighlight:()=>u.Il});var u=s("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{AccessibilityHelp:()=>u.KO,AutocompleteView:()=>u.uI,BalloonPanelView:()=>u.Jr,BalloonToolbar:()=>u.bQ,BlockToolbar:()=>u.Lz,BodyCollection:()=>u.v1,BoxedEditorUIView:()=>u.Xt,Button:()=>u.$n,ButtonLabelView:()=>u.e0,ButtonView:()=>u._,CollapsibleView:()=>u.Kn,ColorGridView:()=>u.pQ,ColorPickerView:()=>u.ph,ColorSelectorView:()=>u.oB,ColorTileView:()=>u.vF,ComponentFactory:()=>u.eH,ContextualBalloon:()=>u.pU,CssTransitionDisablerMixin:()=>u.wi,DefaultMenuBarItems:()=>u.ep,Dialog:()=>u.lG,DialogView:()=>u._m,DialogViewPosition:()=>u.nu,DropdownButtonView:()=>u.lU,DropdownPanelView:()=>u.Vz,DropdownView:()=>u.BO,EditorUI:()=>u.Gn,EditorUIView:()=>u.nc,FileDialogButtonView:()=>u.eF,FilteredView:()=>u.Ly,FocusCycler:()=>u.H,FormHeaderView:()=>u.Dy,HighlightedTextView:()=>u.MZ,IconView:()=>u.Ln,IframeView:()=>u.WU,InlineEditableUIView:()=>u.LU,InputNumberView:()=>u.Zz,InputTextView:()=>u.hK,InputView:()=>u.E6,LabelView:()=>u.y0,LabeledFieldView:()=>u.xE,ListItemGroupView:()=>u.m_,ListItemView:()=>u.BD,ListSeparatorView:()=>u.Je,ListView:()=>u.uO,MenuBarMenuListItemButtonView:()=>u.kS,MenuBarMenuListItemFileDialogButtonView:()=>u.GG,MenuBarMenuListItemView:()=>u.I8,MenuBarMenuListView:()=>u.BY,MenuBarMenuView:()=>u.zj,MenuBarView:()=>u.yJ,Notification:()=>u.Eg,SearchInfoView:()=>u.wD,SearchTextView:()=>u.b8,SpinnerView:()=>u.XE,SplitButtonView:()=>u.AO,StickyPanelView:()=>u.xw,SwitchButtonView:()=>u.Wm,Template:()=>u.Bj,TextareaView:()=>u.OB,ToolbarLineBreakView:()=>u.Cy,ToolbarSeparatorView:()=>u.IY,ToolbarView:()=>u.X3,TooltipManager:()=>u.JV,View:()=>u.Ss,ViewCollection:()=>u.s3,ViewModel:()=>u.Jc,addKeyboardHandlingForGrid:()=>u.l1,addListToDropdown:()=>u.O,addToolbarToDropdown:()=>u.fM,clickOutsideHandler:()=>u.wy,createDropdown:()=>u.yu,createLabeledDropdown:()=>u.By,createLabeledInputNumber:()=>u.F_,createLabeledInputText:()=>u.Vr,createLabeledTextarea:()=>u.GR,focusChildOnDropdownOpen:()=>u.Zn,getLocalizedColorOptions:()=>u.b2,injectCssTransitionDisabler:()=>u.I0,isFocusable:()=>u.tp,isViewWithFocusCycler:()=>u.eG,normalizeColorOptions:()=>u.lF,normalizeMenuBarConfig:()=>u.mB,normalizeSingleColorDefinition:()=>u.iv,normalizeToolbarConfig:()=>u.fl,submitHandler:()=>u.Z5});var u=s("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Undo:()=>w,UndoEditing:()=>he,UndoUI:()=>g});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-engine/src/index.ts"),P=Object.defineProperty,b=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,I=(p,v,T)=>v in p?P(p,v,{enumerable:!0,configurable:!0,writable:!0,value:T}):p[v]=T;class V extends u.uB{constructor(v){super(v),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(v.data,"set",(T,L)=>{L[1]=((oe,W)=>{for(var te in W||(W={}))_.call(W,te)&&I(oe,te,W[te]);if(b)for(var te of b(W))D.call(W,te)&&I(oe,te,W[te]);return oe})({},L[1]);const O=L[1];O.batchType||(O.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(v.data,"set",(T,L)=>{L[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(v){const T=this.editor.model.document.selection,L={ranges:T.hasOwnRange?Array.from(T.getRanges()):[],isBackward:T.isBackward};this._stack.push({batch:v,selection:L}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(v,T,L){const O=this.editor.model,oe=O.document,W=[],te=v.map(X=>X.getTransformedByOperations(L)),S=te.flat();for(const X of te){const de=X.filter(_e=>_e.root!=oe.graveyard).filter(_e=>!ne(_e,S));de.length&&(ye(de),W.push(de[0]))}W.length&&O.change(X=>{X.setSelection(W,{backward:T})})}_undo(v,T){const L=this.editor.model,O=L.document;this._createdBatches.add(T);const oe=v.operations.slice().filter(W=>W.isDocumentOperation);oe.reverse();for(const W of oe){const te=W.baseVersion+1,S=Array.from(O.history.getOperations(te)),X=(0,y._j)([W.getReversed()],S,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let de of X){const _e=de.affectedSelectable;_e&&!L.canEditAt(_e)&&(de=new y.fS(de.baseVersion)),T.addOperation(de),L.applyOperation(de),O.history.setOperationAsUndone(W,de)}}}}function ye(p){p.sort((v,T)=>v.start.isBefore(T.start)?-1:1);for(let v=1;v<p.length;v++){const T=p[v-1].getJoined(p[v],!0);T&&(v--,p.splice(v,2,T))}}function ne(p,v){return v.some(T=>T!==p&&T.containsRange(p,!0))}class U extends V{execute(v=null){const T=v?this._stack.findIndex(oe=>oe.batch==v):this._stack.length-1,L=this._stack.splice(T,1)[0],O=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(O,()=>{this._undo(L.batch,O);const oe=this.editor.model.document.history.getOperations(L.batch.baseVersion);this._restoreSelection(L.selection.ranges,L.selection.isBackward,oe)}),this.fire("revert",L.batch,O),this.refresh()}}class $ extends V{execute(){const v=this._stack.pop(),T=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(T,()=>{const L=v.batch.operations[v.batch.operations.length-1].baseVersion+1,O=this.editor.model.document.history.getOperations(L);this._restoreSelection(v.selection.ranges,v.selection.isBackward,O),this._undo(v.batch,T)}),this.refresh()}}class he extends u.k_{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const v=this.editor,T=v.t;this._undoCommand=new U(v),this._redoCommand=new $(v),v.commands.add("undo",this._undoCommand),v.commands.add("redo",this._redoCommand),this.listenTo(v.model,"applyOperation",(L,O)=>{const oe=O[0];if(!oe.isDocumentOperation)return;const W=oe.batch,te=this._redoCommand.createdBatches.has(W),S=this._undoCommand.createdBatches.has(W);this._batchRegistry.has(W)||(this._batchRegistry.add(W),W.isUndoable&&(te?this._undoCommand.addBatch(W):S||(this._undoCommand.addBatch(W),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(L,O,oe)=>{this._redoCommand.addBatch(oe)}),v.keystrokes.set("CTRL+Z","undo"),v.keystrokes.set("CTRL+Y","redo"),v.keystrokes.set("CTRL+SHIFT+Z","redo"),v.accessibility.addKeystrokeInfos({keystrokes:[{label:T("Undo"),keystroke:"CTRL+Z"},{label:T("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}var we=s("./packages/ckeditor5-ui/src/index.ts");class g extends u.k_{static get pluginName(){return"UndoUI"}init(){const v=this.editor,T=v.locale,L=v.t,O=T.uiLanguageDirection=="ltr"?u.Pt.undo:u.Pt.redo,oe=T.uiLanguageDirection=="ltr"?u.Pt.redo:u.Pt.undo;this._addButtonsToFactory("undo",L("Undo"),"CTRL+Z",O),this._addButtonsToFactory("redo",L("Redo"),"CTRL+Y",oe)}_addButtonsToFactory(v,T,L,O){const oe=this.editor;oe.ui.componentFactory.add(v,()=>{const W=this._createButton(we._,v,T,L,O);return W.set({tooltip:!0}),W}),oe.ui.componentFactory.add("menuBar:"+v,()=>this._createButton(we.kS,v,T,L,O))}_createButton(v,T,L,O,oe){const W=this.editor,te=W.locale,S=W.commands.get(T),X=new v(te);return X.set({label:L,icon:oe,keystroke:O}),X.bind("isEnabled").to(S,"isEnabled"),this.listenTo(X,"execute",()=>{W.execute(T),W.editing.view.focus()}),X}}class w extends u.k_{static get requires(){return[he,g]}static get pluginName(){return"Undo"}}},"./src/upload.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{Base64UploadAdapter:()=>D,FileRepository:()=>b,SimpleUploadAdapter:()=>g});var u=s("./packages/ckeditor5-core/src/index.ts"),y=s("./packages/ckeditor5-utils/src/index.ts");class P extends(0,y.VM)(){constructor(){super();const v=new window.FileReader;this._reader=v,this._data=void 0,this.set("loaded",0),v.onprogress=T=>{this.loaded=T.loaded}}get error(){return this._reader.error}get data(){return this._data}read(v){const T=this._reader;return this.total=v.size,new Promise((L,O)=>{T.onload=()=>{const oe=T.result;this._data=oe,L(oe)},T.onerror=()=>{O("error")},T.onabort=()=>{O("aborted")},this._reader.readAsDataURL(v)})}abort(){this._reader.abort()}}class b extends u.k_{constructor(){super(...arguments),this.loaders=new y.pM,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[u.TS]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(v,T)=>T?v/T*100:0)}getLoader(v){return this._loadersMap.get(v)||null}createLoader(v){if(!this.createUploadAdapter)return(0,y.FF)("filerepository-no-upload-adapter"),null;const T=new _(Promise.resolve(v),this.createUploadAdapter);return this.loaders.add(T),this._loadersMap.set(v,T),v instanceof Promise&&T.file.then(L=>{this._loadersMap.set(L,T)}).catch(()=>{}),T.on("change:uploaded",()=>{let L=0;for(const O of this.loaders)L+=O.uploaded;this.uploaded=L}),T.on("change:uploadTotal",()=>{let L=0;for(const O of this.loaders)O.uploadTotal&&(L+=O.uploadTotal);this.uploadTotal=L}),T}destroyLoader(v){const T=v instanceof _?v:this.getLoader(v);T._destroy(),this.loaders.remove(T),this._loadersMap.forEach((L,O)=>{L===T&&this._loadersMap.delete(O)})}_updatePendingAction(){const v=this.editor.plugins.get(u.TS);if(this.loaders.length){if(!this._pendingAction){const T=this.editor.t,L=O=>`${T("Upload in progress")} ${parseInt(O)}%.`;this._pendingAction=v.add(L(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",L)}}else v.remove(this._pendingAction),this._pendingAction=null}}class _ extends(0,y.VM)(){constructor(v,T){super(),this.id=(0,y.Ld)(),this._filePromiseWrapper=this._createFilePromiseWrapper(v),this._adapter=T(this),this._reader=new P,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(L,O)=>O?L/O*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(v=>this._filePromiseWrapper?v:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new y.Yb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(v=>this._reader.read(v)).then(v=>{if(this.status!=="reading")throw this.status;return this.status="idle",v}).catch(v=>{throw v==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:v)})}upload(){if(this.status!="idle")throw new y.Yb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(v=>(this.uploadResponse=v,this.status="idle",v)).catch(v=>{throw this.status==="aborted"?"aborted":(this.status="error",v)})}abort(){const v=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?v=="reading"?this._reader.abort():v=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(v){const T={};return T.promise=new Promise((L,O)=>{T.rejecter=O,T.isFulfilled=!1,v.then(oe=>{T.isFulfilled=!0,L(oe)}).catch(oe=>{T.isFulfilled=!0,O(oe)})}),T}}class D extends u.k_{static get requires(){return[b]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(b).createUploadAdapter=v=>new I(v)}}class I{constructor(v){this.loader=v}upload(){return new Promise((v,T)=>{const L=this.reader=new window.FileReader;L.addEventListener("load",()=>{v({default:L.result})}),L.addEventListener("error",O=>{T(O)}),L.addEventListener("abort",()=>{T()}),this.loader.file.then(O=>{L.readAsDataURL(O)})})}abort(){this.reader.abort()}}var V=Object.defineProperty,ye=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,we=(p,v,T)=>v in p?V(p,v,{enumerable:!0,configurable:!0,writable:!0,value:T}):p[v]=T;class g extends u.k_{static get requires(){return[b]}static get pluginName(){return"SimpleUploadAdapter"}init(){const v=this.editor.config.get("simpleUpload");v&&(v.uploadUrl?this.editor.plugins.get(b).createUploadAdapter=T=>new w(T,v):(0,y.FF)("simple-upload-adapter-missing-uploadurl"))}}class w{constructor(v,T){this.loader=v,this.options=T}upload(){return this.loader.file.then(v=>new Promise((T,L)=>{this._initRequest(),this._initListeners(T,L,v),this._sendRequest(v)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const v=this.xhr=new XMLHttpRequest;v.open("POST",this.options.uploadUrl,!0),v.responseType="json"}_initListeners(v,T,L){const O=this.xhr,oe=this.loader,W=`Couldn't upload file: ${L.name}.`;O.addEventListener("error",()=>T(W)),O.addEventListener("abort",()=>T()),O.addEventListener("load",()=>{const te=O.response;if(!te||te.error)return T(te&&te.error&&te.error.message?te.error.message:W);const S=te.url?{default:te.url}:te.urls;var X;v((X=((de,_e)=>{for(var Ae in _e||(_e={}))$.call(_e,Ae)&&we(de,Ae,_e[Ae]);if(U)for(var Ae of U(_e))he.call(_e,Ae)&&we(de,Ae,_e[Ae]);return de})({},te),ye(X,ne({urls:S}))))}),O.upload&&O.upload.addEventListener("progress",te=>{te.lengthComputable&&(oe.uploadTotal=te.total,oe.uploaded=te.loaded)})}_sendRequest(v){const T=this.options.headers||{},L=this.options.withCredentials||!1;for(const oe of Object.keys(T))this.xhr.setRequestHeader(oe,T[oe]);this.xhr.withCredentials=L;const O=new FormData;O.append("upload",v),this.xhr.send(O)}}},"./src/utils.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{CKEditorError:()=>u.Yb,Collection:()=>u.pM,Config:()=>u.TS,DomEmitterMixin:()=>u.c5,ElementReplacer:()=>u.PZ,EmitterMixin:()=>u.Mm,EventInfo:()=>u.vY,FocusTracker:()=>u.$x,KeystrokeHandler:()=>u.EP,Locale:()=>u.hT,ObservableMixin:()=>u.VM,Rect:()=>u.rw,ResizeObserver:()=>u.tb,abortableDebounce:()=>u.KL,compareArrays:()=>u.ww,count:()=>u.U9,createElement:()=>u.n,delay:()=>u.cb,diff:()=>u.Ui,diffToChanges:()=>u.q8,env:()=>u._K,exponentialDelay:()=>u.Nv,fastDiff:()=>u.Mr,findClosestScrollableAncestor:()=>u.j3,first:()=>u.$1,getAncestors:()=>u.DS,getBorderWidths:()=>u.Md,getCode:()=>u.QC,getDataFromElement:()=>u.pG,getEnvKeystrokeText:()=>u.YA,getLanguageDirection:()=>u.iJ,getLocalizedArrowKeyCodeDirection:()=>u.Kf,getOptimalPosition:()=>u.W,global:()=>u.global,indexOf:()=>u.qh,insertAt:()=>u.PT,insertToPriorityArray:()=>u.Yy,isArrowKeyCode:()=>u.Yt,isCombiningMark:()=>u.mY,isComment:()=>u.Cn,isForwardArrowKeyCode:()=>u.HK,isHighSurrogateHalf:()=>u.kv,isInsideCombinedSymbol:()=>u.Iw,isInsideEmojiSequence:()=>u.SQ,isInsideSurrogatePair:()=>u.P5,isIterable:()=>u.xZ,isLowSurrogateHalf:()=>u.k$,isNode:()=>u.Ll,isRange:()=>u._Z,isText:()=>u.KH,isValidAttributeName:()=>u.i8,isVisible:()=>u.zN,keyCodes:()=>u.uP,logError:()=>u.vV,logWarning:()=>u.FF,mix:()=>u.jh,parseKeystroke:()=>u.ZX,priorities:()=>u.vx,releaseDate:()=>u.kM,remove:()=>u.TF,retry:()=>u.L5,scrollAncestorsToShowTarget:()=>u.bi,scrollViewportToShowTarget:()=>u.vK,setDataInElement:()=>u.C_,spliceArray:()=>u.eL,toArray:()=>u.$r,toMap:()=>u.av,toUnit:()=>u.To,uid:()=>u.Ld,verifyLicense:()=>u.rQ,version:()=>u.rE,wait:()=>u.uk});var u=s("./packages/ckeditor5-utils/src/index.ts")},"./src/watchdog.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{ContextWatchdog:()=>T,EditorWatchdog:()=>w,Watchdog:()=>u});class u{constructor(W){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof W.crashNumberLimit=="number"?W.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof W.minimumNonErrorTimePeriod=="number"?W.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=te=>{const S="error"in te?te.error:te.reason;S instanceof Error&&this._handleError(S,te)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(W,te){this._listeners[W]||(this._listeners[W]=[]),this._listeners[W].push(te)}off(W,te){this._listeners[W]=this._listeners[W].filter(S=>S!==te)}_fire(W,...te){const S=this._listeners[W]||[];for(const X of S)X.apply(this,[null,...te])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(W,te){if(this._shouldReactToError(W)){this.crashes.push({message:W.message,stack:W.stack,filename:te instanceof ErrorEvent?te.filename:void 0,lineno:te instanceof ErrorEvent?te.lineno:void 0,colno:te instanceof ErrorEvent?te.colno:void 0,date:this._now()});const S=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:W,causesRestart:S}),S?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(W){return W.is&&W.is("CKEditorError")&&W.context!==void 0&&W.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(W)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function y(oe,W=new Set){const te=[oe],S=new Set;let X=0;for(;te.length>X;){const de=te[X++];if(!S.has(de)&&P(de)&&!W.has(de))if(S.add(de),Symbol.iterator in de)try{for(const _e of de)te.push(_e)}catch{}else for(const _e in de)_e!=="defaultValue"&&te.push(de[_e])}return S}function P(oe){const W=Object.prototype.toString.call(oe),te=typeof oe;return!(te==="number"||te==="boolean"||te==="string"||te==="symbol"||te==="function"||W==="[object Date]"||W==="[object RegExp]"||W==="[object Module]"||oe==null||oe._watchdogExcluded||oe instanceof EventTarget||oe instanceof Event)}function b(oe,W,te=new Set){if(oe===W&&typeof(S=oe)=="object"&&S!==null)return!0;var S;const X=y(oe,te),de=y(W,te);for(const _e of X)if(de.has(_e))return!0;return!1}var _=s("./node_modules/lodash-es/throttle.js"),D=s("./node_modules/lodash-es/isElement.js"),I=s("./node_modules/lodash-es/cloneDeepWith.js"),V=Object.defineProperty,ye=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,we=(oe,W,te)=>W in oe?V(oe,W,{enumerable:!0,configurable:!0,writable:!0,value:te}):oe[W]=te,g=(oe,W)=>{for(var te in W||(W={}))$.call(W,te)&&we(oe,te,W[te]);if(U)for(var te of U(W))he.call(W,te)&&we(oe,te,W[te]);return oe};class w extends u{constructor(W,te={}){super(te),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=(0,_.A)(this._save.bind(this),typeof te.saveInterval=="number"?te.saveInterval:5e3),W&&(this._creator=(S,X)=>W.create(S,X)),this._destructor=S=>S.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(W){this._creator=W}setDestructor(W){this._destructor=W}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(W=>{console.error("An error happened during the editor destroying.",W)}).then(()=>{const W={},te=[],S=this._config.rootsAttributes||{},X={};for(const[rt,et]of Object.entries(this._data.roots))et.isLoaded?(W[rt]="",X[rt]=S[rt]||{}):te.push(rt);const de=(_e=g({},this._config),Ae={extraPlugins:this._config.extraPlugins||[],lazyRoots:te,rootsAttributes:X,_watchdogInitialData:this._data},ye(_e,ne(Ae)));var _e,Ae;return delete de.initialData,de.extraPlugins.push(p),this._initUsingData?this.create(W,de,de.context):(0,D.A)(this._elementOrData)?this.create(this._elementOrData,de,de.context):this.create(this._editables,de,de.context)}).then(()=>{this._fire("restart")})}create(W=this._elementOrData,te=this._config,S){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=W,this._initUsingData=typeof W=="string"||Object.keys(W).length>0&&typeof Object.values(W)[0]=="string",this._config=this._cloneEditorConfiguration(te)||{},this._config.context=S,this._creator(W,this._config))).then(X=>{this._editor=X,X.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=X.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const W=this._editor;return this._editor=null,W.model.document.off("change:data",this._throttledSave),this._destructor(W)})}_save(){const W=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=W}catch(te){console.error(te,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(W){this._excludedProps=W}_getData(){const W=this._editor,te=W.model.document.roots.filter(Ae=>Ae.isAttached()&&Ae.rootName!="$graveyard"),{plugins:S}=W,X=S.has("CommentsRepository")&&S.get("CommentsRepository"),de=S.has("TrackChanges")&&S.get("TrackChanges"),_e={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};te.forEach(Ae=>{_e.roots[Ae.rootName]={content:JSON.stringify(Array.from(Ae.getChildren())),attributes:JSON.stringify(Array.from(Ae.getAttributes())),isLoaded:Ae._isLoaded}});for(const Ae of W.model.markers)Ae._affectsData&&(_e.markers[Ae.name]={rangeJSON:Ae.getRange().toJSON(),usingOperation:Ae._managedUsingOperations,affectsData:Ae._affectsData});return X&&(_e.commentThreads=JSON.stringify(X.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),de&&(_e.suggestions=JSON.stringify(de.getSuggestions({toJSON:!0,skipNotAttached:!0}))),_e}_getEditables(){const W={};for(const te of this.editor.model.document.getRootNames()){const S=this.editor.ui.getEditableElement(te);S&&(W[te]=S)}return W}_isErrorComingFromThisItem(W){return b(this._editor,W.context,this._excludedProps)}_cloneEditorConfiguration(W){return(0,I.A)(W,(te,S)=>(0,D.A)(te)||S==="context"?te:void 0)}}class p{constructor(W){this.editor=W,this._data=W.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",W=>{W.stop(),this.editor.model.enqueueChange({isUndoable:!1},te=>{this._restoreCollaborationData(),this._restoreEditorData(te)}),this.editor.data.fire("ready")},{priority:999})}_createNode(W,te){if("name"in te){const S=W.createElement(te.name,te.attributes);if(te.children)for(const X of te.children)S._appendChild(this._createNode(W,X));return S}return W.createText(te.data,te.attributes)}_restoreEditorData(W){const te=this.editor;Object.entries(this._data.roots).forEach(([S,{content:X,attributes:de}])=>{const _e=JSON.parse(X),Ae=JSON.parse(de),rt=te.model.document.getRoot(S);for(const[et,J]of Ae)W.setAttribute(et,J,rt);for(const et of _e){const J=this._createNode(W,et);W.insert(J,rt,"end")}}),Object.entries(this._data.markers).forEach(([S,X])=>{const{document:de}=te.model,_e=X,{rangeJSON:{start:Ae,end:rt}}=_e,et=((xe,q)=>{var Le={};for(var He in xe)$.call(xe,He)&&q.indexOf(He)<0&&(Le[He]=xe[He]);if(xe!=null&&U)for(var He of U(xe))q.indexOf(He)<0&&he.call(xe,He)&&(Le[He]=xe[He]);return Le})(_e,["rangeJSON"]),J=de.getRoot(Ae.root),Z=W.createPositionFromPath(J,Ae.path,Ae.stickiness),Ce=W.createPositionFromPath(J,rt.path,rt.stickiness),Oe=W.createRange(Z,Ce);W.addMarker(S,g({range:Oe},et))})}_restoreCollaborationData(){const W=JSON.parse(this._data.commentThreads),te=JSON.parse(this._data.suggestions);W.forEach(S=>{const X=this.editor.config.get("collaboration.channelId"),de=this.editor.plugins.get("CommentsRepository");de.hasCommentThread(S.threadId)&&de.getCommentThread(S.threadId).remove(),de.addCommentThread(g({channelId:X},S))}),te.forEach(S=>{const X=this.editor.plugins.get("TrackChangesEditing");X.hasSuggestion(S.id)?X.getSuggestion(S.id).attributes=S.attributes:X.addSuggestionData(S)})}}const v=Symbol("MainQueueId");class T extends u{constructor(W,te={}){super(te),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new L,this._watchdogConfig=te,this._creator=S=>W.create(S),this._destructor=S=>S.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(W){this._creator=W}setDestructor(W){this._destructor=W}get context(){return this._context}create(W={}){return this._actionQueues.enqueue(v,()=>(this._contextConfig=W,this._create()))}getItem(W){return this._getWatchdog(W)._item}getItemState(W){return this._getWatchdog(W).state}add(W){const te=O(W);return Promise.all(te.map(S=>this._actionQueues.enqueue(S.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let X;if(this._watchdogs.has(S.id))throw new Error(`Item with the given id is already added: '${S.id}'.`);if(S.type==="editor")return X=new w(null,this._watchdogConfig),X.setCreator(S.creator),X._setExcludedProperties(this._contextProps),S.destructor&&X.setDestructor(S.destructor),this._watchdogs.set(S.id,X),X.on("error",(de,{error:_e,causesRestart:Ae})=>{this._fire("itemError",{itemId:S.id,error:_e}),Ae&&this._actionQueues.enqueue(S.id,()=>new Promise(rt=>{const et=()=>{X.off("restart",et),this._fire("itemRestart",{itemId:S.id}),rt()};X.on("restart",et)}))}),X.create(S.sourceElementOrData,S.config,this._context);throw new Error(`Not supported item type: '${S.type}'.`)})))}remove(W){const te=O(W);return Promise.all(te.map(S=>this._actionQueues.enqueue(S,()=>{const X=this._getWatchdog(S);return this._watchdogs.delete(S),X.destroy()})))}destroy(){return this._actionQueues.enqueue(v,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(v,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(W=>{console.error("An error happened during destroying the context or items.",W)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(W=>(this._context=W,this._contextProps=y(this._context),Promise.all(Array.from(this._watchdogs.values()).map(te=>(te._setExcludedProperties(this._contextProps),te.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const W=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(te=>te.destroy())).then(()=>this._destructor(W))})}_getWatchdog(W){const te=this._watchdogs.get(W);if(!te)throw new Error(`Item with the given id was not registered: ${W}.`);return te}_isErrorComingFromThisItem(W){for(const te of this._watchdogs.values())if(te._isErrorComingFromThisItem(W))return!1;return b(this._context,W.context)}}class L{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(W){this._onEmptyCallbacks.push(W)}enqueue(W,te){const S=W===v;this._activeActions++,this._queues.get(W)||this._queues.set(W,Promise.resolve());const X=(S?Promise.all(this._queues.values()):Promise.all([this._queues.get(v),this._queues.get(W)])).then(te),de=X.catch(()=>{});return this._queues.set(W,de),X.finally(()=>{this._activeActions--,this._queues.get(W)===de&&this._activeActions===0&&this._onEmptyCallbacks.forEach(_e=>_e())})}}function O(oe){return Array.isArray(oe)?oe:[oe]}},"./src/widget.js":(d,f,s)=>{"use strict";s.r(f),s.d(f,{WIDGET_CLASS_NAME:()=>u.iW,WIDGET_SELECTED_CLASS_NAME:()=>u.w_,Widget:()=>u.x0,WidgetResize:()=>u.VE,WidgetToolbarRepository:()=>u.oP,WidgetTypeAround:()=>u.oT,findOptimalInsertionRange:()=>u.iB,getLabel:()=>u.p9,isWidget:()=>u.p4,setHighlightHandling:()=>u._s,setLabel:()=>u.je,toWidget:()=>u.Ex,toWidgetEditable:()=>u.YN,viewToModelPositionOutsideModelElement:()=>u.$u});var u=s("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(d,f,s)=>{d.exports=s},"./node_modules/lodash-es/_ListCache.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ne});const u=function(){this.__data__=[],this.size=0};var y=s("./node_modules/lodash-es/eq.js");const P=function(U,$){for(var he=U.length;he--;)if((0,y.A)(U[he][0],$))return he;return-1};var b=Array.prototype.splice;const _=function(U){var $=this.__data__,he=P($,U);return!(he<0)&&(he==$.length-1?$.pop():b.call($,he,1),--this.size,!0)},D=function(U){var $=this.__data__,he=P($,U);return he<0?void 0:$[he][1]},I=function(U){return P(this.__data__,U)>-1},V=function(U,$){var he=this.__data__,we=P(he,U);return we<0?(++this.size,he.push([U,$])):he[we][1]=$,this};function ye(U){var $=-1,he=U==null?0:U.length;for(this.clear();++$<he;){var we=U[$];this.set(we[0],we[1])}}ye.prototype.clear=u,ye.prototype.delete=_,ye.prototype.get=D,ye.prototype.has=I,ye.prototype.set=V;const ne=ye},"./node_modules/lodash-es/_Map.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_getNative.js"),y=s("./node_modules/lodash-es/_root.js");const P=(0,u.A)(y.A,"Map")},"./node_modules/lodash-es/_MapCache.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>O});const u=(0,s("./node_modules/lodash-es/_getNative.js").A)(Object,"create"),y=function(){this.__data__=u?u(null):{},this.size=0},P=function(oe){var W=this.has(oe)&&delete this.__data__[oe];return this.size-=W?1:0,W};var b=Object.prototype.hasOwnProperty;const _=function(oe){var W=this.__data__;if(u){var te=W[oe];return te==="__lodash_hash_undefined__"?void 0:te}return b.call(W,oe)?W[oe]:void 0};var D=Object.prototype.hasOwnProperty;const I=function(oe){var W=this.__data__;return u?W[oe]!==void 0:D.call(W,oe)},V=function(oe,W){var te=this.__data__;return this.size+=this.has(oe)?0:1,te[oe]=u&&W===void 0?"__lodash_hash_undefined__":W,this};function ye(oe){var W=-1,te=oe==null?0:oe.length;for(this.clear();++W<te;){var S=oe[W];this.set(S[0],S[1])}}ye.prototype.clear=y,ye.prototype.delete=P,ye.prototype.get=_,ye.prototype.has=I,ye.prototype.set=V;const ne=ye;var U=s("./node_modules/lodash-es/_ListCache.js"),$=s("./node_modules/lodash-es/_Map.js");const he=function(){this.size=0,this.__data__={hash:new ne,map:new($.A||U.A),string:new ne}},we=function(oe){var W=typeof oe;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?oe!=="__proto__":oe===null},g=function(oe,W){var te=oe.__data__;return we(W)?te[typeof W=="string"?"string":"hash"]:te.map},w=function(oe){var W=g(this,oe).delete(oe);return this.size-=W?1:0,W},p=function(oe){return g(this,oe).get(oe)},v=function(oe){return g(this,oe).has(oe)},T=function(oe,W){var te=g(this,oe),S=te.size;return te.set(oe,W),this.size+=te.size==S?0:1,this};function L(oe){var W=-1,te=oe==null?0:oe.length;for(this.clear();++W<te;){var S=oe[W];this.set(S[0],S[1])}}L.prototype.clear=he,L.prototype.delete=w,L.prototype.get=p,L.prototype.has=v,L.prototype.set=T;const O=L},"./node_modules/lodash-es/_Stack.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ne});var u=s("./node_modules/lodash-es/_ListCache.js");const y=function(){this.__data__=new u.A,this.size=0},P=function(U){var $=this.__data__,he=$.delete(U);return this.size=$.size,he},b=function(U){return this.__data__.get(U)},_=function(U){return this.__data__.has(U)};var D=s("./node_modules/lodash-es/_Map.js"),I=s("./node_modules/lodash-es/_MapCache.js");const V=function(U,$){var he=this.__data__;if(he instanceof u.A){var we=he.__data__;if(!D.A||we.length<199)return we.push([U,$]),this.size=++he.size,this;he=this.__data__=new I.A(we)}return he.set(U,$),this.size=he.size,this};function ye(U){var $=this.__data__=new u.A(U);this.size=$.size}ye.prototype.clear=y,ye.prototype.delete=P,ye.prototype.get=b,ye.prototype.has=_,ye.prototype.set=V;const ne=ye},"./node_modules/lodash-es/_Symbol.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=s("./node_modules/lodash-es/_root.js").A.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=s("./node_modules/lodash-es/_root.js").A.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>V});const u=function(ye,ne){for(var U=-1,$=Array(ye);++U<ye;)$[U]=ne(U);return $};var y=s("./node_modules/lodash-es/isArguments.js"),P=s("./node_modules/lodash-es/isArray.js"),b=s("./node_modules/lodash-es/isBuffer.js"),_=s("./node_modules/lodash-es/_isIndex.js"),D=s("./node_modules/lodash-es/isTypedArray.js"),I=Object.prototype.hasOwnProperty;const V=function(ye,ne){var U=(0,P.A)(ye),$=!U&&(0,y.A)(ye),he=!U&&!$&&(0,b.A)(ye),we=!U&&!$&&!he&&(0,D.A)(ye),g=U||$||he||we,w=g?u(ye.length,String):[],p=w.length;for(var v in ye)!ne&&!I.call(ye,v)||g&&(v=="length"||he&&(v=="offset"||v=="parent")||we&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||(0,_.A)(v,p))||w.push(v);return w}},"./node_modules/lodash-es/_arrayPush.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y,P){for(var b=-1,_=P.length,D=y.length;++b<_;)y[D+b]=P[b];return y}},"./node_modules/lodash-es/_assignValue.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>b});var u=s("./node_modules/lodash-es/_baseAssignValue.js"),y=s("./node_modules/lodash-es/eq.js"),P=Object.prototype.hasOwnProperty;const b=function(_,D,I){var V=_[D];P.call(_,D)&&(0,y.A)(V,I)&&(I!==void 0||D in _)||(0,u.A)(_,D,I)}},"./node_modules/lodash-es/_baseAssignValue.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_defineProperty.js");const y=function(P,b,_){b=="__proto__"&&u.A?(0,u.A)(P,b,{configurable:!0,enumerable:!0,value:_,writable:!0}):P[b]=_}},"./node_modules/lodash-es/_baseClone.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>Yt});var u=s("./node_modules/lodash-es/_Stack.js");const y=function(bt,Xe){for(var kt=-1,bi=bt==null?0:bt.length;++kt<bi&&Xe(bt[kt],kt,bt)!==!1;);return bt};var P=s("./node_modules/lodash-es/_assignValue.js"),b=s("./node_modules/lodash-es/_copyObject.js"),_=s("./node_modules/lodash-es/keys.js");const D=function(bt,Xe){return bt&&(0,b.A)(Xe,(0,_.A)(Xe),bt)};var I=s("./node_modules/lodash-es/keysIn.js");const V=function(bt,Xe){return bt&&(0,b.A)(Xe,(0,I.A)(Xe),bt)};var ye=s("./node_modules/lodash-es/_cloneBuffer.js"),ne=s("./node_modules/lodash-es/_copyArray.js"),U=s("./node_modules/lodash-es/_getSymbols.js");const $=function(bt,Xe){return(0,b.A)(bt,(0,U.A)(bt),Xe)};var he=s("./node_modules/lodash-es/_arrayPush.js"),we=s("./node_modules/lodash-es/_getPrototype.js"),g=s("./node_modules/lodash-es/stubArray.js");const w=Object.getOwnPropertySymbols?function(bt){for(var Xe=[];bt;)(0,he.A)(Xe,(0,U.A)(bt)),bt=(0,we.A)(bt);return Xe}:g.A,p=function(bt,Xe){return(0,b.A)(bt,w(bt),Xe)};var v=s("./node_modules/lodash-es/_getAllKeys.js"),T=s("./node_modules/lodash-es/_baseGetAllKeys.js");const L=function(bt){return(0,T.A)(bt,I.A,w)};var O=s("./node_modules/lodash-es/_getTag.js"),oe=Object.prototype.hasOwnProperty;const W=function(bt){var Xe=bt.length,kt=new bt.constructor(Xe);return Xe&&typeof bt[0]=="string"&&oe.call(bt,"index")&&(kt.index=bt.index,kt.input=bt.input),kt};var te=s("./node_modules/lodash-es/_cloneArrayBuffer.js");const S=function(bt,Xe){var kt=Xe?(0,te.A)(bt.buffer):bt.buffer;return new bt.constructor(kt,bt.byteOffset,bt.byteLength)};var X=/\w*$/;const de=function(bt){var Xe=new bt.constructor(bt.source,X.exec(bt));return Xe.lastIndex=bt.lastIndex,Xe};var _e=s("./node_modules/lodash-es/_Symbol.js"),Ae=_e.A?_e.A.prototype:void 0,rt=Ae?Ae.valueOf:void 0;const et=function(bt){return rt?Object(rt.call(bt)):{}};var J=s("./node_modules/lodash-es/_cloneTypedArray.js");const Z=function(bt,Xe,kt){var bi=bt.constructor;switch(Xe){case"[object ArrayBuffer]":return(0,te.A)(bt);case"[object Boolean]":case"[object Date]":return new bi(+bt);case"[object DataView]":return S(bt,kt);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,J.A)(bt,kt);case"[object Map]":case"[object Set]":return new bi;case"[object Number]":case"[object String]":return new bi(bt);case"[object RegExp]":return de(bt);case"[object Symbol]":return et(bt)}};var Ce=s("./node_modules/lodash-es/_initCloneObject.js"),Oe=s("./node_modules/lodash-es/isArray.js"),xe=s("./node_modules/lodash-es/isBuffer.js"),q=s("./node_modules/lodash-es/isObjectLike.js");const Le=function(bt){return(0,q.A)(bt)&&(0,O.A)(bt)=="[object Map]"};var He=s("./node_modules/lodash-es/_baseUnary.js"),ot=s("./node_modules/lodash-es/_nodeUtil.js"),fe=ot.A&&ot.A.isMap;const le=fe?(0,He.A)(fe):Le;var pe=s("./node_modules/lodash-es/isObject.js");const Ke=function(bt){return(0,q.A)(bt)&&(0,O.A)(bt)=="[object Set]"};var nt=ot.A&&ot.A.isSet;const ut=nt?(0,He.A)(nt):Ke;var wt="[object Arguments]",Ft="[object Function]",Wt="[object Object]",Lt={};Lt[wt]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object DataView]"]=Lt["[object Boolean]"]=Lt["[object Date]"]=Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt[Wt]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object Symbol]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Error]"]=Lt[Ft]=Lt["[object WeakMap]"]=!1;const Yt=function bt(Xe,kt,bi,fi,Di,Yi){var Ii,$i=1&kt,ht=2&kt,G=4&kt;if(bi&&(Ii=Di?bi(Xe,fi,Di,Yi):bi(Xe)),Ii!==void 0)return Ii;if(!(0,pe.A)(Xe))return Xe;var ce=(0,Oe.A)(Xe);if(ce){if(Ii=W(Xe),!$i)return(0,ne.A)(Xe,Ii)}else{var Ie=(0,O.A)(Xe),Ze=Ie==Ft||Ie=="[object GeneratorFunction]";if((0,xe.A)(Xe))return(0,ye.A)(Xe,$i);if(Ie==Wt||Ie==wt||Ze&&!Di){if(Ii=ht||Ze?{}:(0,Ce.A)(Xe),!$i)return ht?p(Xe,V(Ii,Xe)):$(Xe,D(Ii,Xe))}else{if(!Lt[Ie])return Di?Xe:{};Ii=Z(Xe,Ie,$i)}}Yi||(Yi=new u.A);var Ye=Yi.get(Xe);if(Ye)return Ye;Yi.set(Xe,Ii),ut(Xe)?Xe.forEach(function(Vt){Ii.add(bt(Vt,kt,bi,Vt,Xe,Yi))}):le(Xe)&&Xe.forEach(function(Vt,Bt){Ii.set(Bt,bt(Vt,kt,bi,Bt,Xe,Yi))});var ft=G?ht?L:v.A:ht?I.A:_.A,Tt=ce?void 0:ft(Xe);return y(Tt||Xe,function(Vt,Bt){Tt&&(Vt=Xe[Bt=Vt]),(0,P.A)(Ii,Bt,bt(Vt,kt,bi,Bt,Xe,Yi))}),Ii}},"./node_modules/lodash-es/_baseFor.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){return function(P,b,_){for(var D=-1,I=Object(P),V=_(P),ye=V.length;ye--;){var ne=V[y?ye:++D];if(b(I[ne],ne,I)===!1)break}return P}}()},"./node_modules/lodash-es/_baseGet.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_castPath.js"),y=s("./node_modules/lodash-es/_toKey.js");const P=function(b,_){for(var D=0,I=(_=(0,u.A)(_,b)).length;b!=null&&D<I;)b=b[(0,y.A)(_[D++])];return D&&D==I?b:void 0}},"./node_modules/lodash-es/_baseGetAllKeys.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_arrayPush.js"),y=s("./node_modules/lodash-es/isArray.js");const P=function(b,_,D){var I=_(b);return(0,y.A)(b)?I:(0,u.A)(I,D(b))}},"./node_modules/lodash-es/_baseGetTag.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ne});var u=s("./node_modules/lodash-es/_Symbol.js"),y=Object.prototype,P=y.hasOwnProperty,b=y.toString,_=u.A?u.A.toStringTag:void 0;const D=function(U){var $=P.call(U,_),he=U[_];try{U[_]=void 0;var we=!0}catch{}var g=b.call(U);return we&&($?U[_]=he:delete U[_]),g};var I=Object.prototype.toString;const V=function(U){return I.call(U)};var ye=u.A?u.A.toStringTag:void 0;const ne=function(U){return U==null?U===void 0?"[object Undefined]":"[object Null]":ye&&ye in Object(U)?D(U):V(U)}},"./node_modules/lodash-es/_baseIsEqual.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>et});var u=s("./node_modules/lodash-es/_Stack.js"),y=s("./node_modules/lodash-es/_MapCache.js");const P=function(J){return this.__data__.set(J,"__lodash_hash_undefined__"),this},b=function(J){return this.__data__.has(J)};function _(J){var Z=-1,Ce=J==null?0:J.length;for(this.__data__=new y.A;++Z<Ce;)this.add(J[Z])}_.prototype.add=_.prototype.push=P,_.prototype.has=b;const D=_,I=function(J,Z){for(var Ce=-1,Oe=J==null?0:J.length;++Ce<Oe;)if(Z(J[Ce],Ce,J))return!0;return!1},V=function(J,Z){return J.has(Z)},ye=function(J,Z,Ce,Oe,xe,q){var Le=1&Ce,He=J.length,ot=Z.length;if(He!=ot&&!(Le&&ot>He))return!1;var fe=q.get(J),le=q.get(Z);if(fe&&le)return fe==Z&&le==J;var pe=-1,Ke=!0,nt=2&Ce?new D:void 0;for(q.set(J,Z),q.set(Z,J);++pe<He;){var ut=J[pe],wt=Z[pe];if(Oe)var Ft=Le?Oe(wt,ut,pe,Z,J,q):Oe(ut,wt,pe,J,Z,q);if(Ft!==void 0){if(Ft)continue;Ke=!1;break}if(nt){if(!I(Z,function(Wt,Lt){if(!V(nt,Lt)&&(ut===Wt||xe(ut,Wt,Ce,Oe,q)))return nt.push(Lt)})){Ke=!1;break}}else if(ut!==wt&&!xe(ut,wt,Ce,Oe,q)){Ke=!1;break}}return q.delete(J),q.delete(Z),Ke};var ne=s("./node_modules/lodash-es/_Symbol.js"),U=s("./node_modules/lodash-es/_Uint8Array.js"),$=s("./node_modules/lodash-es/eq.js");const he=function(J){var Z=-1,Ce=Array(J.size);return J.forEach(function(Oe,xe){Ce[++Z]=[xe,Oe]}),Ce},we=function(J){var Z=-1,Ce=Array(J.size);return J.forEach(function(Oe){Ce[++Z]=Oe}),Ce};var g=ne.A?ne.A.prototype:void 0,w=g?g.valueOf:void 0;const p=function(J,Z,Ce,Oe,xe,q,Le){switch(Ce){case"[object DataView]":if(J.byteLength!=Z.byteLength||J.byteOffset!=Z.byteOffset)return!1;J=J.buffer,Z=Z.buffer;case"[object ArrayBuffer]":return!(J.byteLength!=Z.byteLength||!q(new U.A(J),new U.A(Z)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,$.A)(+J,+Z);case"[object Error]":return J.name==Z.name&&J.message==Z.message;case"[object RegExp]":case"[object String]":return J==Z+"";case"[object Map]":var He=he;case"[object Set]":var ot=1&Oe;if(He||(He=we),J.size!=Z.size&&!ot)return!1;var fe=Le.get(J);if(fe)return fe==Z;Oe|=2,Le.set(J,Z);var le=ye(He(J),He(Z),Oe,xe,q,Le);return Le.delete(J),le;case"[object Symbol]":if(w)return w.call(J)==w.call(Z)}return!1};var v=s("./node_modules/lodash-es/_getAllKeys.js"),T=Object.prototype.hasOwnProperty;const L=function(J,Z,Ce,Oe,xe,q){var Le=1&Ce,He=(0,v.A)(J),ot=He.length;if(ot!=(0,v.A)(Z).length&&!Le)return!1;for(var fe=ot;fe--;){var le=He[fe];if(!(Le?le in Z:T.call(Z,le)))return!1}var pe=q.get(J),Ke=q.get(Z);if(pe&&Ke)return pe==Z&&Ke==J;var nt=!0;q.set(J,Z),q.set(Z,J);for(var ut=Le;++fe<ot;){var wt=J[le=He[fe]],Ft=Z[le];if(Oe)var Wt=Le?Oe(Ft,wt,le,Z,J,q):Oe(wt,Ft,le,J,Z,q);if(!(Wt===void 0?wt===Ft||xe(wt,Ft,Ce,Oe,q):Wt)){nt=!1;break}ut||(ut=le=="constructor")}if(nt&&!ut){var Lt=J.constructor,Yt=Z.constructor;Lt==Yt||!("constructor"in J)||!("constructor"in Z)||typeof Lt=="function"&&Lt instanceof Lt&&typeof Yt=="function"&&Yt instanceof Yt||(nt=!1)}return q.delete(J),q.delete(Z),nt};var O=s("./node_modules/lodash-es/_getTag.js"),oe=s("./node_modules/lodash-es/isArray.js"),W=s("./node_modules/lodash-es/isBuffer.js"),te=s("./node_modules/lodash-es/isTypedArray.js"),S="[object Arguments]",X="[object Array]",de="[object Object]",_e=Object.prototype.hasOwnProperty;const Ae=function(J,Z,Ce,Oe,xe,q){var Le=(0,oe.A)(J),He=(0,oe.A)(Z),ot=Le?X:(0,O.A)(J),fe=He?X:(0,O.A)(Z),le=(ot=ot==S?de:ot)==de,pe=(fe=fe==S?de:fe)==de,Ke=ot==fe;if(Ke&&(0,W.A)(J)){if(!(0,W.A)(Z))return!1;Le=!0,le=!1}if(Ke&&!le)return q||(q=new u.A),Le||(0,te.A)(J)?ye(J,Z,Ce,Oe,xe,q):p(J,Z,ot,Ce,Oe,xe,q);if(!(1&Ce)){var nt=le&&_e.call(J,"__wrapped__"),ut=pe&&_e.call(Z,"__wrapped__");if(nt||ut){var wt=nt?J.value():J,Ft=ut?Z.value():Z;return q||(q=new u.A),xe(wt,Ft,Ce,Oe,q)}}return!!Ke&&(q||(q=new u.A),L(J,Z,Ce,Oe,xe,q))};var rt=s("./node_modules/lodash-es/isObjectLike.js");const et=function J(Z,Ce,Oe,xe,q){return Z===Ce||(Z==null||Ce==null||!(0,rt.A)(Z)&&!(0,rt.A)(Ce)?Z!=Z&&Ce!=Ce:Ae(Z,Ce,Oe,xe,J,q))}},"./node_modules/lodash-es/_baseUnary.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){return function(P){return y(P)}}},"./node_modules/lodash-es/_castPath.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ne});var u=s("./node_modules/lodash-es/isArray.js"),y=s("./node_modules/lodash-es/_isKey.js"),P=s("./node_modules/lodash-es/_MapCache.js");function b(U,$){if(typeof U!="function"||$!=null&&typeof $!="function")throw new TypeError("Expected a function");var he=function(){var we=arguments,g=$?$.apply(this,we):we[0],w=he.cache;if(w.has(g))return w.get(g);var p=U.apply(this,we);return he.cache=w.set(g,p)||w,p};return he.cache=new(b.Cache||P.A),he}b.Cache=P.A;const _=b;var D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g;const V=function(U){var $=_(U,function(we){return he.size===500&&he.clear(),we}),he=$.cache;return $}(function(U){var $=[];return U.charCodeAt(0)===46&&$.push(""),U.replace(D,function(he,we,g,w){$.push(g?w.replace(I,"$1"):we||he)}),$});var ye=s("./node_modules/lodash-es/toString.js");const ne=function(U,$){return(0,u.A)(U)?U:(0,y.A)(U,$)?[U]:V((0,ye.A)(U))}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_Uint8Array.js");const y=function(P){var b=new P.constructor(P.byteLength);return new u.A(b).set(new u.A(P)),b}},"./node_modules/lodash-es/_cloneBuffer.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>D});var u=s("./node_modules/lodash-es/_root.js"),y=typeof exports=="object"&&exports&&!exports.nodeType&&exports,P=y&&typeof module=="object"&&module&&!module.nodeType&&module,b=P&&P.exports===y?u.A.Buffer:void 0,_=b?b.allocUnsafe:void 0;const D=function(I,V){if(V)return I.slice();var ye=I.length,ne=_?_(ye):new I.constructor(ye);return I.copy(ne),ne}},"./node_modules/lodash-es/_cloneTypedArray.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_cloneArrayBuffer.js");const y=function(P,b){var _=b?(0,u.A)(P.buffer):P.buffer;return new P.constructor(_,P.byteOffset,P.length)}},"./node_modules/lodash-es/_copyArray.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y,P){var b=-1,_=y.length;for(P||(P=Array(_));++b<_;)P[b]=y[b];return P}},"./node_modules/lodash-es/_copyObject.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_assignValue.js"),y=s("./node_modules/lodash-es/_baseAssignValue.js");const P=function(b,_,D,I){var V=!D;D||(D={});for(var ye=-1,ne=_.length;++ye<ne;){var U=_[ye],$=I?I(D[U],b[U],U,D,b):void 0;$===void 0&&($=b[U]),V?(0,y.A)(D,U,$):(0,u.A)(D,U,$)}return D}},"./node_modules/lodash-es/_createAssigner.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>w});var u=s("./node_modules/lodash-es/identity.js");const y=function(p,v,T){switch(T.length){case 0:return p.call(v);case 1:return p.call(v,T[0]);case 2:return p.call(v,T[0],T[1]);case 3:return p.call(v,T[0],T[1],T[2])}return p.apply(v,T)};var P=Math.max;const b=function(p,v,T){return v=P(v===void 0?p.length-1:v,0),function(){for(var L=arguments,O=-1,oe=P(L.length-v,0),W=Array(oe);++O<oe;)W[O]=L[v+O];O=-1;for(var te=Array(v+1);++O<v;)te[O]=L[O];return te[v]=T(W),y(p,this,te)}},_=function(p){return function(){return p}};var D=s("./node_modules/lodash-es/_defineProperty.js");const I=D.A?function(p,v){return(0,D.A)(p,"toString",{configurable:!0,enumerable:!1,value:_(v),writable:!0})}:u.A;var V=Date.now;const ye=function(p){var v=0,T=0;return function(){var L=V(),O=16-(L-T);if(T=L,O>0){if(++v>=800)return arguments[0]}else v=0;return p.apply(void 0,arguments)}}(I),ne=function(p,v){return ye(b(p,v,u.A),p+"")};var U=s("./node_modules/lodash-es/eq.js"),$=s("./node_modules/lodash-es/isArrayLike.js"),he=s("./node_modules/lodash-es/_isIndex.js"),we=s("./node_modules/lodash-es/isObject.js");const g=function(p,v,T){if(!(0,we.A)(T))return!1;var L=typeof v;return!!(L=="number"?(0,$.A)(T)&&(0,he.A)(v,T.length):L=="string"&&v in T)&&(0,U.A)(T[v],p)},w=function(p){return ne(function(v,T){var L=-1,O=T.length,oe=O>1?T[O-1]:void 0,W=O>2?T[2]:void 0;for(oe=p.length>3&&typeof oe=="function"?(O--,oe):void 0,W&&g(T[0],T[1],W)&&(oe=O<3?void 0:oe,O=1),v=Object(v);++L<O;){var te=T[L];te&&p(v,te,L,oe)}return v})}},"./node_modules/lodash-es/_defineProperty.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_getNative.js");const y=function(){try{var P=(0,u.A)(Object,"defineProperty");return P({},"",{}),P}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=typeof global=="object"&&global&&global.Object===Object&&global},"./node_modules/lodash-es/_getAllKeys.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>b});var u=s("./node_modules/lodash-es/_baseGetAllKeys.js"),y=s("./node_modules/lodash-es/_getSymbols.js"),P=s("./node_modules/lodash-es/keys.js");const b=function(_){return(0,u.A)(_,P.A,y.A)}},"./node_modules/lodash-es/_getNative.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>w});var u=s("./node_modules/lodash-es/isFunction.js");const y=s("./node_modules/lodash-es/_root.js").A["__core-js_shared__"];var P,b=(P=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const _=function(p){return!!b&&b in p};var D=s("./node_modules/lodash-es/isObject.js"),I=s("./node_modules/lodash-es/_toSource.js"),V=/^\[object .+?Constructor\]$/,ye=Function.prototype,ne=Object.prototype,U=ye.toString,$=ne.hasOwnProperty,he=RegExp("^"+U.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const we=function(p){return!(!(0,D.A)(p)||_(p))&&((0,u.A)(p)?he:V).test((0,I.A)(p))},g=function(p,v){return p?.[v]},w=function(p,v){var T=g(p,v);return we(T)?T:void 0}},"./node_modules/lodash-es/_getPrototype.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=(0,s("./node_modules/lodash-es/_overArg.js").A)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>_});const u=function(D,I){for(var V=-1,ye=D==null?0:D.length,ne=0,U=[];++V<ye;){var $=D[V];I($,V,D)&&(U[ne++]=$)}return U};var y=s("./node_modules/lodash-es/stubArray.js"),P=Object.prototype.propertyIsEnumerable,b=Object.getOwnPropertySymbols;const _=b?function(D){return D==null?[]:(D=Object(D),u(b(D),function(I){return P.call(D,I)}))}:y.A},"./node_modules/lodash-es/_getTag.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>O});var u=s("./node_modules/lodash-es/_getNative.js"),y=s("./node_modules/lodash-es/_root.js");const P=(0,u.A)(y.A,"DataView");var b=s("./node_modules/lodash-es/_Map.js");const _=(0,u.A)(y.A,"Promise"),D=(0,u.A)(y.A,"Set"),I=(0,u.A)(y.A,"WeakMap");var V=s("./node_modules/lodash-es/_baseGetTag.js"),ye=s("./node_modules/lodash-es/_toSource.js"),ne="[object Map]",U="[object Promise]",$="[object Set]",he="[object WeakMap]",we="[object DataView]",g=(0,ye.A)(P),w=(0,ye.A)(b.A),p=(0,ye.A)(_),v=(0,ye.A)(D),T=(0,ye.A)(I),L=V.A;(P&&L(new P(new ArrayBuffer(1)))!=we||b.A&&L(new b.A)!=ne||_&&L(_.resolve())!=U||D&&L(new D)!=$||I&&L(new I)!=he)&&(L=function(oe){var W=(0,V.A)(oe),te=W=="[object Object]"?oe.constructor:void 0,S=te?(0,ye.A)(te):"";if(S)switch(S){case g:return we;case w:return ne;case p:return U;case v:return $;case T:return he}return W});const O=L},"./node_modules/lodash-es/_initCloneObject.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>D});var u=s("./node_modules/lodash-es/isObject.js"),y=Object.create;const P=function(){function I(){}return function(V){if(!(0,u.A)(V))return{};if(y)return y(V);I.prototype=V;var ye=new I;return I.prototype=void 0,ye}}();var b=s("./node_modules/lodash-es/_getPrototype.js"),_=s("./node_modules/lodash-es/_isPrototype.js");const D=function(I){return typeof I.constructor!="function"||(0,_.A)(I)?{}:P((0,b.A)(I))}},"./node_modules/lodash-es/_isIndex.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=/^(?:0|[1-9]\d*)$/;const y=function(P,b){var _=typeof P;return!!(b=b??9007199254740991)&&(_=="number"||_!="symbol"&&u.test(P))&&P>-1&&P%1==0&&P<b}},"./node_modules/lodash-es/_isKey.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>_});var u=s("./node_modules/lodash-es/isArray.js"),y=s("./node_modules/lodash-es/isSymbol.js"),P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;const _=function(D,I){if((0,u.A)(D))return!1;var V=typeof D;return!(V!="number"&&V!="symbol"&&V!="boolean"&&D!=null&&!(0,y.A)(D))||b.test(D)||!P.test(D)||I!=null&&D in Object(I)}},"./node_modules/lodash-es/_isPrototype.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=Object.prototype;const y=function(P){var b=P&&P.constructor;return P===(typeof b=="function"&&b.prototype||u)}},"./node_modules/lodash-es/_nodeUtil.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>_});var u=s("./node_modules/lodash-es/_freeGlobal.js"),y=typeof exports=="object"&&exports&&!exports.nodeType&&exports,P=y&&typeof module=="object"&&module&&!module.nodeType&&module,b=P&&P.exports===y&&u.A.process;const _=function(){try{var D=P&&P.require&&P.require("util").types;return D||b&&b.binding&&b.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y,P){return function(b){return y(P(b))}}},"./node_modules/lodash-es/_root.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_freeGlobal.js"),y=typeof self=="object"&&self&&self.Object===Object&&self;const P=u.A||y||Function("return this")()},"./node_modules/lodash-es/_toKey.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/isSymbol.js");const y=function(P){if(typeof P=="string"||(0,u.A)(P))return P;var b=P+"";return b=="0"&&1/P==-1/0?"-0":b}},"./node_modules/lodash-es/_toSource.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=Function.prototype.toString;const y=function(P){if(P!=null){try{return u.call(P)}catch{}try{return P+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>b});var u=s("./node_modules/lodash-es/_copyObject.js"),y=s("./node_modules/lodash-es/_createAssigner.js"),P=s("./node_modules/lodash-es/keysIn.js");const b=(0,y.A)(function(_,D){(0,u.A)(D,(0,P.A)(D),_)})},"./node_modules/lodash-es/cloneDeep.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_baseClone.js");const y=function(P){return(0,u.A)(P,5)}},"./node_modules/lodash-es/cloneDeepWith.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_baseClone.js");const y=function(P,b){return b=typeof b=="function"?b:void 0,(0,u.A)(P,5,b)}},"./node_modules/lodash-es/debounce.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>w});var u=s("./node_modules/lodash-es/isObject.js"),y=s("./node_modules/lodash-es/_root.js");const P=function(){return y.A.Date.now()};var b=/\s/;const _=function(p){for(var v=p.length;v--&&b.test(p.charAt(v)););return v};var D=/^\s+/;const I=function(p){return p&&p.slice(0,_(p)+1).replace(D,"")};var V=s("./node_modules/lodash-es/isSymbol.js"),ye=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,U=/^0o[0-7]+$/i,$=parseInt;const he=function(p){if(typeof p=="number")return p;if((0,V.A)(p))return NaN;if((0,u.A)(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=(0,u.A)(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=I(p);var T=ne.test(p);return T||U.test(p)?$(p.slice(2),T?2:8):ye.test(p)?NaN:+p};var we=Math.max,g=Math.min;const w=function(p,v,T){var L,O,oe,W,te,S,X=0,de=!1,_e=!1,Ae=!0;if(typeof p!="function")throw new TypeError("Expected a function");function rt(Oe){var xe=L,q=O;return L=O=void 0,X=Oe,W=p.apply(q,xe)}function et(Oe){var xe=Oe-S;return S===void 0||xe>=v||xe<0||_e&&Oe-X>=oe}function J(){var Oe=P();if(et(Oe))return Z(Oe);te=setTimeout(J,function(xe){var q=v-(xe-S);return _e?g(q,oe-(xe-X)):q}(Oe))}function Z(Oe){return te=void 0,Ae&&L?rt(Oe):(L=O=void 0,W)}function Ce(){var Oe=P(),xe=et(Oe);if(L=arguments,O=this,S=Oe,xe){if(te===void 0)return function(q){return X=q,te=setTimeout(J,v),de?rt(q):W}(S);if(_e)return clearTimeout(te),te=setTimeout(J,v),rt(S)}return te===void 0&&(te=setTimeout(J,v)),W}return v=he(v)||0,(0,u.A)(T)&&(de=!!T.leading,oe=(_e="maxWait"in T)?we(he(T.maxWait)||0,v):oe,Ae="trailing"in T?!!T.trailing:Ae),Ce.cancel=function(){te!==void 0&&clearTimeout(te),X=0,L=S=O=te=void 0},Ce.flush=function(){return te===void 0?W:Z(P())},Ce}},"./node_modules/lodash-es/eq.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y,P){return y===P||y!=y&&P!=P}},"./node_modules/lodash-es/escapeRegExp.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>b});var u=s("./node_modules/lodash-es/toString.js"),y=/[\\^$.*+?()[\]{}|]/g,P=RegExp(y.source);const b=function(_){return(_=(0,u.A)(_))&&P.test(_)?_.replace(y,"\\$&"):_}},"./node_modules/lodash-es/get.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>y});var u=s("./node_modules/lodash-es/_baseGet.js");const y=function(P,b,_){var D=P==null?void 0:(0,u.A)(P,b);return D===void 0?_:D}},"./node_modules/lodash-es/identity.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){return y}},"./node_modules/lodash-es/isArguments.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>I});var u=s("./node_modules/lodash-es/_baseGetTag.js"),y=s("./node_modules/lodash-es/isObjectLike.js");const P=function(V){return(0,y.A)(V)&&(0,u.A)(V)=="[object Arguments]"};var b=Object.prototype,_=b.hasOwnProperty,D=b.propertyIsEnumerable;const I=P(function(){return arguments}())?P:function(V){return(0,y.A)(V)&&_.call(V,"callee")&&!D.call(V,"callee")}},"./node_modules/lodash-es/isArray.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/isFunction.js"),y=s("./node_modules/lodash-es/isLength.js");const P=function(b){return b!=null&&(0,y.A)(b.length)&&!(0,u.A)(b)}},"./node_modules/lodash-es/isBuffer.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>D});var u=s("./node_modules/lodash-es/_root.js");const y=function(){return!1};var P=typeof exports=="object"&&exports&&!exports.nodeType&&exports,b=P&&typeof module=="object"&&module&&!module.nodeType&&module,_=b&&b.exports===P?u.A.Buffer:void 0;const D=(_?_.isBuffer:void 0)||y},"./node_modules/lodash-es/isElement.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/isObjectLike.js"),y=s("./node_modules/lodash-es/isPlainObject.js");const P=function(b){return(0,u.A)(b)&&b.nodeType===1&&!(0,y.A)(b)}},"./node_modules/lodash-es/isFunction.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_baseGetTag.js"),y=s("./node_modules/lodash-es/isObject.js");const P=function(b){if(!(0,y.A)(b))return!1;var _=(0,u.A)(b);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},"./node_modules/lodash-es/isLength.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=9007199254740991}},"./node_modules/lodash-es/isObject.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){var P=typeof y;return y!=null&&(P=="object"||P=="function")}},"./node_modules/lodash-es/isObjectLike.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(y){return y!=null&&typeof y=="object"}},"./node_modules/lodash-es/isPlainObject.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ye});var u=s("./node_modules/lodash-es/_baseGetTag.js"),y=s("./node_modules/lodash-es/_getPrototype.js"),P=s("./node_modules/lodash-es/isObjectLike.js"),b=Function.prototype,_=Object.prototype,D=b.toString,I=_.hasOwnProperty,V=D.call(Object);const ye=function(ne){if(!(0,P.A)(ne)||(0,u.A)(ne)!="[object Object]")return!1;var U=(0,y.A)(ne);if(U===null)return!0;var $=I.call(U,"constructor")&&U.constructor;return typeof $=="function"&&$ instanceof $&&D.call($)==V}},"./node_modules/lodash-es/isSymbol.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/_baseGetTag.js"),y=s("./node_modules/lodash-es/isObjectLike.js");const P=function(b){return typeof b=="symbol"||(0,y.A)(b)&&(0,u.A)(b)=="[object Symbol]"}},"./node_modules/lodash-es/isTypedArray.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>ye});var u=s("./node_modules/lodash-es/_baseGetTag.js"),y=s("./node_modules/lodash-es/isLength.js"),P=s("./node_modules/lodash-es/isObjectLike.js"),b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;const _=function(ne){return(0,P.A)(ne)&&(0,y.A)(ne.length)&&!!b[(0,u.A)(ne)]};var D=s("./node_modules/lodash-es/_baseUnary.js"),I=s("./node_modules/lodash-es/_nodeUtil.js"),V=I.A&&I.A.isTypedArray;const ye=V?(0,D.A)(V):_},"./node_modules/lodash-es/keys.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>I});var u=s("./node_modules/lodash-es/_arrayLikeKeys.js"),y=s("./node_modules/lodash-es/_isPrototype.js");const P=(0,s("./node_modules/lodash-es/_overArg.js").A)(Object.keys,Object);var b=Object.prototype.hasOwnProperty;const _=function(V){if(!(0,y.A)(V))return P(V);var ye=[];for(var ne in Object(V))b.call(V,ne)&&ne!="constructor"&&ye.push(ne);return ye};var D=s("./node_modules/lodash-es/isArrayLike.js");const I=function(V){return(0,D.A)(V)?(0,u.A)(V):_(V)}},"./node_modules/lodash-es/keysIn.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>V});var u=s("./node_modules/lodash-es/_arrayLikeKeys.js"),y=s("./node_modules/lodash-es/isObject.js"),P=s("./node_modules/lodash-es/_isPrototype.js");const b=function(ye){var ne=[];if(ye!=null)for(var U in Object(ye))ne.push(U);return ne};var _=Object.prototype.hasOwnProperty;const D=function(ye){if(!(0,y.A)(ye))return b(ye);var ne=(0,P.A)(ye),U=[];for(var $ in ye)($!="constructor"||!ne&&_.call(ye,$))&&U.push($);return U};var I=s("./node_modules/lodash-es/isArrayLike.js");const V=function(ye){return(0,I.A)(ye)?(0,u.A)(ye,!0):D(ye)}},"./node_modules/lodash-es/merge.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>X});var u=s("./node_modules/lodash-es/_Stack.js"),y=s("./node_modules/lodash-es/_baseAssignValue.js"),P=s("./node_modules/lodash-es/eq.js");const b=function(de,_e,Ae){(Ae!==void 0&&!(0,P.A)(de[_e],Ae)||Ae===void 0&&!(_e in de))&&(0,y.A)(de,_e,Ae)};var _=s("./node_modules/lodash-es/_baseFor.js"),D=s("./node_modules/lodash-es/_cloneBuffer.js"),I=s("./node_modules/lodash-es/_cloneTypedArray.js"),V=s("./node_modules/lodash-es/_copyArray.js"),ye=s("./node_modules/lodash-es/_initCloneObject.js"),ne=s("./node_modules/lodash-es/isArguments.js"),U=s("./node_modules/lodash-es/isArray.js"),$=s("./node_modules/lodash-es/isArrayLike.js"),he=s("./node_modules/lodash-es/isObjectLike.js");const we=function(de){return(0,he.A)(de)&&(0,$.A)(de)};var g=s("./node_modules/lodash-es/isBuffer.js"),w=s("./node_modules/lodash-es/isFunction.js"),p=s("./node_modules/lodash-es/isObject.js"),v=s("./node_modules/lodash-es/isPlainObject.js"),T=s("./node_modules/lodash-es/isTypedArray.js");const L=function(de,_e){if((_e!=="constructor"||typeof de[_e]!="function")&&_e!="__proto__")return de[_e]};var O=s("./node_modules/lodash-es/_copyObject.js"),oe=s("./node_modules/lodash-es/keysIn.js");const W=function(de){return(0,O.A)(de,(0,oe.A)(de))},te=function(de,_e,Ae,rt,et,J,Z){var Ce=L(de,Ae),Oe=L(_e,Ae),xe=Z.get(Oe);if(xe)b(de,Ae,xe);else{var q=J?J(Ce,Oe,Ae+"",de,_e,Z):void 0,Le=q===void 0;if(Le){var He=(0,U.A)(Oe),ot=!He&&(0,g.A)(Oe),fe=!He&&!ot&&(0,T.A)(Oe);q=Oe,He||ot||fe?(0,U.A)(Ce)?q=Ce:we(Ce)?q=(0,V.A)(Ce):ot?(Le=!1,q=(0,D.A)(Oe,!0)):fe?(Le=!1,q=(0,I.A)(Oe,!0)):q=[]:(0,v.A)(Oe)||(0,ne.A)(Oe)?(q=Ce,(0,ne.A)(Ce)?q=W(Ce):(0,p.A)(Ce)&&!(0,w.A)(Ce)||(q=(0,ye.A)(Oe))):Le=!1}Le&&(Z.set(Oe,q),et(q,Oe,rt,J,Z),Z.delete(Oe)),b(de,Ae,q)}},S=function de(_e,Ae,rt,et,J){_e!==Ae&&(0,_.A)(Ae,function(Z,Ce){if(J||(J=new u.A),(0,p.A)(Z))te(_e,Ae,Ce,rt,de,et,J);else{var Oe=et?et(L(_e,Ce),Z,Ce+"",_e,Ae,J):void 0;Oe===void 0&&(Oe=Z),b(_e,Ce,Oe)}},oe.A)},X=(0,s("./node_modules/lodash-es/_createAssigner.js").A)(function(de,_e,Ae){S(de,_e,Ae)})},"./node_modules/lodash-es/stubArray.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>u});const u=function(){return[]}},"./node_modules/lodash-es/throttle.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s("./node_modules/lodash-es/debounce.js"),y=s("./node_modules/lodash-es/isObject.js");const P=function(b,_,D){var I=!0,V=!0;if(typeof b!="function")throw new TypeError("Expected a function");return(0,y.A)(D)&&(I="leading"in D?!!D.leading:I,V="trailing"in D?!!D.trailing:V),(0,u.A)(b,_,{leading:I,maxWait:_,trailing:V})}},"./node_modules/lodash-es/toString.js":(d,f,s)=>{"use strict";s.d(f,{A:()=>V});var u=s("./node_modules/lodash-es/_Symbol.js");const y=function(ye,ne){for(var U=-1,$=ye==null?0:ye.length,he=Array($);++U<$;)he[U]=ne(ye[U],U,ye);return he};var P=s("./node_modules/lodash-es/isArray.js"),b=s("./node_modules/lodash-es/isSymbol.js"),_=u.A?u.A.prototype:void 0,D=_?_.toString:void 0;const I=function ye(ne){if(typeof ne=="string")return ne;if((0,P.A)(ne))return y(ne,ye)+"";if((0,b.A)(ne))return D?D.call(ne):"";var U=ne+"";return U=="0"&&1/ne==-1/0?"-0":U},V=function(ye){return ye==null?"":I(ye)}}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai=K("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=ai})(),function(Gt){Gt.CKEditor5=Gt.CKEditor5||{};const St=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget","watchdog"];for(const K of St){const ai=K.replace(/-([a-z])/g,(d,f)=>f.toUpperCase());Gt.CKEditor5[ai]=Gt.CKEditor5.dll(`./src/${K}.js`)}}(window),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Alignment:()=>ne,AlignmentEditing:()=>D,AlignmentUI:()=>ye});var d=K(782),f=K(584);const s=["left","right","center","justify"];function u(U){return s.includes(U)}function y(U,$){return $.contentLanguageDirection=="rtl"?U==="right":U==="left"}function P(U){const $=U.map(we=>{let g;return g=typeof we=="string"?{name:we}:we,g}).filter(we=>{const g=s.includes(we.name);return g||(0,f.logWarning)("alignment-config-name-not-recognized",{option:we}),g}),he=$.filter(we=>Boolean(we.className)).length;if(he&&he<$.length)throw new f.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:U});return $.forEach((we,g,w)=>{const p=w.slice(g+1);if(p.some(v=>v.name==we.name))throw new f.CKEditorError("alignment-config-name-already-defined",{option:we,configuredOptions:U});if(we.className&&p.some(v=>v.className==we.className))throw new f.CKEditorError("alignment-config-classname-already-defined",{option:we,configuredOptions:U})}),$}const b="alignment";class _ extends d.Command{refresh(){const $=this.editor.locale,he=(0,f.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(he)&&this._canBeAligned(he),this.isEnabled&&he.hasAttribute("alignment")?this.value=he.getAttribute("alignment"):this.value=$.contentLanguageDirection==="rtl"?"right":"left"}execute($={}){const he=this.editor,we=he.locale,g=he.model,w=g.document,p=$.value;g.change(v=>{const T=Array.from(w.selection.getSelectedBlocks()).filter(O=>this._canBeAligned(O)),L=T[0].getAttribute("alignment");y(p,we)||L===p||!p?function(O,oe){for(const W of O)oe.removeAttribute(b,W)}(T,v):function(O,oe,W){for(const te of O)oe.setAttribute(b,W,te)}(T,v,p)})}_canBeAligned($){return this.editor.model.schema.checkAttribute($,b)}}class D extends d.Plugin{static get pluginName(){return"AlignmentEditing"}constructor($){super($),$.config.define("alignment",{options:s.map(he=>({name:he}))})}init(){const $=this.editor,he=$.locale,we=$.model.schema,g=P($.config.get("alignment.options")).filter(T=>u(T.name)&&!y(T.name,he)),w=g.some(T=>!!T.className);we.extend("$block",{allowAttributes:"alignment"}),$.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),w?$.conversion.attributeToAttribute(function(T){const L={};for(const oe of T)L[oe.name]={key:"class",value:oe.className};return{model:{key:"alignment",values:T.map(oe=>oe.name)},view:L}}(g)):$.conversion.for("downcast").attributeToAttribute(function(T){const L={};for(const{name:oe}of T)L[oe]={key:"style",value:{"text-align":oe}};return{model:{key:"alignment",values:T.map(oe=>oe.name)},view:L}}(g));const p=function(T){const L=[];for(const{name:O}of T)L.push({view:{key:"style",value:{"text-align":O}},model:{key:"alignment",value:O}});return L}(g);for(const T of p)$.conversion.for("upcast").attributeToAttribute(T);const v=function(T){const L=[];for(const{name:O}of T)L.push({view:{key:"align",value:O},model:{key:"alignment",value:O}});return L}(g);for(const T of v)$.conversion.for("upcast").attributeToAttribute(T);$.commands.add("alignment",new _($))}}var I=K(311);const V=new Map([["left",d.icons.alignLeft],["right",d.icons.alignRight],["center",d.icons.alignCenter],["justify",d.icons.alignJustify]]);class ye extends d.Plugin{get localizedOptionTitles(){const $=this.editor.t;return{left:$("Align left"),right:$("Align right"),center:$("Align center"),justify:$("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const $=P(this.editor.config.get("alignment.options"));$.map(he=>he.name).filter(u).forEach(he=>this._addButton(he)),this._addToolbarDropdown($),this._addMenuBarMenu($)}_addButton($){this.editor.ui.componentFactory.add(`alignment:${$}`,he=>this._createButton(he,$))}_createButton($,he,we={}){const g=this.editor,w=g.commands.get("alignment"),p=new I.ButtonView($);return p.set({label:this.localizedOptionTitles[he],icon:V.get(he),tooltip:!0,isToggleable:!0,...we}),p.bind("isEnabled").to(w),p.bind("isOn").to(w,"value",v=>v===he),this.listenTo(p,"execute",()=>{g.execute("alignment",{value:he}),g.editing.view.focus()}),p}_addToolbarDropdown($){const he=this.editor;he.ui.componentFactory.add("alignment",we=>{const g=(0,I.createDropdown)(we),w=we.uiLanguageDirection==="rtl"?"w":"e",p=we.t;(0,I.addToolbarToDropdown)(g,()=>$.map(L=>this._createButton(we,L.name,{tooltipPosition:w})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:p("Text alignment toolbar")}),g.buttonView.set({label:p("Text alignment"),tooltip:!0}),g.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const v=we.contentLanguageDirection==="rtl"?V.get("right"):V.get("left"),T=he.commands.get("alignment");return g.buttonView.bind("icon").to(T,"value",L=>V.get(L)||v),g.bind("isEnabled").to(T,"isEnabled"),this.listenTo(g,"execute",()=>{he.editing.view.focus()}),g})}_addMenuBarMenu($){const he=this.editor;he.ui.componentFactory.add("menuBar:alignment",we=>{const g=he.commands.get("alignment"),w=we.t,p=new I.MenuBarMenuView(we),v=new I.MenuBarMenuListView(we);p.bind("isEnabled").to(g),v.set({ariaLabel:w("Text alignment"),role:"menu"}),p.buttonView.set({label:w("Text alignment")});for(const T of $){const L=new I.MenuBarMenuListItemView(we,p),O=new I.MenuBarMenuListItemButtonView(we);O.extendTemplate({attributes:{"aria-checked":O.bindTemplate.to("isOn")}}),O.delegate("execute").to(p),O.set({label:this.localizedOptionTitles[T.name],icon:V.get(T.name)}),O.on("execute",()=>{he.execute("alignment",{value:T.name}),he.editing.view.focus()}),O.bind("isOn").to(g,"value",oe=>oe===T.name),O.bind("isEnabled").to(g,"isEnabled"),L.children.add(O),v.items.add(L)}return p.panelView.children.add(v),p})}}class ne extends d.Plugin{static get requires(){return[D,ye]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Revert autoformatting action":"Revert autoformatting action"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Autoformat:()=>_});var d=K(782),f=K(834),s=K(783),u=K(584);function y(I,V,ye,ne){let U,$=null;typeof ne=="function"?U=ne:($=I.commands.get(ne),U=()=>{I.execute(ne)}),I.model.document.on("change:data",(he,we)=>{if($&&!$.isEnabled||!V.isEnabled)return;const g=(0,u.first)(I.model.document.selection.getRanges());if(!g.isCollapsed||we.isUndo||!we.isLocal)return;const w=Array.from(I.model.document.differ.getChanges()),p=w[0];if(w.length!=1||p.type!=="insert"||p.name!="$text"||p.length!=1)return;const v=p.position.parent;if(v.is("element","codeBlock")||v.is("element","listItem")&&typeof ne!="function"&&!["numberedList","bulletedList","todoList"].includes(ne)||$&&$.value===!0)return;const T=v.getChild(0),L=I.model.createRangeOn(T);if(!L.containsRange(g)&&!g.end.isEqual(L.end))return;const O=ye.exec(T.data.substr(0,g.end.offset));O&&I.model.enqueueChange(oe=>{const W=oe.createPositionAt(v,0),te=oe.createPositionAt(v,O[0].length),S=new s.LiveRange(W,te);if(U({match:O})!==!1){oe.remove(S);const X=I.model.document.selection.getFirstRange(),de=oe.createRangeIn(v);!v.isEmpty||de.isEqual(X)||de.containsRange(X,!0)||oe.remove(v)}S.detach(),I.model.enqueueChange(()=>{I.plugins.get("Delete").requestUndoOnBackspace()})})})}function P(I,V,ye,ne){let U,$;ye instanceof RegExp?U=ye:$=ye,$=$||(he=>{let we;const g=[],w=[];for(;(we=U.exec(he))!==null&&!(we&&we.length<4);){let{index:p,1:v,2:T,3:L}=we;const O=v+T+L;p+=we[0].length-O.length;const oe=[p,p+v.length],W=[p+v.length+T.length,p+v.length+T.length+L.length];g.push(oe),g.push(W),w.push([p+v.length,p+v.length+T.length])}return{remove:g,format:w}}),I.model.document.on("change:data",(he,we)=>{if(we.isUndo||!we.isLocal||!V.isEnabled)return;const g=I.model,w=g.document.selection;if(!w.isCollapsed)return;const p=Array.from(g.document.differ.getChanges()),v=p[0];if(p.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const T=w.focus,L=T.parent,{text:O,range:oe}=function(X,de){let _e=X.start;return{text:Array.from(X.getItems()).reduce((rt,et)=>!et.is("$text")&&!et.is("$textProxy")||et.getAttribute("code")?(_e=de.createPositionAfter(et),""):rt+et.data,""),range:de.createRange(_e,X.end)}}(g.createRange(g.createPositionAt(L,0),T),g),W=$(O),te=b(oe.start,W.format,g),S=b(oe.start,W.remove,g);te.length&&S.length&&g.enqueueChange(X=>{if(ne(X,te)!==!1){for(const de of S.reverse())X.remove(de);g.enqueueChange(()=>{I.plugins.get("Delete").requestUndoOnBackspace()})}})})}function b(I,V,ye){return V.filter(ne=>ne[0]!==void 0&&ne[1]!==void 0).map(ne=>ye.createRange(I.getShiftedBy(ne[0]),I.getShiftedBy(ne[1])))}class _ extends d.Plugin{static get requires(){return[f.Delete]}static get pluginName(){return"Autoformat"}afterInit(){const V=this.editor,ye=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),V.accessibility.addKeystrokeInfos({keystrokes:[{label:ye("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const V=this.editor.commands;V.get("bulletedList")&&y(this.editor,this,/^[*-]\s$/,"bulletedList"),V.get("numberedList")&&y(this.editor,this,/^1[.|)]\s$/,"numberedList"),V.get("todoList")&&y(this.editor,this,/^\[\s?\]\s$/,"todoList"),V.get("checkTodoList")&&y(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const V=this.editor.commands;if(V.get("bold")){const ye=D(this.editor,"bold");P(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,ye),P(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,ye)}if(V.get("italic")){const ye=D(this.editor,"italic");P(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,ye),P(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,ye)}if(V.get("code")){const ye=D(this.editor,"code");P(this.editor,this,/(`)([^`]+)(`)$/g,ye)}if(V.get("strikethrough")){const ye=D(this.editor,"strikethrough");P(this.editor,this,/(~~)([^~]+)(~~)$/g,ye)}}_addHeadingAutoformats(){const V=this.editor.commands.get("heading");V&&V.modelElements.filter(ye=>ye.match(/^heading[1-6]$/)).forEach(ye=>{const ne=ye[7],U=new RegExp(`^(#{${ne}})\\s$`);y(this.editor,this,U,()=>{if(!V.isEnabled||V.value===ye)return!1;this.editor.execute("heading",{value:ye})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&y(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const V=this.editor,ye=V.model.document.selection;V.commands.get("codeBlock")&&y(V,this,/^```$/,()=>{if(ye.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&y(this.editor,this,/^---$/,"horizontalLine")}}function D(I,V){return(ye,ne)=>{if(!I.commands.get(V).isEnabled)return!1;const U=I.model.schema.getValidRanges(ne,V);for(const $ of U)ye.setAttribute(V,!0,$);ye.removeSelectionAttribute(V)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{Bold:"Bold","Bold text":"Bold text",Code:"Code",Italic:"Italic","Italic text":"Italic text","Move out of an inline code style":"Move out of an inline code style",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline","Underline text":"Underline text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={598:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Bold:()=>D,BoldEditing:()=>u,BoldUI:()=>_,Code:()=>w,CodeEditing:()=>ye,CodeUI:()=>g,Italic:()=>O,ItalicEditing:()=>v,ItalicUI:()=>L,Strikethrough:()=>X,StrikethroughEditing:()=>W,StrikethroughUI:()=>S,Subscript:()=>et,SubscriptEditing:()=>_e,SubscriptUI:()=>rt,Superscript:()=>xe,SuperscriptEditing:()=>Z,SuperscriptUI:()=>Oe,Underline:()=>fe,UnderlineEditing:()=>Le,UnderlineUI:()=>ot});var d=K(782);class f extends d.Command{constructor(pe,Ke){super(pe),this.attributeKey=Ke}refresh(){const pe=this.editor.model,Ke=pe.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=pe.schema.checkAttributeInSelection(Ke.selection,this.attributeKey)}execute(pe={}){const Ke=this.editor.model,nt=Ke.document.selection,ut=pe.forceValue===void 0?!this.value:pe.forceValue;Ke.change(wt=>{if(nt.isCollapsed)ut?wt.setSelectionAttribute(this.attributeKey,!0):wt.removeSelectionAttribute(this.attributeKey);else{const Ft=Ke.schema.getValidRanges(nt.getRanges(),this.attributeKey);for(const Wt of Ft)ut?wt.setAttribute(this.attributeKey,ut,Wt):wt.removeAttribute(this.attributeKey,Wt)}})}_getValueFromFirstAllowedNode(){const pe=this.editor.model,Ke=pe.schema,nt=pe.document.selection;if(nt.isCollapsed)return nt.hasAttribute(this.attributeKey);for(const ut of nt.getRanges())for(const wt of ut.getItems())if(Ke.checkAttribute(wt,this.attributeKey))return wt.hasAttribute(this.attributeKey);return!1}}const s="bold";class u extends d.Plugin{static get pluginName(){return"BoldEditing"}init(){const pe=this.editor,Ke=this.editor.t;pe.model.schema.extend("$text",{allowAttributes:s}),pe.model.schema.setAttributeProperties(s,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:s,view:"strong",upcastAlso:["b",nt=>{const ut=nt.getStyle("font-weight");return ut&&(ut=="bold"||Number(ut)>=600)?{name:!0,styles:["font-weight"]}:null}]}),pe.commands.add(s,new f(pe,s)),pe.keystrokes.set("CTRL+B",s),pe.accessibility.addKeystrokeInfos({keystrokes:[{label:Ke("Bold text"),keystroke:"CTRL+B"}]})}}var y=K(311);function P({editor:le,commandName:pe,plugin:Ke,icon:nt,label:ut,keystroke:wt}){return Ft=>{const Wt=le.commands.get(pe),Lt=new Ft(le.locale);return Lt.set({label:ut,icon:nt,keystroke:wt,isToggleable:!0}),Lt.bind("isEnabled").to(Wt,"isEnabled"),Ke.listenTo(Lt,"execute",()=>{le.execute(pe),le.editing.view.focus()}),Lt}}const b="bold";class _ extends d.Plugin{static get pluginName(){return"BoldUI"}init(){const pe=this.editor,Ke=pe.locale.t,nt=pe.commands.get(b),ut=P({editor:pe,commandName:b,plugin:this,icon:d.icons.bold,label:Ke("Bold"),keystroke:"CTRL+B"});pe.ui.componentFactory.add(b,()=>{const wt=ut(y.ButtonView);return wt.set({tooltip:!0}),wt.bind("isOn").to(nt,"value"),wt}),pe.ui.componentFactory.add("menuBar:"+b,()=>ut(y.MenuBarMenuListItemButtonView))}}class D extends d.Plugin{static get requires(){return[u,_]}static get pluginName(){return"Bold"}}var I=K(834);const V="code";class ye extends d.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[I.TwoStepCaretMovement]}init(){const pe=this.editor,Ke=this.editor.t;pe.model.schema.extend("$text",{allowAttributes:V}),pe.model.schema.setAttributeProperties(V,{isFormatting:!0,copyOnEnter:!1}),pe.conversion.attributeToElement({model:V,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),pe.commands.add(V,new f(pe,V)),pe.plugins.get(I.TwoStepCaretMovement).registerAttribute(V),(0,I.inlineHighlight)(pe,V,"code","ck-code_selected"),pe.accessibility.addKeystrokeInfos({keystrokes:[{label:Ke("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}var ne=K(591),U=K.n(ne),$=K(598),he={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()($.A,he),$.A.locals;const we="code";class g extends d.Plugin{static get pluginName(){return"CodeUI"}init(){const pe=this.editor,Ke=pe.locale.t,nt=P({editor:pe,commandName:we,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',label:Ke("Code")});pe.ui.componentFactory.add(we,()=>{const ut=nt(y.ButtonView),wt=pe.commands.get(we);return ut.set({tooltip:!0}),ut.bind("isOn").to(wt,"value"),ut}),pe.ui.componentFactory.add("menuBar:"+we,()=>nt(y.MenuBarMenuListItemButtonView))}}class w extends d.Plugin{static get requires(){return[ye,g]}static get pluginName(){return"Code"}}const p="italic";class v extends d.Plugin{static get pluginName(){return"ItalicEditing"}init(){const pe=this.editor,Ke=this.editor.t;pe.model.schema.extend("$text",{allowAttributes:p}),pe.model.schema.setAttributeProperties(p,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:p,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),pe.commands.add(p,new f(pe,p)),pe.keystrokes.set("CTRL+I",p),pe.accessibility.addKeystrokeInfos({keystrokes:[{label:Ke("Italic text"),keystroke:"CTRL+I"}]})}}const T="italic";class L extends d.Plugin{static get pluginName(){return"ItalicUI"}init(){const pe=this.editor,Ke=pe.commands.get(T),nt=pe.locale.t,ut=P({editor:pe,commandName:T,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:nt("Italic")});pe.ui.componentFactory.add(T,()=>{const wt=ut(y.ButtonView);return wt.set({tooltip:!0}),wt.bind("isOn").to(Ke,"value"),wt}),pe.ui.componentFactory.add("menuBar:"+T,()=>ut(y.MenuBarMenuListItemButtonView))}}class O extends d.Plugin{static get requires(){return[v,L]}static get pluginName(){return"Italic"}}const oe="strikethrough";class W extends d.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const pe=this.editor,Ke=this.editor.t;pe.model.schema.extend("$text",{allowAttributes:oe}),pe.model.schema.setAttributeProperties(oe,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:oe,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),pe.commands.add(oe,new f(pe,oe)),pe.keystrokes.set("CTRL+SHIFT+X","strikethrough"),pe.accessibility.addKeystrokeInfos({keystrokes:[{label:Ke("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const te="strikethrough";class S extends d.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const pe=this.editor,Ke=pe.locale.t,nt=P({editor:pe,commandName:te,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",label:Ke("Strikethrough")});pe.ui.componentFactory.add(te,()=>{const ut=nt(y.ButtonView),wt=pe.commands.get(te);return ut.set({tooltip:!0}),ut.bind("isOn").to(wt,"value"),ut}),pe.ui.componentFactory.add("menuBar:"+te,()=>nt(y.MenuBarMenuListItemButtonView))}}class X extends d.Plugin{static get requires(){return[W,S]}static get pluginName(){return"Strikethrough"}}const de="subscript";class _e extends d.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const pe=this.editor;pe.model.schema.extend("$text",{allowAttributes:de}),pe.model.schema.setAttributeProperties(de,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:de,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),pe.commands.add(de,new f(pe,de))}}const Ae="subscript";class rt extends d.Plugin{static get pluginName(){return"SubscriptUI"}init(){const pe=this.editor,Ke=pe.locale.t,nt=P({editor:pe,commandName:Ae,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',label:Ke("Subscript")});pe.ui.componentFactory.add(Ae,()=>{const ut=nt(y.ButtonView),wt=pe.commands.get(Ae);return ut.set({tooltip:!0}),ut.bind("isOn").to(wt,"value"),ut}),pe.ui.componentFactory.add("menuBar:"+Ae,()=>nt(y.MenuBarMenuListItemButtonView))}}class et extends d.Plugin{static get requires(){return[_e,rt]}static get pluginName(){return"Subscript"}}const J="superscript";class Z extends d.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const pe=this.editor;pe.model.schema.extend("$text",{allowAttributes:J}),pe.model.schema.setAttributeProperties(J,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:J,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),pe.commands.add(J,new f(pe,J))}}const Ce="superscript";class Oe extends d.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const pe=this.editor,Ke=pe.locale.t,nt=P({editor:pe,commandName:Ce,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',label:Ke("Superscript")});pe.ui.componentFactory.add(Ce,()=>{const ut=nt(y.ButtonView),wt=pe.commands.get(Ce);return ut.set({tooltip:!0}),ut.bind("isOn").to(wt,"value"),ut}),pe.ui.componentFactory.add("menuBar:"+Ce,()=>nt(y.MenuBarMenuListItemButtonView))}}class xe extends d.Plugin{static get requires(){return[Z,Oe]}static get pluginName(){return"Superscript"}}const q="underline";class Le extends d.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const pe=this.editor,Ke=this.editor.t;pe.model.schema.extend("$text",{allowAttributes:q}),pe.model.schema.setAttributeProperties(q,{isFormatting:!0,copyOnEnter:!0}),pe.conversion.attributeToElement({model:q,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),pe.commands.add(q,new f(pe,q)),pe.keystrokes.set("CTRL+U","underline"),pe.accessibility.addKeystrokeInfos({keystrokes:[{label:Ke("Underline text"),keystroke:"CTRL+U"}]})}}const He="underline";class ot extends d.Plugin{static get pluginName(){return"UnderlineUI"}init(){const pe=this.editor,Ke=pe.commands.get(He),nt=pe.locale.t,ut=P({editor:pe,commandName:He,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',label:nt("Underline"),keystroke:"CTRL+U"});pe.ui.componentFactory.add(He,()=>{const wt=ut(y.ButtonView);return wt.set({tooltip:!0}),wt.bind("isOn").to(Ke,"value"),wt}),pe.ui.componentFactory.add("menuBar:"+He,()=>ut(y.MenuBarMenuListItemButtonView))}}class fe extends d.Plugin{static get requires(){return[Le,ot]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Block quote":"Block quote"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={28:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},507:(d,f,s)=>{d.exports=s(237)("./src/enter.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{BlockQuote:()=>he,BlockQuoteEditing:()=>D,BlockQuoteUI:()=>$});var d=K(782),f=K(507),s=K(834),u=K(584);class y extends d.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(g={}){const w=this.editor.model,p=w.schema,v=w.document.selection,T=Array.from(v.getSelectedBlocks()),L=g.forceValue===void 0?!this.value:g.forceValue;w.change(O=>{if(L){const oe=T.filter(W=>P(W)||_(p,W));this._applyQuote(O,oe)}else this._removeQuote(O,T.filter(P))})}_getValue(){const g=this.editor.model.document.selection,w=(0,u.first)(g.getSelectedBlocks());return!(!w||!P(w))}_checkEnabled(){if(this.value)return!0;const g=this.editor.model.document.selection,w=this.editor.model.schema,p=(0,u.first)(g.getSelectedBlocks());return!!p&&_(w,p)}_removeQuote(g,w){b(g,w).reverse().forEach(p=>{if(p.start.isAtStart&&p.end.isAtEnd)return void g.unwrap(p.start.parent);if(p.start.isAtStart){const T=g.createPositionBefore(p.start.parent);return void g.move(p,T)}p.end.isAtEnd||g.split(p.end);const v=g.createPositionAfter(p.end.parent);g.move(p,v)})}_applyQuote(g,w){const p=[];b(g,w).reverse().forEach(v=>{let T=P(v.start);T||(T=g.createElement("blockQuote"),g.wrap(v,T)),p.push(T)}),p.reverse().reduce((v,T)=>v.nextSibling==T?(g.merge(g.createPositionAfter(v)),v):T)}}function P(we){return we.parent.name=="blockQuote"?we.parent:null}function b(we,g){let w,p=0;const v=[];for(;p<g.length;){const T=g[p],L=g[p+1];w||(w=we.createPositionBefore(T)),L&&T.nextSibling==L||(v.push(we.createRange(w,we.createPositionAfter(T))),w=null),p++}return v}function _(we,g){const w=we.checkChild(g.parent,"blockQuote"),p=we.checkChild(["$root","blockQuote"],g);return w&&p}class D extends d.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[f.Enter,s.Delete]}init(){const g=this.editor,w=g.model.schema;g.commands.add("blockQuote",new y(g)),w.register("blockQuote",{inheritAllFrom:"$container"}),g.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),g.model.document.registerPostFixer(L=>{const O=g.model.document.differ.getChanges();for(const oe of O)if(oe.type=="insert"){const W=oe.position.nodeAfter;if(!W)continue;if(W.is("element","blockQuote")&&W.isEmpty)return L.remove(W),!0;if(W.is("element","blockQuote")&&!w.checkChild(oe.position,W))return L.unwrap(W),!0;if(W.is("element")){const te=L.createRangeIn(W);for(const S of te.getItems())if(S.is("element","blockQuote")&&!w.checkChild(L.createPositionBefore(S),S))return L.unwrap(S),!0}}else if(oe.type=="remove"){const W=oe.position.parent;if(W.is("element","blockQuote")&&W.isEmpty)return L.remove(W),!0}return!1});const p=this.editor.editing.view.document,v=g.model.document.selection,T=g.commands.get("blockQuote");this.listenTo(p,"enter",(L,O)=>{!v.isCollapsed||!T.value||v.getLastPosition().parent.isEmpty&&(g.execute("blockQuote"),g.editing.view.scrollToTheSelection(),O.preventDefault(),L.stop())},{context:"blockquote"}),this.listenTo(p,"delete",(L,O)=>{if(O.direction!="backward"||!v.isCollapsed||!T.value)return;const oe=v.getLastPosition().parent;oe.isEmpty&&!oe.previousSibling&&(g.execute("blockQuote"),g.editing.view.scrollToTheSelection(),O.preventDefault(),L.stop())},{context:"blockquote"})}}var I=K(311),V=K(591),ye=K.n(V),ne=K(28),U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ne.A,U),ne.A.locals;class $ extends d.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const g=this.editor,w=g.commands.get("blockQuote");g.ui.componentFactory.add("blockQuote",()=>{const p=this._createButton(I.ButtonView);return p.set({tooltip:!0}),p.bind("isOn").to(w,"value"),p}),g.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(I.MenuBarMenuListItemButtonView))}_createButton(g){const w=this.editor,p=w.locale,v=w.commands.get("blockQuote"),T=new g(w.locale),L=p.t;return T.set({label:L("Block quote"),icon:d.icons.quote,isToggleable:!0}),T.bind("isEnabled").to(v,"isEnabled"),this.listenTo(T,"execute",()=>{w.execute("blockQuote"),w.editing.view.focus()}),T}}class he extends d.Plugin{static get requires(){return[D,$]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Code block":"Code block","Insert code block":"Insert code block","Plain text":"Plain text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={535:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},507:(d,f,s)=>{d.exports=s(237)("./src/enter.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{CodeBlock:()=>W,CodeBlockEditing:()=>we,CodeBlockUI:()=>oe});var d=K(782),f=K(507),s=K(783),u=K(584);function y(te){const S=te.t,X=te.config.get("codeBlock.languages");for(const de of X)de.label==="Plain text"&&(de.label=S("Plain text")),de.class===void 0&&(de.class=`language-${de.language}`);return X}function P(te,S,X){const de={};for(const _e of te)S==="class"?de[_e[S].split(" ").shift()]=_e[X]:de[_e[S]]=_e[X];return de}function b(te){return te.data.match(/^(\s*)/)[0]}function _(te){const S=te.document.selection,X=[];if(S.isCollapsed)return[S.anchor];const de=S.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:_e}of de){if(!_e.is("$textProxy"))continue;const{parent:Ae,startOffset:rt}=_e.textNode;if(!Ae.is("element","codeBlock"))continue;const et=b(_e.textNode),J=te.createPositionAt(Ae,rt+et.length);X.push(J)}return X}function D(te){const S=(0,u.first)(te.getSelectedBlocks());return!!S&&S.is("element","codeBlock")}function I(te,S){return!S.is("rootElement")&&!te.isLimit(S)&&te.checkChild(S.parent,"codeBlock")}class V extends d.Command{constructor(S){super(S),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(S={}){const X=this.editor,de=X.model,_e=de.document.selection,Ae=y(X)[0],rt=Array.from(_e.getSelectedBlocks()),et=S.forceValue==null?!this.value:S.forceValue,J=function(Z,Ce,Oe){return Z.language?Z.language:Z.usePreviousLanguageChoice&&Ce?Ce:Oe}(S,this._lastLanguage,Ae.language);de.change(Z=>{et?this._applyCodeBlock(Z,rt,J):this._removeCodeBlock(Z,rt)})}_getValue(){const S=this.editor.model.document.selection,X=(0,u.first)(S.getSelectedBlocks());return!(!X||!X.is("element","codeBlock"))&&X.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const S=this.editor.model.document.selection,X=this.editor.model.schema,de=(0,u.first)(S.getSelectedBlocks());return!!de&&I(X,de)}_applyCodeBlock(S,X,de){this._lastLanguage=de;const _e=this.editor.model.schema,Ae=X.filter(rt=>I(_e,rt));for(const rt of Ae)S.rename(rt,"codeBlock"),S.setAttribute("language",de,rt),_e.removeDisallowedAttributes([rt],S),Array.from(rt.getChildren()).filter(et=>!_e.checkChild(rt,et)).forEach(et=>S.remove(et));Ae.reverse().forEach((rt,et)=>{const J=Ae[et+1];rt.previousSibling===J&&(S.appendElement("softBreak",J),S.merge(S.createPositionBefore(rt)))})}_removeCodeBlock(S,X){const de=X.filter(_e=>_e.is("element","codeBlock"));for(const _e of de){const Ae=S.createRangeOn(_e);for(const rt of Array.from(Ae.getItems()).reverse())if(rt.is("element","softBreak")&&rt.parent.is("element","codeBlock")){const{position:et}=S.split(S.createPositionBefore(rt)),J=et.nodeAfter;S.rename(J,"paragraph"),S.removeAttribute("language",J),S.remove(rt)}S.rename(_e,"paragraph"),S.removeAttribute("language",_e)}}}class ye extends d.Command{constructor(S){super(S),this._indentSequence=S.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const S=this.editor.model;S.change(X=>{const de=_(S);for(const _e of de){const Ae=X.createText(this._indentSequence);S.insertContent(Ae,_e)}})}_checkEnabled(){return!!this._indentSequence&&D(this.editor.model.document.selection)}}class ne extends d.Command{constructor(S){super(S),this._indentSequence=S.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const S=this.editor.model;S.change(()=>{const X=_(S);for(const de of X){const _e=U(S,de,this._indentSequence);_e&&S.deleteContent(S.createSelection(_e))}})}_checkEnabled(){if(!this._indentSequence)return!1;const S=this.editor.model;return!!D(S.document.selection)&&_(S).some(X=>U(S,X,this._indentSequence))}}function U(te,S,X){const de=function(J){let Z=J.parent.getChild(J.index);return Z&&!Z.is("element","softBreak")||(Z=J.nodeBefore),!Z||Z.is("element","softBreak")?null:Z}(S);if(!de)return null;const _e=b(de),Ae=_e.lastIndexOf(X);if(Ae+X.length!==_e.length||Ae===-1)return null;const{parent:rt,startOffset:et}=de;return te.createRange(te.createPositionAt(rt,et+Ae),te.createPositionAt(rt,et+Ae+X.length))}function $(te,S,X=!1){const de=P(S,"language","class"),_e=P(S,"language","label");return(Ae,rt,et)=>{const{writer:J,mapper:Z,consumable:Ce}=et;if(!Ce.consume(rt.item,"insert"))return;const Oe=rt.item.getAttribute("language"),xe=Z.toViewPosition(te.createPositionBefore(rt.item)),q={};X&&(q["data-language"]=_e[Oe],q.spellcheck="false");const Le=de[Oe]?{class:de[Oe]}:void 0,He=J.createContainerElement("code",Le),ot=J.createContainerElement("pre",q,He);J.insert(xe,ot),Z.bindElements(rt.item,He)}}const he="paragraph";class we extends d.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[f.ShiftEnter]}constructor(S){super(S),S.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const S=this.editor,X=S.model.schema,de=S.model,_e=S.editing.view,Ae=S.plugins.has("ListEditing")?S.plugins.get("ListEditing"):null,rt=y(S);S.commands.add("codeBlock",new V(S)),S.commands.add("indentCodeBlock",new ye(S)),S.commands.add("outdentCodeBlock",new ne(S)),this.listenTo(_e.document,"tab",(et,J)=>{const Z=J.shiftKey?"outdentCodeBlock":"indentCodeBlock";S.commands.get(Z).isEnabled&&(S.execute(Z),J.stopPropagation(),J.preventDefault(),et.stop())},{context:"pre"}),X.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),X.addAttributeCheck((et,J)=>!!(et.endsWith("codeBlock")&&Ae&&Ae.getListAttributeNames().includes(J))||!et.endsWith("codeBlock $text")&&void 0),S.model.schema.addChildCheck((et,J)=>{if(et.endsWith("codeBlock")&&J.isObject)return!1}),S.editing.downcastDispatcher.on("insert:codeBlock",$(de,rt,!0)),S.data.downcastDispatcher.on("insert:codeBlock",$(de,rt)),S.data.downcastDispatcher.on("insert:softBreak",function(et){return(J,Z,Ce)=>{if(Z.item.parent.name!=="codeBlock")return;const{writer:Oe,mapper:xe,consumable:q}=Ce;if(!q.consume(Z.item,"insert"))return;const Le=xe.toViewPosition(et.createPositionBefore(Z.item));Oe.insert(Le,Oe.createText(`
`))}}(de),{priority:"high"}),S.data.upcastDispatcher.on("element:code",function(et,J){const Z=P(J,"class","language"),Ce=J[0].language;return(Oe,xe,q)=>{const Le=xe.viewItem,He=Le.parent;if(!He||!He.is("element","pre")||xe.modelCursor.findAncestor("codeBlock"))return;const{consumable:ot,writer:fe}=q;if(!ot.test(Le,{name:!0}))return;const le=fe.createElement("codeBlock"),pe=[...Le.getClassNames()];pe.length||pe.push("");for(const Ke of pe){const nt=Z[Ke];if(nt){fe.setAttribute("language",nt,le);break}}le.hasAttribute("language")||fe.setAttribute("language",Ce,le),q.convertChildren(Le,le),q.safeInsert(le,xe.modelCursor)&&(ot.consume(Le,{name:!0}),q.updateConversionResult(le,xe))}}(0,rt)),S.data.upcastDispatcher.on("text",(et,J,{consumable:Z,writer:Ce})=>{let Oe=J.modelCursor;if(!Z.test(J.viewItem)||!Oe.findAncestor("codeBlock"))return;Z.consume(J.viewItem);const xe=J.viewItem.data.split(`
`).map(Le=>Ce.createText(Le)),q=xe[xe.length-1];for(const Le of xe)if(Ce.insert(Le,Oe),Oe=Oe.getShiftedBy(Le.offsetSize),Le!==q){const He=Ce.createElement("softBreak");Ce.insert(He,Oe),Oe=Ce.createPositionAfter(He)}J.modelRange=Ce.createRange(J.modelCursor,Oe),J.modelCursor=Oe}),S.data.upcastDispatcher.on("element:pre",(et,J,{consumable:Z})=>{const Ce=J.viewItem;if(Ce.findAncestor("pre"))return;const Oe=Array.from(Ce.getChildren()),xe=Oe.find(q=>q.is("element","code"));if(xe)for(const q of Oe)q!==xe&&q.is("$text")&&Z.consume(q,{name:!0})},{priority:"high"}),this.listenTo(S.editing.view.document,"clipboardInput",(et,J)=>{let Z=de.createRange(de.document.selection.anchor);if(J.targetRanges&&(Z=S.editing.mapper.toModelRange(J.targetRanges[0])),!Z.start.parent.is("element","codeBlock"))return;const Ce=J.dataTransfer.getData("text/plain"),Oe=new s.UpcastWriter(S.editing.view.document);J.content=function(xe,q){const Le=xe.createDocumentFragment(),He=q.split(`
`),ot=He.reduce((fe,le,pe)=>(fe.push(le),pe<He.length-1&&fe.push(xe.createElement("br")),fe),[]);return xe.appendChild(ot,Le),Le}(Oe,Ce)}),this.listenTo(de,"getSelectedContent",(et,[J])=>{const Z=J.anchor;!J.isCollapsed&&Z.parent.is("element","codeBlock")&&Z.hasSameParentAs(J.focus)&&de.change(Ce=>{const Oe=et.return;if(Z.parent.is("element")&&(Oe.childCount>1||J.containsEntireContent(Z.parent))){const q=Ce.createElement("codeBlock",Z.parent.getAttributes());Ce.append(Oe,q);const Le=Ce.createDocumentFragment();return Ce.append(q,Le),void(et.return=Le)}const xe=Oe.getChild(0);X.checkAttribute(xe,"code")&&Ce.setAttribute("code",!0,xe)})})}afterInit(){const S=this.editor,X=S.commands,de=X.get("indent"),_e=X.get("outdent");de&&de.registerChildCommand(X.get("indentCodeBlock"),{priority:"highest"}),_e&&_e.registerChildCommand(X.get("outdentCodeBlock")),this.listenTo(S.editing.view.document,"enter",(Ae,rt)=>{S.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(et,J){const Z=et.model,Ce=Z.document,Oe=et.editing.view,xe=Ce.selection.getLastPosition(),q=xe.nodeAfter;return J||!Ce.selection.isCollapsed||!xe.isAtStart||!w(q)?!1:(et.model.change(Le=>{et.execute("enter");const He=Ce.selection.anchor.parent.previousSibling;Le.rename(He,he),Le.setSelection(He,"in"),et.model.schema.removeDisallowedAttributes([He],Le),Le.remove(q)}),Oe.scrollToTheSelection(),!0)}(S,rt.isSoft)||function(et,J){const Z=et.model,Ce=Z.document,Oe=et.editing.view,xe=Ce.selection.getLastPosition(),q=xe.nodeBefore;let Le;if(J||!Ce.selection.isCollapsed||!xe.isAtEnd||!q||!q.previousSibling)return!1;if(w(q)&&w(q.previousSibling))Le=Z.createRange(Z.createPositionBefore(q.previousSibling),Z.createPositionAfter(q));else if(g(q)&&w(q.previousSibling)&&w(q.previousSibling.previousSibling))Le=Z.createRange(Z.createPositionBefore(q.previousSibling.previousSibling),Z.createPositionAfter(q));else{if(!(g(q)&&w(q.previousSibling)&&g(q.previousSibling.previousSibling)&&q.previousSibling.previousSibling&&w(q.previousSibling.previousSibling.previousSibling)))return!1;Le=Z.createRange(Z.createPositionBefore(q.previousSibling.previousSibling.previousSibling),Z.createPositionAfter(q))}return et.model.change(He=>{He.remove(Le),et.execute("enter");const ot=Ce.selection.anchor.parent;He.rename(ot,he),et.model.schema.removeDisallowedAttributes([ot],He)}),Oe.scrollToTheSelection(),!0}(S,rt.isSoft)||function(et){const J=et.model,Z=J.document,Ce=Z.selection.getLastPosition(),Oe=Ce.nodeBefore||Ce.textNode;let xe;Oe&&Oe.is("$text")&&(xe=b(Oe)),et.model.change(q=>{et.execute("shiftEnter"),xe&&q.insertText(xe,Z.selection.anchor)})}(S),rt.preventDefault(),Ae.stop())},{context:"pre"})}}function g(te){return te&&te.is("$text")&&!te.data.match(/\S/)}function w(te){return te&&te.is("element","softBreak")}var p=K(311),v=K(591),T=K.n(v),L=K(535),O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(L.A,O),L.A.locals;class oe extends d.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const S=this.editor,X=S.t,de=S.ui.componentFactory,_e=y(S),Ae=this._getLanguageListItemDefinitions(_e),rt=S.commands.get("codeBlock");de.add("codeBlock",et=>{const J=(0,p.createDropdown)(et,p.SplitButtonView),Z=J.buttonView,Ce=X("Insert code block");return Z.set({label:Ce,tooltip:!0,icon:d.icons.codeBlock,isToggleable:!0}),Z.bind("isOn").to(rt,"value",Oe=>!!Oe),Z.on("execute",()=>{S.execute("codeBlock",{usePreviousLanguageChoice:!0}),S.editing.view.focus()}),J.on("execute",Oe=>{S.execute("codeBlock",{language:Oe.source._codeBlockLanguage,forceValue:!0}),S.editing.view.focus()}),J.class="ck-code-block-dropdown",J.bind("isEnabled").to(rt),(0,p.addListToDropdown)(J,Ae,{role:"menu",ariaLabel:Ce}),J}),de.add("menuBar:codeBlock",et=>{const J=new p.MenuBarMenuView(et);J.buttonView.set({label:X("Code block"),icon:d.icons.codeBlock}),J.bind("isEnabled").to(rt);const Z=new p.MenuBarMenuListView(et);Z.set({ariaLabel:X("Insert code block")});for(const Ce of Ae){const Oe=new p.MenuBarMenuListItemView(et,J),xe=new p.MenuBarMenuListItemButtonView(et);xe.bind(...Object.keys(Ce.model)).to(Ce.model),xe.bind("ariaChecked").to(xe,"isOn"),xe.delegate("execute").to(J),xe.on("execute",()=>{S.execute("codeBlock",{language:Ce.model._codeBlockLanguage,forceValue:rt.value!=Ce.model._codeBlockLanguage}),S.editing.view.focus()}),Oe.children.add(xe),Z.items.add(Oe)}return J.panelView.children.add(Z),J})}_getLanguageListItemDefinitions(S){const X=this.editor.commands.get("codeBlock"),de=new u.Collection;for(const _e of S){const Ae={type:"button",model:new p.ViewModel({_codeBlockLanguage:_e.language,label:_e.label,role:"menuitemradio",withText:!0})};Ae.model.bind("isOn").to(X,"value",rt=>rt===Ae.model._codeBlockLanguage),de.add(Ae)}return de}}class W extends d.Plugin{static get requires(){return[we,oe]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=ai})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},507:(d,f,s)=>{d.exports=s(237)("./src/enter.js")},727:(d,f,s)=>{d.exports=s(237)("./src/select-all.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,f,s)=>{d.exports=s(237)("./src/undo.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Essentials:()=>_});var d=K(782),f=K(331),s=K(507),u=K(727),y=K(834),P=K(251),b=K(311);class _ extends d.Plugin{static get requires(){return[b.AccessibilityHelp,f.Clipboard,s.Enter,u.SelectAll,s.ShiftEnter,y.Typing,P.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={485:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Font:()=>ot,FontBackgroundColor:()=>He,FontBackgroundColorEditing:()=>q,FontBackgroundColorUI:()=>Le,FontColor:()=>Oe,FontColorEditing:()=>J,FontColorUI:()=>Ce,FontFamily:()=>w,FontFamilyEditing:()=>$,FontFamilyUI:()=>g,FontSize:()=>rt,FontSizeEditing:()=>W,FontSizeUI:()=>Ae});var d=K(782);class f extends d.Command{constructor(le,pe){super(le),this.attributeKey=pe}refresh(){const le=this.editor.model,pe=le.document;this.value=pe.selection.getAttribute(this.attributeKey),this.isEnabled=le.schema.checkAttributeInSelection(pe.selection,this.attributeKey)}execute(le={}){const pe=this.editor.model,Ke=pe.document.selection,nt=le.value,ut=le.batch,wt=Ft=>{if(Ke.isCollapsed)nt?Ft.setSelectionAttribute(this.attributeKey,nt):Ft.removeSelectionAttribute(this.attributeKey);else{const Wt=pe.schema.getValidRanges(Ke.getRanges(),this.attributeKey);for(const Lt of Wt)nt?Ft.setAttribute(this.attributeKey,nt,Lt):Ft.removeAttribute(this.attributeKey,Lt)}};ut?pe.enqueueChange(ut,Ft=>{wt(Ft)}):pe.change(Ft=>{wt(Ft)})}}var s=K(311);const u="fontSize",y="fontFamily",P="fontColor",b="fontBackgroundColor";function _(fe,le){const pe={model:{key:fe,values:[]},view:{},upcastAlso:{}};for(const Ke of le)pe.model.values.push(Ke.model),pe.view[Ke.model]=Ke.view,Ke.upcastAlso&&(pe.upcastAlso[Ke.model]=Ke.upcastAlso);return pe}function D(fe){return le=>le.getStyle(fe).replace(/\s/g,"")}function I(fe){return(le,{writer:pe})=>pe.createAttributeElement("span",{style:`${fe}:${le}`},{priority:7})}class V extends f{constructor(le){super(le,y)}}function ye(fe){return fe.map(ne).filter(le=>le!==void 0)}function ne(fe){return typeof fe=="object"?fe:fe==="default"?{title:"Default",model:void 0}:typeof fe=="string"?function(le){const pe=le.replace(/"|'/g,"").split(","),Ke=pe[0],nt=pe.map(U).join(", ");return{title:Ke,model:nt,view:{name:"span",styles:{"font-family":nt},priority:7}}}(fe):void 0}function U(fe){return(fe=fe.trim()).indexOf(" ")>0&&(fe=`'${fe}'`),fe}class $ extends d.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(le){super(le),le.config.define(y,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const le=this.editor;le.model.schema.extend("$text",{allowAttributes:y}),le.model.schema.setAttributeProperties(y,{isFormatting:!0,copyOnEnter:!0});const pe=ye(le.config.get("fontFamily.options")).filter(nt=>nt.model),Ke=_(y,pe);le.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):le.conversion.attributeToElement(Ke),le.commands.add(y,new V(le))}_prepareAnyValueConverters(){const le=this.editor;le.conversion.for("downcast").attributeToElement({model:y,view:(pe,{writer:Ke})=>Ke.createAttributeElement("span",{style:"font-family:"+pe},{priority:7})}),le.conversion.for("upcast").elementToAttribute({model:{key:y,value:pe=>pe.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:y,value:le=>le.getAttribute("face")}})}}var he=K(584);const we='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class g extends d.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const le=this.editor,pe=le.t,Ke=this._getLocalizedOptions(),nt=le.commands.get(y),ut=pe("Font Family"),wt=function(Ft,Wt){const Lt=new he.Collection;for(const Yt of Ft){const bt={type:"button",model:new s.ViewModel({commandName:y,commandParam:Yt.model,label:Yt.title,role:"menuitemradio",withText:!0})};bt.model.bind("isOn").to(Wt,"value",Xe=>Xe===Yt.model||!(!Xe||!Yt.model)&&Xe.split(",")[0].replace(/'/g,"").toLowerCase()===Yt.model.toLowerCase()),Yt.view&&typeof Yt.view!="string"&&Yt.view.styles&&bt.model.set("labelStyle",`font-family: ${Yt.view.styles["font-family"]}`),Lt.add(bt)}return Lt}(Ke,nt);le.ui.componentFactory.add(y,Ft=>{const Wt=(0,s.createDropdown)(Ft);return(0,s.addListToDropdown)(Wt,wt,{role:"menu",ariaLabel:ut}),Wt.buttonView.set({label:ut,icon:we,tooltip:!0}),Wt.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),Wt.bind("isEnabled").to(nt),this.listenTo(Wt,"execute",Lt=>{le.execute(Lt.source.commandName,{value:Lt.source.commandParam}),le.editing.view.focus()}),Wt}),le.ui.componentFactory.add(`menuBar:${y}`,Ft=>{const Wt=new s.MenuBarMenuView(Ft);Wt.buttonView.set({label:ut,icon:we}),Wt.bind("isEnabled").to(nt);const Lt=new s.MenuBarMenuListView(Ft);for(const Yt of wt){const bt=new s.MenuBarMenuListItemView(Ft,Wt),Xe=new s.MenuBarMenuListItemButtonView(Ft);Xe.bind(...Object.keys(Yt.model)).to(Yt.model),Xe.bind("ariaChecked").to(Xe,"isOn"),Xe.delegate("execute").to(Wt),Xe.on("execute",()=>{le.execute(Yt.model.commandName,{value:Yt.model.commandParam}),le.editing.view.focus()}),bt.children.add(Xe),Lt.items.add(bt)}return Wt.panelView.children.add(Lt),Wt})}_getLocalizedOptions(){const le=this.editor,pe=le.t;return ye(le.config.get(y).options).map(Ke=>(Ke.title==="Default"&&(Ke.title=pe("Default")),Ke))}}class w extends d.Plugin{static get requires(){return[$,g]}static get pluginName(){return"FontFamily"}}var p=K(783);class v extends f{constructor(le){super(le,u)}}function T(fe){return fe.map(le=>function(pe){if(typeof pe=="number"&&(pe=String(pe)),typeof pe=="object"&&(Ke=pe,Ke.title&&Ke.model&&Ke.view))return O(pe);var Ke;const nt=function(ut){return typeof ut=="string"?L[ut]:L[ut.model]}(pe);if(nt)return O(nt);if(pe==="default")return{model:void 0,title:"Default"};if(!function(ut){let wt;if(typeof ut=="object"){if(!ut.model)throw new he.CKEditorError("font-size-invalid-definition",null,ut);wt=parseFloat(ut.model)}else wt=parseFloat(ut);return isNaN(wt)}(pe))return function(ut){return typeof ut=="string"&&(ut={title:ut,model:`${parseFloat(ut)}px`}),ut.view={name:"span",styles:{"font-size":ut.model}},O(ut)}(pe)}(le)).filter(le=>le!==void 0)}const L={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function O(fe){return fe.view&&typeof fe.view!="string"&&!fe.view.priority&&(fe.view.priority=7),fe}const oe=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class W extends d.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(le){super(le),le.config.define(u,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const le=this.editor;le.model.schema.extend("$text",{allowAttributes:u}),le.model.schema.setAttributeProperties(u,{isFormatting:!0,copyOnEnter:!0});const pe=le.config.get("fontSize.supportAllValues"),Ke=T(this.editor.config.get("fontSize.options")).filter(ut=>ut.model),nt=_(u,Ke);pe?(this._prepareAnyValueConverters(nt),this._prepareCompatibilityConverter()):le.conversion.attributeToElement(nt),le.commands.add(u,new v(le))}_prepareAnyValueConverters(le){const pe=this.editor,Ke=le.model.values.filter(nt=>!(0,p.isLength)(String(nt))&&!(0,p.isPercentage)(String(nt)));if(Ke.length)throw new he.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:Ke});pe.conversion.for("downcast").attributeToElement({model:u,view:(nt,{writer:ut})=>{if(nt)return ut.createAttributeElement("span",{style:"font-size:"+nt},{priority:7})}}),pe.conversion.for("upcast").elementToAttribute({model:{key:u,value:nt=>nt.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:u,value:le=>{const pe=le.getAttribute("size"),Ke=pe[0]==="-"||pe[0]==="+";let nt=parseInt(pe,10);Ke&&(nt=3+nt);const ut=oe.length-1,wt=Math.min(Math.max(nt,0),ut);return oe[wt]}}})}}var te=K(591),S=K.n(te),X=K(485),de={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};S()(X.A,de),X.A.locals;const _e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class Ae extends d.Plugin{static get pluginName(){return"FontSizeUI"}init(){const le=this.editor,pe=le.t,Ke=this._getLocalizedOptions(),nt=le.commands.get(u),ut=pe("Font Size"),wt=function(Ft,Wt){const Lt=new he.Collection;for(const Yt of Ft){const bt={type:"button",model:new s.ViewModel({commandName:u,commandParam:Yt.model,label:Yt.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};Yt.view&&typeof Yt.view!="string"&&(Yt.view.styles&&bt.model.set("labelStyle",`font-size:${Yt.view.styles["font-size"]}`),Yt.view.classes&&bt.model.set("class",`${bt.model.class} ${Yt.view.classes}`)),bt.model.bind("isOn").to(Wt,"value",Xe=>Xe===Yt.model),Lt.add(bt)}return Lt}(Ke,nt);le.ui.componentFactory.add(u,Ft=>{const Wt=(0,s.createDropdown)(Ft);return(0,s.addListToDropdown)(Wt,wt,{role:"menu",ariaLabel:ut}),Wt.buttonView.set({label:ut,icon:_e,tooltip:!0}),Wt.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),Wt.bind("isEnabled").to(nt),this.listenTo(Wt,"execute",Lt=>{le.execute(Lt.source.commandName,{value:Lt.source.commandParam}),le.editing.view.focus()}),Wt}),le.ui.componentFactory.add(`menuBar:${u}`,Ft=>{const Wt=new s.MenuBarMenuView(Ft);Wt.buttonView.set({label:ut,icon:_e}),Wt.bind("isEnabled").to(nt);const Lt=new s.MenuBarMenuListView(Ft);for(const Yt of wt){const bt=new s.MenuBarMenuListItemView(Ft,Wt),Xe=new s.MenuBarMenuListItemButtonView(Ft);Xe.bind(...Object.keys(Yt.model)).to(Yt.model),Xe.bind("ariaChecked").to(Xe,"isOn"),Xe.delegate("execute").to(Wt),Xe.on("execute",()=>{le.execute(Yt.model.commandName,{value:Yt.model.commandParam}),le.editing.view.focus()}),bt.children.add(Xe),Lt.items.add(bt)}return Wt.panelView.children.add(Lt),Wt})}_getLocalizedOptions(){const le=this.editor,pe=le.t,Ke={Default:pe("Default"),Tiny:pe("Tiny"),Small:pe("Small"),Big:pe("Big"),Huge:pe("Huge")};return T(le.config.get(u).options).map(nt=>{const ut=Ke[nt.title];return ut&&ut!=nt.title&&(nt=Object.assign({},nt,{title:ut})),nt})}}class rt extends d.Plugin{static get requires(){return[W,Ae]}static get pluginName(){return"FontSize"}normalizeSizeOptions(le){return T(le)}}class et extends f{constructor(le){super(le,P)}}class J extends d.Plugin{static get pluginName(){return"FontColorEditing"}constructor(le){super(le),le.config.define(P,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),le.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:P,value:D("color")}}),le.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:P,value:pe=>pe.getAttribute("color")}}),le.conversion.for("downcast").attributeToElement({model:P,view:I("color")}),le.commands.add(P,new et(le)),le.model.schema.extend("$text",{allowAttributes:P}),le.model.schema.setAttributeProperties(P,{isFormatting:!0,copyOnEnter:!0})}}class Z extends d.Plugin{constructor(le,{commandName:pe,componentName:Ke,icon:nt,dropdownLabel:ut}){super(le),this.commandName=pe,this.componentName=Ke,this.icon=nt,this.dropdownLabel=ut,this.columns=le.config.get(`${this.componentName}.columns`)}init(){const le=this.editor,pe=le.locale,Ke=pe.t,nt=le.commands.get(this.commandName),ut=le.config.get(this.componentName),wt=(0,s.normalizeColorOptions)(ut.colors),Ft=(0,s.getLocalizedColorOptions)(pe,wt),Wt=ut.documentColors,Lt=ut.colorPicker!==!1;le.ui.componentFactory.add(this.componentName,Yt=>{const bt=(0,s.createDropdown)(Yt);let Xe=!1;const kt=function({dropdownView:bi,colors:fi,columns:Di,removeButtonLabel:Yi,colorPickerLabel:Ii,documentColorsLabel:$i,documentColorsCount:ht,colorPickerViewConfig:G}){const ce=bi.locale,Ie=new s.ColorSelectorView(ce,{colors:fi,columns:Di,removeButtonLabel:Yi,colorPickerLabel:Ii,documentColorsLabel:$i,documentColorsCount:ht,colorPickerViewConfig:G});return bi.colorSelectorView=Ie,bi.panelView.children.add(Ie),Ie}({dropdownView:bt,colors:Ft.map(bi=>({label:bi.label,color:bi.model,options:{hasBorder:bi.hasBorder}})),columns:this.columns,removeButtonLabel:Ke("Remove color"),colorPickerLabel:Ke("Color picker"),documentColorsLabel:Wt!==0?Ke("Document colors"):"",documentColorsCount:Wt===void 0?this.columns:Wt,colorPickerViewConfig:!!Lt&&(ut.colorPicker||{})});return kt.bind("selectedColor").to(nt,"value"),bt.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),bt.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),bt.bind("isEnabled").to(nt),kt.on("execute",(bi,fi)=>{bt.isOpen&&le.execute(this.commandName,{value:fi.value,batch:this._undoStepBatch}),fi.source!=="colorPicker"&&le.editing.view.focus(),fi.source==="colorPickerSaveButton"&&(bt.isOpen=!1)}),kt.on("colorPicker:show",()=>{this._undoStepBatch=le.model.createBatch()}),kt.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(bt.isOpen=!1,le.execute("undo",this._undoStepBatch)),le.editing.view.focus()}),bt.on("change:isOpen",(bi,fi,Di)=>{Xe||(Xe=!0,bt.colorSelectorView.appendUI()),Di&&(Wt!==0&&kt.updateDocumentColors(le.model,this.componentName),kt.updateSelectedColors(),kt.showColorGridsFragment())}),(0,s.focusChildOnDropdownOpen)(bt,()=>bt.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(bi=>bi.isOn)),bt}),le.ui.componentFactory.add(`menuBar:${this.componentName}`,Yt=>{const bt=new s.MenuBarMenuView(Yt);bt.buttonView.set({label:this.dropdownLabel,icon:this.icon}),bt.bind("isEnabled").to(nt);let Xe=!1;const kt=new s.ColorSelectorView(Yt,{colors:Ft.map(bi=>({label:bi.label,color:bi.model,options:{hasBorder:bi.hasBorder}})),columns:this.columns,removeButtonLabel:Ke("Remove color"),colorPickerLabel:Ke("Color picker"),documentColorsLabel:Wt!==0?Ke("Document colors"):"",documentColorsCount:Wt===void 0?this.columns:Wt,colorPickerViewConfig:!1});return kt.bind("selectedColor").to(nt,"value"),kt.delegate("execute").to(bt),kt.on("execute",(bi,fi)=>{le.execute(this.commandName,{value:fi.value,batch:this._undoStepBatch}),le.editing.view.focus()}),bt.on("change:isOpen",(bi,fi,Di)=>{Xe||(Xe=!0,kt.appendUI()),Di&&(Wt!==0&&kt.updateDocumentColors(le.model,this.componentName),kt.updateSelectedColors(),kt.showColorGridsFragment())}),bt.panelView.children.add(kt),bt})}}class Ce extends Z{constructor(le){const pe=le.locale.t;super(le,{commandName:P,componentName:P,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:pe("Font Color")})}static get pluginName(){return"FontColorUI"}}class Oe extends d.Plugin{static get requires(){return[J,Ce]}static get pluginName(){return"FontColor"}}class xe extends f{constructor(le){super(le,b)}}class q extends d.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(le){super(le),le.config.define(b,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),le.data.addStyleProcessorRules(p.addBackgroundRules),le.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:b,value:D("background-color")}}),le.conversion.for("downcast").attributeToElement({model:b,view:I("background-color")}),le.commands.add(b,new xe(le)),le.model.schema.extend("$text",{allowAttributes:b}),le.model.schema.setAttributeProperties(b,{isFormatting:!0,copyOnEnter:!0})}}class Le extends Z{constructor(le){const pe=le.locale.t;super(le,{commandName:b,componentName:b,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:pe("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class He extends d.Plugin{static get requires(){return[q,Le]}static get pluginName(){return"FontBackgroundColor"}}class ot extends d.Plugin{static get requires(){return[w,rt,Oe,He]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={707:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},179:(d,f,s)=>{d.exports=s(237)("./src/paragraph.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Heading:()=>$,HeadingButtonsUI:()=>we,HeadingEditing:()=>b,HeadingUI:()=>U,Title:()=>p});var d=K(782),f=K(179),s=K(584);class u extends d.Command{constructor(X,de){super(X),this.modelElements=de}refresh(){const X=(0,s.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!X&&this.modelElements.includes(X.name)&&X.name,this.isEnabled=!!X&&this.modelElements.some(de=>y(X,de,this.editor.model.schema))}execute(X){const de=this.editor.model,_e=de.document,Ae=X.value;de.change(rt=>{const et=Array.from(_e.selection.getSelectedBlocks()).filter(J=>y(J,Ae,de.schema));for(const J of et)J.is("element",Ae)||rt.rename(J,Ae)})}}function y(S,X,de){return de.checkChild(S.parent,X)&&!de.isObject(S)}const P="paragraph";class b extends d.Plugin{static get pluginName(){return"HeadingEditing"}constructor(X){super(X),X.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[f.Paragraph]}init(){const X=this.editor,de=X.config.get("heading.options"),_e=[];for(const Ae of de)Ae.model!=="paragraph"&&(X.model.schema.register(Ae.model,{inheritAllFrom:"$block"}),X.conversion.elementToElement(Ae),_e.push(Ae.model));this._addDefaultH1Conversion(X),X.commands.add("heading",new u(X,_e))}afterInit(){const X=this.editor,de=X.commands.get("enter"),_e=X.config.get("heading.options");de&&this.listenTo(de,"afterExecute",(Ae,rt)=>{const et=X.model.document.selection.getFirstPosition().parent;_e.some(J=>et.is("element",J.model))&&!et.is("element",P)&&et.childCount===0&&rt.writer.rename(et,P)})}_addDefaultH1Conversion(X){X.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:s.priorities.low+1})}}var _=K(311);function D(S){const X=S.t,de={Paragraph:X("Paragraph"),"Heading 1":X("Heading 1"),"Heading 2":X("Heading 2"),"Heading 3":X("Heading 3"),"Heading 4":X("Heading 4"),"Heading 5":X("Heading 5"),"Heading 6":X("Heading 6")};return S.config.get("heading.options").map(_e=>{const Ae=de[_e.title];return Ae&&Ae!=_e.title&&(_e.title=Ae),_e})}var I=K(591),V=K.n(I),ye=K(707),ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};V()(ye.A,ne),ye.A.locals;class U extends d.Plugin{static get pluginName(){return"HeadingUI"}init(){const X=this.editor,de=X.t,_e=D(X),Ae=de("Choose heading"),rt=de("Heading");X.ui.componentFactory.add("heading",et=>{const J={},Z=new s.Collection,Ce=X.commands.get("heading"),Oe=X.commands.get("paragraph"),xe=[Ce];for(const Le of _e){const He={type:"button",model:new _.ViewModel({label:Le.title,class:Le.class,role:"menuitemradio",withText:!0})};Le.model==="paragraph"?(He.model.bind("isOn").to(Oe,"value"),He.model.set("commandName","paragraph"),xe.push(Oe)):(He.model.bind("isOn").to(Ce,"value",ot=>ot===Le.model),He.model.set({commandName:"heading",commandValue:Le.model})),Z.add(He),J[Le.model]=Le.title}const q=(0,_.createDropdown)(et);return(0,_.addListToDropdown)(q,Z,{ariaLabel:rt,role:"menu"}),q.buttonView.set({ariaLabel:rt,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:rt}),q.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),q.bind("isEnabled").toMany(xe,"isEnabled",(...Le)=>Le.some(He=>He)),q.buttonView.bind("label").to(Ce,"value",Oe,"value",(Le,He)=>{const ot=He?"paragraph":Le;return typeof ot=="boolean"?Ae:J[ot]?J[ot]:Ae}),q.buttonView.bind("ariaLabel").to(Ce,"value",Oe,"value",(Le,He)=>{const ot=He?"paragraph":Le;return typeof ot=="boolean"?rt:J[ot]?`${J[ot]}, ${rt}`:rt}),this.listenTo(q,"execute",Le=>{const{commandName:He,commandValue:ot}=Le.source;X.execute(He,ot?{value:ot}:void 0),X.editing.view.focus()}),q}),X.ui.componentFactory.add("menuBar:heading",et=>{const J=new _.MenuBarMenuView(et),Z=X.commands.get("heading"),Ce=X.commands.get("paragraph"),Oe=[Z],xe=new _.MenuBarMenuListView(et);J.set({class:"ck-heading-dropdown"}),xe.set({ariaLabel:de("Heading"),role:"menu"}),J.buttonView.set({label:de("Heading")}),J.panelView.children.add(xe);for(const q of _e){const Le=new _.MenuBarMenuListItemView(et,J),He=new _.MenuBarMenuListItemButtonView(et);Le.children.add(He),xe.items.add(Le),He.set({label:q.title,role:"menuitemradio",class:q.class}),He.bind("ariaChecked").to(He,"isOn"),He.delegate("execute").to(J),He.on("execute",()=>{const ot=q.model==="paragraph"?"paragraph":"heading";X.execute(ot,{value:q.model}),X.editing.view.focus()}),q.model==="paragraph"?(He.bind("isOn").to(Ce,"value"),Oe.push(Ce)):He.bind("isOn").to(Z,"value",ot=>ot===q.model)}return J.bind("isEnabled").toMany(Oe,"isEnabled",(...q)=>q.some(Le=>Le)),J})}}class $ extends d.Plugin{static get requires(){return[b,U]}static get pluginName(){return"Heading"}}const he={heading1:d.icons.heading1,heading2:d.icons.heading2,heading3:d.icons.heading3,heading4:d.icons.heading4,heading5:d.icons.heading5,heading6:d.icons.heading6};class we extends d.Plugin{init(){D(this.editor).filter(X=>X.model!=="paragraph").map(X=>this._createButton(X))}_createButton(X){const de=this.editor;de.ui.componentFactory.add(X.model,_e=>{const Ae=new _.ButtonView(_e),rt=de.commands.get("heading");return Ae.label=X.title,Ae.icon=X.icon||he[X.model],Ae.tooltip=!0,Ae.isToggleable=!0,Ae.bind("isEnabled").to(rt),Ae.bind("isOn").to(rt,"value",et=>et==X.model),Ae.on("execute",()=>{de.execute("heading",{value:X.model}),de.editing.view.focus()}),Ae})}}var g=K(783);const w=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class p extends d.Plugin{constructor(){super(...arguments),this._bodyPlaceholder=new Map}static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const X=this.editor,de=X.model;de.schema.register("title",{isBlock:!0,allowIn:"$root"}),de.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),de.schema.extend("$text",{allowIn:"title-content"}),de.schema.addAttributeCheck(_e=>{if(_e.endsWith("title-content $text"))return!1}),X.editing.mapper.on("modelToViewPosition",T(X.editing.view)),X.data.mapper.on("modelToViewPosition",T(X.editing.view)),X.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),X.conversion.for("downcast").add(_e=>_e.on("insert:title",(Ae,rt,et)=>{et.consumable.consume(rt.item,Ae.name)})),X.data.upcastDispatcher.on("element:h1",v,{priority:"high"}),X.data.upcastDispatcher.on("element:h2",v,{priority:"high"}),X.data.upcastDispatcher.on("element:h3",v,{priority:"high"}),de.document.registerPostFixer(_e=>this._fixTitleContent(_e)),de.document.registerPostFixer(_e=>this._fixTitleElement(_e)),de.document.registerPostFixer(_e=>this._fixBodyElement(_e)),de.document.registerPostFixer(_e=>this._fixExtraParagraph(_e)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(X={}){const de=X.rootName?X.rootName:void 0,_e=this._getTitleElement(de).getChild(0);return this.editor.data.stringify(_e,X)}getBody(X={}){const de=this.editor,_e=de.data,Ae=de.model,rt=X.rootName?X.rootName:void 0,et=de.model.document.getRoot(rt),J=de.editing.view,Z=new g.DowncastWriter(J.document),Ce=Ae.createRangeIn(et),Oe=Z.createDocumentFragment(),xe=Ae.createPositionAfter(et.getChild(0)),q=Ae.createRange(xe,Ae.createPositionAt(et,"end")),Le=new Map;for(const He of Ae.markers){const ot=q.getIntersection(He.getRange());ot&&Le.set(He.name,ot)}return _e.mapper.clearBindings(),_e.mapper.bindElements(et,Oe),_e.downcastDispatcher.convert(Ce,Le,Z,X),Z.remove(Z.createRangeOn(Oe.getChild(0))),de.data.processor.toData(Oe)}_getTitleElement(X){const de=this.editor.model.document.getRoot(X);for(const _e of de.getChildren())if(L(_e))return _e}_fixTitleContent(X){let de=!1;for(const _e of this.editor.model.document.getRootNames()){const Ae=this._getTitleElement(_e);if(!Ae||Ae.maxOffset===1)continue;const rt=Array.from(Ae.getChildren());rt.shift();for(const et of rt)X.move(X.createRangeOn(et),Ae,"after"),X.rename(et,"paragraph");de=!0}return de}_fixTitleElement(X){let de=!1;const _e=this.editor.model;for(const Ae of this.editor.model.document.getRoots()){const rt=Array.from(Ae.getChildren()).filter(L),et=rt[0],J=Ae.getChild(0);if(J.is("element","title"))rt.length>1&&(oe(rt,X,_e),de=!0);else if(et||w.has(J.name))w.has(J.name)?O(J,X,_e):X.move(X.createRangeOn(et),Ae,0),oe(rt,X,_e),de=!0;else{const Z=X.createElement("title");X.insert(Z,Ae),X.insertElement("title-content",Z),de=!0}}return de}_fixBodyElement(X){let de=!1;for(const _e of this.editor.model.document.getRootNames()){const Ae=this.editor.model.document.getRoot(_e);if(Ae.childCount<2){const rt=X.createElement("paragraph");X.insert(rt,Ae,1),this._bodyPlaceholder.set(_e,rt),de=!0}}return de}_fixExtraParagraph(X){let de=!1;for(const _e of this.editor.model.document.getRootNames()){const Ae=this.editor.model.document.getRoot(_e),rt=this._bodyPlaceholder.get(_e);te(rt,Ae)&&(this._bodyPlaceholder.delete(_e),X.remove(rt),de=!0)}return de}_attachPlaceholders(){const X=this.editor,de=X.t,_e=X.editing.view,Ae=X.sourceElement,rt=X.config.get("title.placeholder")||de("Type your title"),et=X.config.get("placeholder")||Ae&&Ae.tagName.toLowerCase()==="textarea"&&Ae.getAttribute("placeholder")||de("Type or paste your content here.");X.editing.downcastDispatcher.on("insert:title-content",(Z,Ce,Oe)=>{const xe=Oe.mapper.toViewElement(Ce.item);xe.placeholder=rt,(0,g.enablePlaceholder)({view:_e,element:xe,keepOnFocus:!0})});const J=new Map;_e.document.registerPostFixer(Z=>{let Ce=!1;for(const Oe of _e.document.roots){if(Oe.isEmpty)continue;const xe=Oe.getChild(1),q=J.get(Oe.rootName);xe!==q&&(q&&((0,g.hidePlaceholder)(Z,q),Z.removeAttribute("data-placeholder",q)),Z.setAttribute("data-placeholder",et,xe),J.set(Oe.rootName,xe),Ce=!0),Ce=(0,g.needsPlaceholder)(xe,!0)&&Oe.childCount===2&&xe.name==="p"?!!(0,g.showPlaceholder)(Z,xe)||Ce:!!(0,g.hidePlaceholder)(Z,xe)||Ce}return Ce})}_attachTabPressHandling(){const X=this.editor,de=X.model;X.keystrokes.set("TAB",(_e,Ae)=>{de.change(rt=>{const et=de.document.selection,J=Array.from(et.getSelectedBlocks());if(J.length===1&&J[0].is("element","title-content")){const Z=et.getFirstPosition().root.getChild(1);rt.setSelection(Z,0),Ae()}})}),X.keystrokes.set("SHIFT + TAB",(_e,Ae)=>{de.change(rt=>{const et=de.document.selection;if(!et.isCollapsed)return;const J=(0,s.first)(et.getSelectedBlocks()),Z=et.getFirstPosition(),Ce=X.model.document.getRoot(Z.root.rootName),Oe=Ce.getChild(0);J===Ce.getChild(1)&&Z.isAtStart&&(rt.setSelection(Oe.getChild(0),0),Ae())})})}}function v(S,X,de){const _e=X.modelCursor,Ae=X.viewItem;if(!_e.isAtStart||!_e.parent.is("element","$root")||!de.consumable.consume(Ae,{name:!0}))return;const rt=de.writer,et=rt.createElement("title"),J=rt.createElement("title-content");rt.append(J,et),rt.insert(et,_e),de.convertChildren(Ae,J),de.updateConversionResult(et,X)}function T(S){return(X,de)=>{const _e=de.modelPosition.parent;if(!_e.is("element","title"))return;const Ae=_e.parent,rt=de.mapper.toViewElement(Ae);de.viewPosition=S.createPositionAt(rt,0),X.stop()}}function L(S){return S.is("element","title")}function O(S,X,de){const _e=X.createElement("title");X.insert(_e,S,"before"),X.insert(S,_e,0),X.rename(S,"title-content"),de.schema.removeDisallowedAttributes([S],X)}function oe(S,X,de){let _e=!1;for(const Ae of S)Ae.index!==0&&(W(Ae,X,de),_e=!0);return _e}function W(S,X,de){const _e=S.getChild(0);_e.isEmpty?X.remove(S):(X.move(X.createRangeOn(_e),S,"before"),X.rename(_e,"paragraph"),X.remove(S),de.schema.removeDisallowedAttributes([_e],X))}function te(S,X){return!(!S||!S.is("element","paragraph")||S.childCount)&&!(X.childCount<=2||X.getChild(X.childCount-1)!==S)}})(),(window.CKEditor5=window.CKEditor5||{}).heading=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={809:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Highlight:()=>V,HighlightEditing:()=>s,HighlightUI:()=>D});var d=K(782);class f extends d.Command{refresh(){const ne=this.editor.model,U=ne.document;this.value=U.selection.getAttribute("highlight"),this.isEnabled=ne.schema.checkAttributeInSelection(U.selection,"highlight")}execute(ne={}){const U=this.editor.model,$=U.document.selection,he=ne.value;U.change(we=>{if($.isCollapsed){const g=$.getFirstPosition();if($.hasAttribute("highlight")){const w=L=>L.item.hasAttribute("highlight")&&L.item.getAttribute("highlight")===this.value,p=g.getLastMatchingPosition(w,{direction:"backward"}),v=g.getLastMatchingPosition(w),T=we.createRange(p,v);he&&this.value!==he?(g.isEqual(v)||we.setAttribute("highlight",he,T),we.setSelectionAttribute("highlight",he)):(g.isEqual(v)||we.removeAttribute("highlight",T),we.removeSelectionAttribute("highlight"))}else he&&we.setSelectionAttribute("highlight",he)}else{const g=U.schema.getValidRanges($.getRanges(),"highlight");for(const w of g)he?we.setAttribute("highlight",he,w):we.removeAttribute("highlight",w)}})}}class s extends d.Plugin{static get pluginName(){return"HighlightEditing"}constructor(ne){super(ne),ne.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const ne=this.editor;ne.model.schema.extend("$text",{allowAttributes:"highlight"});const U=ne.config.get("highlight.options");ne.conversion.attributeToElement(function($){const he={model:{key:"highlight",values:[]},view:{}};for(const we of $)he.model.values.push(we.model),he.view[we.model]={name:"mark",classes:we.class};return he}(U)),ne.commands.add("highlight",new f(ne))}}var u=K(311),y=K(591),P=K.n(y),b=K(809),_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(b.A,_),b.A.locals;class D extends d.Plugin{get localizedOptionTitles(){const ne=this.editor.t;return{"Yellow marker":ne("Yellow marker"),"Green marker":ne("Green marker"),"Pink marker":ne("Pink marker"),"Blue marker":ne("Blue marker"),"Red pen":ne("Red pen"),"Green pen":ne("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const ne=this.editor.config.get("highlight.options");for(const U of ne)this._addHighlighterButton(U);this._addRemoveHighlightButton(),this._addDropdown(ne),this._addMenuBarButton(ne)}_addRemoveHighlightButton(){const ne=this.editor.t,U=this.editor.commands.get("highlight");this._addButton("removeHighlight",ne("Remove highlight"),d.icons.eraser,null,$=>{$.bind("isEnabled").to(U,"isEnabled")})}_addHighlighterButton(ne){const U=this.editor.commands.get("highlight");this._addButton("highlight:"+ne.model,ne.title,I(ne.type),ne.model,function($){$.bind("isEnabled").to(U,"isEnabled"),$.bind("isOn").to(U,"value",he=>he===ne.model),$.iconView.fillColor=ne.color,$.isToggleable=!0})}_addButton(ne,U,$,he,we){const g=this.editor;g.ui.componentFactory.add(ne,w=>{const p=new u.ButtonView(w),v=this.localizedOptionTitles[U]?this.localizedOptionTitles[U]:U;return p.set({label:v,icon:$,tooltip:!0}),p.on("execute",()=>{g.execute("highlight",{value:he}),g.editing.view.focus()}),we(p),p})}_addDropdown(ne){const U=this.editor,$=U.t,he=U.ui.componentFactory,we=ne[0],g=ne.reduce((w,p)=>(w[p.model]=p,w),{});he.add("highlight",w=>{const p=U.commands.get("highlight"),v=(0,u.createDropdown)(w,u.SplitButtonView),T=v.buttonView;T.set({label:$("Highlight"),tooltip:!0,lastExecuted:we.model,commandValue:we.model,isToggleable:!0}),T.bind("icon").to(p,"value",O=>I(L(O,"type"))),T.bind("color").to(p,"value",O=>L(O,"color")),T.bind("commandValue").to(p,"value",O=>L(O,"model")),T.bind("isOn").to(p,"value",O=>!!O),T.delegate("execute").to(v);function L(O,oe){const W=O&&O!==T.lastExecuted?O:T.lastExecuted;return g[W][oe]}return v.bind("isEnabled").to(p,"isEnabled"),(0,u.addToolbarToDropdown)(v,()=>{const O=ne.map(oe=>{const W=he.create("highlight:"+oe.model);return this.listenTo(W,"execute",()=>{v.buttonView.set({lastExecuted:oe.model})}),W});return O.push(new u.ToolbarSeparatorView),O.push(he.create("removeHighlight")),O},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:$("Text highlight toolbar")}),function(O){O.buttonView.actionView.iconView.bind("fillColor").to(O.buttonView,"color")}(v),T.on("execute",()=>{U.execute("highlight",{value:T.commandValue})}),this.listenTo(v,"execute",()=>{U.editing.view.focus()}),v})}_addMenuBarButton(ne){const U=this.editor,$=U.t;U.ui.componentFactory.add("menuBar:highlight",he=>{const we=U.commands.get("highlight"),g=new u.MenuBarMenuView(he);g.buttonView.set({label:$("Highlight"),icon:I("marker")}),g.bind("isEnabled").to(we),g.buttonView.iconView.fillColor="transparent";const w=new u.MenuBarMenuListView(he);for(const T of ne){const L=new u.MenuBarMenuListItemView(he,g),O=new u.MenuBarMenuListItemButtonView(he);O.set({label:T.title,icon:I(T.type)}),O.delegate("execute").to(g),O.bind("isOn").to(we,"value",oe=>oe===T.model),O.bind("ariaChecked").to(O,"isOn"),O.iconView.bind("fillColor").to(O,"isOn",oe=>oe?"transparent":T.color),O.on("execute",()=>{U.execute("highlight",{value:T.model}),U.editing.view.focus()}),L.children.add(O),w.items.add(L)}w.items.add(new u.ListSeparatorView(he));const p=new u.MenuBarMenuListItemView(he,g),v=new u.MenuBarMenuListItemButtonView(he);return v.set({label:$("Remove highlight"),icon:d.icons.eraser}),v.delegate("execute").to(g),v.on("execute",()=>{U.execute("highlight",{value:null}),U.editing.view.focus()}),p.children.add(v),w.items.add(p),g.panelView.children.add(w),g})}}function I(ye){return ye==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class V extends d.Plugin{static get requires(){return[s,D]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={199:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{HtmlEmbed:()=>U,HtmlEmbedEditing:()=>V,HtmlEmbedUI:()=>ne});var d=K(782),f=K(901),s=K(311),u=K(584);class y extends d.Command{refresh(){const he=this.editor.model,we=he.schema,g=he.document.selection,w=P(g);this.isEnabled=function(p,v,T){const L=function(O,oe){const W=(0,f.findOptimalInsertionRange)(O,oe),te=W.start.parent;return te.isEmpty&&!te.is("rootElement")?te.parent:te}(p,T);return v.checkChild(L,"rawHtml")}(g,we,he),this.value=w?w.getAttribute("value")||"":null}execute(he){const we=this.editor.model,g=we.document.selection;we.change(w=>{let p;this.value!==null?p=P(g):(p=w.createElement("rawHtml"),we.insertObject(p,null,null,{setSelection:"on"})),w.setAttribute("value",he,p)})}}function P($){const he=$.getSelectedElement();return he&&he.is("element","rawHtml")?he:null}var b=K(591),_=K.n(b),D=K(199),I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};_()(D.A,I),D.A.locals;class V extends d.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(he){super(he),this._widgetButtonViewReferences=new Set,he.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:we=>((0,u.logWarning)("html-embed-provide-sanitize-function"),{html:we,hasChanged:!1})})}init(){const he=this.editor;he.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),he.commands.add("htmlEmbed",new y(he)),this._setupConversion()}_setupConversion(){const he=this.editor,we=he.t,g=he.editing.view,w=this._widgetButtonViewReferences,p=he.config.get("htmlEmbed");function v({editor:L,domElement:O,state:oe,props:W}){O.textContent="";const te=O.ownerDocument;let S;if(oe.isEditable){const de={isDisabled:!1,placeholder:W.textareaPlaceholder};S=T({domDocument:te,state:oe,props:de}),O.append(S)}else if(oe.showPreviews){const de={sanitizeHtml:W.sanitizeHtml};O.append(function({editor:_e,domDocument:Ae,state:rt,props:et}){const J=et.sanitizeHtml(rt.getRawHtmlValue()),Z=rt.getRawHtmlValue().length>0?we("No preview available"):we("Empty snippet content"),Ce=(0,u.createElement)(Ae,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},Z),Oe=(0,u.createElement)(Ae,"div",{class:"raw-html-embed__preview-content",dir:_e.locale.contentLanguageDirection}),xe=Ae.createRange(),q=xe.createContextualFragment(J.html);return Oe.appendChild(q),(0,u.createElement)(Ae,"div",{class:"raw-html-embed__preview"},[Ce,Oe])}({domDocument:te,state:oe,props:de,editor:L}))}else{const de={isDisabled:!0,placeholder:W.textareaPlaceholder};O.append(T({domDocument:te,state:oe,props:de}))}const X={onEditClick:W.onEditClick,onSaveClick:()=>{W.onSaveClick(S.value)},onCancelClick:W.onCancelClick};O.prepend(function({editor:de,domDocument:_e,state:Ae,props:rt}){const et=(0,u.createElement)(_e,"div",{class:"raw-html-embed__buttons-wrapper"});if(Ae.isEditable){const J=ye(de,"save",rt.onSaveClick),Z=ye(de,"cancel",rt.onCancelClick);et.append(J.element,Z.element),w.add(J).add(Z)}else{const J=ye(de,"edit",rt.onEditClick);et.append(J.element),w.add(J)}return et}({editor:L,domDocument:te,state:oe,props:X}))}function T({domDocument:L,state:O,props:oe}){const W=(0,u.createElement)(L,"textarea",{placeholder:oe.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return W.disabled=oe.isDisabled,W.value=O.getRawHtmlValue(),W}this.editor.editing.view.on("render",()=>{for(const L of w){if(L.element&&L.element.isConnected)return;L.destroy(),w.delete(L)}},{priority:"lowest"}),he.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),he.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(L,{writer:O})=>O.createElement("rawHtml",{value:L.getCustomProperty("$rawContent")})}),he.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(L,{writer:O})=>O.createRawElement("div",{class:"raw-html-embed"},function(oe){oe.innerHTML=L.getAttribute("value")||""})}),he.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(L,{writer:O})=>{let oe,W,te;const S=O.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(_e){oe=_e,v({editor:he,domElement:_e,state:W,props:te}),oe.addEventListener("mousedown",()=>{if(W.isEditable){const Ae=he.model;Ae.document.selection.getSelectedElement()!==L&&Ae.change(rt=>rt.setSelection(L,"on"))}},!0)}),X={makeEditable(){W=Object.assign({},W,{isEditable:!0}),v({domElement:oe,editor:he,state:W,props:te}),g.change(_e=>{_e.setAttribute("data-cke-ignore-events","true",S)}),oe.querySelector("textarea").focus()},save(_e){_e!==W.getRawHtmlValue()?(he.execute("htmlEmbed",_e),he.editing.view.focus()):this.cancel()},cancel(){W=Object.assign({},W,{isEditable:!1}),v({domElement:oe,editor:he,state:W,props:te}),he.editing.view.focus(),g.change(_e=>{_e.removeAttribute("data-cke-ignore-events",S)})}};W={showPreviews:p.showPreviews,isEditable:!1,getRawHtmlValue:()=>L.getAttribute("value")||""},te={sanitizeHtml:p.sanitizeHtml,textareaPlaceholder:we("Paste raw HTML here..."),onEditClick(){X.makeEditable()},onSaveClick(_e){X.save(_e)},onCancelClick(){X.cancel()}};const de=O.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":we("HTML snippet"),dir:he.locale.uiLanguageDirection},S);return O.setCustomProperty("rawHtmlApi",X,de),O.setCustomProperty("rawHtml",!0,de),(0,f.toWidget)(de,O,{label:we("HTML snippet"),hasSelectionHandle:!0})}})}}function ye($,he,we){const{t:g}=$.locale,w=new s.ButtonView($.locale),p=$.commands.get("htmlEmbed");return w.set({class:`raw-html-embed__${he}-button`,icon:d.icons.pencil,tooltip:!0,tooltipPosition:$.locale.uiLanguageDirection==="rtl"?"e":"w"}),w.render(),he==="edit"?(w.set({icon:d.icons.pencil,label:g("Edit source")}),w.bind("isEnabled").to(p)):he==="save"?(w.set({icon:d.icons.check,label:g("Save changes")}),w.bind("isEnabled").to(p)):w.set({icon:d.icons.cancel,label:g("Cancel")}),w.on("execute",we),w}class ne extends d.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const he=this.editor,we=he.locale.t;he.ui.componentFactory.add("htmlEmbed",()=>{const g=this._createButton(s.ButtonView);return g.set({tooltip:!0,label:we("Insert HTML")}),g}),he.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const g=this._createButton(s.MenuBarMenuListItemButtonView);return g.set({label:we("HTML snippet")}),g})}_createButton(he){const we=this.editor,g=we.commands.get("htmlEmbed"),w=new he(we.locale);return w.set({icon:d.icons.html}),w.bind("isEnabled").to(g,"isEnabled"),this.listenTo(w,"execute",()=>{we.execute("htmlEmbed"),we.editing.view.focus(),we.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),w}}class U extends d.Plugin{static get requires(){return[V,ne,f.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Horizontal line":"Horizontal line"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={427:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{HorizontalLine:()=>V,HorizontalLineEditing:()=>_,HorizontalLineUI:()=>I});var d=K(782),f=K(901);class s extends d.Command{refresh(){const ne=this.editor.model,U=ne.schema,$=ne.document.selection;this.isEnabled=function(he,we,g){const w=function(p,v){const T=(0,f.findOptimalInsertionRange)(p,v),L=T.start.parent;return L.isEmpty&&!L.is("element","$root")?L.parent:L}(he,g);return we.checkChild(w,"horizontalLine")}($,U,ne)}execute(){const ne=this.editor.model;ne.change(U=>{const $=U.createElement("horizontalLine");ne.insertObject($,null,null,{setSelection:"after"})})}}var u=K(591),y=K.n(u),P=K(427),b={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(P.A,b),P.A.locals;class _ extends d.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const ne=this.editor,U=ne.model.schema,$=ne.t,he=ne.conversion;U.register("horizontalLine",{inheritAllFrom:"$blockObject"}),he.for("dataDowncast").elementToElement({model:"horizontalLine",view:(we,{writer:g})=>g.createEmptyElement("hr")}),he.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(we,{writer:g})=>{const w=$("Horizontal line"),p=g.createContainerElement("div",null,g.createEmptyElement("hr"));return g.addClass("ck-horizontal-line",p),g.setCustomProperty("hr",!0,p),function(v,T,L){return T.setCustomProperty("horizontalLine",!0,v),(0,f.toWidget)(v,T,{label:L})}(p,g,w)}}),he.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),ne.commands.add("horizontalLine",new s(ne))}}var D=K(311);class I extends d.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const ne=this.editor;ne.ui.componentFactory.add("horizontalLine",()=>{const U=this._createButton(D.ButtonView);return U.set({tooltip:!0}),U}),ne.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(D.MenuBarMenuListItemButtonView))}_createButton(ne){const U=this.editor,$=U.locale,he=U.commands.get("horizontalLine"),we=new ne(U.locale),g=$.t;return we.set({label:g("Horizontal line"),icon:d.icons.horizontalLine}),we.bind("isEnabled").to(he,"isEnabled"),this.listenTo(we,"execute",()=>{U.execute("horizontalLine"),U.editing.view.focus()}),we}}class V extends d.Plugin{static get requires(){return[_,I,f.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=ai})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},237:d=>{"use strict";d.exports=CKEditor5.dll},662:()=>{}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Markdown:()=>xt,PasteFromMarkdownExperimental:()=>Rt});var d=K(782),f=K(783);function s(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let u={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const y=/[&<>"']/,P=/[&<>"']/g,b=/[<>"']|&(?!#?\w+;)/,_=/[<>"']|&(?!#?\w+;)/g,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I=ve=>D[ve];function V(ve,j){if(j){if(y.test(ve))return ve.replace(P,I)}else if(b.test(ve))return ve.replace(_,I);return ve}const ye=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ne(ve){return ve.replace(ye,(j,B)=>(B=B.toLowerCase())==="colon"?":":B.charAt(0)==="#"?B.charAt(1)==="x"?String.fromCharCode(parseInt(B.substring(2),16)):String.fromCharCode(+B.substring(1)):"")}const U=/(^|[^\[])\^/g;function $(ve,j){ve=ve.source||ve,j=j||"";const B={replace:(Y,Te)=>(Te=(Te=Te.source||Te).replace(U,"$1"),ve=ve.replace(Y,Te),B),getRegex:()=>new RegExp(ve,j)};return B}const he=/[^\w:]/g,we=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(ve,j,B){if(ve){let Y;try{Y=decodeURIComponent(ne(B)).replace(he,"").toLowerCase()}catch{return null}if(Y.indexOf("javascript:")===0||Y.indexOf("vbscript:")===0||Y.indexOf("data:")===0)return null}j&&!we.test(B)&&(B=function(Y,Te){w[" "+Y]||(p.test(Y)?w[" "+Y]=Y+"/":w[" "+Y]=W(Y,"/",!0)),Y=w[" "+Y];const Ne=Y.indexOf(":")===-1;return Te.substring(0,2)==="//"?Ne?Te:Y.replace(v,"$1")+Te:Te.charAt(0)==="/"?Ne?Te:Y.replace(T,"$1")+Te:Y+Te}(j,B));try{B=encodeURI(B).replace(/%25/g,"%")}catch{return null}return B}const w={},p=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,T=/^([^:]+:\/*[^/]*)[\s\S]*$/,L={exec:function(){}};function O(ve){let j,B,Y=1;for(;Y<arguments.length;Y++)for(B in j=arguments[Y],j)Object.prototype.hasOwnProperty.call(j,B)&&(ve[B]=j[B]);return ve}function oe(ve,j){const B=ve.replace(/\|/g,(Te,Ne,ee)=>{let Pe=!1,ze=Ne;for(;--ze>=0&&ee[ze]==="\\";)Pe=!Pe;return Pe?"|":" |"}).split(/ \|/);let Y=0;if(B[0].trim()||B.shift(),B.length>0&&!B[B.length-1].trim()&&B.pop(),B.length>j)B.splice(j);else for(;B.length<j;)B.push("");for(;Y<B.length;Y++)B[Y]=B[Y].trim().replace(/\\\|/g,"|");return B}function W(ve,j,B){const Y=ve.length;if(Y===0)return"";let Te=0;for(;Te<Y;){const Ne=ve.charAt(Y-Te-1);if(Ne!==j||B){if(Ne===j||!B)break;Te++}else Te++}return ve.substr(0,Y-Te)}function te(ve){ve&&ve.sanitize&&!ve.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function S(ve,j){if(j<1)return"";let B="";for(;j>1;)1&j&&(B+=ve),j>>=1,ve+=ve;return B+ve}function X(ve,j,B,Y){const Te=j.href,Ne=j.title?V(j.title):null,ee=ve[1].replace(/\\([\[\]])/g,"$1");if(ve[0].charAt(0)!=="!"){Y.state.inLink=!0;const Pe={type:"link",raw:B,href:Te,title:Ne,text:ee,tokens:Y.inlineTokens(ee,[])};return Y.state.inLink=!1,Pe}return{type:"image",raw:B,href:Te,title:Ne,text:V(ee)}}class de{constructor(j){this.options=j||u}space(j){const B=this.rules.block.newline.exec(j);if(B&&B[0].length>0)return{type:"space",raw:B[0]}}code(j){const B=this.rules.block.code.exec(j);if(B){const Y=B[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:B[0],codeBlockStyle:"indented",text:this.options.pedantic?Y:W(Y,`
`)}}}fences(j){const B=this.rules.block.fences.exec(j);if(B){const Y=B[0],Te=function(Ne,ee){const Pe=Ne.match(/^(\s+)(?:```)/);if(Pe===null)return ee;const ze=Pe[1];return ee.split(`
`).map(Qe=>{const dt=Qe.match(/^\s+/);if(dt===null)return Qe;const[Kt]=dt;return Kt.length>=ze.length?Qe.slice(ze.length):Qe}).join(`
`)}(Y,B[3]||"");return{type:"code",raw:Y,lang:B[2]?B[2].trim():B[2],text:Te}}}heading(j){const B=this.rules.block.heading.exec(j);if(B){let Y=B[2].trim();if(/#$/.test(Y)){const Ne=W(Y,"#");this.options.pedantic?Y=Ne.trim():Ne&&!/ $/.test(Ne)||(Y=Ne.trim())}const Te={type:"heading",raw:B[0],depth:B[1].length,text:Y,tokens:[]};return this.lexer.inline(Te.text,Te.tokens),Te}}hr(j){const B=this.rules.block.hr.exec(j);if(B)return{type:"hr",raw:B[0]}}blockquote(j){const B=this.rules.block.blockquote.exec(j);if(B){const Y=B[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:B[0],tokens:this.lexer.blockTokens(Y,[]),text:Y}}}list(j){let B=this.rules.block.list.exec(j);if(B){let Y,Te,Ne,ee,Pe,ze,Qe,dt,Kt,Et,ni,yi,gi=B[1].trim();const xi=gi.length>1,Li={type:"list",raw:"",ordered:xi,start:xi?+gi.slice(0,-1):"",loose:!1,items:[]};gi=xi?`\\d{1,9}\\${gi.slice(-1)}`:`\\${gi}`,this.options.pedantic&&(gi=xi?gi:"[*+-]");const mn=new RegExp(`^( {0,3}${gi})((?: [^\\n]*)?(?:\\n|$))`);for(;j&&(yi=!1,B=mn.exec(j))&&!this.rules.block.hr.test(j);){if(Y=B[0],j=j.substring(Y.length),dt=B[2].split(`
`,1)[0],Kt=j.split(`
`,1)[0],this.options.pedantic?(ee=2,ni=dt.trimLeft()):(ee=B[2].search(/[^ ]/),ee=ee>4?1:ee,ni=dt.slice(ee),ee+=B[1].length),ze=!1,!dt&&/^ *$/.test(Kt)&&(Y+=Kt+`
`,j=j.substring(Kt.length+1),yi=!0),!yi){const vn=new RegExp(`^ {0,${Math.min(3,ee-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;j&&(Et=j.split(`
`,1)[0],dt=Et,this.options.pedantic&&(dt=dt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!vn.test(dt));){if(dt.search(/[^ ]/)>=ee||!dt.trim())ni+=`
`+dt.slice(ee);else{if(ze)break;ni+=`
`+dt}ze||dt.trim()||(ze=!0),Y+=Et+`
`,j=j.substring(Et.length+1)}}Li.loose||(Qe?Li.loose=!0:/\n *\n *$/.test(Y)&&(Qe=!0)),this.options.gfm&&(Te=/^\[[ xX]\] /.exec(ni),Te&&(Ne=Te[0]!=="[ ] ",ni=ni.replace(/^\[[ xX]\] +/,""))),Li.items.push({type:"list_item",raw:Y,task:!!Te,checked:Ne,loose:!1,text:ni}),Li.raw+=Y}Li.items[Li.items.length-1].raw=Y.trimRight(),Li.items[Li.items.length-1].text=ni.trimRight(),Li.raw=Li.raw.trimRight();const jn=Li.items.length;for(Pe=0;Pe<jn;Pe++){this.lexer.state.top=!1,Li.items[Pe].tokens=this.lexer.blockTokens(Li.items[Pe].text,[]);const vn=Li.items[Pe].tokens.filter(In=>In.type==="space"),Ln=vn.every(In=>{const Jn=In.raw.split("");let cn=0;for(const fo of Jn)if(fo===`
`&&(cn+=1),cn>1)return!0;return!1});!Li.loose&&vn.length&&Ln&&(Li.loose=!0,Li.items[Pe].loose=!0)}return Li}}html(j){const B=this.rules.block.html.exec(j);if(B){const Y={type:"html",raw:B[0],pre:!this.options.sanitizer&&(B[1]==="pre"||B[1]==="script"||B[1]==="style"),text:B[0]};return this.options.sanitize&&(Y.type="paragraph",Y.text=this.options.sanitizer?this.options.sanitizer(B[0]):V(B[0]),Y.tokens=[],this.lexer.inline(Y.text,Y.tokens)),Y}}def(j){const B=this.rules.block.def.exec(j);if(B)return B[3]&&(B[3]=B[3].substring(1,B[3].length-1)),{type:"def",tag:B[1].toLowerCase().replace(/\s+/g," "),raw:B[0],href:B[2],title:B[3]}}table(j){const B=this.rules.block.table.exec(j);if(B){const Y={type:"table",header:oe(B[1]).map(Te=>({text:Te})),align:B[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:B[3]&&B[3].trim()?B[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Y.header.length===Y.align.length){Y.raw=B[0];let Te,Ne,ee,Pe,ze=Y.align.length;for(Te=0;Te<ze;Te++)/^ *-+: *$/.test(Y.align[Te])?Y.align[Te]="right":/^ *:-+: *$/.test(Y.align[Te])?Y.align[Te]="center":/^ *:-+ *$/.test(Y.align[Te])?Y.align[Te]="left":Y.align[Te]=null;for(ze=Y.rows.length,Te=0;Te<ze;Te++)Y.rows[Te]=oe(Y.rows[Te],Y.header.length).map(Qe=>({text:Qe}));for(ze=Y.header.length,Ne=0;Ne<ze;Ne++)Y.header[Ne].tokens=[],this.lexer.inlineTokens(Y.header[Ne].text,Y.header[Ne].tokens);for(ze=Y.rows.length,Ne=0;Ne<ze;Ne++)for(Pe=Y.rows[Ne],ee=0;ee<Pe.length;ee++)Pe[ee].tokens=[],this.lexer.inlineTokens(Pe[ee].text,Pe[ee].tokens);return Y}}}lheading(j){const B=this.rules.block.lheading.exec(j);if(B){const Y={type:"heading",raw:B[0],depth:B[2].charAt(0)==="="?1:2,text:B[1],tokens:[]};return this.lexer.inline(Y.text,Y.tokens),Y}}paragraph(j){const B=this.rules.block.paragraph.exec(j);if(B){const Y={type:"paragraph",raw:B[0],text:B[1].charAt(B[1].length-1)===`
`?B[1].slice(0,-1):B[1],tokens:[]};return this.lexer.inline(Y.text,Y.tokens),Y}}text(j){const B=this.rules.block.text.exec(j);if(B){const Y={type:"text",raw:B[0],text:B[0],tokens:[]};return this.lexer.inline(Y.text,Y.tokens),Y}}escape(j){const B=this.rules.inline.escape.exec(j);if(B)return{type:"escape",raw:B[0],text:V(B[1])}}tag(j){const B=this.rules.inline.tag.exec(j);if(B)return!this.lexer.state.inLink&&/^<a /i.test(B[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(B[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(B[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(B[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:B[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(B[0]):V(B[0]):B[0]}}link(j){const B=this.rules.inline.link.exec(j);if(B){const Y=B[2].trim();if(!this.options.pedantic&&/^</.test(Y)){if(!/>$/.test(Y))return;const ee=W(Y.slice(0,-1),"\\");if((Y.length-ee.length)%2==0)return}else{const ee=function(Pe,ze){if(Pe.indexOf(ze[1])===-1)return-1;const Qe=Pe.length;let dt=0,Kt=0;for(;Kt<Qe;Kt++)if(Pe[Kt]==="\\")Kt++;else if(Pe[Kt]===ze[0])dt++;else if(Pe[Kt]===ze[1]&&(dt--,dt<0))return Kt;return-1}(B[2],"()");if(ee>-1){const Pe=(B[0].indexOf("!")===0?5:4)+B[1].length+ee;B[2]=B[2].substring(0,ee),B[0]=B[0].substring(0,Pe).trim(),B[3]=""}}let Te=B[2],Ne="";if(this.options.pedantic){const ee=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Te);ee&&(Te=ee[1],Ne=ee[3])}else Ne=B[3]?B[3].slice(1,-1):"";return Te=Te.trim(),/^</.test(Te)&&(Te=this.options.pedantic&&!/>$/.test(Y)?Te.slice(1):Te.slice(1,-1)),X(B,{href:Te&&Te.replace(this.rules.inline._escapes,"$1"),title:Ne&&Ne.replace(this.rules.inline._escapes,"$1")},B[0],this.lexer)}}reflink(j,B){let Y;if((Y=this.rules.inline.reflink.exec(j))||(Y=this.rules.inline.nolink.exec(j))){let Te=(Y[2]||Y[1]).replace(/\s+/g," ");if(Te=B[Te.toLowerCase()],!Te||!Te.href){const Ne=Y[0].charAt(0);return{type:"text",raw:Ne,text:Ne}}return X(Y,Te,Y[0],this.lexer)}}emStrong(j,B,Y=""){let Te=this.rules.inline.emStrong.lDelim.exec(j);if(!Te||Te[3]&&Y.match(/[\p{L}\p{N}]/u))return;const Ne=Te[1]||Te[2]||"";if(!Ne||Ne&&(Y===""||this.rules.inline.punctuation.exec(Y))){const ee=Te[0].length-1;let Pe,ze,Qe=ee,dt=0;const Kt=Te[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Kt.lastIndex=0,B=B.slice(-1*j.length+ee);(Te=Kt.exec(B))!=null;){if(Pe=Te[1]||Te[2]||Te[3]||Te[4]||Te[5]||Te[6],!Pe)continue;if(ze=Pe.length,Te[3]||Te[4]){Qe+=ze;continue}if((Te[5]||Te[6])&&ee%3&&!((ee+ze)%3)){dt+=ze;continue}if(Qe-=ze,Qe>0)continue;if(ze=Math.min(ze,ze+Qe+dt),Math.min(ee,ze)%2){const ni=j.slice(1,ee+Te.index+ze);return{type:"em",raw:j.slice(0,ee+Te.index+ze+1),text:ni,tokens:this.lexer.inlineTokens(ni,[])}}const Et=j.slice(2,ee+Te.index+ze-1);return{type:"strong",raw:j.slice(0,ee+Te.index+ze+1),text:Et,tokens:this.lexer.inlineTokens(Et,[])}}}}codespan(j){const B=this.rules.inline.code.exec(j);if(B){let Y=B[2].replace(/\n/g," ");const Te=/[^ ]/.test(Y),Ne=/^ /.test(Y)&&/ $/.test(Y);return Te&&Ne&&(Y=Y.substring(1,Y.length-1)),Y=V(Y,!0),{type:"codespan",raw:B[0],text:Y}}}br(j){const B=this.rules.inline.br.exec(j);if(B)return{type:"br",raw:B[0]}}del(j){const B=this.rules.inline.del.exec(j);if(B)return{type:"del",raw:B[0],text:B[2],tokens:this.lexer.inlineTokens(B[2],[])}}autolink(j,B){const Y=this.rules.inline.autolink.exec(j);if(Y){let Te,Ne;return Y[2]==="@"?(Te=V(this.options.mangle?B(Y[1]):Y[1]),Ne="mailto:"+Te):(Te=V(Y[1]),Ne=Te),{type:"link",raw:Y[0],text:Te,href:Ne,tokens:[{type:"text",raw:Te,text:Te}]}}}url(j,B){let Y;if(Y=this.rules.inline.url.exec(j)){let Te,Ne;if(Y[2]==="@")Te=V(this.options.mangle?B(Y[0]):Y[0]),Ne="mailto:"+Te;else{let ee;do ee=Y[0],Y[0]=this.rules.inline._backpedal.exec(Y[0])[0];while(ee!==Y[0]);Te=V(Y[0]),Ne=Y[1]==="www."?"http://"+Te:Te}return{type:"link",raw:Y[0],text:Te,href:Ne,tokens:[{type:"text",raw:Te,text:Te}]}}}inlineText(j,B){const Y=this.rules.inline.text.exec(j);if(Y){let Te;return Te=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Y[0]):V(Y[0]):Y[0]:V(this.options.smartypants?B(Y[0]):Y[0]),{type:"text",raw:Y[0],text:Te}}}}const _e={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};_e.def=$(_e.def).replace("label",_e._label).replace("title",_e._title).getRegex(),_e.bullet=/(?:[*+-]|\d{1,9}[.)])/,_e.listItemStart=$(/^( *)(bull) */).replace("bull",_e.bullet).getRegex(),_e.list=$(_e.list).replace(/bull/g,_e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_e.def.source+")").getRegex(),_e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_e._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,_e.html=$(_e.html,"i").replace("comment",_e._comment).replace("tag",_e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_e.paragraph=$(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex(),_e.blockquote=$(_e.blockquote).replace("paragraph",_e.paragraph).getRegex(),_e.normal=O({},_e),_e.gfm=O({},_e.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_e.gfm.table=$(_e.gfm.table).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex(),_e.gfm.paragraph=$(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_e.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex(),_e.pedantic=O({},_e.normal,{html:$(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:$(_e.normal._paragraph).replace("hr",_e.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_e.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ae={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function rt(ve){return ve.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function et(ve){let j,B,Y="";const Te=ve.length;for(j=0;j<Te;j++)B=ve.charCodeAt(j),Math.random()>.5&&(B="x"+B.toString(16)),Y+="&#"+B+";";return Y}Ae._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ae.punctuation=$(Ae.punctuation).replace(/punctuation/g,Ae._punctuation).getRegex(),Ae.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ae.escapedEmSt=/\\\*|\\_/g,Ae._comment=$(_e._comment).replace("(?:-->|$)","-->").getRegex(),Ae.emStrong.lDelim=$(Ae.emStrong.lDelim).replace(/punct/g,Ae._punctuation).getRegex(),Ae.emStrong.rDelimAst=$(Ae.emStrong.rDelimAst,"g").replace(/punct/g,Ae._punctuation).getRegex(),Ae.emStrong.rDelimUnd=$(Ae.emStrong.rDelimUnd,"g").replace(/punct/g,Ae._punctuation).getRegex(),Ae._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ae._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ae._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ae.autolink=$(Ae.autolink).replace("scheme",Ae._scheme).replace("email",Ae._email).getRegex(),Ae._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ae.tag=$(Ae.tag).replace("comment",Ae._comment).replace("attribute",Ae._attribute).getRegex(),Ae._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ae._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ae._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ae.link=$(Ae.link).replace("label",Ae._label).replace("href",Ae._href).replace("title",Ae._title).getRegex(),Ae.reflink=$(Ae.reflink).replace("label",Ae._label).replace("ref",_e._label).getRegex(),Ae.nolink=$(Ae.nolink).replace("ref",_e._label).getRegex(),Ae.reflinkSearch=$(Ae.reflinkSearch,"g").replace("reflink",Ae.reflink).replace("nolink",Ae.nolink).getRegex(),Ae.normal=O({},Ae),Ae.pedantic=O({},Ae.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",Ae._label).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ae._label).getRegex()}),Ae.gfm=O({},Ae.normal,{escape:$(Ae.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ae.gfm.url=$(Ae.gfm.url,"i").replace("email",Ae.gfm._extended_email).getRegex(),Ae.breaks=O({},Ae.gfm,{br:$(Ae.br).replace("{2,}","*").getRegex(),text:$(Ae.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class J{constructor(j){this.tokens=[],this.tokens.links=Object.create(null),this.options=j||u,this.options.tokenizer=this.options.tokenizer||new de,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const B={block:_e.normal,inline:Ae.normal};this.options.pedantic?(B.block=_e.pedantic,B.inline=Ae.pedantic):this.options.gfm&&(B.block=_e.gfm,this.options.breaks?B.inline=Ae.breaks:B.inline=Ae.gfm),this.tokenizer.rules=B}static get rules(){return{block:_e,inline:Ae}}static lex(j,B){return new J(B).lex(j)}static lexInline(j,B){return new J(B).inlineTokens(j)}lex(j){let B;for(j=j.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(j,this.tokens);B=this.inlineQueue.shift();)this.inlineTokens(B.src,B.tokens);return this.tokens}blockTokens(j,B=[]){let Y,Te,Ne,ee;for(this.options.pedantic&&(j=j.replace(/^ +$/gm,""));j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Pe=>!!(Y=Pe.call({lexer:this},j,B))&&(j=j.substring(Y.raw.length),B.push(Y),!0))))if(Y=this.tokenizer.space(j))j=j.substring(Y.raw.length),Y.raw.length===1&&B.length>0?B[B.length-1].raw+=`
`:B.push(Y);else if(Y=this.tokenizer.code(j))j=j.substring(Y.raw.length),Te=B[B.length-1],!Te||Te.type!=="paragraph"&&Te.type!=="text"?B.push(Y):(Te.raw+=`
`+Y.raw,Te.text+=`
`+Y.text,this.inlineQueue[this.inlineQueue.length-1].src=Te.text);else if(Y=this.tokenizer.fences(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.heading(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.hr(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.blockquote(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.list(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.html(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.def(j))j=j.substring(Y.raw.length),Te=B[B.length-1],!Te||Te.type!=="paragraph"&&Te.type!=="text"?this.tokens.links[Y.tag]||(this.tokens.links[Y.tag]={href:Y.href,title:Y.title}):(Te.raw+=`
`+Y.raw,Te.text+=`
`+Y.raw,this.inlineQueue[this.inlineQueue.length-1].src=Te.text);else if(Y=this.tokenizer.table(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.lheading(j))j=j.substring(Y.raw.length),B.push(Y);else{if(Ne=j,this.options.extensions&&this.options.extensions.startBlock){let Pe=1/0;const ze=j.slice(1);let Qe;this.options.extensions.startBlock.forEach(function(dt){Qe=dt.call({lexer:this},ze),typeof Qe=="number"&&Qe>=0&&(Pe=Math.min(Pe,Qe))}),Pe<1/0&&Pe>=0&&(Ne=j.substring(0,Pe+1))}if(this.state.top&&(Y=this.tokenizer.paragraph(Ne)))Te=B[B.length-1],ee&&Te.type==="paragraph"?(Te.raw+=`
`+Y.raw,Te.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Te.text):B.push(Y),ee=Ne.length!==j.length,j=j.substring(Y.raw.length);else if(Y=this.tokenizer.text(j))j=j.substring(Y.raw.length),Te=B[B.length-1],Te&&Te.type==="text"?(Te.raw+=`
`+Y.raw,Te.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Te.text):B.push(Y);else if(j){const Pe="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Pe);break}throw new Error(Pe)}}return this.state.top=!0,B}inline(j,B){this.inlineQueue.push({src:j,tokens:B})}inlineTokens(j,B=[]){let Y,Te,Ne,ee,Pe,ze,Qe=j;if(this.tokens.links){const dt=Object.keys(this.tokens.links);if(dt.length>0)for(;(ee=this.tokenizer.rules.inline.reflinkSearch.exec(Qe))!=null;)dt.includes(ee[0].slice(ee[0].lastIndexOf("[")+1,-1))&&(Qe=Qe.slice(0,ee.index)+"["+S("a",ee[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ee=this.tokenizer.rules.inline.blockSkip.exec(Qe))!=null;)Qe=Qe.slice(0,ee.index)+"["+S("a",ee[0].length-2)+"]"+Qe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ee=this.tokenizer.rules.inline.escapedEmSt.exec(Qe))!=null;)Qe=Qe.slice(0,ee.index)+"++"+Qe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;)if(Pe||(ze=""),Pe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(dt=>!!(Y=dt.call({lexer:this},j,B))&&(j=j.substring(Y.raw.length),B.push(Y),!0))))if(Y=this.tokenizer.escape(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.tag(j))j=j.substring(Y.raw.length),Te=B[B.length-1],Te&&Y.type==="text"&&Te.type==="text"?(Te.raw+=Y.raw,Te.text+=Y.text):B.push(Y);else if(Y=this.tokenizer.link(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.reflink(j,this.tokens.links))j=j.substring(Y.raw.length),Te=B[B.length-1],Te&&Y.type==="text"&&Te.type==="text"?(Te.raw+=Y.raw,Te.text+=Y.text):B.push(Y);else if(Y=this.tokenizer.emStrong(j,Qe,ze))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.codespan(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.br(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.del(j))j=j.substring(Y.raw.length),B.push(Y);else if(Y=this.tokenizer.autolink(j,et))j=j.substring(Y.raw.length),B.push(Y);else if(this.state.inLink||!(Y=this.tokenizer.url(j,et))){if(Ne=j,this.options.extensions&&this.options.extensions.startInline){let dt=1/0;const Kt=j.slice(1);let Et;this.options.extensions.startInline.forEach(function(ni){Et=ni.call({lexer:this},Kt),typeof Et=="number"&&Et>=0&&(dt=Math.min(dt,Et))}),dt<1/0&&dt>=0&&(Ne=j.substring(0,dt+1))}if(Y=this.tokenizer.inlineText(Ne,rt))j=j.substring(Y.raw.length),Y.raw.slice(-1)!=="_"&&(ze=Y.raw.slice(-1)),Pe=!0,Te=B[B.length-1],Te&&Te.type==="text"?(Te.raw+=Y.raw,Te.text+=Y.text):B.push(Y);else if(j){const dt="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(dt);break}throw new Error(dt)}}else j=j.substring(Y.raw.length),B.push(Y);return B}}class Z{constructor(j){this.options=j||u}code(j,B,Y){const Te=(B||"").match(/\S*/)[0];if(this.options.highlight){const Ne=this.options.highlight(j,Te);Ne!=null&&Ne!==j&&(Y=!0,j=Ne)}return j=j.replace(/\n$/,"")+`
`,Te?'<pre><code class="'+this.options.langPrefix+V(Te,!0)+'">'+(Y?j:V(j,!0))+`</code></pre>
`:"<pre><code>"+(Y?j:V(j,!0))+`</code></pre>
`}blockquote(j){return`<blockquote>
`+j+`</blockquote>
`}html(j){return j}heading(j,B,Y,Te){return this.options.headerIds?"<h"+B+' id="'+this.options.headerPrefix+Te.slug(Y)+'">'+j+"</h"+B+`>
`:"<h"+B+">"+j+"</h"+B+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(j,B,Y){const Te=B?"ol":"ul";return"<"+Te+(B&&Y!==1?' start="'+Y+'"':"")+`>
`+j+"</"+Te+`>
`}listitem(j){return"<li>"+j+`</li>
`}checkbox(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(j){return"<p>"+j+`</p>
`}table(j,B){return B&&(B="<tbody>"+B+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+B+`</table>
`}tablerow(j){return`<tr>
`+j+`</tr>
`}tablecell(j,B){const Y=B.header?"th":"td";return(B.align?"<"+Y+' align="'+B.align+'">':"<"+Y+">")+j+"</"+Y+`>
`}strong(j){return"<strong>"+j+"</strong>"}em(j){return"<em>"+j+"</em>"}codespan(j){return"<code>"+j+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(j){return"<del>"+j+"</del>"}link(j,B,Y){if((j=g(this.options.sanitize,this.options.baseUrl,j))===null)return Y;let Te='<a href="'+V(j)+'"';return B&&(Te+=' title="'+B+'"'),Te+=">"+Y+"</a>",Te}image(j,B,Y){if((j=g(this.options.sanitize,this.options.baseUrl,j))===null)return Y;let Te='<img src="'+j+'" alt="'+Y+'"';return B&&(Te+=' title="'+B+'"'),Te+=this.options.xhtml?"/>":">",Te}text(j){return j}}class Ce{strong(j){return j}em(j){return j}codespan(j){return j}del(j){return j}html(j){return j}text(j){return j}link(j,B,Y){return""+Y}image(j,B,Y){return""+Y}br(){return""}}class Oe{constructor(){this.seen={}}serialize(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(j,B){let Y=j,Te=0;if(this.seen.hasOwnProperty(Y)){Te=this.seen[j];do Te++,Y=j+"-"+Te;while(this.seen.hasOwnProperty(Y))}return B||(this.seen[j]=Te,this.seen[Y]=0),Y}slug(j,B={}){const Y=this.serialize(j);return this.getNextSafeSlug(Y,B.dryrun)}}class xe{constructor(j){this.options=j||u,this.options.renderer=this.options.renderer||new Z,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ce,this.slugger=new Oe}static parse(j,B){return new xe(B).parse(j)}static parseInline(j,B){return new xe(B).parseInline(j)}parse(j,B=!0){let Y,Te,Ne,ee,Pe,ze,Qe,dt,Kt,Et,ni,yi,gi,xi,Li,mn,jn,vn,Ln,In="";const Jn=j.length;for(Y=0;Y<Jn;Y++)if(Et=j[Y],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Et.type]&&(Ln=this.options.extensions.renderers[Et.type].call({parser:this},Et),Ln!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Et.type)))In+=Ln||"";else switch(Et.type){case"space":continue;case"hr":In+=this.renderer.hr();continue;case"heading":In+=this.renderer.heading(this.parseInline(Et.tokens),Et.depth,ne(this.parseInline(Et.tokens,this.textRenderer)),this.slugger);continue;case"code":In+=this.renderer.code(Et.text,Et.lang,Et.escaped);continue;case"table":for(dt="",Qe="",ee=Et.header.length,Te=0;Te<ee;Te++)Qe+=this.renderer.tablecell(this.parseInline(Et.header[Te].tokens),{header:!0,align:Et.align[Te]});for(dt+=this.renderer.tablerow(Qe),Kt="",ee=Et.rows.length,Te=0;Te<ee;Te++){for(ze=Et.rows[Te],Qe="",Pe=ze.length,Ne=0;Ne<Pe;Ne++)Qe+=this.renderer.tablecell(this.parseInline(ze[Ne].tokens),{header:!1,align:Et.align[Ne]});Kt+=this.renderer.tablerow(Qe)}In+=this.renderer.table(dt,Kt);continue;case"blockquote":Kt=this.parse(Et.tokens),In+=this.renderer.blockquote(Kt);continue;case"list":for(ni=Et.ordered,yi=Et.start,gi=Et.loose,ee=Et.items.length,Kt="",Te=0;Te<ee;Te++)Li=Et.items[Te],mn=Li.checked,jn=Li.task,xi="",Li.task&&(vn=this.renderer.checkbox(mn),gi?Li.tokens.length>0&&Li.tokens[0].type==="paragraph"?(Li.tokens[0].text=vn+" "+Li.tokens[0].text,Li.tokens[0].tokens&&Li.tokens[0].tokens.length>0&&Li.tokens[0].tokens[0].type==="text"&&(Li.tokens[0].tokens[0].text=vn+" "+Li.tokens[0].tokens[0].text)):Li.tokens.unshift({type:"text",text:vn}):xi+=vn),xi+=this.parse(Li.tokens,gi),Kt+=this.renderer.listitem(xi,jn,mn);In+=this.renderer.list(Kt,ni,yi);continue;case"html":In+=this.renderer.html(Et.text);continue;case"paragraph":In+=this.renderer.paragraph(this.parseInline(Et.tokens));continue;case"text":for(Kt=Et.tokens?this.parseInline(Et.tokens):Et.text;Y+1<Jn&&j[Y+1].type==="text";)Et=j[++Y],Kt+=`
`+(Et.tokens?this.parseInline(Et.tokens):Et.text);In+=B?this.renderer.paragraph(Kt):Kt;continue;default:{const cn='Token with "'+Et.type+'" type was not found.';if(this.options.silent)return void console.error(cn);throw new Error(cn)}}return In}parseInline(j,B){B=B||this.renderer;let Y,Te,Ne,ee="";const Pe=j.length;for(Y=0;Y<Pe;Y++)if(Te=j[Y],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Te.type]&&(Ne=this.options.extensions.renderers[Te.type].call({parser:this},Te),Ne!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Te.type)))ee+=Ne||"";else switch(Te.type){case"escape":case"text":ee+=B.text(Te.text);break;case"html":ee+=B.html(Te.text);break;case"link":ee+=B.link(Te.href,Te.title,this.parseInline(Te.tokens,B));break;case"image":ee+=B.image(Te.href,Te.title,Te.text);break;case"strong":ee+=B.strong(this.parseInline(Te.tokens,B));break;case"em":ee+=B.em(this.parseInline(Te.tokens,B));break;case"codespan":ee+=B.codespan(Te.text);break;case"br":ee+=B.br();break;case"del":ee+=B.del(this.parseInline(Te.tokens,B));break;default:{const ze='Token with "'+Te.type+'" type was not found.';if(this.options.silent)return void console.error(ze);throw new Error(ze)}}return ee}}function q(ve,j,B){if(ve==null)throw new Error("marked(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");if(typeof j=="function"&&(B=j,j=null),te(j=O({},q.defaults,j||{})),B){const Y=j.highlight;let Te;try{Te=J.lex(ve,j)}catch(Pe){return B(Pe)}const Ne=function(Pe){let ze;if(!Pe)try{j.walkTokens&&q.walkTokens(Te,j.walkTokens),ze=xe.parse(Te,j)}catch(Qe){Pe=Qe}return j.highlight=Y,Pe?B(Pe):B(null,ze)};if(!Y||Y.length<3||(delete j.highlight,!Te.length))return Ne();let ee=0;return q.walkTokens(Te,function(Pe){Pe.type==="code"&&(ee++,setTimeout(()=>{Y(Pe.text,Pe.lang,function(ze,Qe){if(ze)return Ne(ze);Qe!=null&&Qe!==Pe.text&&(Pe.text=Qe,Pe.escaped=!0),ee--,ee===0&&Ne()})},0))}),void(ee===0&&Ne())}try{const Y=J.lex(ve,j);return j.walkTokens&&q.walkTokens(Y,j.walkTokens),xe.parse(Y,j)}catch(Y){if(Y.message+=`
Please report this to https://github.com/markedjs/marked.`,j.silent)return"<p>An error occurred:</p><pre>"+V(Y.message+"",!0)+"</pre>";throw Y}}q.options=q.setOptions=function(ve){var j;return O(q.defaults,ve),j=q.defaults,u=j,q},q.getDefaults=s,q.defaults=u,q.use=function(...ve){const j=O({},...ve),B=q.defaults.extensions||{renderers:{},childTokens:{}};let Y;ve.forEach(Te=>{if(Te.extensions&&(Y=!0,Te.extensions.forEach(Ne=>{if(!Ne.name)throw new Error("extension name required");if(Ne.renderer){const ee=B.renderers?B.renderers[Ne.name]:null;B.renderers[Ne.name]=ee?function(...Pe){let ze=Ne.renderer.apply(this,Pe);return ze===!1&&(ze=ee.apply(this,Pe)),ze}:Ne.renderer}if(Ne.tokenizer){if(!Ne.level||Ne.level!=="block"&&Ne.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");B[Ne.level]?B[Ne.level].unshift(Ne.tokenizer):B[Ne.level]=[Ne.tokenizer],Ne.start&&(Ne.level==="block"?B.startBlock?B.startBlock.push(Ne.start):B.startBlock=[Ne.start]:Ne.level==="inline"&&(B.startInline?B.startInline.push(Ne.start):B.startInline=[Ne.start]))}Ne.childTokens&&(B.childTokens[Ne.name]=Ne.childTokens)})),Te.renderer){const Ne=q.defaults.renderer||new Z;for(const ee in Te.renderer){const Pe=Ne[ee];Ne[ee]=(...ze)=>{let Qe=Te.renderer[ee].apply(Ne,ze);return Qe===!1&&(Qe=Pe.apply(Ne,ze)),Qe}}j.renderer=Ne}if(Te.tokenizer){const Ne=q.defaults.tokenizer||new de;for(const ee in Te.tokenizer){const Pe=Ne[ee];Ne[ee]=(...ze)=>{let Qe=Te.tokenizer[ee].apply(Ne,ze);return Qe===!1&&(Qe=Pe.apply(Ne,ze)),Qe}}j.tokenizer=Ne}if(Te.walkTokens){const Ne=q.defaults.walkTokens;j.walkTokens=function(ee){Te.walkTokens.call(this,ee),Ne&&Ne.call(this,ee)}}Y&&(j.extensions=B),q.setOptions(j)})},q.walkTokens=function(ve,j){for(const B of ve)switch(j.call(q,B),B.type){case"table":for(const Y of B.header)q.walkTokens(Y.tokens,j);for(const Y of B.rows)for(const Te of Y)q.walkTokens(Te.tokens,j);break;case"list":q.walkTokens(B.items,j);break;default:q.defaults.extensions&&q.defaults.extensions.childTokens&&q.defaults.extensions.childTokens[B.type]?q.defaults.extensions.childTokens[B.type].forEach(function(Y){q.walkTokens(B[Y],j)}):B.tokens&&q.walkTokens(B.tokens,j)}},q.parseInline=function(ve,j){if(ve==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");te(j=O({},q.defaults,j||{}));try{const B=J.lexInline(ve,j);return j.walkTokens&&q.walkTokens(B,j.walkTokens),xe.parseInline(B,j)}catch(B){if(B.message+=`
Please report this to https://github.com/markedjs/marked.`,j.silent)return"<p>An error occurred:</p><pre>"+V(B.message+"",!0)+"</pre>";throw B}},q.Parser=xe,q.parser=xe.parse,q.Renderer=Z,q.TextRenderer=Ce,q.Lexer=J,q.lexer=J.lex,q.Tokenizer=de,q.Slugger=Oe,q.parse=q,q.options,q.setOptions,q.use,q.walkTokens,q.parseInline,xe.parse,J.lex;function Le(ve,j){return Array(j+1).join(ve)}q.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...ve){return Object.getPrototypeOf(this).checkbox.call(this,...ve).trimRight()},code(...ve){return Object.getPrototypeOf(this).code.call(this,...ve).replace(`
</code>`,"</code>")}}});var He=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function ot(ve){return He.indexOf(ve.nodeName.toLowerCase())!==-1}var fe=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function le(ve){return fe.indexOf(ve.nodeName.toLowerCase())!==-1}var pe=fe.join(),Ke={};function nt(ve){for(var j in this.options=ve,this._keep=[],this._remove=[],this.blankRule={replacement:ve.blankReplacement},this.keepReplacement=ve.keepReplacement,this.defaultRule={replacement:ve.defaultReplacement},this.array=[],ve.rules)this.array.push(ve.rules[j])}function ut(ve,j,B){for(var Y=0;Y<ve.length;Y++){var Te=ve[Y];if(wt(Te,j,B))return Te}}function wt(ve,j,B){var Y=ve.filter;if(typeof Y=="string"){if(Y===j.nodeName.toLowerCase())return!0}else if(Array.isArray(Y)){if(Y.indexOf(j.nodeName.toLowerCase())>-1)return!0}else{if(typeof Y!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(Y.call(ve,j,B))return!0}}function Ft(ve){var j=ve.nextSibling||ve.parentNode;return ve.parentNode.removeChild(ve),j}function Wt(ve,j,B){return ve&&ve.parentNode===j||B(j)?j.nextSibling||j.parentNode:j.firstChild||j.nextSibling||j.parentNode}Ke.paragraph={filter:"p",replacement:function(ve){return`

`+ve+`

`}},Ke.lineBreak={filter:"br",replacement:function(ve,j,B){return B.br+`
`}},Ke.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(ve,j,B){var Y=Number(j.nodeName.charAt(1));return B.headingStyle==="setext"&&Y<3?`

`+ve+`
`+Le(Y===1?"=":"-",ve.length)+`

`:`

`+Le("#",Y)+" "+ve+`

`}},Ke.blockquote={filter:"blockquote",replacement:function(ve){return`

`+(ve=(ve=ve.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Ke.list={filter:["ul","ol"],replacement:function(ve,j){var B=j.parentNode;return B.nodeName==="LI"&&B.lastElementChild===j?`
`+ve:`

`+ve+`

`}},Ke.listItem={filter:"li",replacement:function(ve,j,B){ve=ve.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var Y=B.bulletListMarker+"   ",Te=j.parentNode;if(Te.nodeName==="OL"){var Ne=Te.getAttribute("start"),ee=Array.prototype.indexOf.call(Te.children,j);Y=(Ne?Number(Ne)+ee:ee+1)+".  "}return Y+ve+(j.nextSibling&&!/\n$/.test(ve)?`
`:"")}},Ke.indentedCodeBlock={filter:function(ve,j){return j.codeBlockStyle==="indented"&&ve.nodeName==="PRE"&&ve.firstChild&&ve.firstChild.nodeName==="CODE"},replacement:function(ve,j,B){return`

    `+j.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Ke.fencedCodeBlock={filter:function(ve,j){return j.codeBlockStyle==="fenced"&&ve.nodeName==="PRE"&&ve.firstChild&&ve.firstChild.nodeName==="CODE"},replacement:function(ve,j,B){for(var Y,Te=((j.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],Ne=j.firstChild.textContent,ee=B.fence.charAt(0),Pe=3,ze=new RegExp("^"+ee+"{3,}","gm");Y=ze.exec(Ne);)Y[0].length>=Pe&&(Pe=Y[0].length+1);var Qe=Le(ee,Pe);return`

`+Qe+Te+`
`+Ne.replace(/\n$/,"")+`
`+Qe+`

`}},Ke.horizontalRule={filter:"hr",replacement:function(ve,j,B){return`

`+B.hr+`

`}},Ke.inlineLink={filter:function(ve,j){return j.linkStyle==="inlined"&&ve.nodeName==="A"&&ve.getAttribute("href")},replacement:function(ve,j){return"["+ve+"]("+j.getAttribute("href")+(j.title?' "'+j.title+'"':"")+")"}},Ke.referenceLink={filter:function(ve,j){return j.linkStyle==="referenced"&&ve.nodeName==="A"&&ve.getAttribute("href")},replacement:function(ve,j,B){var Y,Te,Ne=j.getAttribute("href"),ee=j.title?' "'+j.title+'"':"";switch(B.linkReferenceStyle){case"collapsed":Y="["+ve+"][]",Te="["+ve+"]: "+Ne+ee;break;case"shortcut":Y="["+ve+"]",Te="["+ve+"]: "+Ne+ee;break;default:var Pe=this.references.length+1;Y="["+ve+"]["+Pe+"]",Te="["+Pe+"]: "+Ne+ee}return this.references.push(Te),Y},references:[],append:function(ve){var j="";return this.references.length&&(j=`

`+this.references.join(`
`)+`

`,this.references=[]),j}},Ke.emphasis={filter:["em","i"],replacement:function(ve,j,B){return ve.trim()?B.emDelimiter+ve+B.emDelimiter:""}},Ke.strong={filter:["strong","b"],replacement:function(ve,j,B){return ve.trim()?B.strongDelimiter+ve+B.strongDelimiter:""}},Ke.code={filter:function(ve){var j=ve.previousSibling||ve.nextSibling,B=ve.parentNode.nodeName==="PRE"&&!j;return ve.nodeName==="CODE"&&!B},replacement:function(ve){if(!ve.trim())return"";var j="`",B="",Y="",Te=ve.match(/`+/gm);if(Te)for(/^`/.test(ve)&&(B=" "),/`$/.test(ve)&&(Y=" ");Te.indexOf(j)!==-1;)j+="`";return j+B+ve+Y+j}},Ke.image={filter:"img",replacement:function(ve,j){var B=j.alt||"",Y=j.getAttribute("src")||"",Te=j.title||"";return Y?"!["+B+"]("+Y+(Te?' "'+Te+'"':"")+")":""}},nt.prototype={add:function(ve,j){this.array.unshift(j)},keep:function(ve){this._keep.unshift({filter:ve,replacement:this.keepReplacement})},remove:function(ve){this._remove.unshift({filter:ve,replacement:function(){return""}})},forNode:function(ve){return ve.isBlank?this.blankRule:(j=ut(this.array,ve,this.options))||(j=ut(this._keep,ve,this.options))||(j=ut(this._remove,ve,this.options))?j:this.defaultRule;var j},forEach:function(ve){for(var j=0;j<this.array.length;j++)ve(this.array[j],j)}};var Lt=typeof window<"u"?window:{},Yt,bt=function(){var ve=Lt.DOMParser,j=!1;try{new ve().parseFromString("","text/html")&&(j=!0)}catch{}return j}()?Lt.DOMParser:function(){var ve=function(){},j=K(662).JSDOM;return ve.prototype.parseFromString=function(B){return new j(B).window.document},ve}();function Xe(ve){var j;return typeof ve=="string"?j=(Yt=Yt||new bt).parseFromString('<x-turndown id="turndown-root">'+ve+"</x-turndown>","text/html").getElementById("turndown-root"):j=ve.cloneNode(!0),function(B){var Y=B.element,Te=B.isBlock,Ne=B.isVoid,ee=B.isPre||function(ni){return ni.nodeName==="PRE"};if(Y.firstChild&&!ee(Y)){for(var Pe=null,ze=!1,Qe=null,dt=Wt(Qe,Y,ee);dt!==Y;){if(dt.nodeType===3||dt.nodeType===4){var Kt=dt.data.replace(/[ \r\n\t]+/g," ");if(Pe&&!/ $/.test(Pe.data)||ze||Kt[0]!==" "||(Kt=Kt.substr(1)),!Kt){dt=Ft(dt);continue}dt.data=Kt,Pe=dt}else{if(dt.nodeType!==1){dt=Ft(dt);continue}Te(dt)||dt.nodeName==="BR"?(Pe&&(Pe.data=Pe.data.replace(/ $/,"")),Pe=null,ze=!1):Ne(dt)&&(Pe=null,ze=!0)}var Et=Wt(Qe,dt,ee);Qe=dt,dt=Et}Pe&&(Pe.data=Pe.data.replace(/ $/,""),Pe.data||Ft(Pe))}}({element:j,isBlock:ot,isVoid:le}),j}function kt(ve){return ve.isBlock=ot(ve),ve.isCode=ve.nodeName.toLowerCase()==="code"||ve.parentNode.isCode,ve.isBlank=function(j){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(j.nodeName)===-1&&/^\s*$/i.test(j.textContent)&&!le(j)&&!function(B){return B.querySelector&&B.querySelector(pe)}(j)}(ve),ve.flankingWhitespace=function(j){var B="",Y="";if(!j.isBlock){var Te=/^\s/.test(j.textContent),Ne=/\s$/.test(j.textContent),ee=j.isBlank&&Te&&Ne;Te&&!bi("left",j)&&(B=" "),ee||!Ne||bi("right",j)||(Y=" ")}return{leading:B,trailing:Y}}(ve),ve}function bi(ve,j){var B,Y,Te;return ve==="left"?(B=j.previousSibling,Y=/ $/):(B=j.nextSibling,Y=/^ /),B&&(B.nodeType===3?Te=Y.test(B.nodeValue):B.nodeType!==1||ot(B)||(Te=Y.test(B.textContent))),Te}var fi=Array.prototype.reduce,Di=/^\n*/,Yi=/\n*$/,Ii=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function $i(ve){if(!(this instanceof $i))return new $i(ve);var j={rules:Ke,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(B,Y){return Y.isBlock?`

`:""},keepReplacement:function(B,Y){return Y.isBlock?`

`+Y.outerHTML+`

`:Y.outerHTML},defaultReplacement:function(B,Y){return Y.isBlock?`

`+B+`

`:B}};this.options=function(B){for(var Y=1;Y<arguments.length;Y++){var Te=arguments[Y];for(var Ne in Te)Te.hasOwnProperty(Ne)&&(B[Ne]=Te[Ne])}return B}({},j,ve),this.rules=new nt(this.options)}function ht(ve){var j=this;return fi.call(ve.childNodes,function(B,Y){var Te="";return(Y=new kt(Y)).nodeType===3?Te=Y.isCode?Y.nodeValue:j.escape(Y.nodeValue):Y.nodeType===1&&(Te=ce.call(j,Y)),Ie(B,Te)},"")}function G(ve){var j=this;return this.rules.forEach(function(B){typeof B.append=="function"&&(ve=Ie(ve,B.append(j.options)))}),ve.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ce(ve){var j=this.rules.forNode(ve),B=ht.call(this,ve),Y=ve.flankingWhitespace;return(Y.leading||Y.trailing)&&(B=B.trim()),Y.leading+j.replacement(B,ve,this.options)+Y.trailing}function Ie(ve,j){var B,Y,Te,Ne=(B=j,Y=[ve.match(Yi)[0],B.match(Di)[0]].sort(),(Te=Y[Y.length-1]).length<2?Te:`

`);return(ve=ve.replace(Yi,""))+Ne+(j=j.replace(Di,""))}$i.prototype={turndown:function(ve){if(!function(B){return B!=null&&(typeof B=="string"||B.nodeType&&(B.nodeType===1||B.nodeType===9||B.nodeType===11))}(ve))throw new TypeError(ve+" is not a string, or an element/document/fragment node.");if(ve==="")return"";var j=ht.call(this,new Xe(ve));return G.call(this,j)},use:function(ve){if(Array.isArray(ve))for(var j=0;j<ve.length;j++)this.use(ve[j]);else{if(typeof ve!="function")throw new TypeError("plugin must be a Function or an Array of Functions");ve(this)}return this},addRule:function(ve,j){return this.rules.add(ve,j),this},keep:function(ve){return this.rules.keep(ve),this},remove:function(ve){return this.rules.remove(ve),this},escape:function(ve){return Ii.reduce(function(j,B){return j.replace(B[0],B[1])},ve)}};const Ze=$i;var Ye=/highlight-(?:text|source)-([a-z0-9]+)/;function ft(ve){ve.addRule("highlightedCodeBlock",{filter:function(j){var B=j.firstChild;return j.nodeName==="DIV"&&Ye.test(j.className)&&B&&B.nodeName==="PRE"},replacement:function(j,B,Y){var Te=((B.className||"").match(Ye)||[null,""])[1];return`

`+Y.fence+Te+`
`+B.firstChild.textContent+`
`+Y.fence+`

`}})}function Tt(ve){ve.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(j){return"~"+j+"~"}})}var Vt=Array.prototype.indexOf,Bt=Array.prototype.every,ei={};function oi(ve){var j,B,Y=ve.parentNode;return Y.nodeName==="THEAD"||Y.firstChild===ve&&(Y.nodeName==="TABLE"||(B=(j=Y).previousSibling,j.nodeName==="TBODY"&&(!B||B.nodeName==="THEAD"&&/^\s*$/i.test(B.textContent))))&&Bt.call(ve.childNodes,function(Te){return Te.nodeName==="TH"})}function Mi(ve,j){var B=" ";return Vt.call(j.parentNode.childNodes,j)===0&&(B="| "),B+ve+" |"}function Pi(ve){for(var j in ve.keep(function(B){return B.nodeName==="TABLE"&&!oi(B.rows[0])}),ei)ve.addRule(j,ei[j])}function zi(ve){ve.addRule("taskListItems",{filter:function(j){return j.type==="checkbox"&&j.parentNode.nodeName==="LI"},replacement:function(j,B){return(B.checked?"[x]":"[ ]")+" "}})}ei.tableCell={filter:["th","td"],replacement:function(ve,j){return Mi(ve,j)}},ei.tableRow={filter:"tr",replacement:function(ve,j){var B="",Y={left:":--",right:"--:",center:":-:"};if(oi(j))for(var Te=0;Te<j.childNodes.length;Te++){var Ne="---",ee=(j.childNodes[Te].getAttribute("align")||"").toLowerCase();ee&&(Ne=Y[ee]||Ne),B+=Mi(Ne,j.childNodes[Te])}return`
`+ve+(B?`
`+B:"")}},ei.table={filter:function(ve){return ve.nodeName==="TABLE"&&oi(ve.rows[0])},replacement:function(ve){return`

`+(ve=ve.replace(`

`,`
`))+`

`}},ei.tableSection={filter:["thead","tbody","tfoot"],replacement:function(ve){return ve}};const mi=Ze.prototype.escape;function Ni(ve){return ve=(ve=mi(ve)).replace(/</g,"\\<")}Ze.prototype.escape=function(ve){let j="",B=0;for(const Y of function*(Te){for(const Ne of Te.matchAll(qe)){const ee=Ne[0],Pe=pt(ee);yield Object.assign([ee.substring(0,Pe)],{index:Ne.index})}}(ve)){const Te=Y.index;Te>B&&(j+=Ni(ve.substring(B,Te)));const Ne=Y[0];j+=Ne,B=Te+Ne.length}return B<ve.length&&(j+=Ni(ve.substring(B,ve.length))),j};const vt=new Ze({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});vt.use([function(ve){ve.use([ft,Tt,Pi,zi])},function(ve){ve.addRule("taskListItems",{filter:j=>j.type==="checkbox"&&(j.parentNode.nodeName==="LI"||j.parentNode.parentNode.nodeName==="LI"),replacement:(j,B)=>(B.checked?"[x]":"[ ]")+" "})}]);const qe=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function pt(ve){let j=ve.length;for(;j>0;){const B=ve[j-1];if(`?!.,:*_~'"`.includes(B))j--;else{if(B!=")")break;{let Y=0;for(let Te=0;Te<j;Te++)ve[Te]=="("?Y++:ve[Te]==")"&&Y--;if(!(Y<0))break;j--}}}return j}class Be{constructor(j){this._htmlDP=new f.HtmlDataProcessor(j)}keepHtml(j){vt.keep([j])}toView(j){const B=(Y=j,q.parse(Y,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var Y;return this._htmlDP.toView(B)}toData(j){return function(B){return vt.turndown(B)}(this._htmlDP.toData(j))}registerRawContentMatcher(j){this._htmlDP.registerRawContentMatcher(j)}useFillerType(){}}class xt extends d.Plugin{constructor(j){super(j),j.data.processor=new Be(j.data.viewDocument)}static get pluginName(){return"Markdown"}}var Zt=K(331);const Ot=["SPAN","BR","PRE","CODE"];class Rt extends d.Plugin{constructor(j){super(j),this._gfmDataProcessor=new Be(j.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get requires(){return[Zt.ClipboardPipeline]}init(){const j=this.editor,B=j.editing.view.document,Y=j.plugins.get("ClipboardPipeline");let Te=!1;this.listenTo(B,"keydown",(Ne,ee)=>{Te=ee.shiftKey}),this.listenTo(Y,"inputTransformation",(Ne,ee)=>{if(Te)return;const Pe=ee.dataTransfer.getData("text/html");if(!Pe){const Qe=ee.dataTransfer.getData("text/plain");return void(ee.content=this._gfmDataProcessor.toView(Qe))}const ze=this._parseMarkdownFromHtml(Pe);ze&&(ee.content=this._gfmDataProcessor.toView(ze))})}_parseMarkdownFromHtml(j){const B=this._removeOsSpecificTags(j);if(!this._containsOnlyAllowedFirstLevelTags(B))return null;const Y=this._removeFirstLevelWrapperTagsAndBrs(B);return this._containsAnyRemainingHtmlTags(Y)?null:this._replaceHtmlReservedEntitiesWithCharacters(Y)}_removeOsSpecificTags(j){return j.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(j){const B=new DOMParser,{body:Y}=B.parseFromString(j,"text/html");return Array.from(Y.children).map(Te=>Te.tagName).every(Te=>Ot.includes(Te))}_removeFirstLevelWrapperTagsAndBrs(j){const B=new DOMParser,{body:Y}=B.parseFromString(j,"text/html"),Te=Y.querySelectorAll("br");for(const ee of Te)ee.replaceWith(`
`);const Ne=Y.querySelectorAll(":scope > *");for(const ee of Ne){const Pe=ee.cloneNode(!0);ee.replaceWith(...Pe.childNodes)}return Y.innerHTML}_containsAnyRemainingHtmlTags(j){return j.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(j){return j.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={501:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const P=y},790:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const P=y},400:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const P=y},755:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,f,s)=>{d.exports=s(237)("./src/undo.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{AutoMediaEmbed:()=>L,MediaEmbed:()=>Ae,MediaEmbedEditing:()=>we,MediaEmbedToolbar:()=>rt,MediaEmbedUI:()=>X});var d=K(782),f=K(901),s=K(584);function u(et,J){const Z=(Ce,Oe,xe)=>{if(!xe.consumable.consume(Oe.item,Ce.name))return;const q=Oe.attributeNewValue,Le=xe.writer,He=xe.mapper.toViewElement(Oe.item),ot=[...He.getChildren()].find(le=>le.getCustomProperty("media-content"));Le.remove(ot);const fe=et.getMediaViewElement(Le,q,J);Le.insert(Le.createPositionAt(He,0),fe)};return Ce=>{Ce.on("attribute:url:media",Z)}}function y(et){const J=et.getSelectedElement();return J&&function(Z){return!!Z.getCustomProperty("media")&&(0,f.isWidget)(Z)}(J)?J:null}function P(et,J,Z,Ce){return et.createContainerElement("figure",{class:"media"},[J.getMediaViewElement(et,Z,Ce),et.createSlot()])}function b(et){const J=et.getSelectedElement();return J&&J.is("element","media")?J:null}function _(et,J,Z,Ce){et.change(Oe=>{const xe=Oe.createElement("media",{url:J});et.insertObject(xe,Z,null,{setSelection:"on",findOptimalPosition:Ce?"auto":void 0})})}class D extends d.Command{refresh(){const J=this.editor.model,Z=J.document.selection,Ce=b(Z);this.value=Ce?Ce.getAttribute("url"):void 0,this.isEnabled=function(Oe){const xe=Oe.getSelectedElement();return!!xe&&xe.name==="media"}(Z)||function(Oe,xe){let Le=(0,f.findOptimalInsertionRange)(Oe,xe).start.parent;return Le.isEmpty&&!xe.schema.isLimit(Le)&&(Le=Le.parent),xe.schema.checkChild(Le,"media")}(Z,J)}execute(J){const Z=this.editor.model,Ce=Z.document.selection,Oe=b(Ce);Oe?Z.change(xe=>{xe.setAttribute("url",J,Oe)}):_(Z,J,Ce,!0)}}var I=K(311);class V{constructor(J,Z){const Ce=Z.providers,Oe=Z.extraProviders||[],xe=new Set(Z.removeProviders),q=Ce.concat(Oe).filter(Le=>{const He=Le.name;return He?!xe.has(He):((0,s.logWarning)("media-embed-no-provider-name",{provider:Le}),!1)});this.locale=J,this.providerDefinitions=q}hasMedia(J){return!!this._getMedia(J)}getMediaViewElement(J,Z,Ce){return this._getMedia(Z).getViewElement(J,Ce)}_getMedia(J){if(!J)return new ye(this.locale);J=J.trim();for(const Z of this.providerDefinitions){const Ce=Z.html,Oe=(0,s.toArray)(Z.url);for(const xe of Oe){const q=this._getUrlMatches(J,xe);if(q)return new ye(this.locale,J,q,Ce)}}return null}_getUrlMatches(J,Z){let Ce=J.match(Z);if(Ce)return Ce;let Oe=J.replace(/^https?:\/\//,"");return Ce=Oe.match(Z),Ce||(Oe=Oe.replace(/^www\./,""),Ce=Oe.match(Z),Ce||null)}}class ye{constructor(J,Z,Ce,Oe){this.url=this._getValidUrl(Z),this._locale=J,this._match=Ce,this._previewRenderer=Oe}getViewElement(J,Z){const Ce={};let Oe;if(Z.renderForEditingView||Z.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(Ce["data-oembed-url"]=this.url),Z.renderForEditingView&&(Ce.class="ck-media__wrapper");const xe=this._getPreviewHtml(Z);Oe=J.createRawElement("div",Ce,(q,Le)=>{Le.setContentOf(q,xe)})}else this.url&&(Ce.url=this.url),Oe=J.createEmptyElement(Z.elementName,Ce);return J.setCustomProperty("media-content",!0,Oe),Oe}_getPreviewHtml(J){return this._previewRenderer?this._previewRenderer(this._match):this.url&&J.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const J=new I.IconView,Z=this._locale.t;return J.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',J.viewBox="0 0 64 42",new I.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[J]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":Z("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(J){return J?J.match(/^https?/)?J:"https://"+J:null}}var ne=K(591),U=K.n(ne),$=K(400),he={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()($.A,he),$.A.locals;class we extends d.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(J){super(J),J.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:Z=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${Z[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:Z=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${Z[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:Z=>{const Ce=Z[1],Oe=Z[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${Ce}${Oe?`?start=${Oe}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:Z=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${Z[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new V(J.locale,J.config.get("mediaEmbed"))}init(){const J=this.editor,Z=J.model.schema,Ce=J.t,Oe=J.conversion,xe=J.config.get("mediaEmbed.previewsInData"),q=J.config.get("mediaEmbed.elementName"),Le=this.registry;J.commands.add("mediaEmbed",new D(J)),Z.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),Oe.for("dataDowncast").elementToStructure({model:"media",view:(He,{writer:ot})=>{const fe=He.getAttribute("url");return P(ot,Le,fe,{elementName:q,renderMediaPreview:!!fe&&xe})}}),Oe.for("dataDowncast").add(u(Le,{elementName:q,renderMediaPreview:xe})),Oe.for("editingDowncast").elementToStructure({model:"media",view:(He,{writer:ot})=>{const fe=He.getAttribute("url");return function(le,pe,Ke){return pe.setCustomProperty("media",!0,le),(0,f.toWidget)(le,pe,{label:Ke})}(P(ot,Le,fe,{elementName:q,renderForEditingView:!0}),ot,Ce("media widget"))}}),Oe.for("editingDowncast").add(u(Le,{elementName:q,renderForEditingView:!0})),Oe.for("upcast").elementToElement({view:He=>["oembed",q].includes(He.name)&&He.getAttribute("url")?{name:!0}:null,model:(He,{writer:ot})=>{const fe=He.getAttribute("url");return Le.hasMedia(fe)?ot.createElement("media",{url:fe}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(He,{writer:ot})=>{const fe=He.getAttribute("data-oembed-url");return Le.hasMedia(fe)?ot.createElement("media",{url:fe}):null}}).add(He=>{He.on("element:figure",(ot,fe,le)=>{if(!le.consumable.consume(fe.viewItem,{name:!0,classes:"media"}))return;const{modelRange:pe,modelCursor:Ke}=le.convertChildren(fe.viewItem,fe.modelCursor);fe.modelRange=pe,fe.modelCursor=Ke,(0,s.first)(pe.getItems())||le.consumable.revert(fe.viewItem,{name:!0,classes:"media"})})})}}var g=K(783),w=K(331),p=K(834),v=K(251);const T=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class L extends d.Plugin{static get requires(){return[w.Clipboard,p.Delete,v.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(J){super(J),this._timeoutId=null,this._positionToInsert=null}init(){const J=this.editor,Z=J.model.document,Ce=J.plugins.get("ClipboardPipeline");this.listenTo(Ce,"inputTransformation",()=>{const Oe=Z.selection.getFirstRange(),xe=g.LivePosition.fromPosition(Oe.start);xe.stickiness="toPrevious";const q=g.LivePosition.fromPosition(Oe.end);q.stickiness="toNext",Z.once("change:data",()=>{this._embedMediaBetweenPositions(xe,q),xe.detach(),q.detach()},{priority:"high"})}),J.commands.get("undo").on("execute",()=>{this._timeoutId&&(s.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(J,Z){const Ce=this.editor,Oe=Ce.plugins.get(we).registry,xe=new g.LiveRange(J,Z),q=xe.getWalker({ignoreElementEnd:!0});let Le="";for(const He of q)He.item.is("$textProxy")&&(Le+=He.item.data);if(Le=Le.trim(),!Le.match(T)||!Oe.hasMedia(Le))return void xe.detach();Ce.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=g.LivePosition.fromPosition(J),this._timeoutId=s.global.window.setTimeout(()=>{Ce.model.change(He=>{this._timeoutId=null,He.remove(xe),xe.detach();let ot=null;this._positionToInsert.root.rootName!=="$graveyard"&&(ot=this._positionToInsert),_(Ce.model,Le,ot,!1),this._positionToInsert.detach(),this._positionToInsert=null}),Ce.plugins.get(p.Delete).requestUndoOnBackspace()},100)):xe.detach()}}var O=K(501),oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()(O.A,oe),O.A.locals;var W=K(755),te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()(W.A,te),W.A.locals;class S extends I.View{constructor(J,Z){super(Z);const Ce=Z.t;this.focusTracker=new s.FocusTracker,this.keystrokes=new s.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Ce("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",Oe=>!!Oe),this.cancelButtonView=this._createButton(Ce("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new I.ViewCollection,this._focusCycler=new I.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=J,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,I.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(Z=>{this._focusables.add(Z),this.focusTracker.add(Z.element)}),this.keystrokes.listenTo(this.element);const J=Z=>Z.stopPropagation();this.keystrokes.set("arrowright",J),this.keystrokes.set("arrowleft",J),this.keystrokes.set("arrowup",J),this.keystrokes.set("arrowdown",J)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(J){this.urlInputView.fieldView.element.value=J.trim()}isValid(){this.resetFormStatus();for(const J of this._validators){const Z=J(this);if(Z)return this.urlInputView.errorText=Z,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const J=this.locale.t,Z=new I.LabeledFieldView(this.locale,I.createLabeledInputText),Ce=Z.fieldView;return this._urlInputViewInfoDefault=J("Paste the media URL in the input."),this._urlInputViewInfoTip=J("Tip: Paste the URL into the content to embed faster."),Z.label=J("Media URL"),Z.infoText=this._urlInputViewInfoDefault,Ce.on("input",()=>{Z.infoText=Ce.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=Ce.element.value.trim()}),Z}_createButton(J,Z,Ce,Oe){const xe=new I.ButtonView(this.locale);return xe.set({label:J,icon:Z,tooltip:!0}),xe.extendTemplate({attributes:{class:Ce}}),Oe&&xe.delegate("execute").to(this,Oe),xe}}class X extends d.Plugin{static get requires(){return[we]}static get pluginName(){return"MediaEmbedUI"}init(){const J=this.editor,Z=J.commands.get("mediaEmbed");J.ui.componentFactory.add("mediaEmbed",Ce=>{const Oe=(0,I.createDropdown)(Ce);return this._setUpDropdown(Oe,Z),Oe})}_setUpDropdown(J,Z){const Ce=this.editor,Oe=Ce.t,xe=J.buttonView,q=Ce.plugins.get(we).registry;J.once("change:isOpen",()=>{const Le=new((0,I.CssTransitionDisablerMixin)(S))(function(He,ot){return[fe=>{if(!fe.url.length)return He("The URL must not be empty.")},fe=>{if(!ot.hasMedia(fe.url))return He("This media URL is not supported.")}]}(Ce.t,q),Ce.locale);J.panelView.children.add(Le),xe.on("open",()=>{Le.disableCssTransitions(),Le.url=Z.value||"",Le.urlInputView.fieldView.select(),Le.enableCssTransitions()},{priority:"low"}),J.on("submit",()=>{Le.isValid()&&(Ce.execute("mediaEmbed",Le.url),Ce.editing.view.focus())}),J.on("change:isOpen",()=>Le.resetFormStatus()),J.on("cancel",()=>{Ce.editing.view.focus()}),Le.delegate("submit","cancel").to(J),Le.urlInputView.fieldView.bind("value").to(Z,"value"),Le.urlInputView.bind("isEnabled").to(Z,"isEnabled")}),J.bind("isEnabled").to(Z),xe.set({label:Oe("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var de=K(790),_e={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};U()(de.A,_e),de.A.locals;class Ae extends d.Plugin{static get requires(){return[we,X,L,f.Widget]}static get pluginName(){return"MediaEmbed"}}class rt extends d.Plugin{static get requires(){return[f.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const J=this.editor,Z=J.t;J.plugins.get(f.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:Z("Media toolbar"),items:J.config.get("mediaEmbed.toolbar")||[],getRelatedElement:y})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Wrap text":"Wrap text"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={501:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const P=y},934:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const P=y},406:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const P=y},489:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}",""]);const P=y},571:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}",""]);const P=y},278:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const P=y},895:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const P=y},854:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const P=y},424:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const P=y},184:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const P=y},285:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},251:(d,f,s)=>{d.exports=s(237)("./src/undo.js")},260:(d,f,s)=>{d.exports=s(237)("./src/upload.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{AutoImage:()=>we,Image:()=>Lt,ImageBlock:()=>wt,ImageBlockEditing:()=>He,ImageCaption:()=>Di,ImageCaptionEditing:()=>Xe,ImageCaptionUI:()=>kt,ImageCaptionUtils:()=>Yt,ImageEditing:()=>Z,ImageInline:()=>Wt,ImageInsert:()=>xt,ImageInsertUI:()=>Ke,ImageInsertViaUrl:()=>Be,ImageResize:()=>ee,ImageResizeButtons:()=>ve,ImageResizeEditing:()=>Ot,ImageResizeHandles:()=>Y,ImageSizeAttributes:()=>Ce,ImageStyle:()=>po,ImageStyleEditing:()=>Ln,ImageStyleUI:()=>go,ImageTextAlternative:()=>de,ImageTextAlternativeEditing:()=>w,ImageTextAlternativeUI:()=>X,ImageToolbar:()=>No,ImageUpload:()=>vt,ImageUploadEditing:()=>mi,ImageUploadProgress:()=>Vt,ImageUploadUI:()=>ht,ImageUtils:()=>U,PictureEditing:()=>ao});var d=K(782),f=K(331),s=K(783),u=K(251),y=K(834),P=K(584),b=K(901);function _(Dt){return Dt.createContainerElement("figure",{class:"image"},[Dt.createEmptyElement("img"),Dt.createSlot("children")])}function D(Dt,z){const Ee=Dt.plugins.get("ImageUtils"),$e=Dt.plugins.has("ImageInlineEditing")&&Dt.plugins.has("ImageBlockEditing");return at=>Ee.isInlineImageView(at)?$e&&(at.getStyle("display")=="block"||at.findAncestor(Ee.isBlockImageView)?"imageBlock":"imageInline")!==z?null:Ge(at):null;function Ge(at){const ct={name:!0};return at.hasAttribute("src")&&(ct.attributes=["src"]),ct}}function I(Dt,z){const Ee=(0,P.first)(z.getSelectedBlocks());return!Ee||Dt.isObject(Ee)||Ee.isEmpty&&Ee.name!="listItem"?"imageBlock":"imageInline"}function V(Dt){return Dt&&Dt.endsWith("px")?parseInt(Dt):null}function ye(Dt){const z=V(Dt.getStyle("width")),Ee=V(Dt.getStyle("height"));return!(!z||!Ee)}const ne=/^(image|image-inline)$/;class U extends d.Plugin{constructor(){super(...arguments),this._domEmitter=new((0,P.DomEmitterMixin)())}static get pluginName(){return"ImageUtils"}isImage(z){return this.isInlineImage(z)||this.isBlockImage(z)}isInlineImageView(z){return!!z&&z.is("element","img")}isBlockImageView(z){return!!z&&z.is("element","figure")&&z.hasClass("image")}insertImage(z={},Ee=null,$e=null,Ge={}){const at=this.editor,ct=at.model,It=ct.document.selection,yt=$(at,Ee||It,$e);z={...Object.fromEntries(It.getAttributes()),...z};for(const Ct in z)ct.schema.checkAttribute(yt,Ct)||delete z[Ct];return ct.change(Ct=>{const{setImageSizes:$t=!0}=Ge,ii=Ct.createElement(yt,z);return ct.insertObject(ii,Ee,null,{setSelection:"on",findOptimalPosition:Ee||yt=="imageInline"?void 0:"auto"}),ii.parent?($t&&this.setImageNaturalSizeAttributes(ii),ii):null})}setImageNaturalSizeAttributes(z){const Ee=z.getAttribute("src");Ee&&(z.getAttribute("width")||z.getAttribute("height")||this.editor.model.change($e=>{const Ge=new P.global.window.Image;this._domEmitter.listenTo(Ge,"load",()=>{z.getAttribute("width")||z.getAttribute("height")||this.editor.model.enqueueChange($e.batch,at=>{at.setAttribute("width",Ge.naturalWidth,z),at.setAttribute("height",Ge.naturalHeight,z)}),this._domEmitter.stopListening(Ge,"load")}),Ge.src=Ee}))}getClosestSelectedImageWidget(z){const Ee=z.getFirstPosition();if(!Ee)return null;const $e=z.getSelectedElement();if($e&&this.isImageWidget($e))return $e;let Ge=Ee.parent;for(;Ge;){if(Ge.is("element")&&this.isImageWidget(Ge))return Ge;Ge=Ge.parent}return null}getClosestSelectedImageElement(z){const Ee=z.getSelectedElement();return this.isImage(Ee)?Ee:z.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(z){return z.findAncestor({classes:ne})}isImageAllowed(){const z=this.editor.model.document.selection;return function(Ee,$e){if($(Ee,$e,null)=="imageBlock"){const at=function(ct,It){const yt=(0,b.findOptimalInsertionRange)(ct,It),Ct=yt.start.parent;return Ct.isEmpty&&!Ct.is("element","$root")?Ct.parent:Ct}($e,Ee.model);if(Ee.model.schema.checkChild(at,"imageBlock"))return!0}else if(Ee.model.schema.checkChild($e.focus,"imageInline"))return!0;return!1}(this.editor,z)&&function(Ee){return[...Ee.focus.getAncestors()].every($e=>!$e.is("element","imageBlock"))}(z)}toImageWidget(z,Ee,$e){return Ee.setCustomProperty("image",!0,z),(0,b.toWidget)(z,Ee,{label:()=>{const Ge=this.findViewImgElement(z).getAttribute("alt");return Ge?`${Ge} ${$e}`:$e}})}isImageWidget(z){return!!z.getCustomProperty("image")&&(0,b.isWidget)(z)}isBlockImage(z){return!!z&&z.is("element","imageBlock")}isInlineImage(z){return!!z&&z.is("element","imageInline")}findViewImgElement(z){if(this.isInlineImageView(z))return z;const Ee=this.editor.editing.view;for(const{item:$e}of Ee.createRangeIn(z))if(this.isInlineImageView($e))return $e}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function $(Dt,z,Ee){const $e=Dt.model.schema,Ge=Dt.config.get("image.insert.type");return Dt.plugins.has("ImageBlockEditing")?Dt.plugins.has("ImageInlineEditing")?Ee||(Ge==="inline"?"imageInline":Ge!=="auto"?"imageBlock":z.is("selection")?I($e,z):$e.checkChild(z,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const he=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class we extends d.Plugin{static get requires(){return[f.Clipboard,U,u.Undo,y.Delete]}static get pluginName(){return"AutoImage"}constructor(z){super(z),this._timeoutId=null,this._positionToInsert=null}init(){const z=this.editor,Ee=z.model.document,$e=z.plugins.get("ClipboardPipeline");this.listenTo($e,"inputTransformation",()=>{const Ge=Ee.selection.getFirstRange(),at=s.LivePosition.fromPosition(Ge.start);at.stickiness="toPrevious";const ct=s.LivePosition.fromPosition(Ge.end);ct.stickiness="toNext",Ee.once("change:data",()=>{this._embedImageBetweenPositions(at,ct),at.detach(),ct.detach()},{priority:"high"})}),z.commands.get("undo").on("execute",()=>{this._timeoutId&&(P.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(z,Ee){const $e=this.editor,Ge=new s.LiveRange(z,Ee),at=Ge.getWalker({ignoreElementEnd:!0}),ct=Object.fromEntries($e.model.document.selection.getAttributes()),It=this.editor.plugins.get("ImageUtils");let yt="";for(const Ct of at)Ct.item.is("$textProxy")&&(yt+=Ct.item.data);yt=yt.trim(),yt.match(he)?(this._positionToInsert=s.LivePosition.fromPosition(z),this._timeoutId=setTimeout(()=>{if(!$e.commands.get("insertImage").isEnabled)return void Ge.detach();$e.model.change(Ct=>{let $t;this._timeoutId=null,Ct.remove(Ge),Ge.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&($t=this._positionToInsert.toPosition()),It.insertImage({...ct,src:yt},$t),this._positionToInsert.detach(),this._positionToInsert=null}),$e.plugins.get("Delete").requestUndoOnBackspace()},100)):Ge.detach()}}class g extends d.Command{refresh(){const z=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!z,this.isEnabled&&z.hasAttribute("alt")?this.value=z.getAttribute("alt"):this.value=!1}execute(z){const Ee=this.editor,$e=Ee.plugins.get("ImageUtils"),Ge=Ee.model,at=$e.getClosestSelectedImageElement(Ge.document.selection);Ge.change(ct=>{ct.setAttribute("alt",z.newValue,at)})}}class w extends d.Plugin{static get requires(){return[U]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new g(this.editor))}}var p=K(311),v=K(591),T=K.n(v),L=K(285),O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(L.A,O),L.A.locals;var oe=K(501),W={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(oe.A,W),oe.A.locals;class te extends p.View{constructor(z){super(z);const Ee=this.locale.t;this.focusTracker=new P.FocusTracker,this.keystrokes=new P.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ee("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ee("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new p.ViewCollection,this._focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,p.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(z=>{this._focusables.add(z),this.focusTracker.add(z.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(z,Ee,$e,Ge){const at=new p.ButtonView(this.locale);return at.set({label:z,icon:Ee,tooltip:!0}),at.extendTemplate({attributes:{class:$e}}),Ge&&at.delegate("execute").to(this,Ge),at}_createLabeledInputView(){const z=this.locale.t,Ee=new p.LabeledFieldView(this.locale,p.createLabeledInputText);return Ee.label=z("Text alternative"),Ee}}function S(Dt){const z=Dt.editing.view,Ee=p.BalloonPanelView.defaultPositions,$e=Dt.plugins.get("ImageUtils");return{target:z.domConverter.mapViewToDom($e.getClosestSelectedImageWidget(z.document.selection)),positions:[Ee.northArrowSouth,Ee.northArrowSouthWest,Ee.northArrowSouthEast,Ee.southArrowNorth,Ee.southArrowNorthWest,Ee.southArrowNorthEast,Ee.viewportStickyNorth]}}class X extends d.Plugin{static get requires(){return[p.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const z=this.editor,Ee=z.t;z.ui.componentFactory.add("imageTextAlternative",$e=>{const Ge=z.commands.get("imageTextAlternative"),at=new p.ButtonView($e);return at.set({label:Ee("Change image text alternative"),icon:d.icons.textAlternative,tooltip:!0}),at.bind("isEnabled").to(Ge,"isEnabled"),at.bind("isOn").to(Ge,"value",ct=>!!ct),this.listenTo(at,"execute",()=>{this._showForm()}),at})}_createForm(){const z=this.editor,Ee=z.editing.view.document,$e=z.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,p.CssTransitionDisablerMixin)(te))(z.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{z.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Ge,at)=>{this._hideForm(!0),at()}),this.listenTo(z.ui,"update",()=>{$e.getClosestSelectedImageWidget(Ee.selection)?this._isVisible&&function(Ge){const at=Ge.plugins.get("ContextualBalloon");if(Ge.plugins.get("ImageUtils").getClosestSelectedImageWidget(Ge.editing.view.document.selection)){const ct=S(Ge);at.updatePosition(ct)}}(z):this._hideForm(!0)}),(0,p.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const z=this.editor,Ee=z.commands.get("imageTextAlternative"),$e=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:S(z)}),$e.fieldView.value=$e.fieldView.element.value=Ee.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(z=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),z&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class de extends d.Plugin{static get requires(){return[w,X]}static get pluginName(){return"ImageTextAlternative"}}function _e(Dt,z){const Ee=($e,Ge,at)=>{if(!at.consumable.consume(Ge.item,$e.name))return;const ct=at.writer,It=at.mapper.toViewElement(Ge.item),yt=Dt.findViewImgElement(It);Ge.attributeNewValue===null?(ct.removeAttribute("srcset",yt),ct.removeAttribute("sizes",yt)):Ge.attributeNewValue&&(ct.setAttribute("srcset",Ge.attributeNewValue,yt),ct.setAttribute("sizes","100vw",yt))};return $e=>{$e.on(`attribute:srcset:${z}`,Ee)}}function Ae(Dt,z,Ee){const $e=(Ge,at,ct)=>{if(!ct.consumable.consume(at.item,Ge.name))return;const It=ct.writer,yt=ct.mapper.toViewElement(at.item),Ct=Dt.findViewImgElement(yt);It.setAttribute(at.attributeKey,at.attributeNewValue||"",Ct)};return Ge=>{Ge.on(`attribute:${Ee}:${z}`,$e)}}class rt extends s.Observer{observe(z){this.listenTo(z,"load",(Ee,$e)=>{const Ge=$e.target;this.checkShouldIgnoreEventFromTarget(Ge)||Ge.tagName=="IMG"&&this._fireEvents($e)},{useCapture:!0})}stopObserving(z){this.stopListening(z)}_fireEvents(z){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",z))}}class et extends d.Command{constructor(z){super(z);const Ee=z.config.get("image.insert.type");z.plugins.has("ImageBlockEditing")||Ee==="block"&&(0,P.logWarning)("image-block-plugin-required"),z.plugins.has("ImageInlineEditing")||Ee==="inline"&&(0,P.logWarning)("image-inline-plugin-required")}refresh(){const z=this.editor.plugins.get("ImageUtils");this.isEnabled=z.isImageAllowed()}execute(z){const Ee=(0,P.toArray)(z.source),$e=this.editor.model.document.selection,Ge=this.editor.plugins.get("ImageUtils"),at=Object.fromEntries($e.getAttributes());Ee.forEach((ct,It)=>{const yt=$e.getSelectedElement();if(typeof ct=="string"&&(ct={src:ct}),It&&yt&&Ge.isImage(yt)){const Ct=this.editor.model.createPositionAfter(yt);Ge.insertImage({...ct,...at},Ct)}else Ge.insertImage({...ct,...at})})}}class J extends d.Command{constructor(z){super(z),this.decorate("cleanupImage")}refresh(){const z=this.editor.plugins.get("ImageUtils"),Ee=this.editor.model.document.selection.getSelectedElement();this.isEnabled=z.isImage(Ee),this.value=this.isEnabled?Ee.getAttribute("src"):null}execute(z){const Ee=this.editor.model.document.selection.getSelectedElement(),$e=this.editor.plugins.get("ImageUtils");this.editor.model.change(Ge=>{Ge.setAttribute("src",z.source,Ee),this.cleanupImage(Ge,Ee),$e.setImageNaturalSizeAttributes(Ee)})}cleanupImage(z,Ee){z.removeAttribute("srcset",Ee),z.removeAttribute("sizes",Ee),z.removeAttribute("sources",Ee),z.removeAttribute("width",Ee),z.removeAttribute("height",Ee),z.removeAttribute("alt",Ee)}}class Z extends d.Plugin{static get requires(){return[U]}static get pluginName(){return"ImageEditing"}init(){const z=this.editor,Ee=z.conversion;z.editing.view.addObserver(rt),Ee.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const $e=new et(z),Ge=new J(z);z.commands.add("insertImage",$e),z.commands.add("replaceImageSource",Ge),z.commands.add("imageInsert",$e)}}class Ce extends d.Plugin{static get requires(){return[U]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(z){const Ee=this.editor,$e=Ee.plugins.get("ImageUtils"),Ge=z==="imageBlock"?"figure":"img";function at(ct,It,yt,Ct){ct.on(`attribute:${It}:${z}`,($t,ii,wi)=>{if(!wi.consumable.consume(ii.item,$t.name))return;const li=wi.writer,ki=wi.mapper.toViewElement(ii.item),Vi=$e.findViewImgElement(ki);if(ii.attributeNewValue!==null?li.setAttribute(yt,ii.attributeNewValue,Vi):li.removeAttribute(yt,Vi),ii.item.hasAttribute("sources"))return;const wn=ii.item.hasAttribute("resizedWidth");if(z==="imageInline"&&!wn&&!Ct)return;const Vn=ii.item.getAttribute("width"),Cn=ii.item.getAttribute("height");Vn&&Cn&&li.setStyle("aspect-ratio",`${Vn}/${Cn}`,Vi)})}Ee.conversion.for("upcast").attributeToAttribute({view:{name:Ge,styles:{width:/.+/}},model:{key:"width",value:ct=>ye(ct)?V(ct.getStyle("width")):null}}).attributeToAttribute({view:{name:Ge,key:"width"},model:"width"}).attributeToAttribute({view:{name:Ge,styles:{height:/.+/}},model:{key:"height",value:ct=>ye(ct)?V(ct.getStyle("height")):null}}).attributeToAttribute({view:{name:Ge,key:"height"},model:"height"}),Ee.conversion.for("editingDowncast").add(ct=>{at(ct,"width","width",!0),at(ct,"height","height",!0)}),Ee.conversion.for("dataDowncast").add(ct=>{at(ct,"width","width",!1),at(ct,"height","height",!1)})}}class Oe extends d.Command{constructor(z,Ee){super(z),this._modelElementName=Ee}refresh(){const z=this.editor.plugins.get("ImageUtils"),Ee=z.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=z.isInlineImage(Ee):this.isEnabled=z.isBlockImage(Ee)}execute(z={}){const Ee=this.editor,$e=this.editor.model,Ge=Ee.plugins.get("ImageUtils"),at=Ge.getClosestSelectedImageElement($e.document.selection),ct=Object.fromEntries(at.getAttributes());return ct.src||ct.uploadId?$e.change(It=>{const{setImageSizes:yt=!0}=z,Ct=Array.from($e.markers).filter(wi=>wi.getRange().containsItem(at)),$t=Ge.insertImage(ct,$e.createSelection(at,"on"),this._modelElementName,{setImageSizes:yt});if(!$t)return null;const ii=It.createRangeOn($t);for(const wi of Ct){const li=wi.getRange(),ki=li.root.rootName!="$graveyard"?li.getJoined(ii,!0):ii;It.updateMarker(wi,{range:ki})}return{oldElement:at,newElement:$t}}):null}}var xe=K(571),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(xe.A,q),xe.A.locals;class Le extends d.Plugin{static get requires(){return[U]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const z=this.editor.model.schema;z.isRegistered("imageBlock")&&z.extend("imageBlock",{allowAttributes:["placeholder"]}),z.isRegistered("imageInline")&&z.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const z=this.editor,Ee=z.conversion,$e=z.plugins.get("ImageUtils");Ee.for("editingDowncast").add(Ge=>{Ge.on("attribute:placeholder",(at,ct,It)=>{if(!It.consumable.test(ct.item,at.name)||!ct.item.is("element","imageBlock")&&!ct.item.is("element","imageInline"))return;It.consumable.consume(ct.item,at.name);const yt=It.writer,Ct=It.mapper.toViewElement(ct.item),$t=$e.findViewImgElement(Ct);ct.attributeNewValue?(yt.addClass("image_placeholder",$t),yt.setStyle("background-image",`url(${ct.attributeNewValue})`,$t),yt.setCustomProperty("editingPipeline:doNotReuseOnce",!0,$t)):(yt.removeClass("image_placeholder",$t),yt.removeStyle("background-image",$t))})})}_setupLoadListener(){const z=this.editor,Ee=z.model,$e=z.editing,Ge=$e.view,at=z.plugins.get("ImageUtils");Ge.addObserver(rt),this.listenTo(Ge.document,"imageLoaded",(ct,It)=>{const yt=Ge.domConverter.mapDomToView(It.target);if(!yt)return;const Ct=at.getImageWidgetFromImageView(yt);if(!Ct)return;const $t=$e.mapper.toModelElement(Ct);$t&&$t.hasAttribute("placeholder")&&Ee.enqueueChange({isUndoable:!1},ii=>{ii.removeAttribute("placeholder",$t)})})}}class He extends d.Plugin{static get requires(){return[Z,Ce,U,Le,f.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const z=this.editor;z.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),z.plugins.has("ImageInlineEditing")&&(z.commands.add("imageTypeBlock",new Oe(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const z=this.editor,Ee=z.t,$e=z.conversion,Ge=z.plugins.get("ImageUtils");$e.for("dataDowncast").elementToStructure({model:"imageBlock",view:(at,{writer:ct})=>_(ct)}),$e.for("editingDowncast").elementToStructure({model:"imageBlock",view:(at,{writer:ct})=>Ge.toImageWidget(_(ct),ct,Ee("image widget"))}),$e.for("downcast").add(Ae(Ge,"imageBlock","src")).add(Ae(Ge,"imageBlock","alt")).add(_e(Ge,"imageBlock")),$e.for("upcast").elementToElement({view:D(z,"imageBlock"),model:(at,{writer:ct})=>ct.createElement("imageBlock",at.hasAttribute("src")?{src:at.getAttribute("src")}:void 0)}).add(function(at){const ct=(It,yt,Ct)=>{if(!Ct.consumable.test(yt.viewItem,{name:!0,classes:"image"}))return;const $t=at.findViewImgElement(yt.viewItem);if(!$t||!Ct.consumable.test($t,{name:!0}))return;Ct.consumable.consume(yt.viewItem,{name:!0,classes:"image"});const ii=Ct.convertItem($t,yt.modelCursor),wi=(0,P.first)(ii.modelRange.getItems());wi?(Ct.convertChildren(yt.viewItem,wi),Ct.updateConversionResult(wi,yt)):Ct.consumable.revert(yt.viewItem,{name:!0,classes:"image"})};return It=>{It.on("element:figure",ct)}}(Ge))}_setupClipboardIntegration(){const z=this.editor,Ee=z.model,$e=z.editing.view,Ge=z.plugins.get("ImageUtils"),at=z.plugins.get("ClipboardPipeline");this.listenTo(at,"inputTransformation",(ct,It)=>{const yt=Array.from(It.content.getChildren());let Ct;if(!yt.every(Ge.isInlineImageView))return;Ct=It.targetRanges?z.editing.mapper.toModelRange(It.targetRanges[0]):Ee.document.selection.getFirstRange();const $t=Ee.createSelection(Ct);if(I(Ee.schema,$t)==="imageBlock"){const ii=new s.UpcastWriter($e.document),wi=yt.map(li=>ii.createElement("figure",{class:"image"},li));It.content=ii.createDocumentFragment(wi)}}),this.listenTo(at,"contentInsertion",(ct,It)=>{It.method==="paste"&&Ee.change(yt=>{const Ct=yt.createRangeIn(It.content);for(const $t of Ct.getItems())$t.is("element","imageBlock")&&Ge.setImageNaturalSizeAttributes($t)})})}}var ot=K(489),fe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(ot.A,fe),ot.A.locals;class le extends p.View{constructor(z,Ee=[]){super(z),this.focusTracker=new P.FocusTracker,this.keystrokes=new P.KeystrokeHandler,this._focusables=new p.ViewCollection,this.children=this.createCollection(),this._focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const $e of Ee)this.children.add($e),this._focusables.add($e),$e instanceof p.CollapsibleView&&this._focusables.addMany($e.children);if(this._focusables.length>1)for(const $e of this._focusables)pe($e)&&($e.focusCycler.on("forwardCycle",Ge=>{this._focusCycler.focusNext(),Ge.stop()}),$e.focusCycler.on("backwardCycle",Ge=>{this._focusCycler.focusPrevious(),Ge.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),(0,p.submitHandler)({view:this});for(const Ee of this._focusables)this.focusTracker.add(Ee.element);this.keystrokes.listenTo(this.element);const z=Ee=>Ee.stopPropagation();this.keystrokes.set("arrowright",z),this.keystrokes.set("arrowleft",z),this.keystrokes.set("arrowup",z),this.keystrokes.set("arrowdown",z)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function pe(Dt){return"focusCycler"in Dt}class Ke extends d.Plugin{static get pluginName(){return"ImageInsertUI"}static get requires(){return[U]}constructor(z){super(z),this._integrations=new Map,z.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const z=this.editor,Ee=z.model.document.selection,$e=z.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(z.model.document,"change",()=>{this.isImageSelected=$e.isImage(Ee.getSelectedElement())});const Ge=at=>this._createToolbarComponent(at);z.ui.componentFactory.add("insertImage",Ge),z.ui.componentFactory.add("imageInsert",Ge)}registerIntegration({name:z,observable:Ee,buttonViewCreator:$e,formViewCreator:Ge,requiresForm:at}){this._integrations.has(z)&&(0,P.logWarning)("image-insert-integration-exists",{name:z}),this._integrations.set(z,{observable:Ee,buttonViewCreator:$e,formViewCreator:Ge,requiresForm:!!at})}_createToolbarComponent(z){const Ee=this.editor,$e=z.t,Ge=this._prepareIntegrations();if(!Ge.length)return null;let at;const ct=Ge[0];if(Ge.length==1){if(!ct.requiresForm)return ct.buttonViewCreator(!0);at=ct.buttonViewCreator(!0)}else{const Ct=ct.buttonViewCreator(!1);at=new p.SplitButtonView(z,Ct),at.tooltip=!0,at.bind("label").to(this,"isImageSelected",$t=>$e($t?"Replace image":"Insert image"))}const It=this.dropdownView=(0,p.createDropdown)(z,at),yt=Ge.map(({observable:Ct})=>typeof Ct=="function"?Ct():Ct);return It.bind("isEnabled").toMany(yt,"isEnabled",(...Ct)=>Ct.some($t=>$t)),It.once("change:isOpen",()=>{const Ct=Ge.map(({formViewCreator:ii})=>ii(Ge.length==1)),$t=new le(Ee.locale,Ct);It.panelView.children.add($t)}),It}_prepareIntegrations(){const z=this.editor.config.get("image.insert.integrations"),Ee=[];if(!z.length)return(0,P.logWarning)("image-insert-integrations-not-specified"),Ee;for(const $e of z)this._integrations.has($e)?Ee.push(this._integrations.get($e)):["upload","assetManager","url"].includes($e)||(0,P.logWarning)("image-insert-unknown-integration",{item:$e});return Ee.length||(0,P.logWarning)("image-insert-integrations-not-registered"),Ee}}var nt=K(934),ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(nt.A,ut),nt.A.locals;class wt extends d.Plugin{static get requires(){return[He,b.Widget,de,Ke]}static get pluginName(){return"ImageBlock"}}class Ft extends d.Plugin{static get requires(){return[Z,Ce,U,Le,f.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const z=this.editor,Ee=z.model.schema;Ee.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Ee.addChildCheck(($e,Ge)=>{if($e.endsWith("caption")&&Ge.name==="imageInline")return!1}),this._setupConversion(),z.plugins.has("ImageBlockEditing")&&(z.commands.add("imageTypeInline",new Oe(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const z=this.editor,Ee=z.t,$e=z.conversion,Ge=z.plugins.get("ImageUtils");$e.for("dataDowncast").elementToElement({model:"imageInline",view:(at,{writer:ct})=>ct.createEmptyElement("img")}),$e.for("editingDowncast").elementToStructure({model:"imageInline",view:(at,{writer:ct})=>Ge.toImageWidget(function(It){return It.createContainerElement("span",{class:"image-inline"},It.createEmptyElement("img"))}(ct),ct,Ee("image widget"))}),$e.for("downcast").add(Ae(Ge,"imageInline","src")).add(Ae(Ge,"imageInline","alt")).add(_e(Ge,"imageInline")),$e.for("upcast").elementToElement({view:D(z,"imageInline"),model:(at,{writer:ct})=>ct.createElement("imageInline",at.hasAttribute("src")?{src:at.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const z=this.editor,Ee=z.model,$e=z.editing.view,Ge=z.plugins.get("ImageUtils"),at=z.plugins.get("ClipboardPipeline");this.listenTo(at,"inputTransformation",(ct,It)=>{const yt=Array.from(It.content.getChildren());let Ct;if(!yt.every(Ge.isBlockImageView))return;Ct=It.targetRanges?z.editing.mapper.toModelRange(It.targetRanges[0]):Ee.document.selection.getFirstRange();const $t=Ee.createSelection(Ct);if(I(Ee.schema,$t)==="imageInline"){const ii=new s.UpcastWriter($e.document),wi=yt.map(li=>li.childCount===1?(Array.from(li.getAttributes()).forEach(ki=>ii.setAttribute(...ki,Ge.findViewImgElement(li))),li.getChild(0)):li);It.content=ii.createDocumentFragment(wi)}}),this.listenTo(at,"contentInsertion",(ct,It)=>{It.method==="paste"&&Ee.change(yt=>{const Ct=yt.createRangeIn(It.content);for(const $t of Ct.getItems())$t.is("element","imageInline")&&Ge.setImageNaturalSizeAttributes($t)})})}}class Wt extends d.Plugin{static get requires(){return[Ft,b.Widget,de,Ke]}static get pluginName(){return"ImageInline"}}class Lt extends d.Plugin{static get requires(){return[wt,Wt]}static get pluginName(){return"Image"}}class Yt extends d.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[U]}getCaptionFromImageModelElement(z){for(const Ee of z.getChildren())if(Ee&&Ee.is("element","caption"))return Ee;return null}getCaptionFromModelSelection(z){const Ee=this.editor.plugins.get("ImageUtils"),$e=z.getFirstPosition().findAncestor("caption");return $e&&Ee.isBlockImage($e.parent)?$e:null}matchImageCaptionViewElement(z){const Ee=this.editor.plugins.get("ImageUtils");return z.name=="figcaption"&&Ee.isBlockImageView(z.parent)?{name:!0}:null}}class bt extends d.Command{refresh(){const z=this.editor,Ee=z.plugins.get("ImageCaptionUtils"),$e=z.plugins.get("ImageUtils");if(!z.plugins.has(He))return this.isEnabled=!1,void(this.value=!1);const Ge=z.model.document.selection,at=Ge.getSelectedElement();if(!at){const ct=Ee.getCaptionFromModelSelection(Ge);return this.isEnabled=!!ct,void(this.value=!!ct)}this.isEnabled=$e.isImage(at),this.isEnabled?this.value=!!Ee.getCaptionFromImageModelElement(at):this.value=!1}execute(z={}){const{focusCaptionOnShow:Ee}=z;this.editor.model.change($e=>{this.value?this._hideImageCaption($e):this._showImageCaption($e,Ee)})}_showImageCaption(z,Ee){const $e=this.editor.model.document.selection,Ge=this.editor.plugins.get("ImageCaptionEditing"),at=this.editor.plugins.get("ImageUtils");let ct=$e.getSelectedElement();const It=Ge._getSavedCaption(ct);at.isInlineImage(ct)&&(this.editor.execute("imageTypeBlock"),ct=$e.getSelectedElement());const yt=It||z.createElement("caption");z.append(yt,ct),Ee&&z.setSelection(yt,"in")}_hideImageCaption(z){const Ee=this.editor,$e=Ee.model.document.selection,Ge=Ee.plugins.get("ImageCaptionEditing"),at=Ee.plugins.get("ImageCaptionUtils");let ct,It=$e.getSelectedElement();It?ct=at.getCaptionFromImageModelElement(It):(ct=at.getCaptionFromModelSelection($e),It=ct.parent),Ge._saveCaption(It,ct),z.setSelection(It,"on"),z.remove(ct)}}class Xe extends d.Plugin{static get requires(){return[U,Yt]}static get pluginName(){return"ImageCaptionEditing"}constructor(z){super(z),this._savedCaptionsMap=new WeakMap}init(){const z=this.editor,Ee=z.model.schema;Ee.isRegistered("caption")?Ee.extend("caption",{allowIn:"imageBlock"}):Ee.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),z.commands.add("toggleImageCaption",new bt(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const z=this.editor,Ee=z.editing.view,$e=z.plugins.get("ImageUtils"),Ge=z.plugins.get("ImageCaptionUtils"),at=z.t;z.conversion.for("upcast").elementToElement({view:ct=>Ge.matchImageCaptionViewElement(ct),model:"caption"}),z.conversion.for("dataDowncast").elementToElement({model:"caption",view:(ct,{writer:It})=>$e.isBlockImage(ct.parent)?It.createContainerElement("figcaption"):null}),z.conversion.for("editingDowncast").elementToElement({model:"caption",view:(ct,{writer:It})=>{if(!$e.isBlockImage(ct.parent))return null;const yt=It.createEditableElement("figcaption");It.setCustomProperty("imageCaption",!0,yt),yt.placeholder=at("Enter image caption"),(0,s.enablePlaceholder)({view:Ee,element:yt,keepOnFocus:!0});const Ct=ct.parent.getAttribute("alt"),$t=Ct?at("Caption for image: %0",[Ct]):at("Caption for the image");return(0,b.toWidgetEditable)(yt,It,{label:$t})}})}_setupImageTypeCommandsIntegration(){const z=this.editor,Ee=z.plugins.get("ImageUtils"),$e=z.plugins.get("ImageCaptionUtils"),Ge=z.commands.get("imageTypeInline"),at=z.commands.get("imageTypeBlock"),ct=It=>{if(!It.return)return;const{oldElement:yt,newElement:Ct}=It.return;if(!yt)return;if(Ee.isBlockImage(yt)){const ii=$e.getCaptionFromImageModelElement(yt);if(ii)return void this._saveCaption(Ct,ii)}const $t=this._getSavedCaption(yt);$t&&this._saveCaption(Ct,$t)};Ge&&this.listenTo(Ge,"execute",ct,{priority:"low"}),at&&this.listenTo(at,"execute",ct,{priority:"low"})}_getSavedCaption(z){const Ee=this._savedCaptionsMap.get(z);return Ee?s.Element.fromJSON(Ee):null}_saveCaption(z,Ee){this._savedCaptionsMap.set(z,Ee.toJSON())}_registerCaptionReconversion(){const z=this.editor,Ee=z.model,$e=z.plugins.get("ImageUtils"),Ge=z.plugins.get("ImageCaptionUtils");Ee.document.on("change:data",()=>{const at=Ee.document.differ.getChanges();for(const ct of at){if(ct.attributeKey!=="alt")continue;const It=ct.range.start.nodeAfter;if($e.isBlockImage(It)){const yt=Ge.getCaptionFromImageModelElement(It);if(!yt)return;z.editing.reconvertItem(yt)}}})}}class kt extends d.Plugin{static get requires(){return[Yt]}static get pluginName(){return"ImageCaptionUI"}init(){const z=this.editor,Ee=z.editing.view,$e=z.plugins.get("ImageCaptionUtils"),Ge=z.t;z.ui.componentFactory.add("toggleImageCaption",at=>{const ct=z.commands.get("toggleImageCaption"),It=new p.ButtonView(at);return It.set({icon:d.icons.caption,tooltip:!0,isToggleable:!0}),It.bind("isOn","isEnabled").to(ct,"value","isEnabled"),It.bind("label").to(ct,"value",yt=>Ge(yt?"Toggle caption off":"Toggle caption on")),this.listenTo(It,"execute",()=>{z.execute("toggleImageCaption",{focusCaptionOnShow:!0});const yt=$e.getCaptionFromModelSelection(z.model.document.selection);if(yt){const Ct=z.editing.mapper.toViewElement(yt);Ee.scrollToTheSelection(),Ee.change($t=>{$t.addClass("image__caption_highlighted",Ct)})}z.editing.view.focus()}),It})}}var bi=K(406),fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(bi.A,fi),bi.A.locals;class Di extends d.Plugin{static get requires(){return[Xe,kt]}static get pluginName(){return"ImageCaption"}}function Yi(Dt){const z=Dt.map(Ee=>Ee.replace("+","\\+"));return new RegExp(`^image\\/(${z.join("|")})$`)}function Ii(Dt){return new Promise((z,Ee)=>{const $e=Dt.getAttribute("src");fetch($e).then(Ge=>Ge.blob()).then(Ge=>{const at=$i(Ge,$e),ct=at.replace("image/",""),It=new File([Ge],`image.${ct}`,{type:at});z(It)}).catch(Ge=>Ge&&Ge.name==="TypeError"?function(at){return function(ct){return new Promise((It,yt)=>{const Ct=P.global.document.createElement("img");Ct.addEventListener("load",()=>{const $t=P.global.document.createElement("canvas");$t.width=Ct.width,$t.height=Ct.height,$t.getContext("2d").drawImage(Ct,0,0),$t.toBlob(ii=>ii?It(ii):yt())}),Ct.addEventListener("error",()=>yt()),Ct.src=ct})}(at).then(ct=>{const It=$i(ct,at),yt=It.replace("image/","");return new File([ct],`image.${yt}`,{type:It})})}($e).then(z).catch(Ee):Ee(Ge))})}function $i(Dt,z){return Dt.type?Dt.type:z.match(/data:(image\/\w+);base64/)?z.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class ht extends d.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const z=this.editor,Ee=z.t,$e=()=>{const Ge=this._createButton(p.FileDialogButtonView);return Ge.set({label:Ee("Upload image from computer"),tooltip:!0}),Ge};if(z.ui.componentFactory.add("uploadImage",$e),z.ui.componentFactory.add("imageUpload",$e),z.ui.componentFactory.add("menuBar:uploadImage",()=>{const Ge=this._createButton(p.MenuBarMenuListItemFileDialogButtonView);return Ge.label=Ee("Image from computer"),Ge}),z.plugins.has("ImageInsertUI")){const Ge=z.plugins.get("ImageInsertUI");Ge.registerIntegration({name:"upload",observable:()=>z.commands.get("uploadImage"),buttonViewCreator:()=>{const at=z.ui.componentFactory.create("uploadImage");return at.bind("label").to(Ge,"isImageSelected",ct=>Ee(ct?"Replace image from computer":"Upload image from computer")),at},formViewCreator:()=>{const at=z.ui.componentFactory.create("uploadImage");return at.withText=!0,at.bind("label").to(Ge,"isImageSelected",ct=>Ee(ct?"Replace from computer":"Upload from computer")),at.on("execute",()=>{Ge.dropdownView.isOpen=!1}),at}})}}_createButton(z){const Ee=this.editor,$e=Ee.locale,Ge=Ee.commands.get("uploadImage"),at=Ee.config.get("image.upload.types"),ct=Yi(at),It=new z(Ee.locale),yt=$e.t;return It.set({acceptedType:at.map(Ct=>`image/${Ct}`).join(","),allowMultipleFiles:!0,label:yt("Upload image from computer"),icon:d.icons.imageUpload}),It.bind("isEnabled").to(Ge),It.on("done",(Ct,$t)=>{const ii=Array.from($t).filter(wi=>ct.test(wi.type));ii.length&&(Ee.execute("uploadImage",{file:ii}),Ee.editing.view.focus())}),It}}var G=K(260),ce=K(184),Ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(ce.A,Ie),ce.A.locals;var Ze=K(854),Ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(Ze.A,Ye),Ze.A.locals;var ft=K(424),Tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(ft.A,Tt),ft.A.locals;class Vt extends d.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(z){super(z),this.uploadStatusChange=(Ee,$e,Ge)=>{const at=this.editor,ct=$e.item,It=ct.getAttribute("uploadId");if(!Ge.consumable.consume($e.item,Ee.name))return;const yt=at.plugins.get("ImageUtils"),Ct=at.plugins.get(G.FileRepository),$t=It?$e.attributeNewValue:null,ii=this.placeholder,wi=at.editing.mapper.toViewElement(ct),li=Ge.writer;if($t=="reading")return Bt(wi,li),void ei(yt,ii,wi,li);if($t=="uploading"){const ki=Ct.loaders.get(It);return Bt(wi,li),void(ki?(oi(wi,li),function(Vi,wn,Vn,Cn){const Rn=function(en){const Pn=en.createUIElement("div",{class:"ck-progress-bar"});return en.setCustomProperty("progressBar",!0,Pn),Pn}(wn);wn.insert(wn.createPositionAt(Vi,"end"),Rn),Vn.on("change:uploadedPercent",(en,Pn,Qi)=>{Cn.change(no=>{no.setStyle("width",Qi+"%",Rn)})})}(wi,li,ki,at.editing.view),function(Vi,wn,Vn,Cn){if(Cn.data){const Rn=Vi.findViewImgElement(wn);Vn.setAttribute("src",Cn.data,Rn)}}(yt,wi,li,ki)):ei(yt,ii,wi,li))}$t=="complete"&&Ct.loaders.get(It)&&function(ki,Vi,wn){const Vn=Vi.createUIElement("div",{class:"ck-image-upload-complete-icon"});Vi.insert(Vi.createPositionAt(ki,"end"),Vn),setTimeout(()=>{wn.change(Cn=>Cn.remove(Cn.createRangeOn(Vn)))},3e3)}(wi,li,at.editing.view),function(ki,Vi){Pi(ki,Vi,"progressBar")}(wi,li),oi(wi,li),function(ki,Vi){Vi.removeClass("ck-appear",ki)}(wi,li)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const z=this.editor;z.plugins.has("ImageBlockEditing")&&z.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),z.plugins.has("ImageInlineEditing")&&z.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function Bt(Dt,z){Dt.hasClass("ck-appear")||z.addClass("ck-appear",Dt)}function ei(Dt,z,Ee,$e){Ee.hasClass("ck-image-upload-placeholder")||$e.addClass("ck-image-upload-placeholder",Ee);const Ge=Dt.findViewImgElement(Ee);Ge.getAttribute("src")!==z&&$e.setAttribute("src",z,Ge),Mi(Ee,"placeholder")||$e.insert($e.createPositionAfter(Ge),function(at){const ct=at.createUIElement("div",{class:"ck-upload-placeholder-loader"});return at.setCustomProperty("placeholder",!0,ct),ct}($e))}function oi(Dt,z){Dt.hasClass("ck-image-upload-placeholder")&&z.removeClass("ck-image-upload-placeholder",Dt),Pi(Dt,z,"placeholder")}function Mi(Dt,z){for(const Ee of Dt.getChildren())if(Ee.getCustomProperty(z))return Ee}function Pi(Dt,z,Ee){const $e=Mi(Dt,Ee);$e&&z.remove(z.createRangeOn($e))}class zi extends d.Command{refresh(){const z=this.editor,Ee=z.plugins.get("ImageUtils"),$e=z.model.document.selection.getSelectedElement();this.isEnabled=Ee.isImageAllowed()||Ee.isImage($e)}execute(z){const Ee=(0,P.toArray)(z.file),$e=this.editor.model.document.selection,Ge=this.editor.plugins.get("ImageUtils"),at=Object.fromEntries($e.getAttributes());Ee.forEach((ct,It)=>{const yt=$e.getSelectedElement();if(It&&yt&&Ge.isImage(yt)){const Ct=this.editor.model.createPositionAfter(yt);this._uploadImage(ct,at,Ct)}else this._uploadImage(ct,at)})}_uploadImage(z,Ee,$e){const Ge=this.editor,at=Ge.plugins.get(G.FileRepository).createLoader(z),ct=Ge.plugins.get("ImageUtils");at&&ct.insertImage({...Ee,uploadId:at.id},$e)}}class mi extends d.Plugin{static get requires(){return[G.FileRepository,p.Notification,f.ClipboardPipeline,U]}static get pluginName(){return"ImageUploadEditing"}constructor(z){super(z),z.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const z=this.editor,Ee=z.model.document,$e=z.conversion,Ge=z.plugins.get(G.FileRepository),at=z.plugins.get("ImageUtils"),ct=z.plugins.get("ClipboardPipeline"),It=Yi(z.config.get("image.upload.types")),yt=new zi(z);z.commands.add("uploadImage",yt),z.commands.add("imageUpload",yt),$e.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(z.editing.view.document,"clipboardInput",(Ct,$t)=>{if(ii=$t.dataTransfer,Array.from(ii.types).includes("text/html")&&ii.getData("text/html")!=="")return;var ii;const wi=Array.from($t.dataTransfer.files).filter(li=>!!li&&It.test(li.type));wi.length&&(Ct.stop(),z.model.change(li=>{$t.targetRanges&&li.setSelection($t.targetRanges.map(ki=>z.editing.mapper.toModelRange(ki))),z.execute("uploadImage",{file:wi})}))}),this.listenTo(ct,"inputTransformation",(Ct,$t)=>{const ii=Array.from(z.editing.view.createRangeIn($t.content)).map(li=>li.item).filter(li=>function(ki,Vi){return!(!ki.isInlineImageView(Vi)||!Vi.getAttribute("src")||!Vi.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Vi.getAttribute("src").match(/^blob:/g))}(at,li)&&!li.getAttribute("uploadProcessed")).map(li=>({promise:Ii(li),imageElement:li}));if(!ii.length)return;const wi=new s.UpcastWriter(z.editing.view.document);for(const li of ii){wi.setAttribute("uploadProcessed",!0,li.imageElement);const ki=Ge.createLoader(li.promise);ki&&(wi.setAttribute("src","",li.imageElement),wi.setAttribute("uploadId",ki.id,li.imageElement))}}),z.editing.view.document.on("dragover",(Ct,$t)=>{$t.preventDefault()}),Ee.on("change",()=>{const Ct=Ee.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),$t=new Set;for(const ii of Ct)if(ii.type=="insert"&&ii.name!="$text"){const wi=ii.position.nodeAfter,li=ii.position.root.rootName=="$graveyard";for(const ki of Ni(z,wi)){const Vi=ki.getAttribute("uploadId");if(!Vi)continue;const wn=Ge.loaders.get(Vi);wn&&(li?$t.has(Vi)||wn.abort():($t.add(Vi),this._uploadImageElements.set(Vi,ki),wn.status=="idle"&&this._readAndUpload(wn)))}}}),this.on("uploadComplete",(Ct,{imageElement:$t,data:ii})=>{const wi=ii.urls?ii.urls:ii;this.editor.model.change(li=>{li.setAttribute("src",wi.default,$t),this._parseAndSetSrcsetAttributeOnImage(wi,$t,li),at.setImageNaturalSizeAttributes($t)})},{priority:"low"})}afterInit(){const z=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&z.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&z.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(z){const Ee=this.editor,$e=Ee.model,Ge=Ee.locale.t,at=Ee.plugins.get(G.FileRepository),ct=Ee.plugins.get(p.Notification),It=Ee.plugins.get("ImageUtils"),yt=this._uploadImageElements;return $e.enqueueChange({isUndoable:!1},$t=>{$t.setAttribute("uploadStatus","reading",yt.get(z.id))}),z.read().then(()=>{const $t=z.upload(),ii=yt.get(z.id);if(P.env.isSafari){const wi=Ee.editing.mapper.toViewElement(ii),li=It.findViewImgElement(wi);Ee.editing.view.once("render",()=>{if(!li.parent)return;const ki=Ee.editing.view.domConverter.mapViewToDom(li.parent);if(!ki)return;const Vi=ki.style.display;ki.style.display="none",ki._ckHack=ki.offsetHeight,ki.style.display=Vi})}return $e.enqueueChange({isUndoable:!1},wi=>{wi.setAttribute("uploadStatus","uploading",ii)}),$t}).then($t=>{$e.enqueueChange({isUndoable:!1},ii=>{const wi=yt.get(z.id);ii.setAttribute("uploadStatus","complete",wi),this.fire("uploadComplete",{data:$t,imageElement:wi})}),Ct()}).catch($t=>{if(z.status!=="error"&&z.status!=="aborted")throw $t;z.status=="error"&&$t&&ct.showWarning($t,{title:Ge("Upload failed"),namespace:"upload"}),$e.enqueueChange({isUndoable:!1},ii=>{ii.remove(yt.get(z.id))}),Ct()});function Ct(){$e.enqueueChange({isUndoable:!1},$t=>{const ii=yt.get(z.id);$t.removeAttribute("uploadId",ii),$t.removeAttribute("uploadStatus",ii),yt.delete(z.id)}),at.destroyLoader(z)}}_parseAndSetSrcsetAttributeOnImage(z,Ee,$e){let Ge=0;const at=Object.keys(z).filter(ct=>{const It=parseInt(ct,10);if(!isNaN(It))return Ge=Math.max(Ge,It),!0}).map(ct=>`${z[ct]} ${ct}w`).join(", ");if(at!=""){const ct={srcset:at};Ee.hasAttribute("width")||Ee.hasAttribute("height")||(ct.width=Ge),$e.setAttributes(ct,Ee)}}}function Ni(Dt,z){const Ee=Dt.plugins.get("ImageUtils");return Array.from(Dt.model.createRangeOn(z)).filter($e=>Ee.isImage($e.item)).map($e=>$e.item)}class vt extends d.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[mi,ht,Vt]}}class qe extends p.View{constructor(z){super(z),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.focusTracker=new P.FocusTracker,this.keystrokes=new P.KeystrokeHandler,this._focusables=new p.ViewCollection,this.focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.urlInputView=this._createUrlInputView(),this.insertButtonView=this._createInsertButton(),this.cancelButtonView=this._createCancelButton(),this._focusables.addMany([this.urlInputView,this.insertButtonView,this.cancelButtonView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]},children:[this.insertButtonView,this.cancelButtonView]}]})}render(){super.render();for(const z of this._focusables)this.focusTracker.add(z.element);this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const z=this.locale,Ee=z.t,$e=new p.LabeledFieldView(z,p.createLabeledInputText);return $e.bind("label").to(this,"isImageSelected",Ge=>Ee(Ge?"Update image URL":"Insert image via URL")),$e.bind("isEnabled").to(this),$e.fieldView.placeholder="https://example.com/image.png",$e.fieldView.bind("value").to(this,"imageURLInputValue",Ge=>Ge||""),$e.fieldView.on("input",()=>{this.imageURLInputValue=$e.fieldView.element.value.trim()}),$e}_createInsertButton(){const z=this.locale,Ee=z.t,$e=new p.ButtonView(z);return $e.set({icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),$e.bind("label").to(this,"isImageSelected",Ge=>Ee(Ge?"Update":"Insert")),$e.bind("isEnabled").to(this,"imageURLInputValue",this,"isEnabled",(...Ge)=>Ge.every(at=>at)),$e.delegate("execute").to(this,"submit"),$e}_createCancelButton(){const z=this.locale,Ee=z.t,$e=new p.ButtonView(z);return $e.set({label:Ee("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),$e.bind("isEnabled").to(this),$e.delegate("execute").to(this,"cancel"),$e}focus(z){z===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}}class pt extends d.Plugin{static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[Ke]}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),requiresForm:!0,buttonViewCreator:z=>this._createInsertUrlButton(z),formViewCreator:z=>this._createInsertUrlView(z)})}_createInsertUrlView(z){const Ee=this.editor,$e=Ee.locale,Ge=$e.t,at=Ee.commands.get("replaceImageSource"),ct=Ee.commands.get("insertImage"),It=new qe($e),yt=z?null:new p.CollapsibleView($e,[It]);return It.bind("isImageSelected").to(this._imageInsertUI),It.bind("isEnabled").toMany([ct,at],"isEnabled",(...Ct)=>Ct.some($t=>$t)),It.imageURLInputValue=at.value||"",this._imageInsertUI.dropdownView.on("change:isOpen",()=>{this._imageInsertUI.dropdownView.isOpen&&(It.imageURLInputValue=at.value||"",yt&&(yt.isCollapsed=!0))},{priority:"low"}),It.on("submit",()=>{at.isEnabled?Ee.execute("replaceImageSource",{source:It.imageURLInputValue}):Ee.execute("insertImage",{source:It.imageURLInputValue}),this._closePanel()}),It.on("cancel",()=>this._closePanel()),yt?(yt.set({isCollapsed:!0}),yt.bind("label").to(this._imageInsertUI,"isImageSelected",Ct=>Ge(Ct?"Update image URL":"Insert image via URL")),yt):It}_createInsertUrlButton(z){const Ee=z?p.DropdownButtonView:p.ButtonView,$e=this.editor,Ge=new Ee($e.locale),at=$e.locale.t;return Ge.set({icon:d.icons.imageUrl,tooltip:!0}),Ge.bind("label").to(this._imageInsertUI,"isImageSelected",ct=>at(ct?"Update image URL":"Insert image via URL")),Ge}_closePanel(){this.editor.editing.view.focus(),this._imageInsertUI.dropdownView.isOpen=!1}}class Be extends d.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[pt,Ke]}}class xt extends d.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[vt,Be,Ke]}}class Zt extends d.Command{refresh(){const z=this.editor,Ee=z.plugins.get("ImageUtils").getClosestSelectedImageElement(z.model.document.selection);this.isEnabled=!!Ee,Ee&&Ee.hasAttribute("resizedWidth")?this.value={width:Ee.getAttribute("resizedWidth"),height:null}:this.value=null}execute(z){const Ee=this.editor,$e=Ee.model,Ge=Ee.plugins.get("ImageUtils"),at=Ge.getClosestSelectedImageElement($e.document.selection);this.value={width:z.width,height:null},at&&$e.change(ct=>{ct.setAttribute("resizedWidth",z.width,at),ct.removeAttribute("resizedHeight",at),Ge.setImageNaturalSizeAttributes(at)})}}class Ot extends d.Plugin{static get requires(){return[U]}static get pluginName(){return"ImageResizeEditing"}constructor(z){super(z),z.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const z=this.editor,Ee=new Zt(z);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),z.commands.add("resizeImage",Ee),z.commands.add("imageResize",Ee)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(z){const Ee=this.editor,$e=Ee.plugins.get("ImageUtils");Ee.conversion.for("downcast").add(Ge=>Ge.on(`attribute:resizedWidth:${z}`,(at,ct,It)=>{if(!It.consumable.consume(ct.item,at.name))return;const yt=It.writer,Ct=It.mapper.toViewElement(ct.item);ct.attributeNewValue!==null?(yt.setStyle("width",ct.attributeNewValue,Ct),yt.addClass("image_resized",Ct)):(yt.removeStyle("width",Ct),yt.removeClass("image_resized",Ct))})),Ee.conversion.for("dataDowncast").attributeToAttribute({model:{name:z,key:"resizedHeight"},view:Ge=>({key:"style",value:{height:Ge}})}),Ee.conversion.for("editingDowncast").add(Ge=>Ge.on(`attribute:resizedHeight:${z}`,(at,ct,It)=>{if(!It.consumable.consume(ct.item,at.name))return;const yt=It.writer,Ct=It.mapper.toViewElement(ct.item),$t=z==="imageInline"?$e.findViewImgElement(Ct):Ct;ct.attributeNewValue!==null?yt.setStyle("height",ct.attributeNewValue,$t):yt.removeStyle("height",$t)})),Ee.conversion.for("upcast").attributeToAttribute({view:{name:z==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:Ge=>ye(Ge)?null:Ge.getStyle("width")}}),Ee.conversion.for("upcast").attributeToAttribute({view:{name:z==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:Ge=>ye(Ge)?null:Ge.getStyle("height")}})}}const Rt={small:d.icons.objectSizeSmall,medium:d.icons.objectSizeMedium,large:d.icons.objectSizeLarge,original:d.icons.objectSizeFull};class ve extends d.Plugin{static get requires(){return[Ot]}static get pluginName(){return"ImageResizeButtons"}constructor(z){super(z),this._resizeUnit=z.config.get("image.resizeUnit")}init(){const z=this.editor,Ee=z.config.get("image.resizeOptions"),$e=z.commands.get("resizeImage");this.bind("isEnabled").to($e);for(const Ge of Ee)this._registerImageResizeButton(Ge);this._registerImageResizeDropdown(Ee)}_registerImageResizeButton(z){const Ee=this.editor,{name:$e,value:Ge,icon:at}=z,ct=Ge?Ge+this._resizeUnit:null;Ee.ui.componentFactory.add($e,It=>{const yt=new p.ButtonView(It),Ct=Ee.commands.get("resizeImage"),$t=this._getOptionLabelValue(z,!0);if(!Rt[at])throw new P.CKEditorError("imageresizebuttons-missing-icon",Ee,z);return yt.set({label:$t,icon:Rt[at],tooltip:$t,isToggleable:!0}),yt.bind("isEnabled").to(this),yt.bind("isOn").to(Ct,"value",j(ct)),this.listenTo(yt,"execute",()=>{Ee.execute("resizeImage",{width:ct})}),yt})}_registerImageResizeDropdown(z){const Ee=this.editor,$e=Ee.t,Ge=z.find(ct=>!ct.value),at=ct=>{const It=Ee.commands.get("resizeImage"),yt=(0,p.createDropdown)(ct,p.DropdownButtonView),Ct=yt.buttonView,$t=$e("Resize image");return Ct.set({tooltip:$t,commandValue:Ge.value,icon:Rt.medium,isToggleable:!0,label:this._getOptionLabelValue(Ge),withText:!0,class:"ck-resize-image-button",ariaLabel:$t,ariaLabelledBy:void 0}),Ct.bind("label").to(It,"value",ii=>ii&&ii.width?ii.width:this._getOptionLabelValue(Ge)),yt.bind("isEnabled").to(this),(0,p.addListToDropdown)(yt,()=>this._getResizeDropdownListItemDefinitions(z,It),{ariaLabel:$e("Image resize list"),role:"menu"}),this.listenTo(yt,"execute",ii=>{Ee.execute(ii.source.commandName,{width:ii.source.commandValue}),Ee.editing.view.focus()}),yt};Ee.ui.componentFactory.add("resizeImage",at),Ee.ui.componentFactory.add("imageResize",at)}_getOptionLabelValue(z,Ee=!1){const $e=this.editor.t;return z.label?z.label:Ee?z.value?$e("Resize image to %0",z.value+this._resizeUnit):$e("Resize image to the original size"):z.value?z.value+this._resizeUnit:$e("Original")}_getResizeDropdownListItemDefinitions(z,Ee){const $e=new P.Collection;return z.map(Ge=>{const at=Ge.value?Ge.value+this._resizeUnit:null,ct={type:"button",model:new p.ViewModel({commandName:"resizeImage",commandValue:at,label:this._getOptionLabelValue(Ge),role:"menuitemradio",withText:!0,icon:null})};ct.model.bind("isOn").to(Ee,"value",j(at)),$e.add(ct)}),$e}}function j(Dt){return z=>Dt===null&&z===Dt||z!==null&&z.width===Dt}const B="image_resized";class Y extends d.Plugin{static get requires(){return[b.WidgetResize,U]}static get pluginName(){return"ImageResizeHandles"}init(){const z=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(z),this._setupResizerCreator()}_setupResizerCreator(){const z=this.editor,Ee=z.editing.view,$e=z.plugins.get("ImageUtils");Ee.addObserver(rt),this.listenTo(Ee.document,"imageLoaded",(Ge,at)=>{if(!at.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const ct=z.editing.view.domConverter,It=ct.domToView(at.target),yt=$e.getImageWidgetFromImageView(It);let Ct=this.editor.plugins.get(b.WidgetResize).getResizerByViewElement(yt);if(Ct)return void Ct.redraw();const $t=z.editing.mapper,ii=$t.toModelElement(yt);Ct=z.plugins.get(b.WidgetResize).attachTo({unit:z.config.get("image.resizeUnit"),modelElement:ii,viewElement:yt,editor:z,getHandleHost:wi=>wi.querySelector("img"),getResizeHost:()=>ct.mapViewToDom($t.toViewElement(ii.parent)),isCentered:()=>ii.getAttribute("imageStyle")=="alignCenter",onCommit(wi){Ee.change(li=>{li.removeClass(B,yt)}),z.execute("resizeImage",{width:wi})}}),Ct.on("updateSize",()=>{yt.hasClass(B)||Ee.change(li=>{li.addClass(B,yt)});const wi=ii.name==="imageInline"?It:yt;wi.getStyle("height")&&Ee.change(li=>{li.removeStyle("height",wi)})}),Ct.bind("isEnabled").to(this)})}}var Te=K(278),Ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(Te.A,Ne),Te.A.locals;class ee extends d.Plugin{static get requires(){return[Ot,Y,ve]}static get pluginName(){return"ImageResize"}}class Pe extends d.Command{constructor(z,Ee){super(z),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Ee.map($e=>{if($e.isDefault)for(const Ge of $e.modelElements)this._defaultStyles[Ge]=$e.name;return[$e.name,$e]}))}refresh(){const z=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!z,this.isEnabled?z.hasAttribute("imageStyle")?this.value=z.getAttribute("imageStyle"):this.value=this._defaultStyles[z.name]:this.value=!1}execute(z={}){const Ee=this.editor,$e=Ee.model,Ge=Ee.plugins.get("ImageUtils");$e.change(at=>{const ct=z.value,{setImageSizes:It=!0}=z;let yt=Ge.getClosestSelectedImageElement($e.document.selection);ct&&this.shouldConvertImageType(ct,yt)&&(this.editor.execute(Ge.isBlockImage(yt)?"imageTypeInline":"imageTypeBlock",{setImageSizes:It}),yt=Ge.getClosestSelectedImageElement($e.document.selection)),!ct||this._styles.get(ct).isDefault?at.removeAttribute("imageStyle",yt):at.setAttribute("imageStyle",ct,yt),It&&Ge.setImageNaturalSizeAttributes(yt)})}shouldConvertImageType(z,Ee){return!this._styles.get(z).modelElements.includes(Ee.name)}}const{objectFullWidth:ze,objectInline:Qe,objectLeft:dt,objectRight:Kt,objectCenter:Et,objectBlockLeft:ni,objectBlockRight:yi}=d.icons,gi={get inline(){return{name:"inline",title:"In line",icon:Qe,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:dt,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:ni,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Et,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Kt,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:yi,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Et,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Kt,modelElements:["imageBlock"],className:"image-style-side"}}},xi={full:ze,left:ni,right:yi,center:Et,inlineLeft:dt,inlineRight:Kt,inline:Qe},Li=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function mn(Dt){(0,P.logWarning)("image-style-configuration-definition-invalid",Dt)}const jn={normalizeStyles:function(Dt){return(Dt.configuredStyles.options||[]).map(z=>function(Ee){return Ee=typeof Ee=="string"?gi[Ee]?{...gi[Ee]}:{name:Ee}:function($e,Ge){const at={...Ge};for(const ct in $e)Object.prototype.hasOwnProperty.call(Ge,ct)||(at[ct]=$e[ct]);return at}(gi[Ee.name],Ee),typeof Ee.icon=="string"&&(Ee.icon=xi[Ee.icon]||Ee.icon),Ee}(z)).filter(z=>function(Ee,{isBlockPluginLoaded:$e,isInlinePluginLoaded:Ge}){const{modelElements:at,name:ct}=Ee;if(!(at&&at.length&&ct))return mn({style:Ee}),!1;{const It=[$e?"imageBlock":null,Ge?"imageInline":null];if(!at.some(yt=>It.includes(yt)))return(0,P.logWarning)("image-style-missing-dependency",{style:Ee,missingPlugins:at.map(yt=>yt==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(z,Dt))},getDefaultStylesConfiguration:function(Dt,z){return Dt&&z?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:Dt?{options:["block","side"]}:z?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(Dt){return Dt.has("ImageBlockEditing")&&Dt.has("ImageInlineEditing")?[...Li]:[]},warnInvalidStyle:mn,DEFAULT_OPTIONS:gi,DEFAULT_ICONS:xi,DEFAULT_DROPDOWN_DEFINITIONS:Li};function vn(Dt,z){for(const Ee of z)if(Ee.name===Dt)return Ee}class Ln extends d.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[U]}init(){const{normalizeStyles:z,getDefaultStylesConfiguration:Ee}=jn,$e=this.editor,Ge=$e.plugins.has("ImageBlockEditing"),at=$e.plugins.has("ImageInlineEditing");$e.config.define("image.styles",Ee(Ge,at)),this.normalizedStyles=z({configuredStyles:$e.config.get("image.styles"),isBlockPluginLoaded:Ge,isInlinePluginLoaded:at}),this._setupConversion(Ge,at),this._setupPostFixer(),$e.commands.add("imageStyle",new Pe($e,this.normalizedStyles))}_setupConversion(z,Ee){const $e=this.editor,Ge=$e.model.schema,at=(ct=this.normalizedStyles,(yt,Ct,$t)=>{if(!$t.consumable.consume(Ct.item,yt.name))return;const ii=vn(Ct.attributeNewValue,ct),wi=vn(Ct.attributeOldValue,ct),li=$t.mapper.toViewElement(Ct.item),ki=$t.writer;wi&&ki.removeClass(wi.className,li),ii&&ki.addClass(ii.className,li)});var ct;const It=function(yt){const Ct={imageInline:yt.filter($t=>!$t.isDefault&&$t.modelElements.includes("imageInline")),imageBlock:yt.filter($t=>!$t.isDefault&&$t.modelElements.includes("imageBlock"))};return($t,ii,wi)=>{if(!ii.modelRange)return;const li=ii.viewItem,ki=(0,P.first)(ii.modelRange.getItems());if(ki&&wi.schema.checkAttribute(ki,"imageStyle"))for(const Vi of Ct[ki.name])wi.consumable.consume(li,{classes:Vi.className})&&wi.writer.setAttribute("imageStyle",Vi.name,ki)}}(this.normalizedStyles);$e.editing.downcastDispatcher.on("attribute:imageStyle",at),$e.data.downcastDispatcher.on("attribute:imageStyle",at),z&&(Ge.extend("imageBlock",{allowAttributes:"imageStyle"}),$e.data.upcastDispatcher.on("element:figure",It,{priority:"low"})),Ee&&(Ge.extend("imageInline",{allowAttributes:"imageStyle"}),$e.data.upcastDispatcher.on("element:img",It,{priority:"low"}))}_setupPostFixer(){const z=this.editor,Ee=z.model.document,$e=z.plugins.get(U),Ge=new Map(this.normalizedStyles.map(at=>[at.name,at]));Ee.registerPostFixer(at=>{let ct=!1;for(const It of Ee.differ.getChanges())if(It.type=="insert"||It.type=="attribute"&&It.attributeKey=="imageStyle"){let yt=It.type=="insert"?It.position.nodeAfter:It.range.start.nodeAfter;if(yt&&yt.is("element","paragraph")&&yt.childCount>0&&(yt=yt.getChild(0)),!$e.isImage(yt))continue;const Ct=yt.getAttribute("imageStyle");if(!Ct)continue;const $t=Ge.get(Ct);$t&&$t.modelElements.includes(yt.name)||(at.removeAttribute("imageStyle",yt),ct=!0)}return ct})}}const In=function(Dt){var z=typeof Dt;return Dt!=null&&(z=="object"||z=="function")},Jn=function(Dt){return Dt};var cn=K(895),fo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};T()(cn.A,fo),cn.A.locals;class go extends d.Plugin{static get requires(){return[Ln]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const z=this.editor.t;return{"Wrap text":z("Wrap text"),"Break text":z("Break text"),"In line":z("In line"),"Full size image":z("Full size image"),"Side image":z("Side image"),"Left aligned image":z("Left aligned image"),"Centered image":z("Centered image"),"Right aligned image":z("Right aligned image")}}init(){const z=this.editor.plugins,Ee=this.editor.config.get("image.toolbar")||[],$e=_o(z.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const at of $e)this._createButton(at);const Ge=_o([...Ee.filter(In),...jn.getDefaultDropdownDefinitions(z)],this.localizedDefaultStylesTitles);for(const at of Ge)this._createDropdown(at,$e)}_createDropdown(z,Ee){const $e=this.editor.ui.componentFactory;$e.add(z.name,Ge=>{let at;const{defaultItem:ct,items:It,title:yt}=z,Ct=It.filter(li=>Ee.find(({name:ki})=>To(ki)===li)).map(li=>{const ki=$e.create(li);return li===ct&&(at=ki),ki});It.length!==Ct.length&&jn.warnInvalidStyle({dropdown:z});const $t=(0,p.createDropdown)(Ge,p.SplitButtonView),ii=$t.buttonView,wi=ii.arrowView;return(0,p.addToolbarToDropdown)($t,Ct,{enableActiveItemFocusOnDropdownOpen:!0}),ii.set({label:io(yt,at.label),class:null,tooltip:!0}),wi.unbind("label"),wi.set({label:yt}),ii.bind("icon").toMany(Ct,"isOn",(...li)=>{const ki=li.findIndex(Jn);return ki<0?at.icon:Ct[ki].icon}),ii.bind("label").toMany(Ct,"isOn",(...li)=>{const ki=li.findIndex(Jn);return io(yt,ki<0?at.label:Ct[ki].label)}),ii.bind("isOn").toMany(Ct,"isOn",(...li)=>li.some(Jn)),ii.bind("class").toMany(Ct,"isOn",(...li)=>li.some(Jn)?"ck-splitbutton_flatten":void 0),ii.on("execute",()=>{Ct.some(({isOn:li})=>li)?$t.isOpen=!$t.isOpen:at.fire("execute")}),$t.bind("isEnabled").toMany(Ct,"isEnabled",(...li)=>li.some(Jn)),this.listenTo($t,"execute",()=>{this.editor.editing.view.focus()}),$t})}_createButton(z){const Ee=z.name;this.editor.ui.componentFactory.add(To(Ee),$e=>{const Ge=this.editor.commands.get("imageStyle"),at=new p.ButtonView($e);return at.set({label:z.title,icon:z.icon,tooltip:!0,isToggleable:!0}),at.bind("isEnabled").to(Ge,"isEnabled"),at.bind("isOn").to(Ge,"value",ct=>ct===Ee),at.on("execute",this._executeCommand.bind(this,Ee)),at})}_executeCommand(z){this.editor.execute("imageStyle",{value:z}),this.editor.editing.view.focus()}}function _o(Dt,z){for(const Ee of Dt)z[Ee.title]&&(Ee.title=z[Ee.title]);return Dt}function To(Dt){return`imageStyle:${Dt}`}function io(Dt,z){return(Dt?Dt+": ":"")+z}class po extends d.Plugin{static get requires(){return[Ln,go]}static get pluginName(){return"ImageStyle"}}class No extends d.Plugin{static get requires(){return[b.WidgetToolbarRepository,U]}static get pluginName(){return"ImageToolbar"}afterInit(){const z=this.editor,Ee=z.t,$e=z.plugins.get(b.WidgetToolbarRepository),Ge=z.plugins.get("ImageUtils");var at;$e.register("image",{ariaLabel:Ee("Image toolbar"),items:(at=z.config.get("image.toolbar")||[],at.map(ct=>In(ct)?ct.name:ct)),getRelatedElement:ct=>Ge.getClosestSelectedImageWidget(ct)})}}class ao extends d.Plugin{static get requires(){return[Z,U]}static get pluginName(){return"PictureEditing"}afterInit(){const z=this.editor;z.plugins.has("ImageBlockEditing")&&z.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),z.plugins.has("ImageInlineEditing")&&z.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const z=this.editor,Ee=z.conversion,$e=z.plugins.get("ImageUtils");Ee.for("upcast").add(function(Ge){const at=["srcset","media","type","sizes"],ct=(It,yt,Ct)=>{const $t=yt.viewItem;if(!Ct.consumable.test($t,{name:!0}))return;const ii=new Map;for(const ki of $t.getChildren())if(ki.is("element","source")){const Vi={};for(const wn of at)ki.hasAttribute(wn)&&Ct.consumable.test(ki,{attributes:wn})&&(Vi[wn]=ki.getAttribute(wn));Object.keys(Vi).length&&ii.set(ki,Vi)}const wi=Ge.findViewImgElement($t);if(!wi)return;let li=yt.modelCursor.parent;if(!li.is("element","imageBlock")){const ki=Ct.convertItem(wi,yt.modelCursor);yt.modelRange=ki.modelRange,yt.modelCursor=ki.modelCursor,li=(0,P.first)(ki.modelRange.getItems())}Ct.consumable.consume($t,{name:!0});for(const[ki,Vi]of ii)Ct.consumable.consume(ki,{attributes:Object.keys(Vi)});ii.size&&Ct.writer.setAttribute("sources",Array.from(ii.values()),li),Ct.convertChildren($t,li)};return It=>{It.on("element:picture",ct)}}($e)),Ee.for("downcast").add(function(Ge){const at=(ct,It,yt)=>{if(!yt.consumable.consume(It.item,ct.name))return;const Ct=yt.writer,$t=yt.mapper.toViewElement(It.item),ii=Ge.findViewImgElement($t),wi=It.attributeNewValue;if(wi&&wi.length){const li=Ct.createContainerElement("picture",null,wi.map(wn=>Ct.createEmptyElement("source",wn))),ki=[];let Vi=ii.parent;for(;Vi&&Vi.is("attributeElement");){const wn=Vi.parent;Ct.unwrap(Ct.createRangeOn(ii),Vi),ki.unshift(Vi),Vi=wn}Ct.insert(Ct.createPositionBefore(ii),li),Ct.move(Ct.createRangeOn(ii),Ct.createPositionAt(li,"end"));for(const wn of ki)Ct.wrap(Ct.createRangeOn(li),wn)}else if(ii.parent.is("element","picture")){const li=ii.parent;Ct.move(Ct.createRangeOn(ii),Ct.createPositionBefore(li)),Ct.remove(li)}};return ct=>{ct.on("attribute:sources:imageBlock",at),ct.on("attribute:sources:imageInline",at)}}($e))}_setupImageUploadEditingIntegration(){const z=this.editor;if(!z.plugins.has("ImageUploadEditing"))return;const Ee=z.plugins.get("ImageUploadEditing");this.listenTo(Ee,"uploadComplete",($e,{imageElement:Ge,data:at})=>{const ct=at.sources;ct&&z.model.change(It=>{It.setAttributes({sources:ct},Ge)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{Indent:()=>y,IndentBlock:()=>ye,IndentEditing:()=>f,IndentUI:()=>u});var d=K(782);class f extends d.Plugin{static get pluginName(){return"IndentEditing"}init(){const U=this.editor;U.commands.add("indent",new d.MultiCommand(U)),U.commands.add("outdent",new d.MultiCommand(U))}}var s=K(311);class u extends d.Plugin{static get pluginName(){return"IndentUI"}init(){const U=this.editor,$=U.locale,he=U.t,we=$.uiLanguageDirection=="ltr"?d.icons.indent:d.icons.outdent,g=$.uiLanguageDirection=="ltr"?d.icons.outdent:d.icons.indent;this._defineButton("indent",he("Increase indent"),we),this._defineButton("outdent",he("Decrease indent"),g)}_defineButton(U,$,he){const we=this.editor;we.ui.componentFactory.add(U,()=>{const g=this._createButton(s.ButtonView,U,$,he);return g.set({tooltip:!0}),g}),we.ui.componentFactory.add("menuBar:"+U,()=>this._createButton(s.MenuBarMenuListItemButtonView,U,$,he))}_createButton(U,$,he,we){const g=this.editor,w=g.commands.get($),p=new U(g.locale);return p.set({label:he,icon:we}),p.bind("isEnabled").to(w,"isEnabled"),this.listenTo(p,"execute",()=>{g.execute($),g.editing.view.focus()}),p}}class y extends d.Plugin{static get pluginName(){return"Indent"}static get requires(){return[f,u]}}var P=K(783),b=K(584);class _ extends d.Command{constructor(U,$){super(U),this._indentBehavior=$}refresh(){const U=this.editor.model,$=(0,b.first)(U.document.selection.getSelectedBlocks());$&&this._isIndentationChangeAllowed($)?this.isEnabled=this._indentBehavior.checkEnabled($.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const U=this.editor.model,$=this._getBlocksToChange();U.change(he=>{for(const we of $){const g=we.getAttribute("blockIndent"),w=this._indentBehavior.getNextIndent(g);w?he.setAttribute("blockIndent",w,we):he.removeAttribute("blockIndent",we)}})}_getBlocksToChange(){const U=this.editor.model.document.selection;return Array.from(U.getSelectedBlocks()).filter($=>this._isIndentationChangeAllowed($))}_isIndentationChangeAllowed(U){const $=this.editor;return $.model.schema.checkAttribute(U,"blockIndent")?!$.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!$.plugins.get("ListUtils").isListItemBlock(U):!1}}class D{constructor(U){this.isForward=U.direction==="forward",this.offset=U.offset,this.unit=U.unit}checkEnabled(U){const $=parseFloat(U||"0");return this.isForward||$>0}getNextIndent(U){const $=parseFloat(U||"0");if(!(!U||U.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const he=$+(this.isForward?this.offset:-this.offset);return he>0?he+this.unit:void 0}}class I{constructor(U){this.isForward=U.direction==="forward",this.classes=U.classes}checkEnabled(U){const $=this.classes.indexOf(U);return this.isForward?$<this.classes.length-1:$>=0}getNextIndent(U){const $=this.classes.indexOf(U),he=this.isForward?1:-1;return this.classes[$+he]}}const V=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class ye extends d.Plugin{constructor(U){super(U),U.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const U=this.editor,$=U.config.get("indentBlock");$.classes&&$.classes.length?(this._setupConversionUsingClasses($.classes),U.commands.add("indentBlock",new _(U,new I({direction:"forward",classes:$.classes}))),U.commands.add("outdentBlock",new _(U,new I({direction:"backward",classes:$.classes})))):(U.data.addStyleProcessorRules(P.addMarginRules),this._setupConversionUsingOffset(),U.commands.add("indentBlock",new _(U,new D({direction:"forward",offset:$.offset,unit:$.unit}))),U.commands.add("outdentBlock",new _(U,new D({direction:"backward",offset:$.offset,unit:$.unit}))))}afterInit(){const U=this.editor,$=U.model.schema,he=U.commands.get("indent"),we=U.commands.get("outdent"),g=U.config.get("heading.options");(g&&g.map(w=>w.model)||V).forEach(w=>{$.isRegistered(w)&&$.extend(w,{allowAttributes:"blockIndent"})}),$.setAttributeProperties("blockIndent",{isFormatting:!0}),he.registerChildCommand(U.commands.get("indentBlock")),we.registerChildCommand(U.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const U=this.editor.conversion,$=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";U.for("upcast").attributeToAttribute({view:{styles:{[$]:/[\s\S]+/}},model:{key:"blockIndent",value:he=>{if(!he.is("element","li"))return he.getStyle($)}}}),U.for("downcast").attributeToAttribute({model:"blockIndent",view:he=>({key:"style",value:{[$]:he}})})}_setupConversionUsingClasses(U){const $={model:{key:"blockIndent",values:[]},view:{}};for(const he of U)$.model.values.push(he),$.view[he]={key:"class",value:[he]};this.editor.conversion.attributeToAttribute($)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Create link":"Create link",Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Move out of a link":"Move out of a link","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={501:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const P=y},429:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const P=y},356:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const P=y},627:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const P=y},654:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{AutoLink:()=>Be,Link:()=>Zt,LinkCommand:()=>kt,LinkEditing:()=>Ie,LinkImage:()=>Te,LinkImageEditing:()=>Ot,LinkImageUI:()=>j,LinkUI:()=>vt,UnlinkCommand:()=>fi});var d=K(782),f=K(834),s=K(331),u=K(584);class y{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(ee){Array.isArray(ee)?ee.forEach(Pe=>this._definitions.add(Pe)):this._definitions.add(ee)}getDispatcher(){return ee=>{ee.on("attribute:linkHref",(Pe,ze,Qe)=>{if(!Qe.consumable.test(ze.item,"attribute:linkHref")||!ze.item.is("selection")&&!Qe.schema.isInline(ze.item))return;const dt=Qe.writer,Kt=dt.document.selection;for(const Et of this._definitions){const ni=dt.createAttributeElement("a",Et.attributes,{priority:5});Et.classes&&dt.addClass(Et.classes,ni);for(const yi in Et.styles)dt.setStyle(yi,Et.styles[yi],ni);dt.setCustomProperty("link",!0,ni),Et.callback(ze.attributeNewValue)?ze.item.is("selection")?dt.wrap(Kt.getFirstRange(),ni):dt.wrap(Qe.mapper.toViewRange(ze.range),ni):dt.unwrap(Qe.mapper.toViewRange(ze.range),ni)}},{priority:"high"})}}getDispatcherForLinkedImage(){return ee=>{ee.on("attribute:linkHref:imageBlock",(Pe,ze,{writer:Qe,mapper:dt})=>{const Kt=dt.toViewElement(ze.item),Et=Array.from(Kt.getChildren()).find(ni=>ni.is("element","a"));for(const ni of this._definitions){const yi=(0,u.toMap)(ni.attributes);if(ni.callback(ze.attributeNewValue)){for(const[gi,xi]of yi)gi==="class"?Qe.addClass(xi,Et):Qe.setAttribute(gi,xi,Et);ni.classes&&Qe.addClass(ni.classes,Et);for(const gi in ni.styles)Qe.setStyle(gi,ni.styles[gi],Et)}else{for(const[gi,xi]of yi)gi==="class"?Qe.removeClass(xi,Et):Qe.removeAttribute(gi,Et);ni.classes&&Qe.removeClass(ni.classes,Et);for(const gi in ni.styles)Qe.removeStyle(gi,Et)}}})}}}const P=function(Ne,ee,Pe){var ze=-1,Qe=Ne.length;ee<0&&(ee=-ee>Qe?0:Qe+ee),(Pe=Pe>Qe?Qe:Pe)<0&&(Pe+=Qe),Qe=ee>Pe?0:Pe-ee>>>0,ee>>>=0;for(var dt=Array(Qe);++ze<Qe;)dt[ze]=Ne[ze+ee];return dt},b=function(Ne,ee,Pe){var ze=Ne.length;return Pe=Pe===void 0?ze:Pe,!ee&&Pe>=ze?Ne:P(Ne,ee,Pe)};var _=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const D=function(Ne){return _.test(Ne)},I=function(Ne){return Ne.split("")};var V="\\ud800-\\udfff",ye="["+V+"]",ne="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",U="\\ud83c[\\udffb-\\udfff]",$="[^"+V+"]",he="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",g="(?:"+ne+"|"+U+")?",w="[\\ufe0e\\ufe0f]?",p=w+g+("(?:\\u200d(?:"+[$,he,we].join("|")+")"+w+g+")*"),v="(?:"+[$+ne+"?",ne,he,we,ye].join("|")+")",T=RegExp(U+"(?="+U+")|"+v+p,"g");const L=function(Ne){return Ne.match(T)||[]},O=function(Ne){return D(Ne)?L(Ne):I(Ne)},oe=typeof global=="object"&&global&&global.Object===Object&&global;var W=typeof self=="object"&&self&&self.Object===Object&&self;const te=(oe||W||Function("return this")()).Symbol,S=function(Ne,ee){for(var Pe=-1,ze=Ne==null?0:Ne.length,Qe=Array(ze);++Pe<ze;)Qe[Pe]=ee(Ne[Pe],Pe,Ne);return Qe},X=Array.isArray;var de=Object.prototype,_e=de.hasOwnProperty,Ae=de.toString,rt=te?te.toStringTag:void 0;const et=function(Ne){var ee=_e.call(Ne,rt),Pe=Ne[rt];try{Ne[rt]=void 0;var ze=!0}catch{}var Qe=Ae.call(Ne);return ze&&(ee?Ne[rt]=Pe:delete Ne[rt]),Qe};var J=Object.prototype.toString;const Z=function(Ne){return J.call(Ne)};var Ce=te?te.toStringTag:void 0;const Oe=function(Ne){return Ne==null?Ne===void 0?"[object Undefined]":"[object Null]":Ce&&Ce in Object(Ne)?et(Ne):Z(Ne)},xe=function(Ne){return Ne!=null&&typeof Ne=="object"},q=function(Ne){return typeof Ne=="symbol"||xe(Ne)&&Oe(Ne)=="[object Symbol]"};var Le=te?te.prototype:void 0,He=Le?Le.toString:void 0;const ot=function Ne(ee){if(typeof ee=="string")return ee;if(X(ee))return S(ee,Ne)+"";if(q(ee))return He?He.call(ee):"";var Pe=ee+"";return Pe=="0"&&1/ee==-1/0?"-0":Pe},fe=function(Ne){return Ne==null?"":ot(Ne)},le=function(Ne){return function(ee){ee=fe(ee);var Pe=D(ee)?O(ee):void 0,ze=Pe?Pe[0]:ee.charAt(0),Qe=Pe?b(Pe,1).join(""):ee.slice(1);return ze[Ne]()+Qe}}("toUpperCase"),pe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ke=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,nt=/^((\w+:(\/{2,})?)|(\W))/i,ut=["https?","ftps?","mailto"],wt="Ctrl+K";function Ft(Ne,{writer:ee}){const Pe=ee.createAttributeElement("a",{href:Ne},{priority:5});return ee.setCustomProperty("link",!0,Pe),Pe}function Wt(Ne,ee=ut){const Pe=String(Ne),ze=ee.join("|");return function(Qe,dt){return!!Qe.replace(pe,"").match(dt)}(Pe,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",ze)}`,"i"))?Pe:"#"}function Lt(Ne,ee){return!!Ne&&ee.checkAttribute(Ne.name,"linkHref")}function Yt(Ne,ee){const Pe=(ze=Ne,Ke.test(ze)?"mailto:":ee);var ze;const Qe=!!Pe&&!bt(Ne);return Ne&&Qe?Pe+Ne:Ne}function bt(Ne){return nt.test(Ne)}function Xe(Ne){window.open(Ne,"_blank","noopener")}class kt extends d.Command{constructor(){super(...arguments),this.manualDecorators=new u.Collection,this.automaticDecorators=new y}restoreManualDecoratorStates(){for(const ee of this.manualDecorators)ee.value=this._getDecoratorStateFromModel(ee.id)}refresh(){const ee=this.editor.model,Pe=ee.document.selection,ze=Pe.getSelectedElement()||(0,u.first)(Pe.getSelectedBlocks());Lt(ze,ee.schema)?(this.value=ze.getAttribute("linkHref"),this.isEnabled=ee.schema.checkAttribute(ze,"linkHref")):(this.value=Pe.getAttribute("linkHref"),this.isEnabled=ee.schema.checkAttributeInSelection(Pe,"linkHref"));for(const Qe of this.manualDecorators)Qe.value=this._getDecoratorStateFromModel(Qe.id)}execute(ee,Pe={}){const ze=this.editor.model,Qe=ze.document.selection,dt=[],Kt=[];for(const Et in Pe)Pe[Et]?dt.push(Et):Kt.push(Et);ze.change(Et=>{if(Qe.isCollapsed){const ni=Qe.getFirstPosition();if(Qe.hasAttribute("linkHref")){const yi=bi(Qe);let gi=(0,f.findAttributeRange)(ni,"linkHref",Qe.getAttribute("linkHref"),ze);Qe.getAttribute("linkHref")===yi&&(gi=this._updateLinkContent(ze,Et,gi,ee)),Et.setAttribute("linkHref",ee,gi),dt.forEach(xi=>{Et.setAttribute(xi,!0,gi)}),Kt.forEach(xi=>{Et.removeAttribute(xi,gi)}),Et.setSelection(Et.createPositionAfter(gi.end.nodeBefore))}else if(ee!==""){const yi=(0,u.toMap)(Qe.getAttributes());yi.set("linkHref",ee),dt.forEach(xi=>{yi.set(xi,!0)});const{end:gi}=ze.insertContent(Et.createText(ee,yi),ni);Et.setSelection(gi)}["linkHref",...dt,...Kt].forEach(yi=>{Et.removeSelectionAttribute(yi)})}else{const ni=ze.schema.getValidRanges(Qe.getRanges(),"linkHref"),yi=[];for(const xi of Qe.getSelectedBlocks())ze.schema.checkAttribute(xi,"linkHref")&&yi.push(Et.createRangeOn(xi));const gi=yi.slice();for(const xi of ni)this._isRangeToUpdate(xi,yi)&&gi.push(xi);for(const xi of gi){let Li=xi;if(gi.length===1){const mn=bi(Qe);Qe.getAttribute("linkHref")===mn&&(Li=this._updateLinkContent(ze,Et,xi,ee),Et.setSelection(Et.createSelection(Li)))}Et.setAttribute("linkHref",ee,Li),dt.forEach(mn=>{Et.setAttribute(mn,!0,Li)}),Kt.forEach(mn=>{Et.removeAttribute(mn,Li)})}}})}_getDecoratorStateFromModel(ee){const Pe=this.editor.model,ze=Pe.document.selection,Qe=ze.getSelectedElement();return Lt(Qe,Pe.schema)?Qe.getAttribute(ee):ze.getAttribute(ee)}_isRangeToUpdate(ee,Pe){for(const ze of Pe)if(ze.containsRange(ee))return!1;return!0}_updateLinkContent(ee,Pe,ze,Qe){const dt=Pe.createText(Qe,{linkHref:Qe});return ee.insertContent(dt,ze)}}function bi(Ne){if(Ne.isCollapsed){const ee=Ne.getFirstPosition();return ee.textNode&&ee.textNode.data}{const ee=Array.from(Ne.getFirstRange().getItems());if(ee.length>1)return null;const Pe=ee[0];return Pe.is("$text")||Pe.is("$textProxy")?Pe.data:null}}class fi extends d.Command{refresh(){const ee=this.editor.model,Pe=ee.document.selection,ze=Pe.getSelectedElement();Lt(ze,ee.schema)?this.isEnabled=ee.schema.checkAttribute(ze,"linkHref"):this.isEnabled=ee.schema.checkAttributeInSelection(Pe,"linkHref")}execute(){const ee=this.editor,Pe=this.editor.model,ze=Pe.document.selection,Qe=ee.commands.get("link");Pe.change(dt=>{const Kt=ze.isCollapsed?[(0,f.findAttributeRange)(ze.getFirstPosition(),"linkHref",ze.getAttribute("linkHref"),Pe)]:Pe.schema.getValidRanges(ze.getRanges(),"linkHref");for(const Et of Kt)if(dt.removeAttribute("linkHref",Et),Qe)for(const ni of Qe.manualDecorators)dt.removeAttribute(ni.id,Et)})}}class Di extends(0,u.ObservableMixin)(){constructor({id:ee,label:Pe,attributes:ze,classes:Qe,styles:dt,defaultValue:Kt}){super(),this.id=ee,this.set("value",void 0),this.defaultValue=Kt,this.label=Pe,this.attributes=ze,this.classes=Qe,this.styles=dt}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Yi=K(591),Ii=K.n(Yi),$i=K(429),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ii()($i.A,ht),$i.A.locals;const G="automatic",ce=/^(https?:)?\/\//;class Ie extends d.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[f.TwoStepCaretMovement,f.Input,s.ClipboardPipeline]}constructor(ee){super(ee),ee.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const ee=this.editor,Pe=this.editor.config.get("link.allowedProtocols");ee.model.schema.extend("$text",{allowAttributes:"linkHref"}),ee.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ft}),ee.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(Qe,dt)=>Ft(Wt(Qe,Pe),dt)}),ee.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:Qe=>Qe.getAttribute("href")}}),ee.commands.add("link",new kt(ee)),ee.commands.add("unlink",new fi(ee));const ze=function(Qe,dt){const Kt={"Open in a new tab":Qe("Open in a new tab"),Downloadable:Qe("Downloadable")};return dt.forEach(Et=>("label"in Et&&Kt[Et.label]&&(Et.label=Kt[Et.label]),Et)),dt}(ee.t,function(Qe){const dt=[];if(Qe)for(const[Kt,Et]of Object.entries(Qe)){const ni=Object.assign({},Et,{id:`link${le(Kt)}`});dt.push(ni)}return dt}(ee.config.get("link.decorators")));this._enableAutomaticDecorators(ze.filter(Qe=>Qe.mode===G)),this._enableManualDecorators(ze.filter(Qe=>Qe.mode==="manual")),ee.plugins.get(f.TwoStepCaretMovement).registerAttribute("linkHref"),(0,f.inlineHighlight)(ee,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(ee){const Pe=this.editor,ze=Pe.commands.get("link").automaticDecorators;Pe.config.get("link.addTargetToExternalLinks")&&ze.add({id:"linkIsExternal",mode:G,callback:Qe=>!!Qe&&ce.test(Qe),attributes:{target:"_blank",rel:"noopener noreferrer"}}),ze.add(ee),ze.length&&Pe.conversion.for("downcast").add(ze.getDispatcher())}_enableManualDecorators(ee){if(!ee.length)return;const Pe=this.editor,ze=Pe.commands.get("link").manualDecorators;ee.forEach(Qe=>{Pe.model.schema.extend("$text",{allowAttributes:Qe.id});const dt=new Di(Qe);ze.add(dt),Pe.conversion.for("downcast").attributeToElement({model:dt.id,view:(Kt,{writer:Et,schema:ni},{item:yi})=>{if((yi.is("selection")||ni.isInline(yi))&&Kt){const gi=Et.createAttributeElement("a",dt.attributes,{priority:5});dt.classes&&Et.addClass(dt.classes,gi);for(const xi in dt.styles)Et.setStyle(xi,dt.styles[xi],gi);return Et.setCustomProperty("link",!0,gi),gi}}}),Pe.conversion.for("upcast").elementToAttribute({view:{name:"a",...dt._createPattern()},model:{key:dt.id}})})}_enableLinkOpen(){const ee=this.editor,Pe=ee.editing.view.document;this.listenTo(Pe,"click",(ze,Qe)=>{if(!(u.env.isMac?Qe.domEvent.metaKey:Qe.domEvent.ctrlKey))return;let dt=Qe.domTarget;if(dt.tagName.toLowerCase()!="a"&&(dt=dt.closest("a")),!dt)return;const Kt=dt.getAttribute("href");Kt&&(ze.stop(),Qe.preventDefault(),Xe(Kt))},{context:"$capture"}),this.listenTo(Pe,"keydown",(ze,Qe)=>{const dt=ee.commands.get("link").value;dt&&Qe.keyCode===u.keyCodes.enter&&Qe.altKey&&(ze.stop(),Xe(dt))})}_enableSelectionAttributesFixer(){const ee=this.editor.model,Pe=ee.document.selection;this.listenTo(Pe,"change:attribute",(ze,{attributeKeys:Qe})=>{Qe.includes("linkHref")&&!Pe.hasAttribute("linkHref")&&ee.change(dt=>{var Kt;(function(Et,ni){Et.removeSelectionAttribute("linkHref");for(const yi of ni)Et.removeSelectionAttribute(yi)})(dt,(Kt=ee.schema,Kt.getDefinition("$text").allowAttributes.filter(Et=>Et.startsWith("link"))))})})}_enableClipboardIntegration(){const ee=this.editor,Pe=ee.model,ze=this.editor.config.get("link.defaultProtocol");ze&&this.listenTo(ee.plugins.get("ClipboardPipeline"),"contentInsertion",(Qe,dt)=>{Pe.change(Kt=>{const Et=Kt.createRangeIn(dt.content);for(const ni of Et.getItems())if(ni.hasAttribute("linkHref")){const yi=Yt(ni.getAttribute("linkHref"),ze);Kt.setAttribute("linkHref",yi,ni)}})})}}var Ze=K(783),Ye=K(311),ft=K(901),Tt=K(501),Vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ii()(Tt.A,Vt),Tt.A.locals;var Bt=K(627),ei={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ii()(Bt.A,ei),Bt.A.locals;class oi extends Ye.View{constructor(ee,Pe){super(ee),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusables=new Ye.ViewCollection;const ze=ee.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(ze("Save"),d.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(ze("Cancel"),d.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(Pe),this.children=this._createFormChildren(Pe.manualDecorators),this._focusCycler=new Ye.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const Qe=["ck","ck-link-form","ck-responsive-form"];Pe.manualDecorators.length&&Qe.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:Qe,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((ee,Pe)=>(ee[Pe.name]=Pe.isOn,ee),{})}render(){super.render(),(0,Ye.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(ee=>{this._focusables.add(ee),this.focusTracker.add(ee.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const ee=this.locale.t,Pe=new Ye.LabeledFieldView(this.locale,Ye.createLabeledInputText);return Pe.label=ee("Link URL"),Pe}_createButton(ee,Pe,ze,Qe){const dt=new Ye.ButtonView(this.locale);return dt.set({label:ee,icon:Pe,tooltip:!0}),dt.extendTemplate({attributes:{class:ze}}),Qe&&dt.delegate("execute").to(this,Qe),dt}_createManualDecoratorSwitches(ee){const Pe=this.createCollection();for(const ze of ee.manualDecorators){const Qe=new Ye.SwitchButtonView(this.locale);Qe.set({name:ze.id,label:ze.label,withText:!0}),Qe.bind("isOn").toMany([ze,ee],"value",(dt,Kt)=>Kt===void 0&&dt===void 0?!!ze.defaultValue:!!dt),Qe.on("execute",()=>{ze.set("value",!Qe.isOn)}),Pe.add(Qe)}return Pe}_createFormChildren(ee){const Pe=this.createCollection();if(Pe.add(this.urlInputView),ee.length){const ze=new Ye.View;ze.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(Qe=>({tag:"li",children:[Qe],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),Pe.add(ze)}return Pe.add(this.saveButtonView),Pe.add(this.cancelButtonView),Pe}}var Mi=K(356),Pi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ii()(Mi.A,Pi),Mi.A.locals;class zi extends Ye.View{constructor(ee,Pe={}){super(ee),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusables=new Ye.ViewCollection;const ze=ee.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(ze("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(ze("Edit link"),d.icons.pencil,"edit"),this.set("href",void 0),this._linkConfig=Pe,this._focusCycler=new Ye.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(ee=>{this._focusables.add(ee),this.focusTracker.add(ee.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(ee,Pe,ze){const Qe=new Ye.ButtonView(this.locale);return Qe.set({label:ee,icon:Pe,tooltip:!0}),Qe.delegate("execute").to(this,ze),Qe}_createPreviewButton(){const ee=new Ye.ButtonView(this.locale),Pe=this.bindTemplate,ze=this.t;return ee.set({withText:!0,tooltip:ze("Open link in new tab")}),ee.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:Pe.to("href",Qe=>Qe&&Wt(Qe,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),ee.bind("label").to(this,"href",Qe=>Qe||ze("This link has no URL")),ee.bind("isEnabled").to(this,"href",Qe=>!!Qe),ee.template.tag="a",ee.template.eventListeners={},ee}}const mi='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',Ni="link-ui";class vt extends d.Plugin{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Ye.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const ee=this.editor,Pe=this.editor.t;ee.editing.view.addObserver(Ze.ClickObserver),this._balloon=ee.plugins.get(Ye.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),ee.conversion.for("editingDowncast").markerToHighlight({model:Ni,view:{classes:["ck-fake-link-selection"]}}),ee.conversion.for("editingDowncast").markerToElement({model:Ni,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),ee.accessibility.addKeystrokeInfos({keystrokes:[{label:Pe("Create link"),keystroke:wt},{label:Pe("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const ee=this.editor,Pe=new zi(ee.locale,ee.config.get("link")),ze=ee.commands.get("link"),Qe=ee.commands.get("unlink");return Pe.bind("href").to(ze,"value"),Pe.editButtonView.bind("isEnabled").to(ze),Pe.unlinkButtonView.bind("isEnabled").to(Qe),this.listenTo(Pe,"edit",()=>{this._addFormView()}),this.listenTo(Pe,"unlink",()=>{ee.execute("unlink"),this._hideUI()}),Pe.keystrokes.set("Esc",(dt,Kt)=>{this._hideUI(),Kt()}),Pe.keystrokes.set(wt,(dt,Kt)=>{this._addFormView(),Kt()}),Pe}_createFormView(){const ee=this.editor,Pe=ee.commands.get("link"),ze=ee.config.get("link.defaultProtocol"),Qe=ee.config.get("link.allowCreatingEmptyLinks"),dt=new((0,Ye.CssTransitionDisablerMixin)(oi))(ee.locale,Pe);return dt.urlInputView.fieldView.bind("value").to(Pe,"value"),dt.urlInputView.bind("isEnabled").to(Pe,"isEnabled"),dt.saveButtonView.bind("isEnabled").to(Pe,"isEnabled",dt.urlInputView,"isEmpty",(Kt,Et)=>Kt&&(Qe||!Et)),this.listenTo(dt,"submit",()=>{const{value:Kt}=dt.urlInputView.fieldView.element,Et=Yt(Kt,ze);ee.execute("link",Et,dt.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(dt,"cancel",()=>{this._closeFormView()}),dt.keystrokes.set("Esc",(Kt,Et)=>{this._closeFormView(),Et()}),dt}_createToolbarLinkButton(){const ee=this.editor,Pe=ee.commands.get("link");ee.ui.componentFactory.add("link",()=>{const ze=this._createButton(Ye.ButtonView);return ze.set({tooltip:!0,isToggleable:!0}),ze.bind("isOn").to(Pe,"value",Qe=>!!Qe),ze}),ee.ui.componentFactory.add("menuBar:link",()=>this._createButton(Ye.MenuBarMenuListItemButtonView))}_createButton(ee){const Pe=this.editor,ze=Pe.locale,Qe=Pe.commands.get("link"),dt=new ee(Pe.locale),Kt=ze.t;return dt.set({label:Kt("Link"),icon:mi,keystroke:wt}),dt.bind("isEnabled").to(Qe,"isEnabled"),this.listenTo(dt,"execute",()=>this._showUI(!0)),dt}_enableBalloonActivators(){const ee=this.editor,Pe=ee.editing.view.document;this.listenTo(Pe,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),ee.keystrokes.set(wt,(ze,Qe)=>{Qe(),ee.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(ee,Pe)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),Pe())},{priority:"high"}),this.editor.keystrokes.set("Esc",(ee,Pe)=>{this._isUIVisible&&(this._hideUI(),Pe())}),(0,Ye.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const ee=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=ee.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const ee=this.editor.commands.get("link");ee.restoreManualDecoratorStates(),ee.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(ee=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),ee&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),ee&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const ee=this.editor;this.stopListening(ee.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),ee.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const ee=this.editor,Pe=ee.editing.view.document;let ze=this._getSelectedLinkElement(),Qe=Kt();const dt=()=>{const Et=this._getSelectedLinkElement(),ni=Kt();ze&&!Et||!ze&&ni!==Qe?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),ze=Et,Qe=ni};function Kt(){return Pe.selection.focus.getAncestors().reverse().find(Et=>Et.is("element"))}this.listenTo(ee.ui,"update",dt),this.listenTo(this._balloon,"change:visibleView",dt)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const ee=this._balloon.visibleView;return!!this.formView&&ee==this.formView||this._areActionsVisible}_getBalloonPositionData(){const ee=this.editor.editing.view,Pe=this.editor.model,ze=ee.document;let Qe;if(Pe.markers.has(Ni)){const dt=Array.from(this.editor.editing.mapper.markerNameToElements(Ni)),Kt=ee.createRange(ee.createPositionBefore(dt[0]),ee.createPositionAfter(dt[dt.length-1]));Qe=ee.domConverter.viewRangeToDom(Kt)}else Qe=()=>{const dt=this._getSelectedLinkElement();return dt?ee.domConverter.mapViewToDom(dt):ee.domConverter.viewRangeToDom(ze.selection.getFirstRange())};return{target:Qe}}_getSelectedLinkElement(){const ee=this.editor.editing.view,Pe=ee.document.selection,ze=Pe.getSelectedElement();if(Pe.isCollapsed||ze&&(0,ft.isWidget)(ze))return qe(Pe.getFirstPosition());{const Qe=Pe.getFirstRange().getTrimmed(),dt=qe(Qe.start),Kt=qe(Qe.end);return dt&&dt==Kt&&ee.createRangeIn(dt).getTrimmed().isEqual(Qe)?dt:null}}_showFakeVisualSelection(){const ee=this.editor.model;ee.change(Pe=>{const ze=ee.document.selection.getFirstRange();if(ee.markers.has(Ni))Pe.updateMarker(Ni,{range:ze});else if(ze.start.isAtEnd){const Qe=ze.start.getLastMatchingPosition(({item:dt})=>!ee.schema.isContent(dt),{boundaries:ze});Pe.addMarker(Ni,{usingOperation:!1,affectsData:!1,range:Pe.createRange(Qe,ze.end)})}else Pe.addMarker(Ni,{usingOperation:!1,affectsData:!1,range:ze})})}_hideFakeVisualSelection(){const ee=this.editor.model;ee.markers.has(Ni)&&ee.change(Pe=>{Pe.removeMarker(Ni)})}}function qe(Ne){return Ne.getAncestors().find(ee=>{return(Pe=ee).is("attributeElement")&&!!Pe.getCustomProperty("link");var Pe})||null}const pt=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Be extends d.Plugin{static get requires(){return[f.Delete,Ie]}static get pluginName(){return"AutoLink"}init(){const ee=this.editor.model.document.selection;ee.on("change:range",()=>{this.isEnabled=!ee.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(ee,Pe){return Pe.textNode&&Pe.textNode.hasAttribute("linkHref")?(0,f.findAttributeRange)(Pe,"linkHref",Pe.textNode.getAttribute("linkHref"),ee):null}_selectEntireLinks(ee,Pe){const ze=this.editor.model,Qe=ze.document.selection,dt=Qe.getFirstPosition(),Kt=Qe.getLastPosition();let Et=Pe.getJoined(this._expandLinkRange(ze,dt)||Pe);Et&&(Et=Et.getJoined(this._expandLinkRange(ze,Kt)||Pe)),Et&&(Et.start.isBefore(dt)||Et.end.isAfter(Kt))&&ee.setSelection(Et)}_enablePasteLinking(){const ee=this.editor,Pe=ee.model,ze=Pe.document.selection,Qe=ee.plugins.get("ClipboardPipeline"),dt=ee.commands.get("link");Qe.on("inputTransformation",(Kt,Et)=>{if(!this.isEnabled||!dt.isEnabled||ze.isCollapsed||Et.method!=="paste"||ze.rangeCount>1)return;const ni=ze.getFirstRange(),yi=Et.dataTransfer.getData("text/plain");if(!yi)return;const gi=yi.match(pt);gi&&gi[2]===yi&&(Pe.change(xi=>{this._selectEntireLinks(xi,ni),dt.execute(yi)}),Kt.stop())},{priority:"high"})}_enableTypingHandling(){const ee=this.editor,Pe=new f.TextWatcher(ee.model,ze=>{if(!function(dt){return dt.length>4&&dt[dt.length-1]===" "&&dt[dt.length-2]!==" "}(ze))return;const Qe=xt(ze.substr(0,ze.length-1));return Qe?{url:Qe}:void 0});Pe.on("matched:data",(ze,Qe)=>{const{batch:dt,range:Kt,url:Et}=Qe;if(!dt.isTyping)return;const ni=Kt.end.getShiftedBy(-1),yi=ni.getShiftedBy(-Et.length),gi=ee.model.createRange(yi,ni);this._applyAutoLink(Et,gi)}),Pe.bind("isEnabled").to(this)}_enableEnterHandling(){const ee=this.editor,Pe=ee.model,ze=ee.commands.get("enter");ze&&ze.on("execute",()=>{const Qe=Pe.document.selection.getFirstPosition();if(!Qe.parent.previousSibling)return;const dt=Pe.createRangeIn(Qe.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(dt)})}_enableShiftEnterHandling(){const ee=this.editor,Pe=ee.model,ze=ee.commands.get("shiftEnter");ze&&ze.on("execute",()=>{const Qe=Pe.document.selection.getFirstPosition(),dt=Pe.createRange(Pe.createPositionAt(Qe.parent,0),Qe.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(dt)})}_checkAndApplyAutoLinkOnRange(ee){const Pe=this.editor.model,{text:ze,range:Qe}=(0,f.getLastTextLine)(ee,Pe),dt=xt(ze);if(dt){const Kt=Pe.createRange(Qe.end.getShiftedBy(-dt.length),Qe.end);this._applyAutoLink(dt,Kt)}}_applyAutoLink(ee,Pe){const ze=this.editor.model,Qe=Yt(ee,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(dt,Kt){return Kt.schema.checkAttributeInSelection(Kt.createSelection(dt),"linkHref")}(Pe,ze)&&bt(Qe)&&!function(dt){const Kt=dt.start.nodeAfter;return!!Kt&&Kt.hasAttribute("linkHref")}(Pe)&&this._persistAutoLink(Qe,Pe)}_persistAutoLink(ee,Pe){const ze=this.editor.model,Qe=this.editor.plugins.get("Delete");ze.enqueueChange(dt=>{dt.setAttribute("linkHref",ee,Pe),ze.enqueueChange(()=>{Qe.requestUndoOnBackspace()})})}}function xt(Ne){const ee=pt.exec(Ne);return ee?ee[2]:null}class Zt extends d.Plugin{static get requires(){return[Ie,vt,Be]}static get pluginName(){return"Link"}}class Ot extends d.Plugin{static get requires(){return["ImageEditing","ImageUtils",Ie]}static get pluginName(){return"LinkImageEditing"}afterInit(){const ee=this.editor,Pe=ee.model.schema;ee.plugins.has("ImageBlockEditing")&&Pe.extend("imageBlock",{allowAttributes:["linkHref"]}),ee.conversion.for("upcast").add(function(ze){const Qe=ze.plugins.has("ImageInlineEditing"),dt=ze.plugins.get("ImageUtils");return Kt=>{Kt.on("element:a",(Et,ni,yi)=>{const gi=ni.viewItem,xi=dt.findViewImgElement(gi);if(!xi)return;const Li=xi.findAncestor(Ln=>dt.isBlockImageView(Ln));if(Qe&&!Li)return;const mn={attributes:["href"]};if(!yi.consumable.consume(gi,mn))return;const jn=gi.getAttribute("href");if(!jn)return;let vn=ni.modelCursor.parent;if(!vn.is("element","imageBlock")){const Ln=yi.convertItem(xi,ni.modelCursor);ni.modelRange=Ln.modelRange,ni.modelCursor=Ln.modelCursor,vn=ni.modelCursor.nodeBefore}vn&&vn.is("element","imageBlock")&&yi.writer.setAttribute("linkHref",jn,vn)},{priority:"high"})}}(ee)),ee.conversion.for("downcast").add(function(ze){const Qe=ze.plugins.get("ImageUtils");return dt=>{dt.on("attribute:linkHref:imageBlock",(Kt,Et,ni)=>{if(!ni.consumable.consume(Et.item,Kt.name))return;const yi=ni.mapper.toViewElement(Et.item),gi=ni.writer,xi=Array.from(yi.getChildren()).find(jn=>jn.is("element","a")),Li=Qe.findViewImgElement(yi),mn=Li.parent.is("element","picture")?Li.parent:Li;if(xi)Et.attributeNewValue?gi.setAttribute("href",Et.attributeNewValue,xi):(gi.move(gi.createRangeOn(mn),gi.createPositionAt(yi,0)),gi.remove(xi));else{const jn=gi.createContainerElement("a",{href:Et.attributeNewValue});gi.insert(gi.createPositionAt(yi,0),jn),gi.move(gi.createRangeOn(mn),gi.createPositionAt(jn,0))}},{priority:"high"})}}(ee)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const ee=this.editor,Pe=ee.commands.get("link").automaticDecorators;Pe.length&&ee.conversion.for("downcast").add(Pe.getDispatcherForLinkedImage())}_enableManualDecorators(){const ee=this.editor,Pe=ee.commands.get("link");for(const ze of Pe.manualDecorators)ee.plugins.has("ImageBlockEditing")&&ee.model.schema.extend("imageBlock",{allowAttributes:ze.id}),ee.plugins.has("ImageInlineEditing")&&ee.model.schema.extend("imageInline",{allowAttributes:ze.id}),ee.conversion.for("downcast").add(Rt(ze)),ee.conversion.for("upcast").add(ve(ee,ze))}}function Rt(Ne){return ee=>{ee.on(`attribute:${Ne.id}:imageBlock`,(Pe,ze,Qe)=>{const dt=Qe.mapper.toViewElement(ze.item),Kt=Array.from(dt.getChildren()).find(Et=>Et.is("element","a"));if(Kt){for(const[Et,ni]of(0,u.toMap)(Ne.attributes))Qe.writer.setAttribute(Et,ni,Kt);Ne.classes&&Qe.writer.addClass(Ne.classes,Kt);for(const Et in Ne.styles)Qe.writer.setStyle(Et,Ne.styles[Et],Kt)}})}}function ve(Ne,ee){const Pe=Ne.plugins.has("ImageInlineEditing"),ze=Ne.plugins.get("ImageUtils");return Qe=>{Qe.on("element:a",(dt,Kt,Et)=>{const ni=Kt.viewItem,yi=ze.findViewImgElement(ni);if(!yi)return;const gi=yi.findAncestor(mn=>ze.isBlockImageView(mn));if(Pe&&!gi)return;const xi=new Ze.Matcher(ee._createPattern()).match(ni);if(!xi||!Et.consumable.consume(ni,xi.match))return;const Li=Kt.modelCursor.nodeBefore||Kt.modelCursor.parent;Et.writer.setAttribute(ee.id,!0,Li)},{priority:"high"})}}class j extends d.Plugin{static get requires(){return[Ie,vt,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const ee=this.editor,Pe=ee.editing.view.document;this.listenTo(Pe,"click",(ze,Qe)=>{this._isSelectedLinkedImage(ee.model.document.selection)&&(Qe.preventDefault(),ze.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const ee=this.editor,Pe=ee.t;ee.ui.componentFactory.add("linkImage",ze=>{const Qe=new Ye.ButtonView(ze),dt=ee.plugins.get("LinkUI"),Kt=ee.commands.get("link");return Qe.set({isEnabled:!0,label:Pe("Link image"),icon:mi,keystroke:wt,tooltip:!0,isToggleable:!0}),Qe.bind("isEnabled").to(Kt,"isEnabled"),Qe.bind("isOn").to(Kt,"value",Et=>!!Et),this.listenTo(Qe,"execute",()=>{this._isSelectedLinkedImage(ee.model.document.selection)?dt._addActionsView():dt._showUI(!0)}),Qe})}_isSelectedLinkedImage(ee){const Pe=ee.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(Pe)&&Pe.hasAttribute("linkHref")}}var B=K(654),Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ii()(B.A,Y),B.A.locals;class Te extends d.Plugin{static get requires(){return[Ot,j]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease list item indent":"Decrease list item indent",Disc:"Disc","Increase list item indent":"Increase list item indent","Invalid start index value.":"Invalid start index value.","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={358:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const P=y},137:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const P=y},266:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const P=y},263:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const P=y},825:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},507:(d,f,s)=>{d.exports=s(237)("./src/enter.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{AdjacentListsSupport:()=>lt,DocumentList:()=>Nt,DocumentListProperties:()=>ui,LegacyIndentCommand:()=>ni,LegacyList:()=>Ct,LegacyListEditing:()=>It,LegacyListProperties:()=>en,LegacyListPropertiesEditing:()=>ki,LegacyListUtils:()=>go,LegacyTodoList:()=>We,LegacyTodoListEditing:()=>ie,List:()=>Yi,ListCommand:()=>X,ListEditing:()=>bt,ListIndentCommand:()=>te,ListProperties:()=>Ot,ListPropertiesEditing:()=>Mi,ListPropertiesUI:()=>qe,ListPropertiesUtils:()=>ei,ListUI:()=>Di,ListUtils:()=>Ae,TodoDocumentList:()=>ri,TodoList:()=>Qe,TodoListEditing:()=>B,TodoListUI:()=>ee});var d=K(782),f=K(834),s=K(507),u=K(584);class y{constructor(C,F){this._startElement=C,this._referenceIndent=C.getAttribute("listIndent"),this._isForward=F.direction=="forward",this._includeSelf=!!F.includeSelf,this._sameAttributes=(0,u.toArray)(F.sameAttributes||[]),this._sameIndent=!!F.sameIndent,this._lowerIndent=!!F.lowerIndent,this._higherIndent=!!F.higherIndent}static first(C,F){const Q=new this(C,F)[Symbol.iterator]();return(0,u.first)(Q)}*[Symbol.iterator](){const C=[];for(const{node:F}of P(this._getStartNode(),this._isForward?"forward":"backward")){const Q=F.getAttribute("listIndent");if(Q<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=Q}else if(Q>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){C.push(F);continue}}else{if(!this._sameIndent){if(this._higherIndent){C.length&&(yield*C,C.length=0);break}continue}if(this._sameAttributes.some(ke=>F.getAttribute(ke)!==this._startElement.getAttribute(ke)))break}C.length&&(yield*C,C.length=0),yield F}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*P(me,C="forward"){const F=C=="forward",Q=[];let ke=null;for(;D(me);){let Ve=null;if(ke){const je=me.getAttribute("listIndent"),Me=ke.getAttribute("listIndent");je>Me?Q[Me]=ke:je<Me?(Ve=Q[je],Q.length=je):Ve=ke}yield{node:me,previous:ke,previousNodeInList:Ve},ke=me,me=F?me.nextSibling:me.previousSibling}}class b{constructor(C){this._listHead=C}[Symbol.iterator](){return P(this._listHead,"forward")}}class _{static next(){return(0,u.uid)()}}function D(me){return!!me&&me.is("element")&&me.hasAttribute("listItemId")}function I(me,C={}){return[...V(me,{...C,direction:"backward"}),...V(me,{...C,direction:"forward"})]}function V(me,C={}){const F=C.direction=="forward",Q=Array.from(new y(me,{...C,includeSelf:F,sameIndent:!0,sameAttributes:"listItemId"}));return F?Q:Q.reverse()}function ye(me,C){const F=new y(me,{sameIndent:!0,sameAttributes:"listType",...C}),Q=new y(me,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...C});return[...Array.from(F).reverse(),...Q]}function ne(me){return!y.first(me,{sameIndent:!0,sameAttributes:"listItemId"})}function U(me){return!y.first(me,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function $(me,C={}){me=(0,u.toArray)(me);const F=C.withNested!==!1,Q=new Set;for(const ke of me)for(const Ve of I(ke,{higherIndent:F}))Q.add(Ve);return T(Q)}function he(me){me=(0,u.toArray)(me);const C=new Set;for(const F of me)for(const Q of ye(F))C.add(Q);return T(C)}function we(me,C){const F=V(me,{direction:"forward"}),Q=_.next();for(const ke of F)C.setAttribute("listItemId",Q,ke);return F}function g(me,C,F){const Q={};for(const[Ve,je]of C.getAttributes())Ve.startsWith("list")&&(Q[Ve]=je);const ke=V(me,{direction:"forward"});for(const Ve of ke)F.setAttributes(Q,Ve);return ke}function w(me,C,{expand:F,indentBy:Q=1}={}){me=(0,u.toArray)(me);const ke=F?$(me):me;for(const Ve of ke){const je=Ve.getAttribute("listIndent")+Q;je<0?p(Ve,C):C.setAttribute("listIndent",je,Ve)}return ke}function p(me,C){me=(0,u.toArray)(me);for(const F of me)F.is("element","listItem")&&C.rename(F,"paragraph");for(const F of me)for(const Q of F.getAttributeKeys())Q.startsWith("list")&&C.removeAttribute(Q,F);return me}function v(me){if(!me.length)return!1;const C=me[0].getAttribute("listItemId");return!!C&&!me.some(F=>F.getAttribute("listItemId")!=C)}function T(me){return Array.from(me).filter(C=>C.root.rootName!=="$graveyard").sort((C,F)=>C.index-F.index)}function L(me){const C=me.document.selection.getSelectedElement();return C&&me.schema.isObject(C)&&me.schema.isBlock(C)?C:null}function O(me,C){return C.checkChild(me.parent,"listItem")&&C.checkChild(me,"$text")&&!C.isObject(me)}function oe(me){return me=="numbered"||me=="customNumbered"}function W(me,C,F){return V(C,{direction:"forward"}).pop().index>me.index?g(me,C,F):[]}class te extends d.Command{constructor(C,F){super(C),this._direction=F}refresh(){this.isEnabled=this._checkEnabled()}execute(){const C=this.editor.model,F=S(C.document.selection);C.change(Q=>{const ke=[];v(F)&&!ne(F[0])?(this._direction=="forward"&&ke.push(...w(F,Q)),ke.push(...we(F[0],Q))):this._direction=="forward"?ke.push(...w(F,Q,{expand:!0})):ke.push(...function(Ve,je){const Me=$(Ve=(0,u.toArray)(Ve)),De=new Set,Ue=Math.min(...Me.map(mt=>mt.getAttribute("listIndent"))),st=new Map;for(const mt of Me)st.set(mt,y.first(mt,{lowerIndent:!0}));for(const mt of Me){if(De.has(mt))continue;De.add(mt);const _t=mt.getAttribute("listIndent")-1;if(_t<0)p(mt,je);else{if(mt.getAttribute("listIndent")==Ue){const Pt=W(mt,st.get(mt),je);for(const qt of Pt)De.add(qt);if(Pt.length)continue}je.setAttribute("listIndent",_t,mt)}}return T(De)}(F,Q));for(const Ve of ke){if(!Ve.hasAttribute("listType"))continue;const je=y.first(Ve,{sameIndent:!0});je&&Q.setAttribute("listType",je.getAttribute("listType"),Ve)}this._fireAfterExecute(ke)})}_fireAfterExecute(C){this.fire("afterExecute",T(new Set(C)))}_checkEnabled(){let C=S(this.editor.model.document.selection),F=C[0];if(!F)return!1;if(this._direction=="backward"||v(C)&&!ne(C[0]))return!0;C=$(C),F=C[0];const Q=y.first(F,{sameIndent:!0});return!!Q&&Q.getAttribute("listType")==F.getAttribute("listType")}}function S(me){const C=Array.from(me.getSelectedBlocks()),F=C.findIndex(Q=>!D(Q));return F!=-1&&(C.length=F),C}class X extends d.Command{constructor(C,F,Q={}){super(C),this.type=F,this._listWalkerOptions=Q.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(C={}){const F=this.editor.model,Q=F.document,ke=L(F),Ve=Array.from(Q.selection.getSelectedBlocks()).filter(Me=>F.schema.checkAttribute(Me,"listType")||O(Me,F.schema)),je=C.forceValue!==void 0?!C.forceValue:this.value;F.change(Me=>{if(je){const De=Ve[Ve.length-1],Ue=V(De,{direction:"forward"}),st=[];Ue.length>1&&st.push(...we(Ue[1],Me)),st.push(...p(Ve,Me)),st.push(...function(mt,_t){const Pt=[];let qt=Number.POSITIVE_INFINITY;for(const{node:jt}of P(mt.nextSibling,"forward")){const Jt=jt.getAttribute("listIndent");if(Jt==0)break;Jt<qt&&(qt=Jt);const ci=Jt-qt;_t.setAttribute("listIndent",ci,jt),Pt.push(jt)}return Pt}(De,Me)),this._fireAfterExecute(st)}else if((ke||Q.selection.isCollapsed)&&D(Ve[0])){const De=ye(ke||Ve[0],this._listWalkerOptions);for(const Ue of De)Me.setAttributes({...C.additionalAttributes,listType:this.type},Ue);this._fireAfterExecute(De)}else{const De=[];for(const Ue of Ve)if(Ue.hasAttribute("listType"))for(const st of $(Ue,{withNested:!1}))st.getAttribute("listType")!=this.type&&(Me.setAttributes({...C.additionalAttributes,listType:this.type},st),De.push(st));else!Ue.is("element","listItem")&&O(Ue,F.schema)&&Me.rename(Ue,"listItem"),Me.setAttributes({...C.additionalAttributes,listIndent:0,listItemId:_.next(),listType:this.type},Ue),De.push(Ue);this._fireAfterExecute(De)}})}_fireAfterExecute(C){this.fire("afterExecute",T(new Set(C)))}_getValue(){const C=this.editor.model.document.selection,F=Array.from(C.getSelectedBlocks());if(!F.length)return!1;for(const Q of F)if(Q.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const C=this.editor.model,F=C.schema,Q=C.document.selection,ke=Array.from(Q.getSelectedBlocks());if(!ke.length)return!1;if(this.value)return!0;for(const Ve of ke)if(F.checkAttribute(Ve,"listType")||O(Ve,F))return!0;return!1}}class de extends d.Command{constructor(C,F){super(C),this._direction=F}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:C=!1}={}){const F=this.editor.model,Q=F.document.selection,ke=[];F.change(Ve=>{const{firstElement:je,lastElement:Me}=this._getMergeSubjectElements(Q,C),De=je.getAttribute("listIndent")||0,Ue=Me.getAttribute("listIndent"),st=Me.getAttribute("listItemId");if(De!=Ue){const _t=(mt=Me,Array.from(new y(mt,{direction:"forward",higherIndent:!0})));ke.push(...w([Me,..._t],Ve,{indentBy:De-Ue,expand:De<Ue}))}var mt;if(C){let _t=Q;Q.isCollapsed&&(_t=Ve.createSelection(Ve.createRange(Ve.createPositionAt(je,"end"),Ve.createPositionAt(Me,0)))),F.deleteContent(_t,{doNotResetEntireContent:Q.isCollapsed});const Pt=_t.getLastPosition().parent,qt=Pt.nextSibling;ke.push(Pt),qt&&qt!==Me&&qt.getAttribute("listItemId")==st&&ke.push(...g(qt,Pt,Ve))}else ke.push(...g(Me,je,Ve));this._fireAfterExecute(ke)})}_fireAfterExecute(C){this.fire("afterExecute",T(new Set(C)))}_checkEnabled(){const C=this.editor.model,F=C.document.selection,Q=L(C);if(F.isCollapsed||Q){const ke=Q||F.getFirstPosition().parent;if(!D(ke))return!1;const Ve=this._direction=="backward"?ke.previousSibling:ke.nextSibling;if(!Ve||v([ke,Ve]))return!1}else{const ke=F.getLastPosition(),Ve=F.getFirstPosition();if(ke.parent===Ve.parent||!D(ke.parent))return!1}return!0}_getMergeSubjectElements(C,F){const Q=L(this.editor.model);let ke,Ve;if(C.isCollapsed||Q){const je=Q||C.getFirstPosition().parent,Me=ne(je);this._direction=="backward"?(Ve=je,ke=Me&&!F?y.first(je,{sameIndent:!0,lowerIndent:!0}):je.previousSibling):(ke=je,Ve=je.nextSibling)}else ke=C.getFirstPosition().parent,Ve=C.getLastPosition().parent;return{firstElement:ke,lastElement:Ve}}}class _e extends d.Command{constructor(C,F){super(C),this._direction=F}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(C=>{const F=we(this._getStartBlock(),C);this._fireAfterExecute(F)})}_fireAfterExecute(C){this.fire("afterExecute",T(new Set(C)))}_checkEnabled(){const C=this.editor.model.document.selection,F=this._getStartBlock();return C.isCollapsed&&D(F)&&!ne(F)}_getStartBlock(){const C=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?C:C.nextSibling}}class Ae extends d.Plugin{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(C){return he(C)}isFirstBlockOfListItem(C){return ne(C)}isListItemBlock(C){return D(C)}expandListBlocksToCompleteItems(C,F={}){return $(C,F)}isNumberedListType(C){return oe(C)}}var rt=K(783);function et(me){return me.is("element","ol")||me.is("element","ul")}function J(me){return me.is("element","li")}function Z(me,C,F,Q=xe(F,C)){return me.createAttributeElement(Oe(F),null,{priority:2*C/100-100,id:Q})}function Ce(me,C,F){return me.createAttributeElement("li",null,{priority:(2*C+1)/100-100,id:F})}function Oe(me){return me=="numbered"||me=="customNumbered"?"ol":"ul"}function xe(me,C){return`list-${me}-${C}`}function q(me,C){const F=me.nodeBefore;if(D(F)){let Q=F;for(const{node:ke}of P(Q,"backward"))if(Q=ke,C.has(Q))return;C.set(F,Q)}else{const Q=me.nodeAfter;D(Q)&&C.set(Q,Q)}}function Le(){return(me,C,F)=>{const{writer:Q,schema:ke}=F;if(!C.modelRange)return;const Ve=Array.from(C.modelRange.getItems({shallow:!0})).filter(mt=>ke.checkAttribute(mt,"listItemId"));if(!Ve.length)return;const je=_.next(),Me=function(mt){let _t=0,Pt=mt.parent;for(;Pt;){if(J(Pt))_t++;else{const qt=Pt.previousSibling;qt&&J(qt)&&_t++}Pt=Pt.parent}return _t}(C.viewItem);let De=C.viewItem.parent&&C.viewItem.parent.is("element","ol")?"numbered":"bulleted";const Ue=Ve[0].getAttribute("listType");Ue&&(De=Ue);const st={listItemId:je,listIndent:Me,listType:De};for(const mt of Ve)mt.hasAttribute("listItemId")||Q.setAttributes(st,mt);Ve.length>1&&Ve[1].getAttribute("listItemId")!=st.listItemId&&F.keepEmptyElement(Ve[0])}}function He(){return(me,C,F)=>{if(!F.consumable.test(C.viewItem,{name:!0}))return;const Q=new rt.UpcastWriter(C.viewItem.document);for(const ke of Array.from(C.viewItem.getChildren()))J(ke)||et(ke)||Q.remove(ke)}}function ot(me,C,F,{dataPipeline:Q}={}){const ke=function(Ve){return(je,Me)=>{const De=[];for(const Ue of Ve)je.hasAttribute(Ue)&&De.push(`attribute:${Ue}`);return!!De.every(Ue=>Me.test(je,Ue)!==!1)&&(De.forEach(Ue=>Me.consume(je,Ue)),!0)}}(me);return(Ve,je,Me)=>{const{writer:De,mapper:Ue,consumable:st}=Me,mt=je.item;if(!me.includes(je.attributeKey)||!ke(mt,st))return;const _t=function(qt,jt,Jt){const ci=Jt.createRangeOn(qt);return jt.toViewRange(ci).getTrimmed().end.nodeBefore}(mt,Ue,F);le(_t,De,Ue),function(qt,jt){let Jt=qt.parent;for(;Jt.is("attributeElement")&&["ul","ol","li"].includes(Jt.name);){const ci=Jt.parent;jt.unwrap(jt.createRangeOn(qt),Jt),Jt=ci}}(_t,De);const Pt=function(qt,jt,Jt,ci,{dataPipeline:Oi}){let Ai=ci.createRangeOn(jt);if(!ne(qt))return Ai;for(const ji of Jt){if(ji.scope!="itemMarker")continue;const qi=ji.createElement(ci,qt,{dataPipeline:Oi});if(!qi||(ci.setCustomProperty("listItemMarker",!0,qi),ji.canInjectMarkerIntoElement&&ji.canInjectMarkerIntoElement(qt)?ci.insert(ci.createPositionAt(jt,0),qi):(ci.insert(Ai.start,qi),Ai=ci.createRange(ci.createPositionBefore(qi),ci.createPositionAfter(jt))),!ji.createWrapperElement||!ji.canWrapElement))continue;const Ri=ji.createWrapperElement(ci,qt,{dataPipeline:Oi});ci.setCustomProperty("listItemWrapper",!0,Ri),ji.canWrapElement(qt)?Ai=ci.wrap(Ai,Ri):(Ai=ci.wrap(ci.createRangeOn(qi),Ri),Ai=ci.createRange(Ai.start,ci.createPositionAfter(jt)))}return Ai}(mt,_t,C,De,{dataPipeline:Q});(function(qt,jt,Jt,ci){if(!qt.hasAttribute("listIndent"))return;const Oi=qt.getAttribute("listIndent");let Ai=qt;for(let ji=Oi;ji>=0;ji--){const qi=Ce(ci,ji,Ai.getAttribute("listItemId")),Ri=Z(ci,ji,Ai.getAttribute("listType"));for(const kn of Jt)kn.scope!="list"&&kn.scope!="item"||!Ai.hasAttribute(kn.attributeName)||kn.setAttributeOnDowncast(ci,Ai.getAttribute(kn.attributeName),kn.scope=="list"?Ri:qi);if(jt=ci.wrap(jt,qi),jt=ci.wrap(jt,Ri),ji==0||(Ai=y.first(Ai,{lowerIndent:!0}),!Ai))break}})(mt,Pt,C,De)}}function fe(me,{dataPipeline:C}={}){return(F,{writer:Q})=>{if(!pe(F,me))return null;if(!C)return Q.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const ke=Q.createContainerElement("p");return Q.setCustomProperty("dataPipeline:transparentRendering",!0,ke),ke}}function le(me,C,F){for(;me.parent.is("attributeElement")&&me.parent.getCustomProperty("listItemWrapper");)C.unwrap(C.createRangeOn(me),me.parent);const Q=[];ke(C.createPositionBefore(me).getWalker({direction:"backward"})),ke(C.createRangeIn(me).getWalker());for(const Ve of Q)C.remove(Ve);function ke(Ve){for(const{item:je}of Ve){if(je.is("element")&&F.toModelElement(je))break;je.is("element")&&je.getCustomProperty("listItemMarker")&&Q.push(je)}}}function pe(me,C,F=I(me)){if(!D(me))return!1;for(const Q of me.getAttributeKeys())if(!Q.startsWith("selection:")&&!C.includes(Q))return!1;return F.length<2}var Ke=K(331),nt=K(591),ut=K.n(nt),wt=K(358),Ft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ut()(wt.A,Ft),wt.A.locals;var Wt=K(137),Lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ut()(Wt.A,Lt),Wt.A.locals;const Yt=["listType","listIndent","listItemId"];class bt extends d.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[s.Enter,f.Delete,Ae,Ke.ClipboardPipeline]}constructor(C){super(C),this._downcastStrategies=[],C.config.define("list.multiBlock",!0)}init(){const C=this.editor,F=C.model,Q=C.config.get("list.multiBlock");if(C.plugins.has("LegacyListEditing"))throw new u.CKEditorError("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});F.schema.register("$listItem",{allowAttributes:Yt}),Q?(F.schema.extend("$container",{allowAttributesOf:"$listItem"}),F.schema.extend("$block",{allowAttributesOf:"$listItem"}),F.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):F.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const ke of Yt)F.schema.setAttributeProperties(ke,{copyOnReplace:!0});C.commands.add("numberedList",new X(C,"numbered")),C.commands.add("bulletedList",new X(C,"bulleted")),C.commands.add("customNumberedList",new X(C,"customNumbered",{multiLevel:!0})),C.commands.add("customBulletedList",new X(C,"customBulleted",{multiLevel:!0})),C.commands.add("indentList",new te(C,"forward")),C.commands.add("outdentList",new te(C,"backward")),C.commands.add("splitListItemBefore",new _e(C,"before")),C.commands.add("splitListItemAfter",new _e(C,"after")),Q&&(C.commands.add("mergeListItemBackward",new de(C,"backward")),C.commands.add("mergeListItemForward",new de(C,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const C=this.editor.commands,F=C.get("indent"),Q=C.get("outdent");F&&F.registerChildCommand(C.get("indentList"),{priority:"high"}),Q&&Q.registerChildCommand(C.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(C){this._downcastStrategies.push(C)}getListAttributeNames(){return[...Yt,...this._downcastStrategies.map(C=>C.attributeName)]}_setupDeleteIntegration(){const C=this.editor,F=C.commands.get("mergeListItemBackward"),Q=C.commands.get("mergeListItemForward");this.listenTo(C.editing.view.document,"delete",(ke,Ve)=>{const je=C.model.document.selection;L(C.model)||C.model.change(()=>{const Me=je.getFirstPosition();if(je.isCollapsed&&Ve.direction=="backward"){if(!Me.isAtStart)return;const De=Me.parent;if(!D(De))return;if(y.first(De,{sameAttributes:"listType",sameIndent:!0})||De.getAttribute("listIndent")!==0){if(!F||!F.isEnabled)return;F.execute({shouldMergeOnBlocksContentLevel:Xe(C.model,"backward")})}else U(De)||C.execute("splitListItemAfter"),C.execute("outdentList");Ve.preventDefault(),ke.stop()}else{if(je.isCollapsed&&!je.getLastPosition().isAtEnd||!Q||!Q.isEnabled)return;Q.execute({shouldMergeOnBlocksContentLevel:Xe(C.model,"forward")}),Ve.preventDefault(),ke.stop()}})},{context:"li"})}_setupEnterIntegration(){const C=this.editor,F=C.model,Q=C.commands,ke=Q.get("enter");this.listenTo(C.editing.view.document,"enter",(Ve,je)=>{const Me=F.document,De=Me.selection.getFirstPosition().parent;if(Me.selection.isCollapsed&&D(De)&&De.isEmpty&&!je.isSoft){const Ue=ne(De),st=U(De);Ue&&st?(C.execute("outdentList"),je.preventDefault(),Ve.stop()):Ue&&!st?(C.execute("splitListItemAfter"),je.preventDefault(),Ve.stop()):st&&(C.execute("splitListItemBefore"),je.preventDefault(),Ve.stop())}},{context:"li"}),this.listenTo(ke,"afterExecute",()=>{const Ve=Q.get("splitListItemBefore");Ve.refresh(),Ve.isEnabled&&I(C.model.document.selection.getLastPosition().parent).length===2&&Ve.execute()})}_setupTabIntegration(){const C=this.editor;this.listenTo(C.editing.view.document,"tab",(F,Q)=>{const ke=Q.shiftKey?"outdentList":"indentList";this.editor.commands.get(ke).isEnabled&&(C.execute(ke),Q.stopPropagation(),Q.preventDefault(),F.stop())},{context:"li"})}_setupConversion(){const C=this.editor,F=C.model,Q=this.getListAttributeNames(),ke=C.config.get("list.multiBlock"),Ve=ke?"paragraph":"listItem";C.conversion.for("upcast").elementToElement({view:"li",model:(Ue,{writer:st})=>st.createElement(Ve,{listType:""})}).elementToElement({view:"p",model:(Ue,{writer:st})=>Ue.parent&&Ue.parent.is("element","li")?st.createElement(Ve,{listType:""}):null,converterPriority:"high"}).add(Ue=>{Ue.on("element:li",Le()),Ue.on("element:ul",He(),{priority:"high"}),Ue.on("element:ol",He(),{priority:"high"})}),ke||C.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),C.conversion.for("editingDowncast").elementToElement({model:Ve,view:fe(Q),converterPriority:"high"}).add(Ue=>{var st;Ue.on("attribute",ot(Q,this._downcastStrategies,F)),Ue.on("remove",(st=F.schema,(mt,_t,Pt)=>{const{writer:qt,mapper:jt}=Pt,Jt=mt.name.split(":")[1];if(!st.checkAttribute(Jt,"listItemId"))return;const ci=jt.toViewPosition(_t.position),Oi=_t.position.getShiftedBy(_t.length),Ai=jt.toViewPosition(Oi,{isPhantom:!0}),ji=qt.createRange(ci,Ai).getTrimmed().end.nodeBefore;ji&&le(ji,qt,jt)}))}),C.conversion.for("dataDowncast").elementToElement({model:Ve,view:fe(Q,{dataPipeline:!0}),converterPriority:"high"}).add(Ue=>{Ue.on("attribute",ot(Q,this._downcastStrategies,F,{dataPipeline:!0}))});const je=(Me=this._downcastStrategies,De=C.editing.view,(Ue,st)=>{if(st.modelPosition.offset>0)return;const mt=st.modelPosition.parent;if(!D(mt)||!Me.some(Jt=>Jt.scope=="itemMarker"&&Jt.canInjectMarkerIntoElement&&Jt.canInjectMarkerIntoElement(mt)))return;const _t=st.mapper.toViewElement(mt),Pt=De.createRangeIn(_t),qt=Pt.getWalker();let jt=Pt.start;for(const{item:Jt}of qt){if(Jt.is("element")&&st.mapper.toModelElement(Jt)||Jt.is("$textProxy"))break;Jt.is("element")&&Jt.getCustomProperty("listItemMarker")&&(jt=De.createPositionAfter(Jt),qt.skip(({previousPosition:ci})=>!ci.isEqual(jt)))}st.viewPosition=jt});var Me,De;C.editing.mapper.on("modelToViewPosition",je),C.data.mapper.on("modelToViewPosition",je),this.listenTo(F.document,"change:data",function(Ue,st,mt,_t){return()=>{const Jt=Ue.document.differ.getChanges(),ci=[],Oi=new Map,Ai=new Set;for(const ji of Jt)if(ji.type=="insert"&&ji.name!="$text")q(ji.position,Oi),ji.attributes.has("listItemId")?Ai.add(ji.position.nodeAfter):q(ji.position.getShiftedBy(ji.length),Oi);else if(ji.type=="remove"&&ji.attributes.has("listItemId"))q(ji.position,Oi);else if(ji.type=="attribute"){const qi=ji.range.start.nodeAfter;mt.includes(ji.attributeKey)?(q(ji.range.start,Oi),ji.attributeNewValue===null?(q(ji.range.start.getShiftedBy(1),Oi),qt(qi)&&ci.push(qi)):Ai.add(qi)):D(qi)&&qt(qi)&&ci.push(qi)}for(const ji of Oi.values())ci.push(...Pt(ji,Ai));for(const ji of new Set(ci))st.reconvertItem(ji)};function Pt(Jt,ci){const Oi=[],Ai=new Set,ji=[];for(const{node:qi,previous:Ri}of P(Jt,"forward")){if(Ai.has(qi))continue;const kn=qi.getAttribute("listIndent");Ri&&kn<Ri.getAttribute("listIndent")&&(ji.length=kn+1),ji[kn]=Object.fromEntries(Array.from(qi.getAttributes()).filter(([bo])=>mt.includes(bo)));const oo=V(qi,{direction:"forward"});for(const bo of oo)Ai.add(bo),(qt(bo,oo)||jt(bo,ji,ci))&&Oi.push(bo)}return Oi}function qt(Jt,ci){const Oi=st.mapper.toViewElement(Jt);if(!Oi)return!1;if(_t.fire("checkElement",{modelElement:Jt,viewElement:Oi}))return!0;if(!Jt.is("element","paragraph")&&!Jt.is("element","listItem"))return!1;const Ai=pe(Jt,mt,ci);return!(!Ai||!Oi.is("element","p"))||!(Ai||!Oi.is("element","span"))}function jt(Jt,ci,Oi){if(Oi.has(Jt))return!1;const Ai=st.mapper.toViewElement(Jt);let ji=ci.length-1;for(let qi=Ai.parent;!qi.is("editableElement");qi=qi.parent){const Ri=J(qi),kn=et(qi);if(!kn&&!Ri)continue;const oo="checkAttributes:"+(Ri?"item":"list");if(_t.fire(oo,{viewElement:qi,modelAttributes:ci[ji]}))break;if(kn&&(ji--,ji<0))return!1}return!0}}(F,C.editing,Q,this),{priority:"high"}),this.on("checkAttributes:item",(Ue,{viewElement:st,modelAttributes:mt})=>{st.id!=mt.listItemId&&(Ue.return=!0,Ue.stop())}),this.on("checkAttributes:list",(Ue,{viewElement:st,modelAttributes:mt})=>{st.name==Oe(mt.listType)&&st.id==xe(mt.listType,mt.listIndent)||(Ue.return=!0,Ue.stop())})}_setupModelPostFixing(){const C=this.editor.model,F=this.getListAttributeNames();C.document.registerPostFixer(Q=>function(ke,Ve,je,Me){const De=ke.document.differ.getChanges(),Ue=new Map,st=Me.editor.config.get("list.multiBlock");let mt=!1;for(const Pt of De){if(Pt.type=="insert"&&Pt.name!="$text"){const qt=Pt.position.nodeAfter;if(!ke.schema.checkAttribute(qt,"listItemId"))for(const jt of Array.from(qt.getAttributeKeys()))je.includes(jt)&&(Ve.removeAttribute(jt,qt),mt=!0);q(Pt.position,Ue),Pt.attributes.has("listItemId")||q(Pt.position.getShiftedBy(Pt.length),Ue);for(const{item:jt,previousPosition:Jt}of ke.createRangeIn(qt))D(jt)&&q(Jt,Ue)}else Pt.type=="remove"?q(Pt.position,Ue):Pt.type=="attribute"&&je.includes(Pt.attributeKey)&&(q(Pt.range.start,Ue),Pt.attributeNewValue===null&&q(Pt.range.start.getShiftedBy(1),Ue));if(!st&&Pt.type=="attribute"&&Yt.includes(Pt.attributeKey)){const qt=Pt.range.start.nodeAfter;Pt.attributeNewValue===null&&qt&&qt.is("element","listItem")?(Ve.rename(qt,"paragraph"),mt=!0):Pt.attributeOldValue===null&&qt&&qt.is("element")&&qt.name!="listItem"&&(Ve.rename(qt,"listItem"),mt=!0)}}const _t=new Set;for(const Pt of Ue.values())mt=Me.fire("postFixer",{listNodes:new b(Pt),listHead:Pt,writer:Ve,seenIds:_t})||mt;return mt}(C,Q,F,this)),this.on("postFixer",(Q,{listNodes:ke,writer:Ve})=>{Q.return=function(je,Me){let De=0,Ue=-1,st=null,mt=!1;for(const{node:_t}of je){const Pt=_t.getAttribute("listIndent");if(Pt>De){let qt;st===null?(st=Pt-De,qt=De):(st>Pt&&(st=Pt),qt=Pt-st),qt>Ue+1&&(qt=Ue+1),Me.setAttribute("listIndent",qt,_t),mt=!0,Ue=qt}else st=null,De=Pt+1,Ue=Pt}return mt}(ke,Ve)||Q.return},{priority:"high"}),this.on("postFixer",(Q,{listNodes:ke,writer:Ve,seenIds:je})=>{Q.return=function(Me,De,Ue){const st=new Set;let mt=!1;for(const{node:_t}of Me){if(st.has(_t))continue;let Pt=_t.getAttribute("listType"),qt=_t.getAttribute("listItemId");if(De.has(qt)&&(qt=_.next()),De.add(qt),_t.is("element","listItem"))_t.getAttribute("listItemId")!=qt&&(Ue.setAttribute("listItemId",qt,_t),mt=!0);else for(const jt of V(_t,{direction:"forward"}))st.add(jt),jt.getAttribute("listType")!=Pt&&(qt=_.next(),Pt=jt.getAttribute("listType")),jt.getAttribute("listItemId")!=qt&&(Ue.setAttribute("listItemId",qt,jt),mt=!0)}return mt}(ke,je,Ve)||Q.return},{priority:"high"})}_setupClipboardIntegration(){const C=this.editor.model,F=this.editor.plugins.get("ClipboardPipeline");this.listenTo(C,"insertContent",function(Q){return(ke,[Ve,je])=>{const Me=Ve.is("documentFragment")?Array.from(Ve.getChildren()):[Ve];if(!Me.length)return;const De=(je?Q.createSelection(je):Q.document.selection).getFirstPosition();let Ue;if(D(De.parent))Ue=De.parent;else{if(!D(De.nodeBefore))return;Ue=De.nodeBefore}Q.change(st=>{const mt=Ue.getAttribute("listType"),_t=Ue.getAttribute("listIndent"),Pt=Me[0].getAttribute("listIndent")||0,qt=Math.max(_t-Pt,0);for(const jt of Me){const Jt=D(jt);Ue.is("element","listItem")&&jt.is("element","paragraph")&&st.rename(jt,"listItem"),st.setAttributes({listIndent:(Jt?jt.getAttribute("listIndent"):0)+qt,listItemId:Jt?jt.getAttribute("listItemId"):_.next(),listType:mt},jt)}})}}(C),{priority:"high"}),this.listenTo(F,"outputTransformation",(Q,ke)=>{C.change(Ve=>{const je=Array.from(ke.content.getChildren()),Me=je[je.length-1];if(je.length>1&&Me.is("element")&&Me.isEmpty&&je.slice(0,-1).every(D)&&Ve.remove(Me),ke.method=="copy"||ke.method=="cut"){const De=Array.from(ke.content.getChildren());v(De)&&p(De,Ve)}})})}_setupAccessibilityIntegration(){const C=this.editor,F=C.t;C.accessibility.addKeystrokeInfoGroup({id:"list",label:F("Keystrokes that can be used in a list"),keystrokes:[{label:F("Increase list item indent"),keystroke:"Tab"},{label:F("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function Xe(me,C){const F=me.document.selection;if(!F.isCollapsed)return!L(me);if(C==="forward")return!0;const Q=F.getFirstPosition().parent,ke=Q.previousSibling;return!me.schema.isObject(ke)&&(!!ke.isEmpty||v([Q,ke]))}var kt=K(311);function bi(me,C,F,Q){me.ui.componentFactory.add(C,()=>{const ke=fi(kt.ButtonView,me,C,F,Q);return ke.set({tooltip:!0,isToggleable:!0}),ke}),me.ui.componentFactory.add(`menuBar:${C}`,()=>fi(kt.MenuBarMenuListItemButtonView,me,C,F,Q))}function fi(me,C,F,Q,ke){const Ve=C.commands.get(F),je=new me(C.locale);return je.set({label:Q,icon:ke}),je.bind("isOn","isEnabled").to(Ve,"value","isEnabled"),je.on("execute",()=>{C.execute(F),C.editing.view.focus()}),je}class Di extends d.Plugin{static get pluginName(){return"ListUI"}init(){const C=this.editor.t;bi(this.editor,"numberedList",C("Numbered List"),d.icons.numberedList),bi(this.editor,"bulletedList",C("Bulleted List"),d.icons.bulletedList)}}class Yi extends d.Plugin{static get requires(){return[bt,Di]}static get pluginName(){return"List"}}class Ii extends d.Command{refresh(){const C=this._getValue();this.value=C,this.isEnabled=C!=null}execute({startIndex:C=1}={}){const F=this.editor.model,Q=F.document;let ke=Array.from(Q.selection.getSelectedBlocks()).filter(Ve=>D(Ve)&&oe(Ve.getAttribute("listType")));ke=he(ke),F.change(Ve=>{for(const je of ke)Ve.setAttribute("listStart",C>=0?C:1,je)})}_getValue(){const C=this.editor.model.document,F=(0,u.first)(C.selection.getSelectedBlocks());return F&&D(F)&&oe(F.getAttribute("listType"))?F.getAttribute("listStart"):null}}const $i={},ht={},G={},ce=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:me,typeAttribute:C,listType:F}of ce)$i[me]=F,ht[me]=C,C&&(G[C]=me);function Ie(){return ce.map(me=>me.listStyle)}function Ze(me){return $i[me]||null}function Ye(me){return G[me]||null}function ft(me){return ht[me]||null}class Tt extends d.Command{constructor(C,F,Q){super(C),this.defaultType=F,this._supportedTypes=Q}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(C={}){const F=this.editor.model,Q=F.document;F.change(ke=>{this._tryToConvertItemsToList(C);let Ve=Array.from(Q.selection.getSelectedBlocks()).filter(je=>je.hasAttribute("listType"));if(Ve.length){Ve=he(Ve);for(const je of Ve)ke.setAttribute("listStyle",C.type||this.defaultType,je)}})}isStyleTypeSupported(C){return!this._supportedTypes||this._supportedTypes.includes(C)}_getValue(){const C=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());return D(C)?C.getAttribute("listStyle"):null}_checkEnabled(){const C=this.editor,F=C.commands.get("numberedList"),Q=C.commands.get("bulletedList");return F.isEnabled||Q.isEnabled}_tryToConvertItemsToList(C){if(!C.type)return;const F=Ze(C.type);if(!F)return;const Q=this.editor,ke=`${F}List`;Q.commands.get(ke).value||Q.execute(ke)}}class Vt extends d.Command{refresh(){const C=this._getValue();this.value=C,this.isEnabled=C!=null}execute(C={}){const F=this.editor.model,Q=F.document;let ke=Array.from(Q.selection.getSelectedBlocks()).filter(Ve=>D(Ve)&&Ve.getAttribute("listType")=="numbered");ke=he(ke),F.change(Ve=>{for(const je of ke)Ve.setAttribute("listReversed",!!C.reversed,je)})}_getValue(){const C=this.editor.model.document,F=(0,u.first)(C.selection.getSelectedBlocks());return D(F)&&F.getAttribute("listType")=="numbered"?F.getAttribute("listReversed"):null}}function Bt(me){return(C,F,Q)=>{const{writer:ke,schema:Ve,consumable:je}=Q;if(je.test(F.viewItem,me.viewConsumables)===!1)return;F.modelRange||Object.assign(F,Q.convertChildren(F.viewItem,F.modelCursor));let Me=!1;for(const De of F.modelRange.getItems({shallow:!0}))Ve.checkAttribute(De,me.attributeName)&&me.appliesToListItem(De)&&(De.hasAttribute(me.attributeName)||(ke.setAttribute(me.attributeName,me.getAttributeOnUpcast(F.viewItem),De),Me=!0));Me&&je.consume(F.viewItem,me.viewConsumables)}}class ei extends d.Plugin{static get pluginName(){return"ListPropertiesUtils"}getAllSupportedStyleTypes(){return Ie()}getListTypeFromListStyleType(C){return Ze(C)}getListStyleTypeFromTypeAttribute(C){return Ye(C)}getTypeAttributeFromListStyleType(C){return ft(C)}}const oi="default";class Mi extends d.Plugin{static get requires(){return[bt,ei]}static get pluginName(){return"ListPropertiesEditing"}constructor(C){super(C),C.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const C=this.editor,F=C.model,Q=C.plugins.get(bt),ke=function(Ve){const je=[];if(Ve.styles){const Me=typeof Ve.styles=="object"&&Ve.styles.useAttribute;je.push({attributeName:"listStyle",defaultValue:oi,viewConsumables:{styles:"list-style-type"},addCommand(De){let Ue=Ie();Me&&(Ue=Ue.filter(st=>!!ft(st))),De.commands.add("listStyle",new Tt(De,oi,Ue))},appliesToListItem:De=>De.getAttribute("listType")=="numbered"||De.getAttribute("listType")=="bulleted",hasValidAttribute(De){if(!this.appliesToListItem(De))return!De.hasAttribute("listStyle");if(!De.hasAttribute("listStyle"))return!1;const Ue=De.getAttribute("listStyle");return Ue==oi||Ze(Ue)==De.getAttribute("listType")},setAttributeOnDowncast(De,Ue,st){if(Ue&&Ue!==oi){if(!Me)return void De.setStyle("list-style-type",Ue,st);{const mt=ft(Ue);if(mt)return void De.setAttribute("type",mt,st)}}De.removeStyle("list-style-type",st),De.removeAttribute("type",st)},getAttributeOnUpcast(De){const Ue=De.getStyle("list-style-type");if(Ue)return Ue;const st=De.getAttribute("type");return st?Ye(st):oi}})}return Ve.reversed&&je.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(Me){Me.commands.add("listReversed",new Vt(Me))},appliesToListItem:Me=>Me.getAttribute("listType")=="numbered",hasValidAttribute(Me){return this.appliesToListItem(Me)==Me.hasAttribute("listReversed")},setAttributeOnDowncast(Me,De,Ue){De?Me.setAttribute("reversed","reversed",Ue):Me.removeAttribute("reversed",Ue)},getAttributeOnUpcast:Me=>Me.hasAttribute("reversed")}),Ve.startIndex&&je.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(Me){Me.commands.add("listStart",new Ii(Me))},appliesToListItem:Me=>oe(Me.getAttribute("listType")),hasValidAttribute(Me){return this.appliesToListItem(Me)==Me.hasAttribute("listStart")},setAttributeOnDowncast(Me,De,Ue){De==0||De>1?Me.setAttribute("start",De,Ue):Me.removeAttribute("start",Ue)},getAttributeOnUpcast(Me){const De=Me.getAttribute("start");return De>=0?De:1}}),je}(C.config.get("list.properties"));for(const Ve of ke)Ve.addCommand(C),F.schema.extend("$listItem",{allowAttributes:Ve.attributeName}),Q.registerDowncastStrategy({scope:"list",attributeName:Ve.attributeName,setAttributeOnDowncast(je,Me,De){Ve.setAttributeOnDowncast(je,Me,De)}});C.conversion.for("upcast").add(Ve=>{for(const je of ke)Ve.on("element:ol",Bt(je)),Ve.on("element:ul",Bt(je))}),Q.on("checkAttributes:list",(Ve,{viewElement:je,modelAttributes:Me})=>{for(const De of ke)De.getAttributeOnUpcast(je)!=Me[De.attributeName]&&(Ve.return=!0,Ve.stop())}),this.listenTo(C.commands.get("indentList"),"afterExecute",(Ve,je)=>{F.change(Me=>{for(const De of je)for(const Ue of ke)Ue.appliesToListItem(De)&&Me.setAttribute(Ue.attributeName,Ue.defaultValue,De)})}),Q.on("postFixer",(Ve,{listNodes:je,writer:Me})=>{for(const{node:De}of je)for(const Ue of ke)Ue.hasValidAttribute(De)||(Ue.appliesToListItem(De)?Me.setAttribute(Ue.attributeName,Ue.defaultValue,De):Me.removeAttribute(Ue.attributeName,De),Ve.return=!0)}),Q.on("postFixer",(Ve,{listNodes:je,writer:Me})=>{for(const{node:De,previousNodeInList:Ue}of je)if(Ue&&Ue.getAttribute("listType")==De.getAttribute("listType"))for(const st of ke){const{attributeName:mt}=st;if(!st.appliesToListItem(De))continue;const _t=Ue.getAttribute(mt);De.getAttribute(mt)!=_t&&(Me.setAttribute(mt,_t,De),Ve.return=!0)}})}}var Pi=K(266),zi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ut()(Pi.A,zi),Pi.A.locals;class mi extends kt.View{constructor(C,{enabledProperties:F,styleButtonViews:Q,styleGridAriaLabel:ke}){super(C),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this.focusables=new kt.ViewCollection;const Ve=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new kt.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),F.styles?(this.stylesView=this._createStylesView(Q,ke),this.children.add(this.stylesView)):Ve.push("ck-list-properties_without-styles"),(F.startIndex||F.reversed)&&(this._addNumberedListPropertyViews(F),Ve.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:Ve},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const C of this.stylesView.children)this.stylesView.focusTracker.add(C.element);(0,kt.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>u.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const C=F=>F.stopPropagation();this.keystrokes.set("arrowright",C),this.keystrokes.set("arrowleft",C),this.keystrokes.set("arrowup",C),this.keystrokes.set("arrowdown",C)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(C,F){const Q=new kt.View(this.locale);return Q.children=Q.createCollection(),Q.children.addMany(C),Q.setTemplate({tag:"div",attributes:{"aria-label":F,class:["ck","ck-list-styles-list"]},children:Q.children}),Q.children.delegate("execute").to(this),Q.focus=function(){this.children.first.focus()},Q.focusTracker=new u.FocusTracker,Q.keystrokes=new u.KeystrokeHandler,Q.render(),Q.keystrokes.listenTo(Q.element),Q}_addNumberedListPropertyViews(C){const F=this.locale.t,Q=[];C.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),Q.push(this.startIndexFieldView)),C.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),Q.push(this.reversedSwitchButtonView)),C.styles?(this.additionalPropertiesCollapsibleView=new kt.CollapsibleView(this.locale,Q),this.additionalPropertiesCollapsibleView.set({label:F("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(Q,"isEnabled",(...ke)=>ke.some(Ve=>Ve)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(ke,Ve,je)=>{je||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(Q)}_createStartIndexField(){const C=this.locale.t,F=new kt.LabeledFieldView(this.locale,kt.createLabeledInputNumber);return F.set({label:C("Start at"),class:"ck-numbered-list-properties__start-index"}),F.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),F.fieldView.on("input",()=>{const Q=F.fieldView.element,ke=Q.valueAsNumber;Number.isNaN(ke)?F.errorText=C("Invalid start index value."):Q.checkValidity()?this.fire("listStart",{startIndex:ke}):F.errorText=C("Start index must be greater than 0.")}),F}_createReversedSwitchButton(){const C=this.locale.t,F=new kt.SwitchButtonView(this.locale);return F.set({withText:!0,label:C("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),F.delegate("execute").to(this,"listReversed"),F}}var Ni=K(263),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ut()(Ni.A,vt),Ni.A.locals;class qe extends d.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const C=this.editor,F=C.locale.t,Q=C.config.get("list.properties");if(Q.styles){const ke=[{label:F("Toggle the disc list style"),tooltip:F("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:F("Toggle the circle list style"),tooltip:F("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:F("Toggle the square list style"),tooltip:F("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}],Ve=F("Bulleted List"),je=F("Bulleted list styles toolbar"),Me="bulletedList";C.ui.componentFactory.add(Me,pt({editor:C,propertiesConfig:Q,parentCommandName:Me,buttonLabel:Ve,buttonIcon:d.icons.bulletedList,styleGridAriaLabel:je,styleDefinitions:ke})),C.ui.componentFactory.add(`menuBar:${Me}`,xt({editor:C,propertiesConfig:Q,parentCommandName:Me,buttonLabel:Ve,styleGridAriaLabel:je,styleDefinitions:ke}))}if(Q.styles||Q.startIndex||Q.reversed){const ke=[{label:F("Toggle the decimal list style"),tooltip:F("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:F("Toggle the decimal with leading zero list style"),tooltip:F("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:F("Toggle the lower\u2013roman list style"),tooltip:F("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:F("Toggle the upper\u2013roman list style"),tooltip:F("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:F("Toggle the lower\u2013latin list style"),tooltip:F("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:F("Toggle the upper\u2013latin list style"),tooltip:F("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}],Ve=F("Numbered List"),je=F("Numbered list styles toolbar"),Me="numberedList";C.ui.componentFactory.add(Me,pt({editor:C,propertiesConfig:Q,parentCommandName:Me,buttonLabel:Ve,buttonIcon:d.icons.numberedList,styleGridAriaLabel:je,styleDefinitions:ke})),Q.styles&&C.ui.componentFactory.add(`menuBar:${Me}`,xt({editor:C,propertiesConfig:Q,parentCommandName:Me,buttonLabel:Ve,styleGridAriaLabel:je,styleDefinitions:ke}))}}}function pt({editor:me,propertiesConfig:C,parentCommandName:F,buttonLabel:Q,buttonIcon:ke,styleGridAriaLabel:Ve,styleDefinitions:je}){const Me=me.commands.get(F);return De=>{const Ue=(0,kt.createDropdown)(De,kt.SplitButtonView),st=Ue.buttonView;return Ue.bind("isEnabled").to(Me),Ue.class="ck-list-styles-dropdown",st.on("execute",()=>{me.execute(F),me.editing.view.focus()}),st.set({label:Q,icon:ke,tooltip:!0,isToggleable:!0}),st.bind("isOn").to(Me,"value",mt=>!!mt),Ue.once("change:isOpen",()=>{const mt=function({editor:_t,propertiesConfig:Pt,dropdownView:qt,parentCommandName:jt,styleDefinitions:Jt,styleGridAriaLabel:ci}){const Oi=_t.locale,Ai={...Pt};jt!="numberedList"&&(Ai.startIndex=!1,Ai.reversed=!1);let ji=null;if(Ai.styles){const Ri=_t.commands.get("listStyle"),kn=Be({editor:_t,parentCommandName:jt,listStyleCommand:Ri}),oo=Zt(Ri);ji=Jt.filter(oo).map(kn)}const qi=new mi(Oi,{styleGridAriaLabel:ci,enabledProperties:Ai,styleButtonViews:ji});if(Ai.styles&&(0,kt.focusChildOnDropdownOpen)(qt,()=>qi.stylesView.children.find(Ri=>Ri.isOn)),Ai.startIndex){const Ri=_t.commands.get("listStart");qi.startIndexFieldView.bind("isEnabled").to(Ri),qi.startIndexFieldView.fieldView.bind("value").to(Ri),qi.on("listStart",(kn,oo)=>_t.execute("listStart",oo))}if(Ai.reversed){const Ri=_t.commands.get("listReversed");qi.reversedSwitchButtonView.bind("isEnabled").to(Ri),qi.reversedSwitchButtonView.bind("isOn").to(Ri,"value",kn=>!!kn),qi.on("listReversed",()=>{const kn=Ri.value;_t.execute("listReversed",{reversed:!kn})})}return qi.delegate("execute").to(qt),qi}({editor:me,propertiesConfig:C,dropdownView:Ue,parentCommandName:F,styleGridAriaLabel:Ve,styleDefinitions:je});Ue.panelView.children.add(mt)}),Ue.on("execute",()=>{me.editing.view.focus()}),Ue}}function Be({editor:me,listStyleCommand:C,parentCommandName:F}){const Q=me.locale,ke=me.commands.get(F);return({label:Ve,type:je,icon:Me,tooltip:De})=>{const Ue=new kt.ButtonView(Q);return Ue.set({label:Ve,icon:Me,tooltip:De}),C.on("change:value",()=>{Ue.isOn=C.value===je}),Ue.on("execute",()=>{ke.value?C.value===je?me.execute(F):C.value!==je&&me.execute("listStyle",{type:je}):me.model.change(()=>{me.execute("listStyle",{type:je})})}),Ue}}function xt({editor:me,propertiesConfig:C,parentCommandName:F,buttonLabel:Q,styleGridAriaLabel:ke,styleDefinitions:Ve}){return je=>{const Me=new kt.MenuBarMenuView(je),De=me.commands.get(F),Ue=me.commands.get("listStyle"),st=Zt(Ue),mt=Be({editor:me,parentCommandName:F,listStyleCommand:Ue}),_t=Ve.filter(st).map(mt),Pt=new mi(je,{styleGridAriaLabel:ke,enabledProperties:{...C,startIndex:!1,reversed:!1},styleButtonViews:_t});return Pt.delegate("execute").to(Me),Me.buttonView.set({label:Q,icon:d.icons[F]}),Me.panelView.children.add(Pt),Me.bind("isEnabled").to(De,"isEnabled"),Me.on("execute",()=>{me.editing.view.focus()}),Me}}function Zt(me){return typeof me.isStyleTypeSupported=="function"?C=>me.isStyleTypeSupported(C.type):()=>!0}class Ot extends d.Plugin{static get requires(){return[Mi,qe]}static get pluginName(){return"ListProperties"}}class Rt extends d.Command{constructor(C){super(C),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const C=this._getSelectedItems();this.value=this._getValue(C),this.isEnabled=!!C.length}execute(C={}){this.editor.model.change(F=>{const Q=this._getSelectedItems(),ke=C.forceValue===void 0?!this._getValue(Q):C.forceValue;for(const Ve of Q)ke?F.setAttribute("todoListChecked",!0,Ve):F.removeAttribute("todoListChecked",Ve)})}_getValue(C){return C.every(F=>F.getAttribute("todoListChecked"))}_getSelectedItems(){const C=this.editor.model,F=C.schema,Q=C.document.selection.getFirstRange(),ke=Q.start.parent,Ve=[];F.checkAttribute(ke,"todoListChecked")&&Ve.push(...I(ke));for(const je of Q.getItems({shallow:!0}))F.checkAttribute(je,"todoListChecked")&&!Ve.includes(je)&&Ve.push(...I(je));return Ve}}class ve extends rt.DomEventObserver{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(C){if(C.target){const F=this.view.domConverter.mapDomToView(C.target);F&&F.is("element","input")&&F.getAttribute("type")=="checkbox"&&F.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",C)}}}const j=(0,u.parseKeystroke)("Ctrl+Enter");class B extends d.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[bt]}init(){const C=this.editor,F=C.model,Q=C.editing,ke=C.plugins.get(bt),Ve=C.config.get("list.multiBlock")?"paragraph":"listItem";C.commands.add("todoList",new X(C,"todo")),C.commands.add("checkTodoList",new Rt(C)),Q.view.addObserver(ve),F.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),F.schema.addAttributeCheck((je,Me)=>{const De=je.last;if(Me=="todoListChecked")return!(!De.getAttribute("listItemId")||De.getAttribute("listType")!="todo")&&void 0}),C.conversion.for("upcast").add(je=>{je.on("element:input",(Me,De,Ue)=>{const st=De.modelCursor,mt=st.parent,_t=De.viewItem;if(!Ue.consumable.test(_t,{name:!0})||_t.getAttribute("type")!="checkbox"||!st.isAtStart||!mt.hasAttribute("listType"))return;Ue.consumable.consume(_t,{name:!0});const Pt=Ue.writer;Pt.setAttribute("listType","todo",mt),De.viewItem.hasAttribute("checked")&&Pt.setAttribute("todoListChecked",!0,mt),De.modelRange=Pt.createRange(st)}),je.on("element:label",Y({name:"label",classes:"todo-list__label"})),je.on("element:label",Y({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),je.on("element:span",Y({name:"span",classes:"todo-list__label__description"})),je.on("element:ul",function(Me){const De=new rt.Matcher(Me);return(Ue,st,mt)=>{const _t=De.match(st.viewItem);if(!_t)return;const Pt=_t.match;Pt.name=!1,mt.consumable.consume(st.viewItem,Pt)}}({name:"ul",classes:"todo-list"}))}),C.conversion.for("downcast").elementToElement({model:Ve,view:(je,{writer:Me})=>{if(Te(je,ke.getListAttributeNames()))return Me.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),ke.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(je,Me,De){Me=="todo"?je.addClass("todo-list",De):je.removeClass("todo-list",De)}}),ke.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(je,Me,{dataPipeline:De}){if(Me.getAttribute("listType")!="todo")return null;const Ue=je.createUIElement("input",{type:"checkbox",...Me.getAttribute("todoListChecked")?{checked:"checked"}:null,...De?{disabled:"disabled"}:{tabindex:"-1"}});if(De)return Ue;const st=je.createContainerElement("span",{contenteditable:"false"},Ue);return st.getFillerOffset=()=>null,st},canWrapElement:je=>Te(je,ke.getListAttributeNames()),createWrapperElement(je,Me,{dataPipeline:De}){const Ue=["todo-list__label"];return Te(Me,ke.getListAttributeNames())||Ue.push("todo-list__label_without-description"),je.createAttributeElement(De?"label":"span",{class:Ue.join(" ")})}}),ke.on("checkElement",(je,{modelElement:Me,viewElement:De})=>{const Ue=Te(Me,ke.getListAttributeNames());De.hasClass("todo-list__label__description")!=Ue&&(je.return=!0,je.stop())}),ke.on("checkElement",(je,{modelElement:Me,viewElement:De})=>{const Ue=Me.getAttribute("listType")=="todo"&&ne(Me);let st=!1;const mt=C.editing.view.createPositionBefore(De).getWalker({direction:"backward"});for(const{item:_t}of mt){if(_t.is("element")&&C.editing.mapper.toModelElement(_t))break;_t.is("element","input")&&_t.getAttribute("type")=="checkbox"&&(st=!0)}st!=Ue&&(je.return=!0,je.stop())}),ke.on("postFixer",(je,{listNodes:Me,writer:De})=>{for(const{node:Ue,previousNodeInList:st}of Me){if(!st||st.getAttribute("listItemId")!=Ue.getAttribute("listItemId"))continue;const mt=st.hasAttribute("todoListChecked"),_t=Ue.hasAttribute("todoListChecked");_t&&!mt?(De.removeAttribute("todoListChecked",Ue),je.return=!0):!_t&&mt&&(De.setAttribute("todoListChecked",!0,Ue),je.return=!0)}}),F.document.registerPostFixer(je=>{const Me=F.document.differ.getChanges();let De=!1;for(const Ue of Me)if(Ue.type=="attribute"&&Ue.attributeKey=="listType"){const st=Ue.range.start.nodeAfter;Ue.attributeOldValue=="todo"&&st.hasAttribute("todoListChecked")&&(je.removeAttribute("todoListChecked",st),De=!0)}else if(Ue.type=="insert"&&Ue.name!="$text")for(const{item:st}of je.createRangeOn(Ue.position.nodeAfter))st.is("element")&&st.getAttribute("listType")!="todo"&&st.hasAttribute("todoListChecked")&&(je.removeAttribute("todoListChecked",st),De=!0);return De}),this.listenTo(Q.view.document,"keydown",(je,Me)=>{(0,u.getCode)(Me)===j&&(C.execute("checkTodoList"),je.stop())},{priority:"high"}),this.listenTo(Q.view.document,"todoCheckboxChange",(je,Me)=>{const De=Me.target;if(!De||!De.is("element","input"))return;const Ue=Q.view.createPositionAfter(De),st=Q.mapper.toModelPosition(Ue).parent;st&&D(st)&&st.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(st)}),this.listenTo(Q.view.document,"arrowKey",function(je,Me){return(De,Ue)=>{const st=(0,u.getLocalizedArrowKeyCodeDirection)(Ue.keyCode,Me.contentLanguageDirection),mt=je.schema,_t=je.document.selection;if(!_t.isCollapsed)return;const Pt=_t.getFirstPosition(),qt=Pt.parent;if(st=="right"&&Pt.isAtEnd){const jt=mt.getNearestSelectionRange(je.createPositionAfter(qt),"forward");if(!jt)return;const Jt=jt.start.parent;Jt&&D(Jt)&&Jt.getAttribute("listType")=="todo"&&(je.change(ci=>ci.setSelection(jt)),Ue.preventDefault(),Ue.stopPropagation(),De.stop())}else if(st=="left"&&Pt.isAtStart&&D(qt)&&qt.getAttribute("listType")=="todo"){const jt=mt.getNearestSelectionRange(je.createPositionBefore(qt),"backward");if(!jt)return;je.change(Jt=>Jt.setSelection(jt)),Ue.preventDefault(),Ue.stopPropagation(),De.stop()}}}(F,C.locale),{context:"$text"}),this.listenTo(Q.mapper,"viewToModelPosition",(je,Me)=>{const De=Me.viewPosition.parent,Ue=De.is("attributeElement","li")&&Me.viewPosition.offset==0,st=Ne(De)&&Me.viewPosition.offset<=1,mt=De.is("element","span")&&De.getAttribute("contenteditable")=="false"&&Ne(De.parent);if(!Ue&&!st&&!mt)return;const _t=Me.modelPosition.nodeAfter;_t&&_t.getAttribute("listType")=="todo"&&(Me.modelPosition=F.createPositionAt(_t,0))},{priority:"low"})}_handleCheckmarkChange(C){const F=this.editor,Q=F.model,ke=Array.from(Q.document.selection.getRanges());Q.change(Ve=>{Ve.setSelection(C,"end"),F.execute("checkTodoList"),Ve.setSelection(ke)})}}function Y(me){const C=new rt.Matcher(me);return(F,Q,ke)=>{const Ve=C.match(Q.viewItem);Ve&&ke.consumable.consume(Q.viewItem,Ve.match)&&Object.assign(Q,ke.convertChildren(Q.viewItem,Q.modelCursor))}}function Te(me,C){return(me.is("element","paragraph")||me.is("element","listItem"))&&me.getAttribute("listType")=="todo"&&ne(me)&&function(F,Q){for(const ke of F.getAttributeKeys())if(!ke.startsWith("selection:")&&!Q.includes(ke))return!1;return!0}(me,C)}function Ne(me){return!!me&&me.is("attributeElement")&&me.hasClass("todo-list__label")}class ee extends d.Plugin{static get pluginName(){return"TodoListUI"}init(){const C=this.editor.t;bi(this.editor,"todoList",C("To-do List"),d.icons.todoList)}}var Pe=K(825),ze={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ut()(Pe.A,ze),Pe.A.locals;class Qe extends d.Plugin{static get requires(){return[B,ee]}static get pluginName(){return"TodoList"}}class dt extends d.Command{constructor(C,F){super(C),this.type=F}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(C={}){const F=this.editor.model,Q=F.document,ke=Array.from(Q.selection.getSelectedBlocks()).filter(je=>Et(je,F.schema)),Ve=C.forceValue!==void 0?!C.forceValue:this.value;F.change(je=>{if(Ve){let Me=ke[ke.length-1].nextSibling,De=Number.POSITIVE_INFINITY,Ue=[];for(;Me&&Me.name=="listItem"&&Me.getAttribute("listIndent")!==0;){const st=Me.getAttribute("listIndent");st<De&&(De=st);const mt=st-De;Ue.push({element:Me,listIndent:mt}),Me=Me.nextSibling}Ue=Ue.reverse();for(const st of Ue)je.setAttribute("listIndent",st.listIndent,st.element)}if(!Ve){let Me=Number.POSITIVE_INFINITY;for(const De of ke)De.is("element","listItem")&&De.getAttribute("listIndent")<Me&&(Me=De.getAttribute("listIndent"));Me=Me===0?1:Me,Kt(ke,!0,Me),Kt(ke,!1,Me)}for(const Me of ke.reverse())Ve&&Me.name=="listItem"?je.rename(Me,"paragraph"):Ve||Me.name=="listItem"?Ve||Me.name!="listItem"||Me.getAttribute("listType")==this.type||je.setAttribute("listType",this.type,Me):(je.setAttributes({listType:this.type,listIndent:0},Me),je.rename(Me,"listItem"));this.fire("_executeCleanup",ke)})}_getValue(){const C=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());return!!C&&C.is("element","listItem")&&C.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const C=this.editor.model.document.selection,F=this.editor.model.schema,Q=(0,u.first)(C.getSelectedBlocks());return!!Q&&Et(Q,F)}}function Kt(me,C,F){const Q=C?me[0]:me[me.length-1];if(Q.is("element","listItem")){let ke=Q[C?"previousSibling":"nextSibling"],Ve=Q.getAttribute("listIndent");for(;ke&&ke.is("element","listItem")&&ke.getAttribute("listIndent")>=F;)Ve>ke.getAttribute("listIndent")&&(Ve=ke.getAttribute("listIndent")),ke.getAttribute("listIndent")==Ve&&me[C?"unshift":"push"](ke),ke=ke[C?"previousSibling":"nextSibling"]}}function Et(me,C){return C.checkChild(me.parent,"listItem")&&!C.isObject(me)}class ni extends d.Command{constructor(C,F){super(C),this._indentBy=F=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const C=this.editor.model,F=C.document;let Q=Array.from(F.selection.getSelectedBlocks());C.change(ke=>{const Ve=Q[Q.length-1];let je=Ve.nextSibling;for(;je&&je.name=="listItem"&&je.getAttribute("listIndent")>Ve.getAttribute("listIndent");)Q.push(je),je=je.nextSibling;this._indentBy<0&&(Q=Q.reverse());for(const Me of Q){const De=Me.getAttribute("listIndent")+this._indentBy;De<0?ke.rename(Me,"paragraph"):ke.setAttribute("listIndent",De,Me)}this.fire("_executeCleanup",Q)})}_checkEnabled(){const C=(0,u.first)(this.editor.model.document.selection.getSelectedBlocks());if(!C||!C.is("element","listItem"))return!1;if(this._indentBy>0){const F=C.getAttribute("listIndent"),Q=C.getAttribute("listType");let ke=C.previousSibling;for(;ke&&ke.is("element","listItem")&&ke.getAttribute("listIndent")>=F;){if(ke.getAttribute("listIndent")==F)return ke.getAttribute("listType")==Q;ke=ke.previousSibling}return!1}return!0}}function yi(me,C){const F=C.mapper,Q=C.writer,ke=me.getAttribute("listType")=="numbered"?"ol":"ul",Ve=function(Me){const De=Me.createContainerElement("li");return De.getFillerOffset=fo,De}(Q),je=Q.createContainerElement(ke,null);return Q.insert(Q.createPositionAt(je,0),Ve),F.bindElements(me,Ve),Ve}function gi(me,C,F,Q){const ke=C.parent,Ve=F.mapper,je=F.writer;let Me=Ve.toViewPosition(Q.createPositionBefore(me));const De=mn(me.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:me.getAttribute("listIndent")}),Ue=me.previousSibling;if(De&&De.getAttribute("listIndent")==me.getAttribute("listIndent")){const st=Ve.toViewElement(De);Me=je.breakContainer(je.createPositionAfter(st))}else if(Ue&&Ue.name=="listItem"){Me=Ve.toViewPosition(Q.createPositionAt(Ue,"end"));const st=Ve.findMappedViewAncestor(Me),mt=jn(st);Me=mt?je.createPositionBefore(mt):je.createPositionAt(st,"end")}else Me=Ve.toViewPosition(Q.createPositionBefore(me));if(Me=Li(Me),je.insert(Me,ke),Ue&&Ue.name=="listItem"){const st=Ve.toViewElement(Ue),mt=je.createRange(je.createPositionAt(st,0),Me).getWalker({ignoreElementEnd:!0});for(const _t of mt)if(_t.item.is("element","li")){const Pt=je.breakContainer(je.createPositionBefore(_t.item)),qt=_t.item.parent,jt=je.createPositionAt(C,"end");xi(je,jt.nodeBefore,jt.nodeAfter),je.move(je.createRangeOn(qt),jt),mt._position=Pt}}else{const st=ke.nextSibling;if(st&&(st.is("element","ul")||st.is("element","ol"))){let mt=null;for(const _t of st.getChildren()){const Pt=Ve.toModelElement(_t);if(!(Pt&&Pt.getAttribute("listIndent")>me.getAttribute("listIndent")))break;mt=_t}mt&&(je.breakContainer(je.createPositionAfter(mt)),je.move(je.createRangeOn(mt.parent),je.createPositionAt(C,"end")))}}xi(je,ke,ke.nextSibling),xi(je,ke.previousSibling,ke)}function xi(me,C,F){return!C||!F||C.name!="ul"&&C.name!="ol"||C.name!=F.name||C.getAttribute("class")!==F.getAttribute("class")?null:me.mergeContainers(me.createPositionAfter(C))}function Li(me){return me.getLastMatchingPosition(C=>C.item.is("uiElement"))}function mn(me,C){const F=!!C.sameIndent,Q=!!C.smallerIndent,ke=C.listIndent;let Ve=me;for(;Ve&&Ve.name=="listItem";){const je=Ve.getAttribute("listIndent");if(F&&ke==je||Q&&ke>je)return Ve;Ve=C.direction==="forward"?Ve.nextSibling:Ve.previousSibling}return null}function jn(me){for(const C of me.getChildren())if(C.name=="ul"||C.name=="ol")return C;return null}function vn(me,C){const F=[],Q=me.parent,ke={ignoreElementEnd:!1,startPosition:me,shallow:!0,direction:C},Ve=Q.getAttribute("listIndent"),je=[...new rt.TreeWalker(ke)].filter(Me=>Me.item.is("element")).map(Me=>Me.item);for(const Me of je){if(!Me.is("element","listItem")||Me.getAttribute("listIndent")<Ve)break;if(!(Me.getAttribute("listIndent")>Ve)){if(Me.getAttribute("listType")!==Q.getAttribute("listType")||Me.getAttribute("listStyle")!==Q.getAttribute("listStyle")||Me.getAttribute("listReversed")!==Q.getAttribute("listReversed")||Me.getAttribute("listStart")!==Q.getAttribute("listStart"))break;C==="backward"?F.unshift(Me):F.push(Me)}}return F}function Ln(me){let C=[...me.document.selection.getSelectedBlocks()].filter(F=>F.is("element","listItem")).map(F=>{const Q=me.change(ke=>ke.createPositionAt(F,0));return[...vn(Q,"backward"),...vn(Q,"forward")]}).flat();return C=[...new Set(C)],C}const In=["disc","circle","square"],Jn=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function cn(me){return In.includes(me)?"bulleted":Jn.includes(me)?"numbered":null}function fo(){const me=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||me?0:rt.getFillerOffset.call(this)}class go extends d.Plugin{static get pluginName(){return"LegacyListUtils"}getListTypeFromListStyleType(C){return cn(C)}getSelectedListItems(C){return Ln(C)}getSiblingNodes(C,F){return vn(C,F)}}function _o(me){return(C,F,Q)=>{const ke=Q.consumable;if(!ke.test(F.item,"insert")||!ke.test(F.item,"attribute:listType")||!ke.test(F.item,"attribute:listIndent"))return;ke.consume(F.item,"insert"),ke.consume(F.item,"attribute:listType"),ke.consume(F.item,"attribute:listIndent");const Ve=F.item;gi(Ve,yi(Ve,Q),Q,me)}}const To=(me,C,F)=>{if(!F.consumable.test(C.item,me.name))return;const Q=F.mapper.toViewElement(C.item),ke=F.writer;ke.breakContainer(ke.createPositionBefore(Q)),ke.breakContainer(ke.createPositionAfter(Q));const Ve=Q.parent,je=C.attributeNewValue=="numbered"?"ol":"ul";ke.rename(je,Ve)},io=(me,C,F)=>{F.consumable.consume(C.item,me.name);const Q=F.mapper.toViewElement(C.item).parent,ke=F.writer;xi(ke,Q,Q.nextSibling),xi(ke,Q.previousSibling,Q)},po=(me,C,F)=>{if(F.consumable.test(C.item,me.name)&&C.item.name!="listItem"){let Q=F.mapper.toViewPosition(C.range.start);const ke=F.writer,Ve=[];for(;(Q.parent.name=="ul"||Q.parent.name=="ol")&&(Q=ke.breakContainer(Q),Q.parent.name=="li");){const je=Q,Me=ke.createPositionAt(Q.parent,"end");if(!je.isEqual(Me)){const De=ke.remove(ke.createRange(je,Me));Ve.push(De)}Q=ke.createPositionAfter(Q.parent)}if(Ve.length>0){for(let je=0;je<Ve.length;je++){const Me=Q.nodeBefore;if(Q=ke.insert(Q,Ve[je]).end,je>0){const De=xi(ke,Me,Me.nextSibling);De&&De.parent==Me&&Q.offset--}}xi(ke,Q.nodeBefore,Q.nodeAfter)}}},No=(me,C,F)=>{const Q=F.mapper.toViewPosition(C.position),ke=Q.nodeBefore,Ve=Q.nodeAfter;xi(F.writer,ke,Ve)},ao=(me,C,F)=>{if(F.consumable.consume(C.viewItem,{name:!0})){const Q=F.writer,ke=Q.createElement("listItem"),Ve=function(De){let Ue=0,st=De.parent;for(;st;){if(st.is("element","li"))Ue++;else{const mt=st.previousSibling;mt&&mt.is("element","li")&&Ue++}st=st.parent}return Ue}(C.viewItem);Q.setAttribute("listIndent",Ve,ke);const je=C.viewItem.parent&&C.viewItem.parent.name=="ol"?"numbered":"bulleted";if(Q.setAttribute("listType",je,ke),!F.safeInsert(ke,C.modelCursor))return;const Me=function(De,Ue,st){const{writer:mt,schema:_t}=st;let Pt=mt.createPositionAfter(De);for(const qt of Ue)if(qt.name=="ul"||qt.name=="ol")Pt=st.convertItem(qt,Pt).modelCursor;else{const jt=st.convertItem(qt,mt.createPositionAt(De,"end")),Jt=jt.modelRange.start.nodeAfter;Jt&&Jt.is("element")&&!_t.checkChild(De,Jt.name)&&(De=jt.modelCursor.parent.is("element","listItem")?jt.modelCursor.parent:Ge(jt.modelCursor),Pt=mt.createPositionAfter(De))}return Pt}(ke,C.viewItem.getChildren(),F);C.modelRange=Q.createRange(C.modelCursor,Me),F.updateConversionResult(ke,C)}},Dt=(me,C,F)=>{if(F.consumable.test(C.viewItem,{name:!0})){const Q=Array.from(C.viewItem.getChildren());for(const ke of Q)!(ke.is("element","li")||ct(ke))&&ke._remove()}},z=(me,C,F)=>{if(F.consumable.test(C.viewItem,{name:!0})){if(C.viewItem.childCount===0)return;const Q=[...C.viewItem.getChildren()];let ke=!1;for(const Ve of Q)ke&&!ct(Ve)&&Ve._remove(),ct(Ve)&&(ke=!0)}};function Ee(me){return(C,F)=>{if(F.isPhantom)return;const Q=F.modelPosition.nodeBefore;if(Q&&Q.is("element","listItem")){const ke=F.mapper.toViewElement(Q),Ve=ke.getAncestors().find(ct),je=me.createPositionAt(ke,0).getWalker();for(const Me of je){if(Me.type=="elementStart"&&Me.item.is("element","li")){F.viewPosition=Me.previousPosition;break}if(Me.type=="elementEnd"&&Me.item==Ve){F.viewPosition=Me.nextPosition;break}}}}}const $e=function(me,[C,F]){const Q=this;let ke,Ve=C.is("documentFragment")?C.getChild(0):C;if(ke=F?Q.createSelection(F):Q.document.selection,Ve&&Ve.is("element","listItem")){const je=ke.getFirstPosition();let Me=null;if(je.parent.is("element","listItem")?Me=je.parent:je.nodeBefore&&je.nodeBefore.is("element","listItem")&&(Me=je.nodeBefore),Me){const De=Me.getAttribute("listIndent");if(De>0)for(;Ve&&Ve.is("element","listItem");)Ve._setAttribute("listIndent",Ve.getAttribute("listIndent")+De),Ve=Ve.nextSibling}}};function Ge(me){const C=new rt.TreeWalker({startPosition:me});let F;do F=C.next();while(!F.value.item.is("element","listItem"));return F.value.item}function at(me,C,F,Q,ke,Ve){const je=mn(C.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:me}),Me=ke.mapper,De=ke.writer,Ue=je?je.getAttribute("listIndent"):null;let st;if(je)if(Ue==me){const mt=Me.toViewElement(je).parent;st=De.createPositionAfter(mt)}else{const mt=Ve.createPositionAt(je,"end");st=Me.toViewPosition(mt)}else st=F;st=Li(st);for(const mt of[...Q.getChildren()])ct(mt)&&(st=De.move(De.createRangeOn(mt),st).end,xi(De,mt,mt.nextSibling),xi(De,mt.previousSibling,mt))}function ct(me){return me.is("element","ol")||me.is("element","ul")}class It extends d.Plugin{static get pluginName(){return"LegacyListEditing"}static get requires(){return[s.Enter,f.Delete,go]}init(){const C=this.editor;C.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const F=C.data,Q=C.editing;var ke;C.model.document.registerPostFixer(je=>function(Me,De){const Ue=Me.document.differ.getChanges(),st=new Map;let mt=!1;for(const jt of Ue)if(jt.type=="insert"&&jt.name=="listItem")_t(jt.position);else if(jt.type=="insert"&&jt.name!="listItem"){if(jt.name!="$text"){const Jt=jt.position.nodeAfter;Jt.hasAttribute("listIndent")&&(De.removeAttribute("listIndent",Jt),mt=!0),Jt.hasAttribute("listType")&&(De.removeAttribute("listType",Jt),mt=!0),Jt.hasAttribute("listStyle")&&(De.removeAttribute("listStyle",Jt),mt=!0),Jt.hasAttribute("listReversed")&&(De.removeAttribute("listReversed",Jt),mt=!0),Jt.hasAttribute("listStart")&&(De.removeAttribute("listStart",Jt),mt=!0);for(const ci of Array.from(Me.createRangeIn(Jt)).filter(Oi=>Oi.item.is("element","listItem")))_t(ci.previousPosition)}_t(jt.position.getShiftedBy(jt.length))}else jt.type=="remove"&&jt.name=="listItem"?_t(jt.position):(jt.type=="attribute"&&jt.attributeKey=="listIndent"||jt.type=="attribute"&&jt.attributeKey=="listType")&&_t(jt.range.start);for(const jt of st.values())Pt(jt),qt(jt);return mt;function _t(jt){const Jt=jt.nodeBefore;if(Jt&&Jt.is("element","listItem")){let ci=Jt;if(st.has(ci))return;for(let Oi=ci.previousSibling;Oi&&Oi.is("element","listItem");Oi=ci.previousSibling)if(ci=Oi,st.has(ci))return;st.set(Jt,ci)}else{const ci=jt.nodeAfter;ci&&ci.is("element","listItem")&&st.set(ci,ci)}}function Pt(jt){let Jt=0,ci=null;for(;jt&&jt.is("element","listItem");){const Oi=jt.getAttribute("listIndent");if(Oi>Jt){let Ai;ci===null?(ci=Oi-Jt,Ai=Jt):(ci>Oi&&(ci=Oi),Ai=Oi-ci),De.setAttribute("listIndent",Ai,jt),mt=!0}else ci=null,Jt=jt.getAttribute("listIndent")+1;jt=jt.nextSibling}}function qt(jt){let Jt=[],ci=null;for(;jt&&jt.is("element","listItem");){const Oi=jt.getAttribute("listIndent");if(ci&&ci.getAttribute("listIndent")>Oi&&(Jt=Jt.slice(0,Oi+1)),Oi!=0)if(Jt[Oi]){const Ai=Jt[Oi];jt.getAttribute("listType")!=Ai&&(De.setAttribute("listType",Ai,jt),mt=!0)}else Jt[Oi]=jt.getAttribute("listType");ci=jt,jt=jt.nextSibling}}}(C.model,je)),Q.mapper.registerViewToModelLength("li",yt),F.mapper.registerViewToModelLength("li",yt),Q.mapper.on("modelToViewPosition",Ee(Q.view)),Q.mapper.on("viewToModelPosition",(ke=C.model,(je,Me)=>{const De=Me.viewPosition,Ue=De.parent,st=Me.mapper;if(Ue.name=="ul"||Ue.name=="ol"){if(De.isAtEnd){const mt=st.toModelElement(De.nodeBefore),_t=st.getModelLength(De.nodeBefore);Me.modelPosition=ke.createPositionBefore(mt).getShiftedBy(_t)}else{const mt=st.toModelElement(De.nodeAfter);Me.modelPosition=ke.createPositionBefore(mt)}je.stop()}else if(Ue.name=="li"&&De.nodeBefore&&(De.nodeBefore.name=="ul"||De.nodeBefore.name=="ol")){const mt=st.toModelElement(Ue);let _t=1,Pt=De.nodeBefore;for(;Pt&&ct(Pt);)_t+=st.getModelLength(Pt),Pt=Pt.previousSibling;Me.modelPosition=ke.createPositionBefore(mt).getShiftedBy(_t),je.stop()}})),F.mapper.on("modelToViewPosition",Ee(Q.view)),C.conversion.for("editingDowncast").add(je=>{je.on("insert",po,{priority:"high"}),je.on("insert:listItem",_o(C.model)),je.on("attribute:listType:listItem",To,{priority:"high"}),je.on("attribute:listType:listItem",io,{priority:"low"}),je.on("attribute:listIndent:listItem",function(Me){return(De,Ue,st)=>{if(!st.consumable.consume(Ue.item,"attribute:listIndent"))return;const mt=st.mapper.toViewElement(Ue.item),_t=st.writer;_t.breakContainer(_t.createPositionBefore(mt)),_t.breakContainer(_t.createPositionAfter(mt));const Pt=mt.parent,qt=Pt.previousSibling,jt=_t.createRangeOn(Pt);_t.remove(jt),qt&&qt.nextSibling&&xi(_t,qt,qt.nextSibling),at(Ue.attributeOldValue+1,Ue.range.start,jt.start,mt,st,Me),gi(Ue.item,mt,st,Me);for(const Jt of Ue.item.getChildren())st.consumable.consume(Jt,"insert")}}(C.model)),je.on("remove:listItem",function(Me){return(De,Ue,st)=>{const mt=st.mapper.toViewPosition(Ue.position).getLastMatchingPosition(ci=>!ci.item.is("element","li")).nodeAfter,_t=st.writer;_t.breakContainer(_t.createPositionBefore(mt)),_t.breakContainer(_t.createPositionAfter(mt));const Pt=mt.parent,qt=Pt.previousSibling,jt=_t.createRangeOn(Pt),Jt=_t.remove(jt);qt&&qt.nextSibling&&xi(_t,qt,qt.nextSibling),at(st.mapper.toModelElement(mt).getAttribute("listIndent")+1,Ue.position,jt.start,mt,st,Me);for(const ci of _t.createRangeIn(Jt).getItems())st.mapper.unbindViewElement(ci);De.stop()}}(C.model)),je.on("remove",No,{priority:"low"})}),C.conversion.for("dataDowncast").add(je=>{je.on("insert",po,{priority:"high"}),je.on("insert:listItem",_o(C.model))}),C.conversion.for("upcast").add(je=>{je.on("element:ul",Dt,{priority:"high"}),je.on("element:ol",Dt,{priority:"high"}),je.on("element:li",z,{priority:"high"}),je.on("element:li",ao)}),C.model.on("insertContent",$e,{priority:"high"}),C.commands.add("numberedList",new dt(C,"numbered")),C.commands.add("bulletedList",new dt(C,"bulleted")),C.commands.add("indentList",new ni(C,"forward")),C.commands.add("outdentList",new ni(C,"backward"));const Ve=Q.view.document;this.listenTo(Ve,"enter",(je,Me)=>{const De=this.editor.model.document,Ue=De.selection.getLastPosition().parent;De.selection.isCollapsed&&Ue.name=="listItem"&&Ue.isEmpty&&(this.editor.execute("outdentList"),Me.preventDefault(),je.stop())},{context:"li"}),this.listenTo(Ve,"delete",(je,Me)=>{if(Me.direction!=="backward")return;const De=this.editor.model.document.selection;if(!De.isCollapsed)return;const Ue=De.getFirstPosition();if(!Ue.isAtStart)return;const st=Ue.parent;st.name==="listItem"&&(st.previousSibling&&st.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),Me.preventDefault(),je.stop()))},{context:"li"}),this.listenTo(C.editing.view.document,"tab",(je,Me)=>{const De=Me.shiftKey?"outdentList":"indentList";this.editor.commands.get(De).isEnabled&&(C.execute(De),Me.stopPropagation(),Me.preventDefault(),je.stop())},{context:"li"})}afterInit(){const C=this.editor.commands,F=C.get("indent"),Q=C.get("outdent");F&&F.registerChildCommand(C.get("indentList")),Q&&Q.registerChildCommand(C.get("outdentList"))}}function yt(me){let C=1;for(const F of me.getChildren())if(F.name=="ul"||F.name=="ol")for(const Q of F.getChildren())C+=yt(Q);return C}class Ct extends d.Plugin{static get requires(){return[It,Di]}static get pluginName(){return"LegacyList"}}class $t extends d.Command{constructor(C,F){super(C),this.defaultType=F}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(C={}){this._tryToConvertItemsToList(C);const F=this.editor.model,Q=Ln(F);Q.length&&F.change(ke=>{for(const Ve of Q)ke.setAttribute("listStyle",C.type||this.defaultType,Ve)})}_getValue(){const C=this.editor.model.document.selection.getFirstPosition().parent;return C&&C.is("element","listItem")?C.getAttribute("listStyle"):null}_checkEnabled(){const C=this.editor,F=C.commands.get("numberedList"),Q=C.commands.get("bulletedList");return F.isEnabled||Q.isEnabled}_tryToConvertItemsToList(C){if(!C.type)return;const F=cn(C.type);if(!F)return;const Q=this.editor,ke=`${F}List`;Q.commands.get(ke).value||Q.execute(ke)}}class ii extends d.Command{refresh(){const C=this._getValue();this.value=C,this.isEnabled=C!=null}execute(C={}){const F=this.editor.model,Q=Ln(F).filter(ke=>ke.getAttribute("listType")=="numbered");F.change(ke=>{for(const Ve of Q)ke.setAttribute("listReversed",!!C.reversed,Ve)})}_getValue(){const C=this.editor.model.document.selection.getFirstPosition().parent;return C&&C.is("element","listItem")&&C.getAttribute("listType")=="numbered"?C.getAttribute("listReversed"):null}}class wi extends d.Command{refresh(){const C=this._getValue();this.value=C,this.isEnabled=C!=null}execute({startIndex:C=1}={}){const F=this.editor.model,Q=Ln(F).filter(ke=>ke.getAttribute("listType")=="numbered");F.change(ke=>{for(const Ve of Q)ke.setAttribute("listStart",C>=0?C:1,Ve)})}_getValue(){const C=this.editor.model.document.selection.getFirstPosition().parent;return C&&C.is("element","listItem")&&C.getAttribute("listType")=="numbered"?C.getAttribute("listStart"):null}}const li="default";class ki extends d.Plugin{static get requires(){return[It]}static get pluginName(){return"LegacyListPropertiesEditing"}constructor(C){super(C),C.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const C=this.editor,F=C.model,Q=function(Ve){const je=[];return Ve.styles&&je.push({attributeName:"listStyle",defaultValue:li,addCommand(Me){Me.commands.add("listStyle",new $t(Me,li))},appliesToListItem:()=>!0,setAttributeOnDowncast(Me,De,Ue){De&&De!==li?Me.setStyle("list-style-type",De,Ue):Me.removeStyle("list-style-type",Ue)},getAttributeOnUpcast:Me=>Me.getStyle("list-style-type")||li}),Ve.reversed&&je.push({attributeName:"listReversed",defaultValue:!1,addCommand(Me){Me.commands.add("listReversed",new ii(Me))},appliesToListItem:Me=>Me.getAttribute("listType")=="numbered",setAttributeOnDowncast(Me,De,Ue){De?Me.setAttribute("reversed","reversed",Ue):Me.removeAttribute("reversed",Ue)},getAttributeOnUpcast:Me=>Me.hasAttribute("reversed")}),Ve.startIndex&&je.push({attributeName:"listStart",defaultValue:1,addCommand(Me){Me.commands.add("listStart",new wi(Me))},appliesToListItem:Me=>Me.getAttribute("listType")=="numbered",setAttributeOnDowncast(Me,De,Ue){De==0||De>1?Me.setAttribute("start",De,Ue):Me.removeAttribute("start",Ue)},getAttributeOnUpcast(Me){const De=Me.getAttribute("start");return De>=0?De:1}}),je}(C.config.get("list.properties"));F.schema.extend("listItem",{allowAttributes:Q.map(Ve=>Ve.attributeName)});for(const Ve of Q)Ve.addCommand(C);var ke;this.listenTo(C.commands.get("indentList"),"_executeCleanup",function(Ve,je){return(Me,De)=>{const Ue=De[0],st=Ue.getAttribute("listIndent"),mt=De.filter(Pt=>Pt.getAttribute("listIndent")===st);let _t=null;Ue.previousSibling.getAttribute("listIndent")+1!==st&&(_t=mn(Ue.previousSibling,{sameIndent:!0,direction:"backward",listIndent:st})),Ve.model.change(Pt=>{for(const qt of mt)for(const jt of je)if(jt.appliesToListItem(qt)){const Jt=_t==null?jt.defaultValue:_t.getAttribute(jt.attributeName);Pt.setAttribute(jt.attributeName,Jt,qt)}})}}(C,Q)),this.listenTo(C.commands.get("outdentList"),"_executeCleanup",function(Ve,je){return(Me,De)=>{if(!(De=De.reverse().filter(_t=>_t.is("element","listItem"))).length)return;const Ue=De[0].getAttribute("listIndent"),st=De[0].getAttribute("listType");let mt=De[0].previousSibling;if(mt.is("element","listItem"))for(;mt.getAttribute("listIndent")!==Ue;)mt=mt.previousSibling;else mt=null;mt||(mt=De[De.length-1].nextSibling),mt&&mt.is("element","listItem")&&mt.getAttribute("listType")===st&&Ve.model.change(_t=>{const Pt=De.filter(qt=>qt.getAttribute("listIndent")===Ue);for(const qt of Pt)for(const jt of je)if(jt.appliesToListItem(qt)){const Jt=jt.attributeName,ci=mt.getAttribute(Jt);_t.setAttribute(Jt,ci,qt)}})}}(C,Q)),this.listenTo(C.commands.get("bulletedList"),"_executeCleanup",Vn(C)),this.listenTo(C.commands.get("numberedList"),"_executeCleanup",Vn(C)),F.document.registerPostFixer(function(Ve,je){return Me=>{let De=!1;const Ue=Cn(Ve.model.document.differ.getChanges()).filter(mt=>mt.getAttribute("listType")!=="todo");if(!Ue.length)return De;let st=Ue[Ue.length-1].nextSibling;if((!st||!st.is("element","listItem"))&&(st=Ue[0].previousSibling,st)){const mt=Ue[0].getAttribute("listIndent");for(;st.is("element","listItem")&&st.getAttribute("listIndent")!==mt&&(st=st.previousSibling,st););}for(const mt of je){const _t=mt.attributeName;for(const Pt of Ue)if(mt.appliesToListItem(Pt))if(Pt.hasAttribute(_t)){const qt=Pt.previousSibling;wn(qt,Pt,mt.attributeName)&&(Me.setAttribute(_t,qt.getAttribute(_t),Pt),De=!0)}else Vi(st,Pt,mt)?Me.setAttribute(_t,st.getAttribute(_t),Pt):Me.setAttribute(_t,mt.defaultValue,Pt),De=!0;else Me.removeAttribute(_t,Pt)}return De}}(C,Q)),C.conversion.for("upcast").add((ke=Q,Ve=>{Ve.on("element:li",(je,Me,De)=>{if(!Me.modelRange)return;const Ue=Me.viewItem.parent,st=Me.modelRange.start.nodeAfter||Me.modelRange.end.nodeBefore;for(const mt of ke)if(mt.appliesToListItem(st)){const _t=mt.getAttributeOnUpcast(Ue);De.writer.setAttribute(mt.attributeName,_t,st)}},{priority:"low"})})),C.conversion.for("downcast").add(function(Ve){return Me=>{for(const De of Ve)Me.on(`attribute:${De.attributeName}:listItem`,(Ue,st,mt)=>{const _t=mt.writer,Pt=st.item,qt=mn(Pt.previousSibling,{sameIndent:!0,listIndent:Pt.getAttribute("listIndent"),direction:"backward"}),jt=mt.mapper.toViewElement(Pt);je(Pt,qt)||_t.breakContainer(_t.createPositionBefore(jt)),De.setAttributeOnDowncast(_t,st.attributeNewValue,jt.parent)},{priority:"low"})};function je(Me,De){return De&&Me.getAttribute("listType")===De.getAttribute("listType")&&Me.getAttribute("listIndent")===De.getAttribute("listIndent")&&Me.getAttribute("listStyle")===De.getAttribute("listStyle")&&Me.getAttribute("listReversed")===De.getAttribute("listReversed")&&Me.getAttribute("listStart")===De.getAttribute("listStart")}}(Q)),this._mergeListAttributesWhileMergingLists(Q)}afterInit(){const C=this.editor;C.commands.get("todoList")&&C.model.document.registerPostFixer(function(F){return Q=>{const ke=Cn(F.model.document.differ.getChanges()).filter(Ve=>Ve.getAttribute("listType")==="todo"&&(Ve.hasAttribute("listStyle")||Ve.hasAttribute("listReversed")||Ve.hasAttribute("listStart")));if(!ke.length)return!1;for(const Ve of ke)Q.removeAttribute("listStyle",Ve),Q.removeAttribute("listReversed",Ve),Q.removeAttribute("listStart",Ve);return!0}}(C))}_mergeListAttributesWhileMergingLists(C){const F=this.editor.model;let Q;this.listenTo(F,"deleteContent",(ke,[Ve])=>{const je=Ve.getFirstPosition(),Me=Ve.getLastPosition();if(je.parent===Me.parent||!je.parent.is("element","listItem"))return;const De=Me.parent.nextSibling;if(!De||!De.is("element","listItem"))return;const Ue=mn(je.parent,{sameIndent:!0,listIndent:De.getAttribute("listIndent")});Ue&&Ue.getAttribute("listType")===De.getAttribute("listType")&&(Q=Ue)},{priority:"high"}),this.listenTo(F,"deleteContent",()=>{Q&&(F.change(ke=>{const Ve=mn(Q.nextSibling,{sameIndent:!0,listIndent:Q.getAttribute("listIndent"),direction:"forward"});if(!Ve)return void(Q=null);const je=[Ve,...vn(ke.createPositionAt(Ve,0),"forward")];for(const Me of je)for(const De of C)if(De.appliesToListItem(Me)){const Ue=De.attributeName,st=Q.getAttribute(Ue);ke.setAttribute(Ue,st,Me)}}),Q=null)},{priority:"low"})}}function Vi(me,C,F){if(!me)return!1;const Q=me.getAttribute(F.attributeName);return!!Q&&Q!=F.defaultValue&&me.getAttribute("listType")===C.getAttribute("listType")}function wn(me,C,F){if(!me||!me.is("element","listItem")||C.getAttribute("listType")!==me.getAttribute("listType"))return!1;const Q=me.getAttribute("listIndent");if(Q<1||Q!==C.getAttribute("listIndent"))return!1;const ke=me.getAttribute(F);return!(!ke||ke===C.getAttribute(F))}function Vn(me){return(C,F)=>{F=F.filter(Q=>Q.is("element","listItem")),me.model.change(Q=>{for(const ke of F)Q.removeAttribute("listStyle",ke)})}}function Cn(me){const C=[];for(const F of me){const Q=Rn(F);Q&&Q.is("element","listItem")&&C.push(Q)}return C}function Rn(me){return me.type==="attribute"?me.range.start.nodeAfter:me.type==="insert"?me.position.nodeAfter:null}class en extends d.Plugin{static get requires(){return[ki,qe]}static get pluginName(){return"LegacyListProperties"}}const Pn="todoListChecked";class Qi extends d.Command{constructor(C){super(C),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(C=>!!C.getAttribute(Pn)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const C=this.editor.model,F=C.schema,Q=C.document.selection.getFirstRange(),ke=Q.start.parent,Ve=[];F.checkAttribute(ke,Pn)&&Ve.push(ke);for(const je of Q.getItems())F.checkAttribute(je,Pn)&&!Ve.includes(je)&&Ve.push(je);return Ve}execute(C={}){this.editor.model.change(F=>{for(const Q of this._selectedElements)(C.forceValue===void 0?!this.value:C.forceValue)?F.setAttribute(Pn,!0,Q):F.removeAttribute(Pn,Q)})}}const no=(me,C,F)=>{const Q=C.modelCursor,ke=Q.parent,Ve=C.viewItem;if(Ve.getAttribute("type")!="checkbox"||ke.name!="listItem"||!Q.isAtStart||!F.consumable.consume(Ve,{name:!0}))return;const je=F.writer;je.setAttribute("listType","todo",ke),C.viewItem.hasAttribute("checked")&&je.setAttribute("todoListChecked",!0,ke),C.modelRange=je.createRange(Q)};function vo(me){return(C,F)=>{const Q=F.modelPosition,ke=Q.parent;if(!ke.is("element","listItem")||ke.getAttribute("listType")!="todo")return;const Ve=ue(F.mapper.toViewElement(ke),me);Ve&&(F.viewPosition=F.mapper.findPositionIn(Ve,Q.offset))}}function Xt(me,C,F,Q){return C.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(ke){const Ve=(0,u.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});F&&Ve.setAttribute("checked","checked"),Ve.addEventListener("change",()=>Q(me));const je=this.toDomElement(ke);return je.appendChild(Ve),je})}function ue(me,C){const F=C.createRangeIn(me);for(const Q of F)if(Q.item.is("containerElement","span")&&Q.item.hasClass("todo-list__label__description"))return Q.item}const N=(0,u.parseKeystroke)("Ctrl+Enter");class ie extends d.Plugin{static get pluginName(){return"LegacyTodoListEditing"}static get requires(){return[It]}init(){const C=this.editor,{editing:F,data:Q,model:ke}=C;ke.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),ke.schema.addAttributeCheck((Ue,st)=>{const mt=Ue.last;if(st=="todoListChecked"&&mt.name=="listItem"&&mt.getAttribute("listType")!="todo")return!1}),C.commands.add("todoList",new dt(C,"todo"));const Ve=new Qi(C);var je,Me;C.commands.add("checkTodoList",Ve),C.commands.add("todoListCheck",Ve),Q.downcastDispatcher.on("insert:listItem",function(Ue){return(st,mt,_t)=>{const Pt=_t.consumable;if(!Pt.test(mt.item,"insert")||!Pt.test(mt.item,"attribute:listType")||!Pt.test(mt.item,"attribute:listIndent")||mt.item.getAttribute("listType")!="todo")return;const qt=mt.item;Pt.consume(qt,"insert"),Pt.consume(qt,"attribute:listType"),Pt.consume(qt,"attribute:listIndent"),Pt.consume(qt,"attribute:todoListChecked");const jt=_t.writer,Jt=yi(qt,_t);jt.addClass("todo-list",Jt.parent);const ci=jt.createContainerElement("label",{class:"todo-list__label"}),Oi=jt.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Ai=jt.createContainerElement("span",{class:"todo-list__label__description"});qt.getAttribute("todoListChecked")&&jt.setAttribute("checked","checked",Oi),jt.insert(jt.createPositionAt(Jt,0),ci),jt.insert(jt.createPositionAt(ci,0),Oi),jt.insert(jt.createPositionAfter(Oi),Ai),gi(qt,Jt,_t,Ue)}}(ke),{priority:"high"}),Q.upcastDispatcher.on("element:input",no,{priority:"high"}),F.downcastDispatcher.on("insert:listItem",function(Ue,st){return(mt,_t,Pt)=>{const qt=Pt.consumable;if(!qt.test(_t.item,"insert")||!qt.test(_t.item,"attribute:listType")||!qt.test(_t.item,"attribute:listIndent")||_t.item.getAttribute("listType")!="todo")return;const jt=_t.item;qt.consume(jt,"insert"),qt.consume(jt,"attribute:listType"),qt.consume(jt,"attribute:listIndent"),qt.consume(jt,"attribute:todoListChecked");const Jt=Pt.writer,ci=yi(jt,Pt),Oi=!!jt.getAttribute("todoListChecked"),Ai=Xt(jt,Jt,Oi,st),ji=Jt.createContainerElement("span",{class:"todo-list__label__description"});Jt.addClass("todo-list",ci.parent),Jt.insert(Jt.createPositionAt(ci,0),Ai),Jt.insert(Jt.createPositionAfter(Ai),ji),gi(jt,ci,Pt,Ue)}}(ke,Ue=>this._handleCheckmarkChange(Ue)),{priority:"high"}),F.downcastDispatcher.on("attribute:listType:listItem",(je=Ue=>this._handleCheckmarkChange(Ue),Me=F.view,(Ue,st,mt)=>{if(!mt.consumable.consume(st.item,Ue.name))return;const _t=mt.mapper.toViewElement(st.item),Pt=mt.writer,qt=function(jt,Jt){const ci=Jt.createRangeIn(jt);for(const Oi of ci)if(Oi.item.is("uiElement","label"))return Oi.item}(_t,Me);if(st.attributeNewValue=="todo"){const jt=!!st.item.getAttribute("todoListChecked"),Jt=Xt(st.item,Pt,jt,je),ci=Pt.createContainerElement("span",{class:"todo-list__label__description"}),Oi=Pt.createRangeIn(_t),Ai=jn(_t),ji=Li(Oi.start),qi=Ai?Pt.createPositionBefore(Ai):Oi.end,Ri=Pt.createRange(ji,qi);Pt.addClass("todo-list",_t.parent),Pt.move(Ri,Pt.createPositionAt(ci,0)),Pt.insert(Pt.createPositionAt(_t,0),Jt),Pt.insert(Pt.createPositionAfter(Jt),ci)}else if(st.attributeOldValue=="todo"){const jt=ue(_t,Me);Pt.removeClass("todo-list",_t.parent),Pt.remove(qt),Pt.move(Pt.createRangeIn(jt),Pt.createPositionBefore(jt)),Pt.remove(jt)}})),F.downcastDispatcher.on("attribute:todoListChecked:listItem",function(Ue){return(st,mt,_t)=>{if(mt.item.getAttribute("listType")!="todo"||!_t.consumable.consume(mt.item,"attribute:todoListChecked"))return;const{mapper:Pt,writer:qt}=_t,jt=!!mt.item.getAttribute("todoListChecked"),Jt=Pt.toViewElement(mt.item).getChild(0),ci=Xt(mt.item,qt,jt,Ue);qt.insert(qt.createPositionAfter(Jt),ci),qt.remove(Jt)}}(Ue=>this._handleCheckmarkChange(Ue))),F.mapper.on("modelToViewPosition",vo(F.view)),Q.mapper.on("modelToViewPosition",vo(F.view)),this.listenTo(F.view.document,"arrowKey",function(Ue,st){return(mt,_t)=>{if((0,u.getLocalizedArrowKeyCodeDirection)(_t.keyCode,st.contentLanguageDirection)!="left")return;const Pt=Ue.schema,qt=Ue.document.selection;if(!qt.isCollapsed)return;const jt=qt.getFirstPosition(),Jt=jt.parent;if(Jt.name==="listItem"&&Jt.getAttribute("listType")=="todo"&&jt.isAtStart){const ci=Pt.getNearestSelectionRange(Ue.createPositionBefore(Jt),"backward");ci&&Ue.change(Oi=>Oi.setSelection(ci)),_t.preventDefault(),_t.stopPropagation(),mt.stop()}}}(ke,C.locale),{context:"li"}),this.listenTo(F.view.document,"keydown",(Ue,st)=>{(0,u.getCode)(st)===N&&(C.execute("checkTodoList"),Ue.stop())},{priority:"high"});const De=new Set;this.listenTo(ke,"applyOperation",(Ue,st)=>{const mt=st[0];if(mt.type=="rename"&&mt.oldName=="listItem"){const _t=mt.position.nodeAfter;_t.hasAttribute("todoListChecked")&&De.add(_t)}else if(mt.type=="changeAttribute"&&mt.key=="listType"&&mt.oldValue==="todo")for(const _t of mt.range.getItems())_t.hasAttribute("todoListChecked")&&_t.getAttribute("listType")!=="todo"&&De.add(_t)}),ke.document.registerPostFixer(Ue=>{let st=!1;for(const mt of De)Ue.removeAttribute("todoListChecked",mt),st=!0;return De.clear(),st})}_handleCheckmarkChange(C){const F=this.editor,Q=F.model,ke=Array.from(Q.document.selection.getRanges());Q.change(Ve=>{Ve.setSelection(C,"end"),F.execute("checkTodoList"),Ve.setSelection(ke)})}}class We extends d.Plugin{static get requires(){return[ie,ee]}static get pluginName(){return"LegacyTodoList"}}class lt extends d.Plugin{static get pluginName(){return"AdjacentListsSupport"}init(){const C=this.editor;C.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),C.conversion.for("upcast").add(F=>{F.on("element:ol",Se()),F.on("element:ul",Se())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),C.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),C.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(F,Q)=>{const ke=Q.writer.createContainerElement("ck-list-separator");return Q.writer.setCustomProperty("dataPipeline:transparentRendering",!0,ke),ke.getFillerOffset=()=>null,ke}})}}function Se(){return(me,C,F)=>{const Q=C.viewItem,ke=Q.nextSibling;if(!ke||Q.name!==ke.name)return;C.modelRange||Object.assign(C,F.convertChildren(C.viewItem,C.modelCursor));const Ve=F.writer,je=Ve.createElement("listSeparator");if(!F.safeInsert(je,C.modelCursor))return;const Me=F.getSplitParts(je);C.modelRange=Ve.createRange(C.modelRange.start,Ve.createPositionAfter(Me[Me.length-1])),F.updateConversionResult(je,C)}}class Nt extends d.Plugin{static get requires(){return[Yi]}static get pluginName(){return"DocumentList"}constructor(C){super(C),(0,u.logWarning)("plugin-obsolete-documentlist",{pluginName:"DocumentList"})}}class ui extends d.Plugin{static get requires(){return[Ot]}static get pluginName(){return"DocumentListProperties"}constructor(C){super(C),(0,u.logWarning)("plugin-obsolete-documentlistproperties",{pluginName:"DocumentListProperties"})}}class ri extends d.Plugin{static get requires(){return[Qe]}static get pluginName(){return"TodoDocumentList"}constructor(C){super(C),(0,u.logWarning)("plugin-obsolete-tododocumentlist",{pluginName:"TodoDocumentList"})}}})(),(window.CKEditor5=window.CKEditor5||{}).list=ai})();/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{MSWordNormalizer:()=>w,PasteFromOffice:()=>S,parseHtml:()=>te});var d=K(782),f=K(331),s=K(783);function u(X){return X!==void 0&&X.endsWith("px")}function y(X){return X.toFixed(2).replace(/\.?0+$/,"")+"px"}function P(X,de,_e){if(!X.childCount)return;const Ae=new s.UpcastWriter(X.document),rt=function(Z,Ce){const Oe=Ce.createRangeIn(Z),xe=[],q=new Set;for(const Le of Oe.getItems()){if(!Le.is("element")||!Le.name.match(/^(p|h\d+|li|div)$/))continue;let He=U(Le);if(He===void 0||parseFloat(He)!=0||Array.from(Le.getClassNames()).find(ot=>ot.startsWith("MsoList"))||(He=void 0),Le.hasStyle("mso-list")||He!==void 0&&q.has(He)){const ot=ye(Le);xe.push({element:Le,id:ot.id,order:ot.order,indent:ot.indent,marginLeft:He}),He!==void 0&&q.add(He)}else q.clear()}return xe}(X,Ae);if(!rt.length)return;const et={},J=[];for(const Z of rt)if(Z.indent!==void 0){b(Z)||(J.length=0);const Ce=`${Z.id}:${Z.indent}`,Oe=Math.min(Z.indent-1,J.length);if(Oe<J.length&&J[Oe].id!==Z.id&&(J.length=Oe),Oe<J.length-1)J.length=Oe+1;else{const q=D(Z,de);if(Oe>J.length-1||J[Oe].listElement.name!=q.type){Oe==0&&q.type=="ol"&&Z.id!==void 0&&et[Ce]&&(q.startIndex=et[Ce]);const Le=V(q,Ae,_e);if(u(Z.marginLeft)&&(Oe==0||u(J[Oe-1].marginLeft))){let He=Z.marginLeft;Oe>0&&(He=y(parseFloat(He)-parseFloat(J[Oe-1].marginLeft))),Ae.setStyle("padding-left",He,Le)}if(J.length==0){const He=Z.element.parent,ot=He.getChildIndex(Z.element)+1;Ae.insertChild(ot,Le,He)}else{const He=J[Oe-1].listItemElements;Ae.appendChild(Le,He[He.length-1])}J[Oe]={...Z,listElement:Le,listItemElements:[]},Oe==0&&Z.id!==void 0&&(et[Ce]=q.startIndex||1)}}const xe=Z.element.name=="li"?Z.element:Ae.createElement("li");Ae.appendChild(xe,J[Oe].listElement),J[Oe].listItemElements.push(xe),Oe==0&&Z.id!==void 0&&et[Ce]++,Z.element!=xe&&Ae.appendChild(Z.element,xe),ne(Z.element,Ae),Ae.removeStyle("text-indent",Z.element),Ae.removeStyle("margin-left",Z.element)}else{const Ce=J.find(Oe=>Oe.marginLeft==Z.marginLeft);if(Ce){const Oe=Ce.listItemElements;Ae.appendChild(Z.element,Oe[Oe.length-1]),Ae.removeStyle("margin-left",Z.element)}else J.length=0}}function b(X){const de=X.element.previousSibling;return _(de||X.element.parent)}function _(X){return X.is("element","ol")||X.is("element","ul")}function D(X,de){const _e=new RegExp(`@list l${X.id}:level${X.indent}\\s*({[^}]*)`,"gi"),Ae=/mso-level-number-format:([^;]{0,100});/gi,rt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,et=new RegExp(`@list\\s+l${X.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),J=new RegExp(`@list l${X.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),Z=et.exec(de),Ce=J.exec(de),Oe=Z&&!Ce,xe=_e.exec(de);let q="decimal",Le="ol",He=null;if(xe&&xe[1]){const ot=Ae.exec(xe[1]);if(ot&&ot[1]&&(q=ot[1].trim(),Le=q!=="bullet"&&q!=="image"?"ol":"ul"),q==="bullet"){const fe=function(le){if(le.name=="li"&&le.parent.name=="ul"&&le.parent.hasAttribute("type"))return le.parent.getAttribute("type");const pe=function(nt){if(nt.getChild(0).is("$text"))return null;for(const ut of nt.getChildren()){if(!ut.is("element","span"))continue;const wt=ut.getChild(0);if(wt)return wt.is("$text")?wt:wt.getChild(0)}return null}(le);if(!pe)return null;const Ke=pe._data;return Ke==="o"?"circle":Ke==="\xB7"?"disc":Ke==="\xA7"?"square":null}(X.element);fe&&(q=fe)}else{const fe=rt.exec(xe[1]);fe&&fe[1]&&(He=parseInt(fe[1]))}Oe&&(Le="ol")}return{type:Le,startIndex:He,style:I(q),isLegalStyleList:Oe}}function I(X){if(X.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(X){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return X;default:return null}}function V(X,de,_e){const Ae=de.createElement(X.type);return X.style&&de.setStyle("list-style-type",X.style,Ae),X.startIndex&&X.startIndex>1&&de.setAttribute("start",X.startIndex,Ae),X.isLegalStyleList&&_e&&de.addClass("legal-list",Ae),Ae}function ye(X){const de=X.getStyle("mso-list");if(de===void 0)return{};const _e=de.match(/(^|\s{1,100})l(\d+)/i),Ae=de.match(/\s{0,100}lfo(\d+)/i),rt=de.match(/\s{0,100}level(\d+)/i);return _e&&Ae&&rt?{id:_e[2],order:Ae[1],indent:parseInt(rt[1])}:{indent:1}}function ne(X,de){const _e=new s.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),Ae=de.createRangeIn(X);for(const rt of Ae)rt.type==="elementStart"&&_e.match(rt.item)&&de.remove(rt.item)}function U(X){const de=X.getStyle("margin-left");return de===void 0||de.endsWith("px")?de:function(_e){const Ae=parseFloat(_e);return _e.endsWith("pt")?y(96*Ae/72):_e.endsWith("pc")?y(12*Ae*96/72):_e.endsWith("in")?y(96*Ae):_e.endsWith("cm")?y(96*Ae/2.54):_e.endsWith("mm")?y(Ae/10*96/2.54):_e}(de)}function $(X,de){if(!X.childCount)return;const _e=new s.UpcastWriter(X.document),Ae=function(et,J){const Z=J.createRangeIn(et),Ce=new s.Matcher({name:/v:(.+)/}),Oe=[];for(const xe of Z){if(xe.type!="elementStart")continue;const q=xe.item,Le=q.previousSibling,He=Le&&Le.is("element")?Le.name:null,ot=["Chart"],fe=Ce.match(q),le=q.getAttribute("o:gfxdata"),pe=He==="v:shapetype",Ke=le&&ot.some(nt=>q.getAttribute("id").includes(nt));fe&&le&&!pe&&!Ke&&Oe.push(xe.item.getAttribute("id"))}return Oe}(X,_e);(function(et,J,Z){const Ce=Z.createRangeIn(J),Oe=new s.Matcher({name:"img"}),xe=[];for(const q of Ce)if(q.item.is("element")&&Oe.match(q.item)){const Le=q.item,He=Le.getAttribute("v:shapes")?Le.getAttribute("v:shapes").split(" "):[];He.length&&He.every(ot=>et.indexOf(ot)>-1)?xe.push(Le):Le.getAttribute("src")||xe.push(Le)}for(const q of xe)Z.remove(q)})(Ae,X,_e),function(et,J,Z){const Ce=Z.createRangeIn(J),Oe=[];for(const Le of Ce)if(Le.type=="elementStart"&&Le.item.is("element","v:shape")){const He=Le.item.getAttribute("id");if(et.includes(He))continue;xe(Le.item.parent.getChildren(),He)||Oe.push(Le.item)}for(const Le of Oe){const He={src:q(Le)};Le.hasAttribute("alt")&&(He.alt=Le.getAttribute("alt"));const ot=Z.createElement("img",He);Z.insertChild(Le.index+1,ot,Le.parent)}function xe(Le,He){for(const ot of Le)if(ot.is("element")&&(ot.name=="img"&&ot.getAttribute("v:shapes")==He||xe(ot.getChildren(),He)))return!0;return!1}function q(Le){for(const He of Le.getChildren())if(He.is("element")&&He.getAttribute("src"))return He.getAttribute("src")}}(Ae,X,_e),function(et,J){const Z=J.createRangeIn(et),Ce=new s.Matcher({name:/v:(.+)/}),Oe=[];for(const xe of Z)xe.type=="elementStart"&&Ce.match(xe.item)&&Oe.push(xe.item);for(const xe of Oe)J.remove(xe)}(X,_e);const rt=function(et,J){const Z=J.createRangeIn(et),Ce=new s.Matcher({name:"img"}),Oe=[];for(const xe of Z)xe.item.is("element")&&Ce.match(xe.item)&&xe.item.getAttribute("src").startsWith("file://")&&Oe.push(xe.item);return Oe}(X,_e);rt.length&&function(et,J,Z){if(et.length===J.length)for(let Ce=0;Ce<et.length;Ce++){const Oe=`data:${J[Ce].type};base64,${he(J[Ce].hex)}`;Z.setAttribute("src",Oe,et[Ce])}}(rt,function(et){if(!et)return[];const J=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,Z=new RegExp("(?:("+J.source+"))([\\da-fA-F\\s]+)\\}","g"),Ce=et.match(Z),Oe=[];if(Ce)for(const xe of Ce){let q=!1;xe.includes("\\pngblip")?q="image/png":xe.includes("\\jpegblip")&&(q="image/jpeg"),q&&Oe.push({hex:xe.replace(J,"").replace(/[^\da-fA-F]/g,""),type:q})}return Oe}(de),_e)}function he(X){return btoa(X.match(/\w{2}/g).map(de=>String.fromCharCode(parseInt(de,16))).join(""))}const we=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,g=/xmlns:o="urn:schemas-microsoft-com/i;class w{constructor(de,_e=!1){this.document=de,this.hasMultiLevelListPlugin=_e}isActive(de){return we.test(de)||g.test(de)}execute(de){const{body:_e,stylesString:Ae}=de._parsedData;P(_e,Ae,this.hasMultiLevelListPlugin),$(_e,de.dataTransfer.getData("text/rtf")),function(rt){const et=[],J=new s.UpcastWriter(rt.document);for(const{item:Z}of J.createRangeIn(rt))if(Z.is("element")){for(const Ce of Z.getClassNames())/\bmso/gi.exec(Ce)&&J.removeClass(Ce,Z);for(const Ce of Z.getStyleNames())/\bmso/gi.exec(Ce)&&J.removeStyle(Ce,Z);(Z.is("element","w:sdt")||Z.is("element","w:sdtpr")&&Z.isEmpty||Z.is("element","o:p")&&Z.isEmpty)&&et.push(Z)}for(const Z of et){const Ce=Z.parent,Oe=Ce.getChildIndex(Z);J.insertChild(Oe,Z.getChildren(),Ce),J.remove(Z)}}(_e),de.content=_e}}function p(X,de,_e,{blockElements:Ae,inlineObjectElements:rt}){let et=_e.createPositionAt(X,de=="forward"?"after":"before");return et=et.getLastMatchingPosition(({item:J})=>J.is("element")&&!Ae.includes(J.name)&&!rt.includes(J.name),{direction:de}),de=="forward"?et.nodeAfter:et.nodeBefore}function v(X,de){return!!X&&X.is("element")&&de.includes(X.name)}const T=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class L{constructor(de){this.document=de}isActive(de){return T.test(de)}execute(de){const _e=new s.UpcastWriter(this.document),{body:Ae}=de._parsedData;(function(rt,et){for(const J of rt.getChildren())if(J.is("element","b")&&J.getStyle("font-weight")==="normal"){const Z=rt.getChildIndex(J);et.remove(J),et.insertChild(Z,J.getChildren(),rt)}})(Ae,_e),function(rt,et){for(const J of et.createRangeIn(rt)){const Z=J.item;if(Z.is("element","li")){const Ce=Z.getChild(0);Ce&&Ce.is("element","p")&&et.unwrapElement(Ce)}}}(Ae,_e),function(rt,et){const J=new s.ViewDocument(et.document.stylesProcessor),Z=new s.DomConverter(J,{renderingMode:"data"}),Ce=Z.blockElements,Oe=Z.inlineObjectElements,xe=[];for(const q of et.createRangeIn(rt)){const Le=q.item;if(Le.is("element","br")){const He=p(Le,"forward",et,{blockElements:Ce,inlineObjectElements:Oe}),ot=p(Le,"backward",et,{blockElements:Ce,inlineObjectElements:Oe}),fe=v(He,Ce);(v(ot,Ce)||fe)&&xe.push(Le)}}for(const q of xe)q.hasClass("Apple-interchange-newline")?et.remove(q):et.replace(q,et.createElement("p"))}(Ae,_e),de.content=Ae}}const O=/<google-sheets-html-origin/i;class oe{constructor(de){this.document=de}isActive(de){return O.test(de)}execute(de){const _e=new s.UpcastWriter(this.document),{body:Ae}=de._parsedData;(function(rt,et){for(const J of rt.getChildren())if(J.is("element","google-sheets-html-origin")){const Z=rt.getChildIndex(J);et.remove(J),et.insertChild(Z,J.getChildren(),rt)}})(Ae,_e),function(rt,et){for(const J of rt.getChildren())J.is("element","table")&&J.hasAttribute("xmlns")&&et.removeAttribute("xmlns",J)}(Ae,_e),function(rt,et){for(const J of rt.getChildren())J.is("element","table")&&J.getStyle("width")==="0px"&&et.removeStyle("width",J)}(Ae,_e),function(rt,et){for(const J of Array.from(rt.getChildren()))J.is("element","style")&&et.remove(J)}(Ae,_e),de.content=Ae}}function W(X){return X.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(de,_e)=>_e.length===1?" ":Array(_e.length+1).join("\xA0 ").substr(0,_e.length))}function te(X,de){const _e=new DOMParser,Ae=function(Ce){return W(W(Ce)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(Ce){const Oe="</body>",xe="</html>",q=Ce.indexOf(Oe);if(q<0)return Ce;const Le=Ce.indexOf(xe,q+Oe.length);return Ce.substring(0,q+Oe.length)+(Le>=0?Ce.substring(Le):"")}(X=(X=X.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),rt=_e.parseFromString(Ae,"text/html");(function(Ce){Ce.querySelectorAll("span[style*=spacerun]").forEach(Oe=>{const xe=Oe,q=xe.innerText.length||0;xe.innerText=Array(q+1).join("\xA0 ").substr(0,q)})})(rt);const et=rt.body.innerHTML,J=function(Ce,Oe){const xe=new s.ViewDocument(Oe),q=new s.DomConverter(xe,{renderingMode:"data"}),Le=Ce.createDocumentFragment(),He=Ce.body.childNodes;for(;He.length>0;)Le.appendChild(He[0]);return q.domToView(Le,{skipComments:!0})}(rt,de),Z=function(Ce){const Oe=[],xe=[],q=Array.from(Ce.getElementsByTagName("style"));for(const Le of q)Le.sheet&&Le.sheet.cssRules&&Le.sheet.cssRules.length&&(Oe.push(Le.sheet),xe.push(Le.innerHTML));return{styles:Oe,stylesString:xe.join(" ")}}(rt);return{body:J,bodyString:et,styles:Z.styles,stylesString:Z.stylesString}}class S extends d.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[f.ClipboardPipeline]}init(){const de=this.editor,_e=de.plugins.get("ClipboardPipeline"),Ae=de.editing.view.document,rt=[],et=this.editor.plugins.has("MultiLevelList");rt.push(new w(Ae,et)),rt.push(new L(Ae)),rt.push(new oe(Ae)),_e.on("inputTransformation",(J,Z)=>{if(Z._isTransformedWithPasteFromOffice||de.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const Ce=Z.dataTransfer.getData("text/html"),Oe=rt.find(xe=>xe.isActive(Ce));Oe&&(Z._parsedData||(Z._parsedData=te(Ce,Ae.stylesProcessor)),Oe.execute(Z),Z._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Advanced options":"Advanced options",Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Find in the document":"Find in the document","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={501:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const P=y},629:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const P=y},979:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-find-and-replace-form{max-width:100%;& .ck-find-and-replace-form__inputs,.ck-find-and-replace-form__actions{display:flex}& .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter,.ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-content:stretch;align-items:center;flex:1 1 auto;flex-direction:row;flex-wrap:wrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>*+*,[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard)}[dir=ltr] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{margin-right:0}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{max-width:100%;width:300px}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex:1 1 auto;flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{text-align:center;width:100%}}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{FindAndReplace:()=>$i,FindAndReplaceEditing:()=>Ii,FindAndReplaceUI:()=>ye,FindAndReplaceUtils:()=>fe,FindCommand:()=>ne,FindNextCommand:()=>we,FindPreviousCommand:()=>g,ReplaceAllCommand:()=>he,ReplaceCommand:()=>$});var d=K(782),f=K(311),s=K(584),u=K(591),y=K.n(u),P=K(501),b={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(P.A,b),P.A.locals;var _=K(979),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(_.A,D),_.A.locals;class I extends f.View{constructor(G){super(G);const ce=G.t;this.children=this.createCollection(),this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(Ie,Ze)=>Ie>0&&!Ze),this._findInputView=this._createInputField(ce("Find in text\u2026")),this._findPrevButtonView=this._createButton({label:ce("Previous result"),class:"ck-button-prev",icon:d.icons.previousArrow,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:ce("Next result"),class:"ck-button-next",icon:d.icons.previousArrow,keystroke:"F3",tooltip:!0}),this._replaceInputView=this._createInputField(ce("Replace with\u2026"),"ck-labeled-field-replace"),this._inputsDivView=this._createInputsDiv(),this._matchCaseSwitchView=this._createMatchCaseSwitch(),this._wholeWordsOnlySwitchView=this._createWholeWordsOnlySwitch(),this._advancedOptionsCollapsibleView=this._createAdvancedOptionsCollapsible(),this._replaceAllButtonView=this._createButton({label:ce("Replace all"),class:"ck-button-replaceall",withText:!0}),this._replaceButtonView=this._createButton({label:ce("Replace"),class:"ck-button-replace",withText:!0}),this._findButtonView=this._createButton({label:ce("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._actionButtonsDivView=this._createActionButtonsDiv(),this._focusTracker=new s.FocusTracker,this._keystrokes=new s.KeystrokeHandler,this._focusables=new f.ViewCollection,this.focusCycler=new f.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.addMany([this._inputsDivView,this._advancedOptionsCollapsibleView,this._actionButtonsDivView]),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,f.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(G){G===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createInputsDiv(){const G=this.locale,ce=G.t,Ie=new f.View(G);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Ze})=>Ze),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Ze})=>Ze),this._injectFindResultsCounter(),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Ze},Ye)=>Ze&&Ye),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Ze,Ye)=>Ze||!Ye?"":ce("Tip: Find some text first in order to replace it.")),Ie.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__inputs"]},children:[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView]}),Ie}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const G=this.t;this._findInputView.errorText=G("Text to find must not be empty.")}}_injectFindResultsCounter(){const G=this.locale,ce=G.t,Ie=this.bindTemplate,Ze=new f.View(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(ft,Tt)=>ce("%0 of %1",[ft,Tt])),Ze.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",Ie.if("isDirty","ck-hidden")]},children:[{text:Ie.to("_resultsCounterText")}]});const Ye=()=>{const ft=this._findInputView.fieldView.element;if(!ft||!(0,s.isVisible)(ft))return;const Tt=new s.Rect(Ze.element).width,Vt=G.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";ft.style[Vt]=Tt?`calc( 2 * var(--ck-spacing-standard) + ${Tt}px )`:""};this.on("change:_resultsCounterText",Ye,{priority:"low"}),this.on("change:isDirty",Ye,{priority:"low"}),this._findInputView.template.children[0].children.push(Ze)}_createAdvancedOptionsCollapsible(){const G=this.locale.t,ce=new f.CollapsibleView(this.locale,[this._matchCaseSwitchView,this._wholeWordsOnlySwitchView]);return ce.set({label:G("Advanced options"),isCollapsed:!0}),ce}_createActionButtonsDiv(){const G=new f.View(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:ce},Ie)=>ce&&Ie),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:ce},Ie)=>ce&&Ie),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),G.setTemplate({tag:"div",attributes:{class:["ck","ck-find-and-replace-form__actions"]},children:[this._replaceAllButtonView,this._replaceButtonView,this._findButtonView]}),G}_createMatchCaseSwitch(){const G=this.locale.t,ce=new f.SwitchButtonView(this.locale);return ce.set({label:G("Match case"),withText:!0}),ce.bind("isOn").to(this,"_matchCase"),ce.on("execute",()=>{this._matchCase=!this._matchCase,this.isDirty=!0}),ce}_createWholeWordsOnlySwitch(){const G=this.locale.t,ce=new f.SwitchButtonView(this.locale);return ce.set({label:G("Whole words only"),withText:!0}),ce.bind("isOn").to(this,"_wholeWordsOnly"),ce.on("execute",()=>{this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),ce}_initFocusCycling(){[this._findInputView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._advancedOptionsCollapsibleView.buttonView,this._matchCaseSwitchView,this._wholeWordsOnlySwitchView,this._replaceAllButtonView,this._replaceButtonView,this._findButtonView].forEach(G=>{this._focusables.add(G),this._focusTracker.add(G.element)})}_initKeystrokeHandling(){const G=Ie=>Ie.stopPropagation(),ce=Ie=>{Ie.stopPropagation(),Ie.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",Ie=>{ce(Ie),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",Ie=>{ce(Ie),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",Ie=>{const Ze=Ie.target;Ze===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),ce(Ie)):Ze!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),ce(Ie))}),this._keystrokes.set("shift+enter",Ie=>{Ie.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),ce(Ie))}),this._keystrokes.set("arrowright",G),this._keystrokes.set("arrowleft",G),this._keystrokes.set("arrowup",G),this._keystrokes.set("arrowdown",G)}_createButton(G){const ce=new f.ButtonView(this.locale);return ce.set(G),ce}_createInputField(G,ce){const Ie=new f.LabeledFieldView(this.locale,f.createLabeledInputText);return Ie.label=G,Ie.class=ce,Ie}}const V='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>';class ye extends d.Plugin{static get requires(){return[f.Dialog]}static get pluginName(){return"FindAndReplaceUI"}constructor(G){super(G),G.config.define("findAndReplace.uiType","dialog"),this.formView=null}init(){const G=this.editor,ce=G.config.get("findAndReplace.uiType")==="dropdown",Ie=G.commands.get("find"),Ze=this.editor.t;G.ui.componentFactory.add("findAndReplace",()=>{let Ye;return ce?(Ye=this._createDropdown(),Ye.bind("isEnabled").to(Ie)):Ye=this._createDialogButtonForToolbar(),G.keystrokes.set("Ctrl+F",(ft,Tt)=>{if(Ie.isEnabled){if(Ye instanceof f.DropdownView){const Vt=Ye.buttonView;Vt.isOn||Vt.fire("execute")}else Ye.isOn?G.plugins.get("Dialog").view.focus():Ye.fire("execute");Tt()}}),Ye}),ce||G.ui.componentFactory.add("menuBar:findAndReplace",()=>this._createDialogButtonForMenuBar()),G.accessibility.addKeystrokeInfos({keystrokes:[{label:Ze("Find in the document"),keystroke:"CTRL+F"}]})}_createDropdown(){const G=this.editor,ce=G.locale.t,Ie=(0,f.createDropdown)(G.locale);return Ie.once("change:isOpen",()=>{this.formView=this._createFormView(),this.formView.children.add(new f.FormHeaderView(G.locale,{label:ce("Find and replace")}),0),Ie.panelView.children.add(this.formView)}),Ie.on("change:isOpen",(Ze,Ye,ft)=>{ft?this._setupFormView():this.fire("searchReseted")},{priority:"low"}),Ie.buttonView.set({icon:V,label:ce("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),Ie}_createDialogButtonForToolbar(){const G=this.editor,ce=this._createButton(f.ButtonView),Ie=G.plugins.get("Dialog");return ce.set({tooltip:!0}),ce.bind("isOn").to(Ie,"id",Ze=>Ze==="findAndReplace"),ce.on("execute",()=>{ce.isOn?Ie.hide():this._showDialog()}),ce}_createDialogButtonForMenuBar(){const G=this._createButton(f.MenuBarMenuListItemButtonView),ce=this.editor.plugins.get("Dialog");return G.on("execute",()=>{ce.id!=="findAndReplace"?this._showDialog():ce.hide()}),G}_createButton(G){const ce=this.editor,Ie=ce.commands.get("find"),Ze=new G(ce.locale),Ye=ce.locale.t;return Ze.bind("isEnabled").to(Ie),Ze.set({icon:V,label:Ye("Find and replace"),keystroke:"CTRL+F"}),Ze}_showDialog(){const G=this.editor,ce=G.plugins.get("Dialog"),Ie=G.locale.t;this.formView||(this.formView=this._createFormView()),ce.show({id:"findAndReplace",title:Ie("Find and replace"),content:this.formView,position:f.DialogViewPosition.EDITOR_TOP_SIDE,onShow:()=>{this._setupFormView()},onHide:()=>{this.fire("searchReseted")}})}_createFormView(){const G=this.editor,ce=new((0,f.CssTransitionDisablerMixin)(I))(G.locale),Ie=G.commands,Ze=this.editor.plugins.get("FindAndReplaceEditing").state;ce.bind("highlightOffset").to(Ze,"highlightedOffset"),ce.listenTo(Ze.results,"change",()=>{ce.matchCount=Ze.results.length});const Ye=Ie.get("findNext"),ft=Ie.get("findPrevious"),Tt=Ie.get("replace"),Vt=Ie.get("replaceAll");return ce.bind("_areCommandsEnabled").to(Ye,"isEnabled",ft,"isEnabled",Tt,"isEnabled",Vt,"isEnabled",(Bt,ei,oi,Mi)=>({findNext:Bt,findPrevious:ei,replace:oi,replaceAll:Mi})),ce.delegate("findNext","findPrevious","replace","replaceAll").to(this),ce.on("change:isDirty",(Bt,ei,oi)=>{oi&&this.fire("searchReseted")}),ce}_setupFormView(){this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()}}class ne extends d.Command{constructor(G,ce){super(G),this.isEnabled=!0,this.affectsData=!1,this._state=ce}execute(G,{matchCase:ce,wholeWords:Ie}={}){const{editor:Ze}=this,{model:Ye}=Ze,ft=Ze.plugins.get("FindAndReplaceUtils");let Tt;typeof G=="string"?(Tt=ft.findByTextCallback(G,{matchCase:ce,wholeWords:Ie}),this._state.searchText=G):Tt=G;const Vt=Ye.document.getRootNames().reduce((Bt,ei)=>ft.updateFindResultFromRange(Ye.createRangeIn(Ye.document.getRoot(ei)),Ye,Tt,Bt),null);return this._state.clear(Ye),this._state.results.addMany(Vt),this._state.highlightedResult=Vt.get(0),typeof G=="string"&&(this._state.searchText=G),Tt&&(this._state.lastSearchCallback=Tt),this._state.matchCase=!!ce,this._state.matchWholeWords=!!Ie,{results:Vt,findCallback:Tt}}}class U extends d.Command{constructor(G,ce){super(G),this.isEnabled=!0,this._state=ce,this._isEnabledBasedOnSelection=!1}_replace(G,ce){const{model:Ie}=this.editor,Ze=ce.marker.getRange();Ie.canEditAt(Ze)&&Ie.change(Ye=>{if(Ze.root.rootName==="$graveyard")return void this._state.results.remove(ce);let ft={};for(const Tt of Ze.getItems())if(Tt.is("$text")||Tt.is("$textProxy")){ft=Tt.getAttributes();break}Ie.insertContent(Ye.createText(G,ft),Ze),this._state.results.has(ce)&&this._state.results.remove(ce)})}}class $ extends U{execute(G,ce){this._replace(G,ce)}}class he extends U{execute(G,ce){const{editor:Ie}=this,{model:Ze}=Ie,Ye=Ie.plugins.get("FindAndReplaceUtils"),ft=ce instanceof s.Collection?ce:Ze.document.getRootNames().reduce((Tt,Vt)=>Ye.updateFindResultFromRange(Ze.createRangeIn(Ze.document.getRoot(Vt)),Ze,Ye.findByTextCallback(ce,this._state),Tt),null);ft.length&&Ze.change(()=>{[...ft].forEach(Tt=>{this._replace(G,Tt)})})}}class we extends d.Command{constructor(G,ce){super(G),this.affectsData=!1,this._state=ce,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const G=this._state.results,ce=G.getIndex(this._state.highlightedResult),Ie=ce+1>=G.length?0:ce+1;this._state.highlightedResult=this._state.results.get(Ie)}}class g extends we{execute(){const G=this._state.results.getIndex(this._state.highlightedResult),ce=G-1<0?this._state.results.length-1:G-1;this._state.highlightedResult=this._state.results.get(ce)}}class w extends(0,s.ObservableMixin)(){constructor(G){super(),this.set("results",new s.Collection),this.set("highlightedResult",null),this.set("highlightedOffset",0),this.set("searchText",""),this.set("replaceText",""),this.set("lastSearchCallback",null),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(ce,{removed:Ie,index:Ze})=>{if(Array.from(Ie).length){let Ye=!1;if(G.change(ft=>{for(const Tt of Ie)this.highlightedResult===Tt&&(Ye=!0),G.markers.has(Tt.marker.name)&&ft.removeMarker(Tt.marker)}),Ye){const ft=Ze>=this.results.length?0:Ze;this.highlightedResult=this.results.get(ft)}}}),this.on("change:highlightedResult",()=>{this.refreshHighlightOffset()})}clear(G){this.searchText="",G.change(ce=>{if(this.highlightedResult){const Ie=this.highlightedResult.marker.name.split(":")[1],Ze=G.markers.get(`findResultHighlighted:${Ie}`);Ze&&ce.removeMarker(Ze)}[...this.results].forEach(({marker:Ie})=>{ce.removeMarker(Ie)})}),this.results.clear()}refreshHighlightOffset(){const{highlightedResult:G,results:ce}=this,Ie={before:-1,same:0,after:1,different:1};this.highlightedOffset=G?Array.from(ce).sort((Ze,Ye)=>Ie[Ze.marker.getStart().compareWith(Ye.marker.getStart())]).indexOf(G)+1:0}}const p=typeof global=="object"&&global&&global.Object===Object&&global;var v=typeof self=="object"&&self&&self.Object===Object&&self;const T=p||v||Function("return this")(),L=T.Symbol,O=function(ht,G){for(var ce=-1,Ie=ht==null?0:ht.length,Ze=Array(Ie);++ce<Ie;)Ze[ce]=G(ht[ce],ce,ht);return Ze},oe=Array.isArray;var W=Object.prototype,te=W.hasOwnProperty,S=W.toString,X=L?L.toStringTag:void 0;const de=function(ht){var G=te.call(ht,X),ce=ht[X];try{ht[X]=void 0;var Ie=!0}catch{}var Ze=S.call(ht);return Ie&&(G?ht[X]=ce:delete ht[X]),Ze};var _e=Object.prototype.toString;const Ae=function(ht){return _e.call(ht)};var rt=L?L.toStringTag:void 0;const et=function(ht){return ht==null?ht===void 0?"[object Undefined]":"[object Null]":rt&&rt in Object(ht)?de(ht):Ae(ht)},J=function(ht){return ht!=null&&typeof ht=="object"},Z=function(ht){return typeof ht=="symbol"||J(ht)&&et(ht)=="[object Symbol]"};var Ce=L?L.prototype:void 0,Oe=Ce?Ce.toString:void 0;const xe=function ht(G){if(typeof G=="string")return G;if(oe(G))return O(G,ht)+"";if(Z(G))return Oe?Oe.call(G):"";var ce=G+"";return ce=="0"&&1/G==-1/0?"-0":ce},q=function(ht){return ht==null?"":xe(ht)};var Le=/[\\^$.*+?()[\]{}|]/g,He=RegExp(Le.source);const ot=function(ht){return(ht=q(ht))&&He.test(ht)?ht.replace(Le,"\\$&"):ht};class fe extends d.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(G,ce,Ie,Ze){const Ye=Ze||new s.Collection;return ce.change(ft=>{[...G].forEach(({type:Tt,item:Vt})=>{if(Tt==="elementStart"&&ce.schema.checkChild(Vt,"$text")){const Bt=Ie({item:Vt,text:this.rangeToText(ce.createRangeIn(Vt))});if(!Bt)return;Bt.forEach(ei=>{const oi=`findResult:${(0,s.uid)()}`,Mi=ft.addMarker(oi,{usingOperation:!1,affectsData:!1,range:ft.createRange(ft.createPositionAt(Vt,ei.start),ft.createPositionAt(Vt,ei.end))}),Pi=function(zi,mi){const Ni=zi.find(({marker:vt})=>mi.getStart().isBefore(vt.getStart()));return Ni?zi.getIndex(Ni):zi.length}(Ye,Mi);(zi=>Ye.find(mi=>{const{marker:Ni}=mi,vt=Ni.getRange(),qe=zi.getRange();return vt.isEqual(qe)}))(Mi)||Ye.add({id:oi,label:ei.label,marker:Mi},Pi)})}})}),Ye}rangeToText(G){return Array.from(G.getItems()).reduce((ce,Ie)=>Ie.is("$text")||Ie.is("$textProxy")?ce+Ie.data:`${ce}
`,"")}findByTextCallback(G,ce){let Ie="gu";ce.matchCase||(Ie+="i");let Ze=`(${ot(G)})`;if(ce.wholeWords){const ft="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+ft).test(G)||(Ze=`(^|${ft}|_)${Ze}`),new RegExp(ft+"$").test(G)||(Ze=`${Ze}(?=_|${ft}|$)`)}const Ye=new RegExp(Ze,Ie);return function({text:ft}){return[...ft.matchAll(Ye)].map(le)}}}function le(ht){const G=ht.length-1;let ce=ht.index;return ht.length===3&&(ce+=ht[1].length),{label:ht[G],start:ce,end:ce+ht[G].length}}const pe=function(ht){var G=typeof ht;return ht!=null&&(G=="object"||G=="function")},Ke=function(){return T.Date.now()};var nt=/\s/;const ut=function(ht){for(var G=ht.length;G--&&nt.test(ht.charAt(G)););return G};var wt=/^\s+/;const Ft=function(ht){return ht&&ht.slice(0,ut(ht)+1).replace(wt,"")};var Wt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Yt=/^0o[0-7]+$/i,bt=parseInt;const Xe=function(ht){if(typeof ht=="number")return ht;if(Z(ht))return NaN;if(pe(ht)){var G=typeof ht.valueOf=="function"?ht.valueOf():ht;ht=pe(G)?G+"":G}if(typeof ht!="string")return ht===0?ht:+ht;ht=Ft(ht);var ce=Lt.test(ht);return ce||Yt.test(ht)?bt(ht.slice(2),ce?2:8):Wt.test(ht)?NaN:+ht};var kt=Math.max,bi=Math.min;const fi=function(ht,G,ce){var Ie,Ze,Ye,ft,Tt,Vt,Bt=0,ei=!1,oi=!1,Mi=!0;if(typeof ht!="function")throw new TypeError("Expected a function");function Pi(qe){var pt=Ie,Be=Ze;return Ie=Ze=void 0,Bt=qe,ft=ht.apply(Be,pt)}function zi(qe){var pt=qe-Vt;return Vt===void 0||pt>=G||pt<0||oi&&qe-Bt>=Ye}function mi(){var qe=Ke();if(zi(qe))return Ni(qe);Tt=setTimeout(mi,function(pt){var Be=G-(pt-Vt);return oi?bi(Be,Ye-(pt-Bt)):Be}(qe))}function Ni(qe){return Tt=void 0,Mi&&Ie?Pi(qe):(Ie=Ze=void 0,ft)}function vt(){var qe=Ke(),pt=zi(qe);if(Ie=arguments,Ze=this,Vt=qe,pt){if(Tt===void 0)return function(Be){return Bt=Be,Tt=setTimeout(mi,G),ei?Pi(Be):ft}(Vt);if(oi)return clearTimeout(Tt),Tt=setTimeout(mi,G),Pi(Vt)}return Tt===void 0&&(Tt=setTimeout(mi,G)),ft}return G=Xe(G)||0,pe(ce)&&(ei=!!ce.leading,Ye=(oi="maxWait"in ce)?kt(Xe(ce.maxWait)||0,G):Ye,Mi="trailing"in ce?!!ce.trailing:Mi),vt.cancel=function(){Tt!==void 0&&clearTimeout(Tt),Bt=0,Ie=Vt=Ze=Tt=void 0},vt.flush=function(){return Tt===void 0?ft:Ni(Ke())},vt};var Di=K(629),Yi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};y()(Di.A,Yi),Di.A.locals;class Ii extends d.Plugin{constructor(){super(...arguments),this._onDocumentChange=()=>{const G=new Set,ce=new Set,Ie=this.editor.model,{results:Ze}=this.state,Ye=Ie.document.differ.getChanges(),ft=Ie.document.differ.getChangedMarkers();Ye.forEach(Bt=>{Bt.position&&(Bt.name==="$text"||Bt.position.nodeAfter&&Ie.schema.isInline(Bt.position.nodeAfter)?(G.add(Bt.position.parent),[...Ie.markers.getMarkersAtPosition(Bt.position)].forEach(ei=>{ce.add(ei.name)})):Bt.type==="insert"&&Bt.position.nodeAfter&&G.add(Bt.position.nodeAfter))}),ft.forEach(({name:Bt,data:{newRange:ei}})=>{ei&&ei.start.root.rootName==="$graveyard"&&ce.add(Bt)}),G.forEach(Bt=>{[...Ie.markers.getMarkersIntersectingRange(Ie.createRangeIn(Bt))].forEach(ei=>ce.add(ei.name))}),ce.forEach(Bt=>{Ze.has(Bt)&&(Ze.get(Bt)===this.state.highlightedResult&&(this.state.highlightedResult=null),Ze.remove(Bt))});const Tt=[],Vt=this.editor.plugins.get("FindAndReplaceUtils");G.forEach(Bt=>{const ei=Vt.updateFindResultFromRange(Ie.createRangeOn(Bt),Ie,this.state.lastSearchCallback,Ze);Tt.push(...ei)}),ft.forEach(Bt=>{if(Bt.data.newRange){const ei=Vt.updateFindResultFromRange(Bt.data.newRange,Ie,this.state.lastSearchCallback,Ze);Tt.push(...ei)}}),!this.state.highlightedResult&&Tt.length?this.state.highlightedResult=Tt[0]:this.state.refreshHighlightOffset()}}static get requires(){return[fe]}static get pluginName(){return"FindAndReplaceEditing"}init(){this.state=new w(this.editor.model),this.set("_isSearchActive",!1),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(ce,Ie,Ze,Ye)=>{const{model:ft}=this.editor;ft.change(Tt=>{if(Ye){const Vt=Ye.marker.name.split(":")[1],Bt=ft.markers.get(`findResultHighlighted:${Vt}`);Bt&&Tt.removeMarker(Bt)}if(Ze){const Vt=Ze.marker.name.split(":")[1];Tt.addMarker(`findResultHighlighted:${Vt}`,{usingOperation:!1,affectsData:!1,range:Ze.marker.getRange()})}})});const G=fi(((ce,Ie,Ze)=>{if(Ze){const Ye=this.editor.editing.view.domConverter,ft=this.editor.editing.mapper.toViewRange(Ze.marker.getRange());(0,s.scrollViewportToShowTarget)({target:Ye.viewRangeToDom(ft),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",G,{priority:"low"}),this.listenTo(this.editor,"destroy",G.cancel),this.on("change:_isSearchActive",(ce,Ie,Ze)=>{Ze?this.listenTo(this.editor.model.document,"change:data",this._onDocumentChange):this.stopListening(this.editor.model.document,"change:data",this._onDocumentChange)})}find(G,ce){return this._isSearchActive=!0,this.editor.execute("find",G,ce),this.state.results}stop(){this.state.clear(this.editor.model),this._isSearchActive=!1}_defineCommands(){this.editor.commands.add("find",new ne(this.editor,this.state)),this.editor.commands.add("findNext",new we(this.editor,this.state)),this.editor.commands.add("findPrevious",new g(this.editor,this.state)),this.editor.commands.add("replace",new $(this.editor,this.state)),this.editor.commands.add("replaceAll",new he(this.editor,this.state))}_defineConverters(){const{editor:G}=this;G.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:ce})=>{const[,Ie]=ce.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":Ie}}}}),G.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:ce})=>{const[,Ie]=ce.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":Ie}}}})}}class $i extends d.Plugin{static get requires(){return[Ii,ye]}static get pluginName(){return"FindAndReplace"}init(){const G=this.editor.plugins.get("FindAndReplaceUI"),ce=this.editor.plugins.get("FindAndReplaceEditing"),Ie=ce.state;G.on("findNext",(Ze,Ye)=>{Ye?(Ie.searchText=Ye.searchText,ce.find(Ye.searchText,Ye)):this.editor.execute("findNext")}),G.on("findPrevious",(Ze,Ye)=>{Ye&&Ie.searchText!==Ye.searchText?ce.find(Ye.searchText):this.editor.execute("findPrevious")}),G.on("replace",(Ze,Ye)=>{Ie.searchText!==Ye.searchText&&ce.find(Ye.searchText);const ft=Ie.highlightedResult;ft&&this.editor.execute("replace",Ye.replaceText,ft)}),G.on("replaceAll",(Ze,Ye)=>{Ie.searchText!==Ye.searchText&&ce.find(Ye.searchText),this.editor.execute("replaceAll",Ye.replaceText,Ie.results)}),G.on("searchReseted",()=>{Ie.clear(this.editor.model),ce.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Remove Format":"Remove Format"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{RemoveFormat:()=>_,RemoveFormatEditing:()=>b,RemoveFormatUI:()=>u});var d=K(782),f=K(311);const s="removeFormat";class u extends d.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const I=this.editor;I.ui.componentFactory.add(s,()=>{const V=this._createButton(f.ButtonView);return V.set({tooltip:!0}),V}),I.ui.componentFactory.add(`menuBar:${s}`,()=>this._createButton(f.MenuBarMenuListItemButtonView))}_createButton(I){const V=this.editor,ye=V.locale,ne=V.commands.get(s),U=new I(V.locale),$=ye.t;return U.set({label:$("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>'}),U.bind("isEnabled").to(ne,"isEnabled"),this.listenTo(U,"execute",()=>{V.execute(s),V.editing.view.focus()}),U}}var y=K(584);class P extends d.Command{refresh(){const I=this.editor.model;this.isEnabled=!!(0,y.first)(this._getFormattingItems(I.document.selection,I.schema))}execute(){const I=this.editor.model,V=I.schema;I.change(ye=>{for(const ne of this._getFormattingItems(I.document.selection,V))if(ne.is("selection"))for(const U of this._getFormattingAttributes(ne,V))ye.removeSelectionAttribute(U);else{const U=ye.createRangeOn(ne);for(const $ of this._getFormattingAttributes(ne,V))ye.removeAttribute($,U)}})}*_getFormattingItems(I,V){const ye=ne=>!!(0,y.first)(this._getFormattingAttributes(ne,V));for(const ne of I.getRanges())for(const U of ne.getItems())!V.isBlock(U)&&ye(U)&&(yield U);for(const ne of I.getSelectedBlocks())ye(ne)&&(yield ne);ye(I)&&(yield I)}*_getFormattingAttributes(I,V){for(const[ye]of I.getAttributes()){const ne=V.getAttributeProperties(ye);ne&&ne.isFormatting&&(yield ye)}}}class b extends d.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const I=this.editor;I.commands.add("removeFormat",new P(I))}}class _ extends d.Plugin{static get requires(){return[b,u]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={812:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const P=y},416:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const P=y},200:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},834:(d,f,s)=>{d.exports=s(237)("./src/typing.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{SpecialCharacters:()=>w,SpecialCharactersArrows:()=>p,SpecialCharactersCurrency:()=>O,SpecialCharactersEssentials:()=>oe,SpecialCharactersLatin:()=>L,SpecialCharactersMathematical:()=>T,SpecialCharactersText:()=>v});var d=K(782),f=K(834),s=K(311),u=K(584);class y extends s.FormHeaderView{constructor(te,S){super(te);const X=te.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(S),this.groupDropdownView.panelPosition=te.uiLanguageDirection==="rtl"?"se":"sw",this.label=X("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(te){const S=this.locale,X=S.t,de=(0,s.createDropdown)(S),_e=this._getCharacterGroupListItemDefinitions(de,te),Ae=X("Character categories");return de.set("value",_e.first.model.name),de.buttonView.bind("label").to(de,"value",rt=>te.get(rt)),de.buttonView.set({isOn:!1,withText:!0,tooltip:Ae,class:["ck-dropdown__button_label-width_auto"],ariaLabel:Ae,ariaLabelledBy:void 0}),de.on("execute",rt=>{de.value=rt.source.name}),de.delegate("execute").to(this),(0,s.addListToDropdown)(de,_e,{ariaLabel:Ae,role:"menu"}),de}_getCharacterGroupListItemDefinitions(te,S){const X=new u.Collection;for(const[de,_e]of S){const Ae=new s.ViewModel({name:de,label:_e,withText:!0,role:"menuitemradio"});Ae.bind("isOn").to(te,"value",rt=>rt===Ae.name),X.add({type:"button",model:Ae})}return X}}var P=K(591),b=K.n(P),_=K(812),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(_.A,D),_.A.locals;class I extends s.View{constructor(te){super(te),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,(0,s.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>u.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(te,S){const X=new s.ButtonView(this.locale);return X.set({label:te,withText:!0,class:"ck-character-grid__tile"}),X.extendTemplate({attributes:{title:S},on:{mouseover:X.bindTemplate.to("mouseover"),focus:X.bindTemplate.to("focus")}}),X.on("mouseover",()=>{this.fire("tileHover",{name:S,character:te})}),X.on("focus",()=>{this.fire("tileFocus",{name:S,character:te})}),X.on("execute",()=>{this.fire("execute",{name:S,character:te})}),X}render(){super.render();for(const te of this.tiles)this.focusTracker.add(te.element);this.tiles.on("change",(te,{added:S,removed:X})=>{if(S.length>0)for(const de of S)this.focusTracker.add(de.element);if(X.length>0)for(const de of X)this.focusTracker.remove(de.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var V=K(416),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(V.A,ye),V.A.locals;class ne extends s.View{constructor(te){super(te);const S=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",U),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:S.to("name",X=>X||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:S.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function U(W){return W===null?"":"U+"+("0000"+W.codePointAt(0).toString(16)).slice(-4)}class $ extends s.View{constructor(te,S,X,de){super(te),this.navigationView=S,this.gridView=X,this.infoView=de,this.items=this.createCollection(),this.focusTracker=new u.FocusTracker,this.keystrokes=new u.KeystrokeHandler,this._focusCycler=new s.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var he=K(200),we={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};b()(he.A,we),he.A.locals;const g="All";class w extends d.Plugin{static get requires(){return[f.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(te){super(te);const S=te.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=S("All")}init(){const te=this.editor,S=te.t,X=te.commands.get("insertText");te.ui.componentFactory.add("specialCharacters",de=>{const _e=(0,s.createDropdown)(de);let Ae;return _e.buttonView.set({label:S("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),_e.bind("isEnabled").to(X),_e.on("execute",(rt,et)=>{te.execute("insertText",{text:et.character}),te.editing.view.focus()}),_e.on("change:isOpen",()=>{if(!Ae){Ae=this._createDropdownPanelContent(de,_e);const rt=new $(de,Ae.navigationView,Ae.gridView,Ae.infoView);_e.panelView.children.add(rt)}Ae.infoView.set({character:null,name:null})}),_e})}addItems(te,S,X={label:te}){if(te===g)throw new u.CKEditorError("special-character-invalid-group-name",null);const de=this._getGroup(te,X.label);for(const _e of S)de.items.add(_e.title),this._characters.set(_e.title,_e.character)}getGroups(){const te=Array.from(this._groups.keys()),S=this.editor.config.get("specialCharacters.order")||[],X=S.find(de=>!te.includes(de));if(X)throw new u.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:X});return new Set([...S,...te])}getCharactersForGroup(te){if(te===g)return new Set(this._characters.keys());const S=this._groups.get(te);return S?S.items:void 0}getCharacter(te){return this._characters.get(te)}_getGroup(te,S){return this._groups.has(te)||this._groups.set(te,{items:new Set,label:S}),this._groups.get(te)}_updateGrid(te,S){S.tiles.clear();const X=this.getCharactersForGroup(te);for(const de of X){const _e=this.getCharacter(de);S.tiles.add(S.createTile(_e,de))}}_createDropdownPanelContent(te,S){const X=Array.from(this.getGroups()).map(et=>[et,this._groups.get(et).label]),de=new Map([[g,this._allSpecialCharactersGroupLabel],...X]),_e=new y(te,de),Ae=new I(te),rt=new ne(te);return Ae.delegate("execute").to(S),Ae.on("tileHover",(et,J)=>{rt.set(J)}),Ae.on("tileFocus",(et,J)=>{rt.set(J)}),_e.on("execute",()=>{this._updateGrid(_e.currentGroupName,Ae)}),this._updateGrid(_e.currentGroupName,Ae),{navigationView:_e,gridView:Ae,infoView:rt}}}class p extends d.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const te=this.editor,S=te.t;te.plugins.get("SpecialCharacters").addItems("Arrows",[{title:S("leftwards simple arrow"),character:"\u2190"},{title:S("rightwards simple arrow"),character:"\u2192"},{title:S("upwards simple arrow"),character:"\u2191"},{title:S("downwards simple arrow"),character:"\u2193"},{title:S("leftwards double arrow"),character:"\u21D0"},{title:S("rightwards double arrow"),character:"\u21D2"},{title:S("upwards double arrow"),character:"\u21D1"},{title:S("downwards double arrow"),character:"\u21D3"},{title:S("leftwards dashed arrow"),character:"\u21E0"},{title:S("rightwards dashed arrow"),character:"\u21E2"},{title:S("upwards dashed arrow"),character:"\u21E1"},{title:S("downwards dashed arrow"),character:"\u21E3"},{title:S("leftwards arrow to bar"),character:"\u21E4"},{title:S("rightwards arrow to bar"),character:"\u21E5"},{title:S("upwards arrow to bar"),character:"\u2912"},{title:S("downwards arrow to bar"),character:"\u2913"},{title:S("up down arrow with base"),character:"\u21A8"},{title:S("back with leftwards arrow above"),character:"\u{1F519}"},{title:S("end with leftwards arrow above"),character:"\u{1F51A}"},{title:S("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:S("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:S("top with upwards arrow above"),character:"\u{1F51D}"}],{label:S("Arrows")})}}class v extends d.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const te=this.editor,S=te.t;te.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:S("Single left-pointing angle quotation mark")},{character:"\u203A",title:S("Single right-pointing angle quotation mark")},{character:"\xAB",title:S("Left-pointing double angle quotation mark")},{character:"\xBB",title:S("Right-pointing double angle quotation mark")},{character:"\u2018",title:S("Left single quotation mark")},{character:"\u2019",title:S("Right single quotation mark")},{character:"\u201C",title:S("Left double quotation mark")},{character:"\u201D",title:S("Right double quotation mark")},{character:"\u201A",title:S("Single low-9 quotation mark")},{character:"\u201E",title:S("Double low-9 quotation mark")},{character:"\xA1",title:S("Inverted exclamation mark")},{character:"\xBF",title:S("Inverted question mark")},{character:"\u2025",title:S("Two dot leader")},{character:"\u2026",title:S("Horizontal ellipsis")},{character:"\u2021",title:S("Double dagger")},{character:"\u2030",title:S("Per mille sign")},{character:"\u2031",title:S("Per ten thousand sign")},{character:"\u203C",title:S("Double exclamation mark")},{character:"\u2048",title:S("Question exclamation mark")},{character:"\u2049",title:S("Exclamation question mark")},{character:"\u2047",title:S("Double question mark")},{character:"\xA9",title:S("Copyright sign")},{character:"\xAE",title:S("Registered sign")},{character:"\u2122",title:S("Trade mark sign")},{character:"\xA7",title:S("Section sign")},{character:"\xB6",title:S("Paragraph sign")},{character:"\u204B",title:S("Reversed paragraph sign")}],{label:S("Text")})}}class T extends d.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const te=this.editor,S=te.t;te.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:S("Less-than sign")},{character:">",title:S("Greater-than sign")},{character:"\u2264",title:S("Less-than or equal to")},{character:"\u2265",title:S("Greater-than or equal to")},{character:"\u2013",title:S("En dash")},{character:"\u2014",title:S("Em dash")},{character:"\xAF",title:S("Macron")},{character:"\u203E",title:S("Overline")},{character:"\xB0",title:S("Degree sign")},{character:"\u2212",title:S("Minus sign")},{character:"\xB1",title:S("Plus-minus sign")},{character:"\xF7",title:S("Division sign")},{character:"\u2044",title:S("Fraction slash")},{character:"\xD7",title:S("Multiplication sign")},{character:"\u0192",title:S("Latin small letter f with hook")},{character:"\u222B",title:S("Integral")},{character:"\u2211",title:S("N-ary summation")},{character:"\u221E",title:S("Infinity")},{character:"\u221A",title:S("Square root")},{character:"\u223C",title:S("Tilde operator")},{character:"\u2245",title:S("Approximately equal to")},{character:"\u2248",title:S("Almost equal to")},{character:"\u2260",title:S("Not equal to")},{character:"\u2261",title:S("Identical to")},{character:"\u2208",title:S("Element of")},{character:"\u2209",title:S("Not an element of")},{character:"\u220B",title:S("Contains as member")},{character:"\u220F",title:S("N-ary product")},{character:"\u2227",title:S("Logical and")},{character:"\u2228",title:S("Logical or")},{character:"\xAC",title:S("Not sign")},{character:"\u2229",title:S("Intersection")},{character:"\u222A",title:S("Union")},{character:"\u2202",title:S("Partial differential")},{character:"\u2200",title:S("For all")},{character:"\u2203",title:S("There exists")},{character:"\u2205",title:S("Empty set")},{character:"\u2207",title:S("Nabla")},{character:"\u2217",title:S("Asterisk operator")},{character:"\u221D",title:S("Proportional to")},{character:"\u2220",title:S("Angle")},{character:"\xBC",title:S("Vulgar fraction one quarter")},{character:"\xBD",title:S("Vulgar fraction one half")},{character:"\xBE",title:S("Vulgar fraction three quarters")}],{label:S("Mathematical")})}}class L extends d.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const te=this.editor,S=te.t;te.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:S("Latin capital letter a with macron")},{character:"\u0101",title:S("Latin small letter a with macron")},{character:"\u0102",title:S("Latin capital letter a with breve")},{character:"\u0103",title:S("Latin small letter a with breve")},{character:"\u0104",title:S("Latin capital letter a with ogonek")},{character:"\u0105",title:S("Latin small letter a with ogonek")},{character:"\u0106",title:S("Latin capital letter c with acute")},{character:"\u0107",title:S("Latin small letter c with acute")},{character:"\u0108",title:S("Latin capital letter c with circumflex")},{character:"\u0109",title:S("Latin small letter c with circumflex")},{character:"\u010A",title:S("Latin capital letter c with dot above")},{character:"\u010B",title:S("Latin small letter c with dot above")},{character:"\u010C",title:S("Latin capital letter c with caron")},{character:"\u010D",title:S("Latin small letter c with caron")},{character:"\u010E",title:S("Latin capital letter d with caron")},{character:"\u010F",title:S("Latin small letter d with caron")},{character:"\u0110",title:S("Latin capital letter d with stroke")},{character:"\u0111",title:S("Latin small letter d with stroke")},{character:"\u0112",title:S("Latin capital letter e with macron")},{character:"\u0113",title:S("Latin small letter e with macron")},{character:"\u0114",title:S("Latin capital letter e with breve")},{character:"\u0115",title:S("Latin small letter e with breve")},{character:"\u0116",title:S("Latin capital letter e with dot above")},{character:"\u0117",title:S("Latin small letter e with dot above")},{character:"\u0118",title:S("Latin capital letter e with ogonek")},{character:"\u0119",title:S("Latin small letter e with ogonek")},{character:"\u011A",title:S("Latin capital letter e with caron")},{character:"\u011B",title:S("Latin small letter e with caron")},{character:"\u011C",title:S("Latin capital letter g with circumflex")},{character:"\u011D",title:S("Latin small letter g with circumflex")},{character:"\u011E",title:S("Latin capital letter g with breve")},{character:"\u011F",title:S("Latin small letter g with breve")},{character:"\u0120",title:S("Latin capital letter g with dot above")},{character:"\u0121",title:S("Latin small letter g with dot above")},{character:"\u0122",title:S("Latin capital letter g with cedilla")},{character:"\u0123",title:S("Latin small letter g with cedilla")},{character:"\u0124",title:S("Latin capital letter h with circumflex")},{character:"\u0125",title:S("Latin small letter h with circumflex")},{character:"\u0126",title:S("Latin capital letter h with stroke")},{character:"\u0127",title:S("Latin small letter h with stroke")},{character:"\u0128",title:S("Latin capital letter i with tilde")},{character:"\u0129",title:S("Latin small letter i with tilde")},{character:"\u012A",title:S("Latin capital letter i with macron")},{character:"\u012B",title:S("Latin small letter i with macron")},{character:"\u012C",title:S("Latin capital letter i with breve")},{character:"\u012D",title:S("Latin small letter i with breve")},{character:"\u012E",title:S("Latin capital letter i with ogonek")},{character:"\u012F",title:S("Latin small letter i with ogonek")},{character:"\u0130",title:S("Latin capital letter i with dot above")},{character:"\u0131",title:S("Latin small letter dotless i")},{character:"\u0132",title:S("Latin capital ligature ij")},{character:"\u0133",title:S("Latin small ligature ij")},{character:"\u0134",title:S("Latin capital letter j with circumflex")},{character:"\u0135",title:S("Latin small letter j with circumflex")},{character:"\u0136",title:S("Latin capital letter k with cedilla")},{character:"\u0137",title:S("Latin small letter k with cedilla")},{character:"\u0138",title:S("Latin small letter kra")},{character:"\u0139",title:S("Latin capital letter l with acute")},{character:"\u013A",title:S("Latin small letter l with acute")},{character:"\u013B",title:S("Latin capital letter l with cedilla")},{character:"\u013C",title:S("Latin small letter l with cedilla")},{character:"\u013D",title:S("Latin capital letter l with caron")},{character:"\u013E",title:S("Latin small letter l with caron")},{character:"\u013F",title:S("Latin capital letter l with middle dot")},{character:"\u0140",title:S("Latin small letter l with middle dot")},{character:"\u0141",title:S("Latin capital letter l with stroke")},{character:"\u0142",title:S("Latin small letter l with stroke")},{character:"\u0143",title:S("Latin capital letter n with acute")},{character:"\u0144",title:S("Latin small letter n with acute")},{character:"\u0145",title:S("Latin capital letter n with cedilla")},{character:"\u0146",title:S("Latin small letter n with cedilla")},{character:"\u0147",title:S("Latin capital letter n with caron")},{character:"\u0148",title:S("Latin small letter n with caron")},{character:"\u0149",title:S("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:S("Latin capital letter eng")},{character:"\u014B",title:S("Latin small letter eng")},{character:"\u014C",title:S("Latin capital letter o with macron")},{character:"\u014D",title:S("Latin small letter o with macron")},{character:"\u014E",title:S("Latin capital letter o with breve")},{character:"\u014F",title:S("Latin small letter o with breve")},{character:"\u0150",title:S("Latin capital letter o with double acute")},{character:"\u0151",title:S("Latin small letter o with double acute")},{character:"\u0152",title:S("Latin capital ligature oe")},{character:"\u0153",title:S("Latin small ligature oe")},{character:"\u0154",title:S("Latin capital letter r with acute")},{character:"\u0155",title:S("Latin small letter r with acute")},{character:"\u0156",title:S("Latin capital letter r with cedilla")},{character:"\u0157",title:S("Latin small letter r with cedilla")},{character:"\u0158",title:S("Latin capital letter r with caron")},{character:"\u0159",title:S("Latin small letter r with caron")},{character:"\u015A",title:S("Latin capital letter s with acute")},{character:"\u015B",title:S("Latin small letter s with acute")},{character:"\u015C",title:S("Latin capital letter s with circumflex")},{character:"\u015D",title:S("Latin small letter s with circumflex")},{character:"\u015E",title:S("Latin capital letter s with cedilla")},{character:"\u015F",title:S("Latin small letter s with cedilla")},{character:"\u0160",title:S("Latin capital letter s with caron")},{character:"\u0161",title:S("Latin small letter s with caron")},{character:"\u0162",title:S("Latin capital letter t with cedilla")},{character:"\u0163",title:S("Latin small letter t with cedilla")},{character:"\u0164",title:S("Latin capital letter t with caron")},{character:"\u0165",title:S("Latin small letter t with caron")},{character:"\u0166",title:S("Latin capital letter t with stroke")},{character:"\u0167",title:S("Latin small letter t with stroke")},{character:"\u0168",title:S("Latin capital letter u with tilde")},{character:"\u0169",title:S("Latin small letter u with tilde")},{character:"\u016A",title:S("Latin capital letter u with macron")},{character:"\u016B",title:S("Latin small letter u with macron")},{character:"\u016C",title:S("Latin capital letter u with breve")},{character:"\u016D",title:S("Latin small letter u with breve")},{character:"\u016E",title:S("Latin capital letter u with ring above")},{character:"\u016F",title:S("Latin small letter u with ring above")},{character:"\u0170",title:S("Latin capital letter u with double acute")},{character:"\u0171",title:S("Latin small letter u with double acute")},{character:"\u0172",title:S("Latin capital letter u with ogonek")},{character:"\u0173",title:S("Latin small letter u with ogonek")},{character:"\u0174",title:S("Latin capital letter w with circumflex")},{character:"\u0175",title:S("Latin small letter w with circumflex")},{character:"\u0176",title:S("Latin capital letter y with circumflex")},{character:"\u0177",title:S("Latin small letter y with circumflex")},{character:"\u0178",title:S("Latin capital letter y with diaeresis")},{character:"\u0179",title:S("Latin capital letter z with acute")},{character:"\u017A",title:S("Latin small letter z with acute")},{character:"\u017B",title:S("Latin capital letter z with dot above")},{character:"\u017C",title:S("Latin small letter z with dot above")},{character:"\u017D",title:S("Latin capital letter z with caron")},{character:"\u017E",title:S("Latin small letter z with caron")},{character:"\u017F",title:S("Latin small letter long s")}],{label:S("Latin")})}}class O extends d.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const te=this.editor,S=te.t;te.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:S("Dollar sign")},{character:"\u20AC",title:S("Euro sign")},{character:"\xA5",title:S("Yen sign")},{character:"\xA3",title:S("Pound sign")},{character:"\xA2",title:S("Cent sign")},{character:"\u20A0",title:S("Euro-currency sign")},{character:"\u20A1",title:S("Colon sign")},{character:"\u20A2",title:S("Cruzeiro sign")},{character:"\u20A3",title:S("French franc sign")},{character:"\u20A4",title:S("Lira sign")},{character:"\xA4",title:S("Currency sign")},{character:"\u20BF",title:S("Bitcoin sign")},{character:"\u20A5",title:S("Mill sign")},{character:"\u20A6",title:S("Naira sign")},{character:"\u20A7",title:S("Peseta sign")},{character:"\u20A8",title:S("Rupee sign")},{character:"\u20A9",title:S("Won sign")},{character:"\u20AA",title:S("New sheqel sign")},{character:"\u20AB",title:S("Dong sign")},{character:"\u20AD",title:S("Kip sign")},{character:"\u20AE",title:S("Tugrik sign")},{character:"\u20AF",title:S("Drachma sign")},{character:"\u20B0",title:S("German penny sign")},{character:"\u20B1",title:S("Peso sign")},{character:"\u20B2",title:S("Guarani sign")},{character:"\u20B3",title:S("Austral sign")},{character:"\u20B4",title:S("Hryvnia sign")},{character:"\u20B5",title:S("Cedi sign")},{character:"\u20B6",title:S("Livre tournois sign")},{character:"\u20B7",title:S("Spesmilo sign")},{character:"\u20B8",title:S("Tenge sign")},{character:"\u20B9",title:S("Indian rupee sign")},{character:"\u20BA",title:S("Turkish lira sign")},{character:"\u20BB",title:S("Nordic mark sign")},{character:"\u20BC",title:S("Manat sign")},{character:"\u20BD",title:S("Ruble sign")}],{label:S("Currency")})}}class oe extends d.Plugin{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[O,v,T,p,L]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={770:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const P=y},67:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const P=y},839:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const P=y},712:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const P=y},25:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const P=y},175:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}",""]);const P=y},266:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const P=y},363:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const P=y},817:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const P=y},911:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const P=y},218:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const P=y},719:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},331:(d,f,s)=>{d.exports=s(237)("./src/clipboard.js")},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},901:(d,f,s)=>{d.exports=s(237)("./src/widget.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{PlainTableOutput:()=>Li,Table:()=>xi,TableCaption:()=>zn,TableCaptionEditing:()=>vr,TableCaptionUI:()=>tn,TableCellProperties:()=>se,TableCellPropertiesEditing:()=>br,TableCellPropertiesUI:()=>kn,TableCellWidthEditing:()=>cr,TableClipboard:()=>Ne,TableColumnResize:()=>fs,TableColumnResizeEditing:()=>gs,TableEditing:()=>qe,TableKeyboard:()=>Qe,TableMouse:()=>Et,TableProperties:()=>Oo,TablePropertiesEditing:()=>ho,TablePropertiesUI:()=>So,TableSelection:()=>Y,TableToolbar:()=>Jn,TableUI:()=>Rt,TableUtils:()=>kt});var d=K(782),f=K(901);function s(M,o){const{modelAttribute:i,styleName:r,viewElement:c,defaultValue:m,reduceBoxSides:k=!1,shouldUpcast:A=()=>!0}=o;M.for("upcast").attributeToAttribute({view:{name:c,styles:{[r]:/[\s\S]+/}},model:{key:i,value:E=>{if(!A(E))return;const R=E.getNormalizedStyle(r),ge=k?b(R):R;return m!==ge?ge:void 0}}})}function u(M,o,i,r){M.for("upcast").add(c=>c.on("element:"+o,(m,k,A)=>{if(!k.modelRange)return;const E=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Mt=>k.viewItem.hasStyle(Mt));if(!E.length)return;const R={styles:E};if(!A.consumable.test(k.viewItem,R))return;const ge=[...k.modelRange.getItems({shallow:!0})].pop();A.consumable.consume(k.viewItem,R);const Fe={style:k.viewItem.getNormalizedStyle("border-style"),color:k.viewItem.getNormalizedStyle("border-color"),width:k.viewItem.getNormalizedStyle("border-width")},it={style:b(Fe.style),color:b(Fe.color),width:b(Fe.width)};it.style!==r.style&&A.writer.setAttribute(i.style,it.style,ge),it.color!==r.color&&A.writer.setAttribute(i.color,it.color,ge),it.width!==r.width&&A.writer.setAttribute(i.width,it.width,ge)}))}function y(M,o){const{modelElement:i,modelAttribute:r,styleName:c}=o;M.for("downcast").attributeToAttribute({model:{name:i,key:r},view:m=>({key:"style",value:{[c]:m}})})}function P(M,o){const{modelAttribute:i,styleName:r}=o;M.for("downcast").add(c=>c.on(`attribute:${i}:table`,(m,k,A)=>{const{item:E,attributeNewValue:R}=k,{mapper:ge,writer:Fe}=A;if(!A.consumable.consume(k.item,m.name))return;const it=[...ge.toViewElement(E).getChildren()].find(Mt=>Mt.is("element","table"));R?Fe.setStyle(r,R,it):Fe.removeStyle(r,it)}))}function b(M){if(!M)return;const o=["top","right","bottom","left"];if(!o.every(r=>M[r]))return M;const i=M.top;return o.every(r=>M[r]===i)?i:M}function _(M,o,i,r,c=1){o!=null&&c!=null&&o>c?r.setAttribute(M,o,i):r.removeAttribute(M,i)}function D(M,o,i={}){const r=M.createElement("tableCell",i);return M.insertElement("paragraph",r),M.insert(r,o),r}function I(M,o){const i=o.parent.parent,r=parseInt(i.getAttribute("headingColumns")||"0"),{column:c}=M.getCellLocation(o);return!!r&&c<r}function V(M,o,i){const{modelAttribute:r}=i;M.extend("tableCell",{allowAttributes:[r]}),s(o,{viewElement:/^(td|th)$/,...i}),y(o,{modelElement:"tableCell",...i})}function ye(M){const o=M.getSelectedElement();return o&&o.is("element","table")?o:M.getFirstPosition().findAncestor("table")}var ne=K(584);function U(){return M=>{M.on("element:table",(o,i,r)=>{const c=i.viewItem;if(!r.consumable.test(c,{name:!0}))return;const{rows:m,headingRows:k,headingColumns:A}=function(ge){let Fe,it=0;const Mt=[],zt=[];let Ht;for(const ti of Array.from(ge.getChildren())){if(ti.name!=="tbody"&&ti.name!=="thead"&&ti.name!=="tfoot")continue;ti.name!=="thead"||Ht||(Ht=ti);const hi=Array.from(ti.getChildren()).filter(pi=>pi.is("element","tr"));for(const pi of hi)if(Ht&&ti===Ht||ti.name==="tbody"&&Array.from(pi.getChildren()).length&&Array.from(pi.getChildren()).every(Wi=>Wi.is("element","th")))it++,Mt.push(pi);else{zt.push(pi);const Wi=he(pi);(!Fe||Wi<Fe)&&(Fe=Wi)}}return{headingRows:it,headingColumns:Fe||0,rows:[...Mt,...zt]}}(c),E={};A&&(E.headingColumns=A),k&&(E.headingRows=k);const R=r.writer.createElement("table",E);if(r.safeInsert(R,i.modelCursor)){if(r.consumable.consume(c,{name:!0}),m.forEach(ge=>r.convertItem(ge,r.writer.createPositionAt(R,"end"))),r.convertChildren(c,r.writer.createPositionAt(R,"end")),R.isEmpty){const ge=r.writer.createElement("tableRow");r.writer.insert(ge,r.writer.createPositionAt(R,"end")),D(r.writer,r.writer.createPositionAt(ge,"end"))}r.updateConversionResult(R,i)}})}}function $(M){return o=>{o.on(`element:${M}`,(i,r,{writer:c})=>{if(!r.modelRange)return;const m=r.modelRange.start.nodeAfter,k=c.createPositionAt(m,0);if(r.viewItem.isEmpty)return void c.insertElement("paragraph",k);const A=Array.from(m.getChildren());if(A.every(E=>E.is("element","$marker"))){const E=c.createElement("paragraph");c.insert(E,c.createPositionAt(m,0));for(const R of A)c.move(c.createRangeOn(R),c.createPositionAt(E,"end"))}},{priority:"low"})}}function he(M){let o=0,i=0;const r=Array.from(M.getChildren()).filter(c=>c.name==="th"||c.name==="td");for(;i<r.length&&r[i].name==="th";){const c=r[i];o+=parseInt(c.getAttribute("colspan")||"1"),i++}return o}class we{constructor(o,i={}){this._jumpedToStartRow=!1,this._table=o,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const o=this._table.getChild(this._rowIndex);if(!o||this._isOverEndRow())return{done:!0,value:void 0};if(!o.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(r.cell,r.row,r.column));else{const c=o.getChild(this._cellIndex);if(!c)return this._advanceToNextRow();const m=parseInt(c.getAttribute("colspan")||"1"),k=parseInt(c.getAttribute("rowspan")||"1");(m>1||k>1)&&this._recordSpans(c,k,m),this._shouldSkipSlot()||(i=this._formatOutValue(c)),this._nextCellAtColumn=this._column+m}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(o){this._skipRows.add(o)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(o,i=this._row,r=this._column){return{done:!1,value:new g(this,o,i,r)}}_shouldSkipSlot(){const o=this._skipRows.has(this._row),i=this._row<this._startRow,r=this._column<this._startColumn,c=this._endColumn!==void 0&&this._column>this._endColumn;return o||i||r||c}_getSpanned(){const o=this._spannedCells.get(this._row);return o&&o.get(this._column)||null}_recordSpans(o,i,r){const c={cell:o,row:this._row,column:this._column};for(let m=this._row;m<this._row+i;m++)for(let k=this._column;k<this._column+r;k++)m==this._row&&k==this._column||this._markSpannedCell(m,k,c)}_markSpannedCell(o,i,r){this._spannedCells.has(o)||this._spannedCells.set(o,new Map),this._spannedCells.get(o).set(i,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const o=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)o===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(o){return[...this._table.getChild(o).getChildren()].reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}}class g{constructor(o,i,r,c){this.cell=i,this.row=o._row,this.column=o._column,this.cellAnchorRow=r,this.cellAnchorColumn=c,this._cellIndex=o._cellIndex,this._rowIndex=o._rowIndex,this._table=o._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function w(M,o){return(i,{writer:r})=>{const c=i.getAttribute("headingRows")||0,m=r.createContainerElement("table",null,[]),k=r.createContainerElement("figure",{class:"table"},m);c>0&&r.insert(r.createPositionAt(m,"end"),r.createContainerElement("thead",null,r.createSlot(A=>A.is("element","tableRow")&&A.index<c))),c<M.getRows(i)&&r.insert(r.createPositionAt(m,"end"),r.createContainerElement("tbody",null,r.createSlot(A=>A.is("element","tableRow")&&A.index>=c)));for(const{positionOffset:A,filter:E}of o.additionalSlots)r.insert(r.createPositionAt(m,A),r.createSlot(E));return r.insert(r.createPositionAt(m,"after"),r.createSlot(A=>!A.is("element","tableRow")&&!o.additionalSlots.some(({filter:E})=>E(A)))),o.asWidget?function(A,E){return E.setCustomProperty("table",!0,A),(0,f.toWidget)(A,E,{hasSelectionHandle:!0})}(k,r):k}}function p(M={}){return(o,{writer:i})=>{const r=o.parent,c=r.parent,m=c.getChildIndex(r),k=new we(c,{row:m}),A=c.getAttribute("headingRows")||0,E=c.getAttribute("headingColumns")||0;let R=null;for(const ge of k)if(ge.cell==o){const Fe=ge.row<A||ge.column<E?"th":"td";R=M.asWidget?(0,f.toWidgetEditable)(i.createEditableElement(Fe),i):i.createContainerElement(Fe);break}return R}}function v(M={}){return(o,{writer:i})=>{if(!o.parent.is("element","tableCell")||!T(o))return null;if(M.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function T(M){return M.parent.childCount==1&&!!M.getAttributeKeys().next().done}class L extends d.Command{refresh(){const o=this.editor.model,i=o.document.selection,r=o.schema;this.isEnabled=function(c,m){const k=c.getFirstPosition().parent,A=k===k.root?k:k.parent;return m.checkChild(A,"table")}(i,r)}execute(o={}){const i=this.editor,r=i.model,c=i.plugins.get("TableUtils"),m=i.config.get("table.defaultHeadings.rows"),k=i.config.get("table.defaultHeadings.columns");o.headingRows===void 0&&m&&(o.headingRows=m),o.headingColumns===void 0&&k&&(o.headingColumns=k),r.change(A=>{const E=c.createTable(A,o);r.insertObject(E,null,null,{findOptimalPosition:"auto"}),A.setSelection(A.createPositionAt(E.getNodeByPath([0,0,0]),0))})}}class O extends d.Command{constructor(o,i={}){super(o),this.order=i.order||"below"}refresh(){const o=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o).length;this.isEnabled=i}execute(){const o=this.editor,i=o.model.document.selection,r=o.plugins.get("TableUtils"),c=this.order==="above",m=r.getSelectionAffectedTableCells(i),k=r.getRowIndexes(m),A=c?k.first:k.last,E=m[0].findAncestor("table");r.insertRows(E,{at:c?A:A+1,copyStructureFromAbove:!c})}}class oe extends d.Command{constructor(o,i={}){super(o),this.order=i.order||"right"}refresh(){const o=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o).length;this.isEnabled=i}execute(){const o=this.editor,i=o.model.document.selection,r=o.plugins.get("TableUtils"),c=this.order==="left",m=r.getSelectionAffectedTableCells(i),k=r.getColumnIndexes(m),A=c?k.first:k.last,E=m[0].findAncestor("table");r.insertColumns(E,{columns:1,at:c?A:A+1})}}class W extends d.Command{constructor(o,i={}){super(o),this.direction=i.direction||"horizontally"}refresh(){const o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=o.length===1}execute(){const o=this.editor.plugins.get("TableUtils"),i=o.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?o.splitCellHorizontally(i,2):o.splitCellVertically(i,2)}}function te(M,o,i){const{startRow:r,startColumn:c,endRow:m,endColumn:k}=o,A=i.createElement("table"),E=m-r+1;for(let ge=0;ge<E;ge++)i.insertElement("tableRow",A,"end");const R=[...new we(M,{startRow:r,endRow:m,startColumn:c,endColumn:k,includeAllSlots:!0})];for(const{row:ge,column:Fe,cell:it,isAnchor:Mt,cellAnchorRow:zt,cellAnchorColumn:Ht}of R){const ti=ge-r,hi=A.getChild(ti);if(Mt){const pi=i.cloneElement(it);i.append(pi,hi),Ae(pi,ge,Fe,m,k,i)}else(zt<r||Ht<c)&&D(i,i.createPositionAt(hi,"end"))}return function(ge,Fe,it,Mt,zt){const Ht=parseInt(Fe.getAttribute("headingRows")||"0");Ht>0&&_("headingRows",Ht-it,ge,zt,0);const ti=parseInt(Fe.getAttribute("headingColumns")||"0");ti>0&&_("headingColumns",ti-Mt,ge,zt,0)}(A,M,r,c,i),A}function S(M,o,i=0){const r=[],c=new we(M,{startRow:i,endRow:o-1});for(const m of c){const{row:k,cellHeight:A}=m;k<o&&o<=k+A-1&&r.push(m)}return r}function X(M,o,i){const r=M.parent,c=r.parent,m=r.index,k=o-m,A={},E=parseInt(M.getAttribute("rowspan"))-k;E>1&&(A.rowspan=E);const R=parseInt(M.getAttribute("colspan")||"1");R>1&&(A.colspan=R);const ge=m+k,Fe=[...new we(c,{startRow:m,endRow:ge,includeAllSlots:!0})];let it,Mt=null;for(const zt of Fe){const{row:Ht,column:ti,cell:hi}=zt;hi===M&&it===void 0&&(it=ti),it!==void 0&&it===ti&&Ht===ge&&(Mt=D(i,zt.getPositionBefore(),A))}return _("rowspan",k,M,i),Mt}function de(M,o){const i=[],r=new we(M);for(const c of r){const{column:m,cellWidth:k}=c;m<o&&o<=m+k-1&&i.push(c)}return i}function _e(M,o,i,r){const c=i-o,m={},k=parseInt(M.getAttribute("colspan"))-c;k>1&&(m.colspan=k);const A=parseInt(M.getAttribute("rowspan")||"1");A>1&&(m.rowspan=A);const E=D(r,r.createPositionAfter(M),m);return _("colspan",c,M,r),E}function Ae(M,o,i,r,c,m){const k=parseInt(M.getAttribute("colspan")||"1"),A=parseInt(M.getAttribute("rowspan")||"1");i+k-1>c&&_("colspan",c-i+1,M,m,1),o+A-1>r&&_("rowspan",r-o+1,M,m,1)}function rt(M,o){const i=o.getColumns(M),r=new Array(i).fill(0);for(const{column:m}of new we(M))r[m]++;const c=r.reduce((m,k,A)=>k?m:[...m,A],[]);if(c.length>0){const m=c[c.length-1];return o.removeColumns(M,{at:m}),!0}return!1}function et(M,o){const i=[],r=o.getRows(M);for(let c=0;c<r;c++)M.getChild(c).isEmpty&&i.push(c);if(i.length>0){const c=i[i.length-1];return o.removeRows(M,{at:c}),!0}return!1}function J(M,o){rt(M,o)||et(M,o)}function Z(M,o){const i=Array.from(new we(M,{startColumn:o.firstColumn,endColumn:o.lastColumn,row:o.lastRow}));if(i.every(({cellHeight:c})=>c===1))return o.lastRow;const r=i[0].cellHeight-1;return o.lastRow+r}function Ce(M,o){const i=Array.from(new we(M,{startRow:o.firstRow,endRow:o.lastRow,column:o.lastColumn}));if(i.every(({cellWidth:c})=>c===1))return o.lastColumn;const r=i[0].cellWidth-1;return o.lastColumn+r}class Oe extends d.Command{constructor(o,i){super(o),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const o=this._getMergeableCell();this.value=o,this.isEnabled=!!o}execute(){const o=this.editor.model,i=o.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],c=this.value,m=this.direction;o.change(k=>{const A=m=="right"||m=="down",E=A?r:c,R=A?c:r,ge=R.parent;(function(Ht,ti,hi){xe(Ht)||(xe(ti)&&hi.remove(hi.createRangeIn(ti)),hi.move(hi.createRangeIn(Ht),hi.createPositionAt(ti,"end"))),hi.remove(Ht)})(R,E,k);const Fe=this.isHorizontal?"colspan":"rowspan",it=parseInt(r.getAttribute(Fe)||"1"),Mt=parseInt(c.getAttribute(Fe)||"1");k.setAttribute(Fe,it+Mt,E),k.setSelection(k.createRangeIn(E));const zt=this.editor.plugins.get("TableUtils");J(ge.findAncestor("table"),zt)})}_getMergeableCell(){const o=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),r=i.getTableCellsContainingSelection(o.selection)[0];if(!r)return;const c=this.isHorizontal?function(A,E,R){const ge=A.parent,Fe=ge.parent,it=E=="right"?A.nextSibling:A.previousSibling,Mt=(Fe.getAttribute("headingColumns")||0)>0;if(!it)return;const zt=E=="right"?A:it,Ht=E=="right"?it:A,{column:ti}=R.getCellLocation(zt),{column:hi}=R.getCellLocation(Ht),pi=parseInt(zt.getAttribute("colspan")||"1"),Wi=I(R,zt),an=I(R,Ht);if(!(Mt&&Wi!=an))return ti+pi===hi?it:void 0}(r,this.direction,i):function(A,E,R){const ge=A.parent,Fe=ge.parent,it=Fe.getChildIndex(ge);if(E=="down"&&it===R.getRows(Fe)-1||E=="up"&&it===0)return null;const Mt=parseInt(A.getAttribute("rowspan")||"1"),zt=Fe.getAttribute("headingRows")||0,Ht=E=="down"&&it+Mt===zt,ti=E=="up"&&it===zt;if(zt&&(Ht||ti))return null;const hi=parseInt(A.getAttribute("rowspan")||"1"),pi=E=="down"?it+hi:it,Wi=[...new we(Fe,{endRow:pi})],an=Wi.find(Yn=>Yn.cell===A),Bn=an.column,Zn=Wi.find(({row:Yn,cellHeight:l,column:e})=>e===Bn&&(E=="down"?Yn===pi:pi===Yn+l));return Zn&&Zn.cell?Zn.cell:null}(r,this.direction,i);if(!c)return;const m=this.isHorizontal?"rowspan":"colspan",k=parseInt(r.getAttribute(m)||"1");return parseInt(c.getAttribute(m)||"1")===k?c:void 0}}function xe(M){const o=M.getChild(0);return M.childCount==1&&o.is("element","paragraph")&&o.isEmpty}class q extends d.Command{refresh(){const o=this.editor.plugins.get("TableUtils"),i=o.getSelectionAffectedTableCells(this.editor.model.document.selection),r=i[0];if(r){const c=r.findAncestor("table"),m=o.getRows(c)-1,k=o.getRowIndexes(i),A=k.first===0&&k.last===m;this.isEnabled=!A}else this.isEnabled=!1}execute(){const o=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(o.document.selection),c=i.getRowIndexes(r),m=r[0],k=m.findAncestor("table"),A=i.getCellLocation(m).column;o.change(E=>{const R=c.last-c.first+1;i.removeRows(k,{at:c.first,rows:R});const ge=function(Fe,it,Mt,zt){const Ht=Fe.getChild(Math.min(it,zt-1));let ti=Ht.getChild(0),hi=0;for(const pi of Ht.getChildren()){if(hi>Mt)return ti;ti=pi,hi+=parseInt(pi.getAttribute("colspan")||"1")}return ti}(k,c.first,A,i.getRows(k));E.setSelection(E.createPositionAt(ge,0))})}}class Le extends d.Command{refresh(){const o=this.editor.plugins.get("TableUtils"),i=o.getSelectionAffectedTableCells(this.editor.model.document.selection),r=i[0];if(r){const c=r.findAncestor("table"),m=o.getColumns(c),{first:k,last:A}=o.getColumnIndexes(i);this.isEnabled=A-k<m-1}else this.isEnabled=!1}execute(){const o=this.editor.plugins.get("TableUtils"),[i,r]=function(E,R){const ge=R.getSelectionAffectedTableCells(E),Fe=ge[0],it=ge.pop(),Mt=[Fe,it];return Fe.isBefore(it)?Mt:Mt.reverse()}(this.editor.model.document.selection,o),c=i.parent.parent,m=[...new we(c)],k={first:m.find(E=>E.cell===i).column,last:m.find(E=>E.cell===r).column},A=function(E,R,ge,Fe){return parseInt(ge.getAttribute("colspan")||"1")>1?ge:R.previousSibling||ge.nextSibling?ge.nextSibling||R.previousSibling:Fe.first?E.reverse().find(({column:Mt})=>Mt<Fe.first).cell:E.reverse().find(({column:Mt})=>Mt>Fe.last).cell}(m,i,r,k);this.editor.model.change(E=>{const R=k.last-k.first+1;o.removeColumns(c,{at:k.first,columns:R}),E.setSelection(E.createPositionAt(A,0))})}}class He extends d.Command{refresh(){const o=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=o.getSelectionAffectedTableCells(i.document.selection),c=r.length>0;this.isEnabled=c,this.value=c&&r.every(m=>this._isInHeading(m,m.parent.parent))}execute(o={}){if(o.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),r=this.editor.model,c=i.getSelectionAffectedTableCells(r.document.selection),m=c[0].findAncestor("table"),{first:k,last:A}=i.getRowIndexes(c),E=this.value?k:A+1,R=m.getAttribute("headingRows")||0;r.change(ge=>{if(E){const Fe=S(m,E,E>R?R:0);for(const{cell:it}of Fe)X(it,E,ge)}_("headingRows",E,m,ge,0)})}_isInHeading(o,i){const r=parseInt(i.getAttribute("headingRows")||"0");return!!r&&o.parent.index<r}}class ot extends d.Command{refresh(){const o=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(o.document.selection),c=r.length>0;this.isEnabled=c,this.value=c&&r.every(m=>I(i,m))}execute(o={}){if(o.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),r=this.editor.model,c=i.getSelectionAffectedTableCells(r.document.selection),m=c[0].findAncestor("table"),{first:k,last:A}=i.getColumnIndexes(c),E=this.value?k:A+1;r.change(R=>{if(E){const ge=de(m,E);for(const{cell:Fe,column:it}of ge)_e(Fe,it,E,R)}_("headingColumns",E,m,R,0)})}}const fe=5,le=2;function pe(M,o){return 4e3/Ke(M,o)}function Ke(M,o){const i=nt(M,"tbody",o)||nt(M,"thead",o);return ut(o.editing.view.domConverter.mapViewToDom(i))}function nt(M,o,i){return[...[...i.editing.mapper.toViewElement(M).getChildren()].find(r=>r.is("element","table")).getChildren()].find(r=>r.is("element",o))}function ut(M){const o=ne.global.window.getComputedStyle(M);return o.boxSizing==="border-box"?parseFloat(o.width)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderLeftWidth)-parseFloat(o.borderRightWidth):parseFloat(o.width)}function wt(M){const o=Math.pow(10,le),i=typeof M=="number"?M:parseFloat(M);return Math.round(i*o)/o}function Ft(M){return M.map(o=>typeof o=="number"?o:parseFloat(o)).filter(o=>!Number.isNaN(o)).reduce((o,i)=>o+i,0)}function Wt(M){let o=function(r){const c=r.filter(A=>A==="auto").length;if(c===0)return r.map(A=>wt(A));const m=Ft(r),k=Math.max((100-m)/c,fe);return r.map(A=>A==="auto"?k:A).map(A=>wt(A))}(M.map(r=>r==="auto"?r:parseFloat(r.replace("%",""))));const i=Ft(o);return i!==100&&(o=o.map(r=>wt(100*r/i)).map((r,c,m)=>c!==m.length-1?r:wt(r+100-Ft(m)))),o.map(r=>r+"%")}function Lt(M){const o=ne.global.window.getComputedStyle(M);return o.boxSizing==="border-box"?parseInt(o.width):parseFloat(o.width)+parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderWidth)}function Yt(M,o,i,r){for(let c=0;c<Math.max(i.length,M.length);c++){const m=M[c],k=i[c];k?m?r.setAttribute("columnWidth",k,m):r.appendElement("tableColumn",{columnWidth:k},o):r.remove(m)}}function bt(M){if(M.is("element","tableColumnGroup"))return M;const o=M.getChildren();return Array.from(o).find(i=>i.is("element","tableColumnGroup"))}function Xe(M){const o=bt(M);return o?Array.from(o.getChildren()):[]}class kt extends d.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(o){const i=o.parent,r=i.parent,c=r.getChildIndex(i),m=new we(r,{row:c});for(const{cell:k,row:A,column:E}of m)if(k===o)return{row:A,column:E}}createTable(o,i){const r=o.createElement("table"),c=i.rows||2,m=i.columns||2;return bi(o,r,0,c,m),i.headingRows&&_("headingRows",Math.min(i.headingRows,c),r,o,0),i.headingColumns&&_("headingColumns",Math.min(i.headingColumns,m),r,o,0),r}insertRows(o,i={}){const r=this.editor.model,c=i.at||0,m=i.rows||1,k=i.copyStructureFromAbove!==void 0,A=i.copyStructureFromAbove?c-1:c,E=this.getRows(o),R=this.getColumns(o);if(c>E)throw new ne.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:i});r.change(ge=>{const Fe=o.getAttribute("headingRows")||0;if(Fe>c&&_("headingRows",Fe+m,o,ge,0),!k&&(c===0||c===E))return void bi(ge,o,c,m,R);const it=k?Math.max(c,A):c,Mt=new we(o,{endRow:it}),zt=new Array(R).fill(1);for(const{row:Ht,column:ti,cellHeight:hi,cellWidth:pi,cell:Wi}of Mt){const an=Ht+hi-1,Bn=Ht<=A&&A<=an;Ht<c&&c<=an?(ge.setAttribute("rowspan",hi+m,Wi),zt[ti]=-pi):k&&Bn&&(zt[ti]=pi)}for(let Ht=0;Ht<m;Ht++){const ti=ge.createElement("tableRow");ge.insert(ti,o,c);for(let hi=0;hi<zt.length;hi++){const pi=zt[hi],Wi=ge.createPositionAt(ti,"end");pi>0&&D(ge,Wi,pi>1?{colspan:pi}:void 0),hi+=Math.abs(pi)-1}}})}insertColumns(o,i={}){const r=this.editor.model,c=i.at||0,m=i.columns||1;r.change(k=>{const A=o.getAttribute("headingColumns");c<A&&k.setAttribute("headingColumns",A+m,o);const E=this.getColumns(o);if(c===0||E===c){for(const ge of o.getChildren())ge.is("element","tableRow")&&fi(m,k,k.createPositionAt(ge,c?"end":0));return}const R=new we(o,{column:c,includeAllSlots:!0});for(const ge of R){const{row:Fe,cell:it,cellAnchorColumn:Mt,cellAnchorRow:zt,cellWidth:Ht,cellHeight:ti}=ge;if(Mt<c){k.setAttribute("colspan",Ht+m,it);const hi=zt+ti-1;for(let pi=Fe;pi<=hi;pi++)R.skipRow(pi)}else fi(m,k,ge.getPositionBefore())}})}removeRows(o,i){const r=this.editor.model,c=i.rows||1,m=this.getRows(o),k=i.at,A=k+c-1;if(A>m-1)throw new ne.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:o,options:i});r.change(E=>{const R={first:k,last:A},{cellsToMove:ge,cellsToTrim:Fe}=function(it,{first:Mt,last:zt}){const Ht=new Map,ti=[];for(const{row:hi,column:pi,cellHeight:Wi,cell:an}of new we(it,{endRow:zt})){const Bn=hi+Wi-1;if(hi>=Mt&&hi<=zt&&Bn>zt){const Zn=Wi-(zt-hi+1);Ht.set(pi,{cell:an,rowspan:Zn})}if(hi<Mt&&Bn>=Mt){let Zn;Zn=Bn>=zt?zt-Mt+1:Bn-Mt+1,ti.push({cell:an,rowspan:Wi-Zn})}}return{cellsToMove:Ht,cellsToTrim:ti}}(o,R);ge.size&&function(it,Mt,zt,Ht){const ti=new we(it,{includeAllSlots:!0,row:Mt}),hi=[...ti],pi=it.getChild(Mt);let Wi;for(const{column:an,cell:Bn,isAnchor:Zn}of hi)if(zt.has(an)){const{cell:Yn,rowspan:l}=zt.get(an),e=Wi?Ht.createPositionAfter(Wi):Ht.createPositionAt(pi,0);Ht.move(Ht.createRangeOn(Yn),e),_("rowspan",l,Yn,Ht),Wi=Yn}else Zn&&(Wi=Bn)}(o,A+1,ge,E);for(let it=A;it>=k;it--)E.remove(o.getChild(it));for(const{rowspan:it,cell:Mt}of Fe)_("rowspan",it,Mt,E);(function(it,{first:Mt,last:zt},Ht){const ti=it.getAttribute("headingRows")||0;Mt<ti&&_("headingRows",zt<ti?ti-(zt-Mt+1):Mt,it,Ht,0)})(o,R,E),rt(o,this)||et(o,this)})}removeColumns(o,i){const r=this.editor.model,c=i.at,m=i.columns||1,k=i.at+m-1;r.change(A=>{(function(R,ge,Fe){const it=R.getAttribute("headingColumns")||0;if(it&&ge.first<it){const Mt=Math.min(it-1,ge.last)-ge.first+1;Fe.setAttribute("headingColumns",it-Mt,R)}})(o,{first:c,last:k},A);const E=Xe(o);for(let R=k;R>=c;R--){for(const{cell:ge,column:Fe,cellWidth:it}of[...new we(o)])Fe<=R&&it>1&&Fe+it>R?_("colspan",it-1,ge,A):Fe===R&&A.remove(ge);if(E[R]){const ge=R===0?E[1]:E[R-1],Fe=parseFloat(E[R].getAttribute("columnWidth")),it=parseFloat(ge.getAttribute("columnWidth"));A.remove(E[R]),A.setAttribute("columnWidth",Fe+it+"%",ge)}}et(o,this)||rt(o,this)})}splitCellVertically(o,i=2){const r=this.editor.model,c=o.parent.parent,m=parseInt(o.getAttribute("rowspan")||"1"),k=parseInt(o.getAttribute("colspan")||"1");r.change(A=>{if(k>1){const{newCellsSpan:E,updatedSpan:R}=Di(k,i);_("colspan",R,o,A);const ge={};E>1&&(ge.colspan=E),m>1&&(ge.rowspan=m),fi(k>i?i-1:k-1,A,A.createPositionAfter(o),ge)}if(k<i){const E=i-k,R=[...new we(c)],{column:ge}=R.find(({cell:zt})=>zt===o),Fe=R.filter(({cell:zt,cellWidth:Ht,column:ti})=>zt!==o&&ti===ge||ti<ge&&ti+Ht>ge);for(const{cell:zt,cellWidth:Ht}of Fe)A.setAttribute("colspan",Ht+E,zt);const it={};m>1&&(it.rowspan=m),fi(E,A,A.createPositionAfter(o),it);const Mt=c.getAttribute("headingColumns")||0;Mt>ge&&_("headingColumns",Mt+E,c,A)}})}splitCellHorizontally(o,i=2){const r=this.editor.model,c=o.parent,m=c.parent,k=m.getChildIndex(c),A=parseInt(o.getAttribute("rowspan")||"1"),E=parseInt(o.getAttribute("colspan")||"1");r.change(R=>{if(A>1){const ge=[...new we(m,{startRow:k,endRow:k+A-1,includeAllSlots:!0})],{newCellsSpan:Fe,updatedSpan:it}=Di(A,i);_("rowspan",it,o,R);const{column:Mt}=ge.find(({cell:Ht})=>Ht===o),zt={};Fe>1&&(zt.rowspan=Fe),E>1&&(zt.colspan=E);for(const Ht of ge){const{column:ti,row:hi}=Ht;hi>=k+it&&ti===Mt&&(hi+k+it)%Fe==0&&fi(1,R,Ht.getPositionBefore(),zt)}}if(A<i){const ge=i-A,Fe=[...new we(m,{startRow:0,endRow:k})];for(const{cell:zt,cellHeight:Ht,row:ti}of Fe)if(zt!==o&&ti+Ht>k){const hi=Ht+ge;R.setAttribute("rowspan",hi,zt)}const it={};E>1&&(it.colspan=E),bi(R,m,k+1,ge,1,it);const Mt=m.getAttribute("headingRows")||0;Mt>k&&_("headingRows",Mt+ge,m,R)}})}getColumns(o){return[...o.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}getRows(o){return Array.from(o.getChildren()).reduce((i,r)=>r.is("element","tableRow")?i+1:i,0)}createTableWalker(o,i={}){return new we(o,i)}getSelectedTableCells(o){const i=[];for(const r of this.sortRanges(o.getRanges())){const c=r.getContainedElement();c&&c.is("element","tableCell")&&i.push(c)}return i}getTableCellsContainingSelection(o){const i=[];for(const r of o.getRanges()){const c=r.start.findAncestor("tableCell");c&&i.push(c)}return i}getSelectionAffectedTableCells(o){const i=this.getSelectedTableCells(o);return i.length?i:this.getTableCellsContainingSelection(o)}getRowIndexes(o){const i=o.map(r=>r.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(o){const i=o[0].findAncestor("table"),r=[...new we(i)].filter(c=>o.includes(c.cell)).map(c=>c.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(o){if(o.length<2||!this._areCellInTheSameTableSection(o))return!1;const i=new Set,r=new Set;let c=0;for(const k of o){const{row:A,column:E}=this.getCellLocation(k),R=parseInt(k.getAttribute("rowspan"))||1,ge=parseInt(k.getAttribute("colspan"))||1;i.add(A),r.add(E),R>1&&i.add(A+R-1),ge>1&&r.add(E+ge-1),c+=R*ge}return function(k,A){const E=Array.from(k.values()),R=Array.from(A.values()),ge=Math.max(...E),Fe=Math.min(...E),it=Math.max(...R),Mt=Math.min(...R);return(ge-Fe+1)*(it-Mt+1)}(i,r)==c}sortRanges(o){return Array.from(o).sort(Yi)}_getFirstLastIndexesObject(o){const i=o.sort((r,c)=>r-c);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(o){const i=o[0].findAncestor("table"),r=this.getRowIndexes(o),c=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,c))return!1;const m=this.getColumnIndexes(o),k=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(m,k)}_areIndexesInSameSection({first:o,last:i},r){return o<r==i<r}}function bi(M,o,i,r,c,m={}){for(let k=0;k<r;k++){const A=M.createElement("tableRow");M.insert(A,o,i),fi(c,M,M.createPositionAt(A,"end"),m)}}function fi(M,o,i,r={}){for(let c=0;c<M;c++)D(o,i,r)}function Di(M,o){if(M<o)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(M/o);return{newCellsSpan:i,updatedSpan:M-i*o+i}}function Yi(M,o){const i=M.start,r=o.start;return i.isBefore(r)?-1:1}class Ii extends d.Command{refresh(){const o=this.editor.plugins.get(kt),i=o.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=o.isSelectionRectangular(i)}execute(){const o=this.editor.model,i=this.editor.plugins.get(kt);o.change(r=>{const c=i.getSelectedTableCells(o.document.selection),m=c.shift(),{mergeWidth:k,mergeHeight:A}=function(E,R,ge){let Fe=0,it=0;for(const hi of R){const{row:pi,column:Wi}=ge.getCellLocation(hi);Fe=G(hi,Wi,Fe,"colspan"),it=G(hi,pi,it,"rowspan")}const{row:Mt,column:zt}=ge.getCellLocation(E),Ht=Fe-zt,ti=it-Mt;return{mergeWidth:Ht,mergeHeight:ti}}(m,c,i);_("colspan",k,m,r),_("rowspan",A,m,r);for(const E of c)$i(E,m,r);J(m.findAncestor("table"),i),r.setSelection(m,"in")})}}function $i(M,o,i){ht(M)||(ht(o)&&i.remove(i.createRangeIn(o)),i.move(i.createRangeIn(M),i.createPositionAt(o,"end"))),i.remove(M)}function ht(M){const o=M.getChild(0);return M.childCount==1&&o.is("element","paragraph")&&o.isEmpty}function G(M,o,i,r){const c=parseInt(M.getAttribute(r)||"1");return Math.max(i,o+c)}class ce extends d.Command{constructor(o){super(o),this.affectsData=!1}refresh(){const o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=o.length>0}execute(){const o=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(o.document.selection),c=i.getRowIndexes(r),m=r[0].findAncestor("table"),k=[];for(let A=c.first;A<=c.last;A++)for(const E of m.getChild(A).getChildren())k.push(o.createRangeOn(E));o.change(A=>{A.setSelection(k)})}}class Ie extends d.Command{constructor(o){super(o),this.affectsData=!1}refresh(){const o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=o.length>0}execute(){const o=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=o.getSelectionAffectedTableCells(i.document.selection),c=r[0],m=r.pop(),k=c.findAncestor("table"),A=o.getCellLocation(c),E=o.getCellLocation(m),R=Math.min(A.column,E.column),ge=Math.max(A.column,E.column),Fe=[];for(const it of new we(k,{startColumn:R,endColumn:ge}))Fe.push(i.createRangeOn(it.cell));i.change(it=>{it.setSelection(Fe)})}}function Ze(M){M.document.registerPostFixer(o=>function(i,r){const c=r.document.differ.getChanges();let m=!1;const k=new Set;for(const A of c){let E=null;A.type=="insert"&&A.name=="table"&&(E=A.position.nodeAfter),A.type!="insert"&&A.type!="remove"||A.name!="tableRow"&&A.name!="tableCell"||(E=A.position.findAncestor("table")),Tt(A)&&(E=A.range.start.findAncestor("table")),E&&!k.has(E)&&(m=Ye(E,i)||m,m=ft(E,i)||m,k.add(E))}return m}(o,M))}function Ye(M,o){let i=!1;const r=function(c){const m=parseInt(c.getAttribute("headingRows")||"0"),k=Array.from(c.getChildren()).reduce((E,R)=>R.is("element","tableRow")?E+1:E,0),A=[];for(const{row:E,cell:R,cellHeight:ge}of new we(c)){if(ge<2)continue;const Fe=E<m?m:k;if(E+ge>Fe){const it=Fe-E;A.push({cell:R,rowspan:it})}}return A}(M);if(r.length){i=!0;for(const c of r)_("rowspan",c.rowspan,c.cell,o,1)}return i}function ft(M,o){let i=!1;const r=function(A){const E=new Array(A.childCount).fill(0);for(const{rowIndex:R}of new we(A,{includeAllSlots:!0}))E[R]++;return E}(M),c=[];for(const[A,E]of r.entries())!E&&M.getChild(A).is("element","tableRow")&&c.push(A);if(c.length){i=!0;for(const A of c.reverse())o.remove(M.getChild(A)),r.splice(A,1)}const m=r.filter((A,E)=>M.getChild(E).is("element","tableRow")),k=m[0];if(!m.every(A=>A===k)){const A=m.reduce((E,R)=>R>E?R:E,0);for(const[E,R]of m.entries()){const ge=A-R;if(ge){for(let Fe=0;Fe<ge;Fe++)D(o,o.createPositionAt(M.getChild(E),"end"));i=!0}}}return i}function Tt(M){if(M.type!=="attribute")return!1;const o=M.attributeKey;return o==="headingRows"||o==="colspan"||o==="rowspan"}function Vt(M){M.document.registerPostFixer(o=>function(i,r){const c=r.document.differ.getChanges();let m=!1;for(const k of c)k.type=="insert"&&k.name=="table"&&(m=Bt(k.position.nodeAfter,i)||m),k.type=="insert"&&k.name=="tableRow"&&(m=ei(k.position.nodeAfter,i)||m),k.type=="insert"&&k.name=="tableCell"&&(m=oi(k.position.nodeAfter,i)||m),k.type!="remove"&&k.type!="insert"||!Mi(k)||(m=oi(k.position.parent,i)||m);return m}(o,M))}function Bt(M,o){let i=!1;for(const r of M.getChildren())r.is("element","tableRow")&&(i=ei(r,o)||i);return i}function ei(M,o){let i=!1;for(const r of M.getChildren())i=oi(r,o)||i;return i}function oi(M,o){if(M.childCount==0)return o.insertElement("paragraph",M),!0;const i=Array.from(M.getChildren()).filter(r=>r.is("$text"));for(const r of i)o.wrap(o.createRangeOn(r),"paragraph");return!!i.length}function Mi(M){return!!M.position.parent.is("element","tableCell")&&(M.type=="insert"&&M.name=="$text"||M.type=="remove")}function Pi(M,o){if(!M.is("element","paragraph"))return!1;const i=o.toViewElement(M);return!!i&&T(M)!==i.is("element","span")}var zi=K(591),mi=K.n(zi),Ni=K(817),vt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(Ni.A,vt),Ni.A.locals;class qe extends d.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[kt]}constructor(o){super(o),this._additionalSlots=[]}init(){const o=this.editor,i=o.model,r=i.schema,c=o.conversion,m=o.plugins.get(kt);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),c.for("upcast").add(k=>{k.on("element:figure",(A,E,R)=>{if(!R.consumable.test(E.viewItem,{name:!0,classes:"table"}))return;const ge=function(Mt){for(const zt of Mt.getChildren())if(zt.is("element","table"))return zt}(E.viewItem);if(!ge||!R.consumable.test(ge,{name:!0}))return;R.consumable.consume(E.viewItem,{name:!0,classes:"table"});const Fe=R.convertItem(ge,E.modelCursor),it=(0,ne.first)(Fe.modelRange.getItems());it?(R.convertChildren(E.viewItem,R.writer.createPositionAt(it,"end")),R.updateConversionResult(it,E)):R.consumable.revert(E.viewItem,{name:!0,classes:"table"})})}),c.for("upcast").add(U()),c.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:w(m,{asWidget:!0,additionalSlots:this._additionalSlots})}),c.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:w(m,{additionalSlots:this._additionalSlots})}),c.for("upcast").elementToElement({model:"tableRow",view:"tr"}),c.for("upcast").add(k=>{k.on("element:tr",(A,E)=>{E.viewItem.isEmpty&&E.modelCursor.index==0&&A.stop()},{priority:"high"})}),c.for("downcast").elementToElement({model:"tableRow",view:(k,{writer:A})=>k.isEmpty?A.createEmptyElement("tr"):A.createContainerElement("tr")}),c.for("upcast").elementToElement({model:"tableCell",view:"td"}),c.for("upcast").elementToElement({model:"tableCell",view:"th"}),c.for("upcast").add($("td")),c.for("upcast").add($("th")),c.for("editingDowncast").elementToElement({model:"tableCell",view:p({asWidget:!0})}),c.for("dataDowncast").elementToElement({model:"tableCell",view:p()}),c.for("editingDowncast").elementToElement({model:"paragraph",view:v({asWidget:!0}),converterPriority:"high"}),c.for("dataDowncast").elementToElement({model:"paragraph",view:v(),converterPriority:"high"}),c.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),c.for("upcast").attributeToAttribute({model:{key:"colspan",value:pt("colspan")},view:"colspan"}),c.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),c.for("upcast").attributeToAttribute({model:{key:"rowspan",value:pt("rowspan")},view:"rowspan"}),o.config.define("table.defaultHeadings.rows",0),o.config.define("table.defaultHeadings.columns",0),o.commands.add("insertTable",new L(o)),o.commands.add("insertTableRowAbove",new O(o,{order:"above"})),o.commands.add("insertTableRowBelow",new O(o,{order:"below"})),o.commands.add("insertTableColumnLeft",new oe(o,{order:"left"})),o.commands.add("insertTableColumnRight",new oe(o,{order:"right"})),o.commands.add("removeTableRow",new q(o)),o.commands.add("removeTableColumn",new Le(o)),o.commands.add("splitTableCellVertically",new W(o,{direction:"vertically"})),o.commands.add("splitTableCellHorizontally",new W(o,{direction:"horizontally"})),o.commands.add("mergeTableCells",new Ii(o)),o.commands.add("mergeTableCellRight",new Oe(o,{direction:"right"})),o.commands.add("mergeTableCellLeft",new Oe(o,{direction:"left"})),o.commands.add("mergeTableCellDown",new Oe(o,{direction:"down"})),o.commands.add("mergeTableCellUp",new Oe(o,{direction:"up"})),o.commands.add("setTableColumnHeader",new ot(o)),o.commands.add("setTableRowHeader",new He(o)),o.commands.add("selectTableRow",new ce(o)),o.commands.add("selectTableColumn",new Ie(o)),Ze(i),Vt(i),this.listenTo(i.document,"change:data",()=>{(function(k,A){const E=k.document.differ;for(const R of E.getChanges()){let ge,Fe=!1;if(R.type=="attribute"){const Ht=R.range.start.nodeAfter;if(!Ht||!Ht.is("element","table")||R.attributeKey!="headingRows"&&R.attributeKey!="headingColumns")continue;ge=Ht,Fe=R.attributeKey=="headingRows"}else R.name!="tableRow"&&R.name!="tableCell"||(ge=R.position.findAncestor("table"),Fe=R.name=="tableRow");if(!ge)continue;const it=ge.getAttribute("headingRows")||0,Mt=ge.getAttribute("headingColumns")||0,zt=new we(ge);for(const Ht of zt){const ti=Ht.row<it||Ht.column<Mt?"th":"td",hi=A.mapper.toViewElement(Ht.cell);hi&&hi.is("element")&&hi.name!=ti&&A.reconvertItem(Fe?Ht.cell.parent:Ht.cell)}}})(i,o.editing),function(k,A){const E=k.document.differ,R=new Set;for(const ge of E.getChanges()){const Fe=ge.type=="attribute"?ge.range.start.parent:ge.position.parent;Fe.is("element","tableCell")&&R.add(Fe)}for(const ge of R.values()){const Fe=Array.from(ge.getChildren()).filter(it=>Pi(it,A.mapper));for(const it of Fe)A.reconvertItem(it)}}(i,o.editing)})}registerAdditionalSlot(o){this._additionalSlots.push(o)}}function pt(M){return o=>{const i=parseInt(o.getAttribute(M));return Number.isNaN(i)||i<=0?null:i}}var Be=K(311),xt=K(712),Zt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(xt.A,Zt),xt.A.locals;class Ot extends Be.View{constructor(o){super(o);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ne.KeystrokeHandler,this.focusTracker=new ne.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,c)=>`${c} \xD7 ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(r=>{r.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,c)=>{const{row:m,column:k}=c.target.dataset;this.items.get(10*(parseInt(m,10)-1)+(parseInt(k,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,c,m)=>{if(!m)return;const{row:k,column:A}=m.dataset;this.set({rows:parseInt(k),columns:parseInt(A)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,Be.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const o of this.items)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const o=this.rows,i=this.columns;this.items.map((r,c)=>{const m=Math.floor(c/10)<o&&c%10<i;r.set("isOn",m)})}_createGridButton(o,i,r,c){const m=new Be.ButtonView(o);return m.set({label:c,class:"ck-insert-table-dropdown-grid-box"}),m.extendTemplate({attributes:{"data-row":i,"data-column":r}}),m}_createGridCollection(){const o=[];for(let i=0;i<100;i++){const r=Math.floor(i/10),c=i%10,m=`${r+1} \xD7 ${c+1}`;o.push(this._createGridButton(this.locale,r+1,c+1,m))}return this.createCollection(o)}}class Rt extends d.Plugin{static get pluginName(){return"TableUI"}init(){const o=this.editor,i=this.editor.t,r=o.locale.contentLanguageDirection==="ltr";o.ui.componentFactory.add("insertTable",c=>{const m=o.commands.get("insertTable"),k=(0,Be.createDropdown)(c);let A;return k.bind("isEnabled").to(m),k.buttonView.set({icon:d.icons.table,label:i("Insert table"),tooltip:!0}),k.on("change:isOpen",()=>{A||(A=new Ot(c),k.panelView.children.add(A),A.delegate("execute").to(k),k.on("execute",()=>{o.execute("insertTable",{rows:A.rows,columns:A.columns}),o.editing.view.focus()}))}),k}),o.ui.componentFactory.add("menuBar:insertTable",c=>{const m=o.commands.get("insertTable"),k=new Be.MenuBarMenuView(c),A=new Ot(c);return A.delegate("execute").to(k),k.on("change:isOpen",(E,R,ge)=>{ge||A.reset()}),A.on("execute",()=>{o.execute("insertTable",{rows:A.rows,columns:A.columns}),o.editing.view.focus()}),k.buttonView.set({label:i("Table"),icon:d.icons.table}),k.panelView.children.add(A),k.bind("isEnabled").to(m),k}),o.ui.componentFactory.add("tableColumn",c=>{const m=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',m,c)}),o.ui.componentFactory.add("tableRow",c=>{const m=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',m,c)}),o.ui.componentFactory.add("mergeTableCells",c=>{const m=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',m,c)})}_prepareDropdown(o,i,r,c){const m=this.editor,k=(0,Be.createDropdown)(c),A=this._fillDropdownWithListOptions(k,r);return k.buttonView.set({label:o,icon:i,tooltip:!0}),k.bind("isEnabled").toMany(A,"isEnabled",(...E)=>E.some(R=>R)),this.listenTo(k,"execute",E=>{m.execute(E.source.commandName),E.source instanceof Be.SwitchButtonView||m.editing.view.focus()}),k}_prepareMergeSplitButtonDropdown(o,i,r,c){const m=this.editor,k=(0,Be.createDropdown)(c,Be.SplitButtonView),A="mergeTableCells",E=m.commands.get(A),R=this._fillDropdownWithListOptions(k,r);return k.buttonView.set({label:o,icon:i,tooltip:!0,isEnabled:!0}),k.bind("isEnabled").toMany([E,...R],"isEnabled",(...ge)=>ge.some(Fe=>Fe)),this.listenTo(k.buttonView,"execute",()=>{m.execute(A),m.editing.view.focus()}),this.listenTo(k,"execute",ge=>{m.execute(ge.source.commandName),m.editing.view.focus()}),k}_fillDropdownWithListOptions(o,i){const r=this.editor,c=[],m=new ne.Collection;for(const k of i)ve(k,r,c,m);return(0,Be.addListToDropdown)(o,m),c}}function ve(M,o,i,r){if(M.type==="button"||M.type==="switchbutton"){const c=M.model=new Be.ViewModel(M.model),{commandName:m,bindIsOn:k}=M.model,A=o.commands.get(m);i.push(A),c.set({commandName:m}),c.bind("isEnabled").to(A),k&&c.bind("isOn").to(A,"value"),c.set({withText:!0})}r.add(M)}var j=K(719),B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(j.A,B),j.A.locals;class Y extends d.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[kt,kt]}init(){const o=this.editor,i=o.model,r=o.editing.view;this.listenTo(i,"deleteContent",(c,m)=>this._handleDeleteContent(c,m),{priority:"high"}),this.listenTo(r.document,"insertText",(c,m)=>this._handleInsertTextEvent(c,m),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const o=this.editor.plugins.get(kt),i=this.editor.model.document.selection,r=o.getSelectedTableCells(i);return r.length==0?null:r}getSelectionAsFragment(){const o=this.editor.plugins.get(kt),i=this.getSelectedTableCells();return i?this.editor.model.change(r=>{const c=r.createDocumentFragment(),{first:m,last:k}=o.getColumnIndexes(i),{first:A,last:E}=o.getRowIndexes(i),R=i[0].findAncestor("table");let ge=E,Fe=k;if(o.isSelectionRectangular(i)){const Mt={firstColumn:m,lastColumn:k,firstRow:A,lastRow:E};ge=Z(R,Mt),Fe=Ce(R,Mt)}const it=te(R,{startRow:A,startColumn:m,endRow:ge,endColumn:Fe},r);return r.insert(it,c,0),c}):null}setCellSelection(o,i){const r=this._getCellsToSelect(o,i);this.editor.model.change(c=>{c.setSelection(r.cells.map(m=>c.createRangeOn(m)),{backward:r.backward})})}getFocusCell(){const o=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return o&&o.is("element","tableCell")?o:null}getAnchorCell(){const o=this.editor.model.document.selection,i=(0,ne.first)(o.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const o=this.editor,i=new Set;o.conversion.for("editingDowncast").add(r=>r.on("selection",(c,m,k)=>{const A=k.writer;(function(ge){for(const Fe of i)ge.removeClass("ck-editor__editable_selected",Fe);i.clear()})(A);const E=this.getSelectedTableCells();if(!E)return;for(const ge of E){const Fe=k.mapper.toViewElement(ge);A.addClass("ck-editor__editable_selected",Fe),i.add(Fe)}const R=k.mapper.toViewElement(E[E.length-1]);A.setSelection(R,0)},{priority:"lowest"}))}_enablePluginDisabling(){const o=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;o.model.change(r=>{const c=r.createPositionAt(i[0],0),m=o.model.schema.getNearestSelectionRange(c);r.setSelection(m)})}})}_handleDeleteContent(o,i){const r=this.editor.plugins.get(kt),c=i[0],m=i[1],k=this.editor.model,A=!m||m.direction=="backward",E=r.getSelectedTableCells(c);E.length&&(o.stop(),k.change(R=>{const ge=E[A?E.length-1:0];k.change(it=>{for(const Mt of E)k.deleteContent(it.createSelection(Mt,"in"))});const Fe=k.schema.getNearestSelectionRange(R.createPositionAt(ge,0));c.is("documentSelection")?R.setSelection(Fe):c.setTo(Fe)}))}_handleInsertTextEvent(o,i){const r=this.editor,c=this.getSelectedTableCells();if(!c)return;const m=r.editing.view,k=r.editing.mapper,A=c.map(E=>m.createRangeOn(k.toViewElement(E)));i.selection=m.createSelection(A)}_getCellsToSelect(o,i){const r=this.editor.plugins.get("TableUtils"),c=r.getCellLocation(o),m=r.getCellLocation(i),k=Math.min(c.row,m.row),A=Math.max(c.row,m.row),E=Math.min(c.column,m.column),R=Math.max(c.column,m.column),ge=new Array(A-k+1).fill(null).map(()=>[]),Fe={startRow:k,endRow:A,startColumn:E,endColumn:R};for(const{row:zt,cell:Ht}of new we(o.findAncestor("table"),Fe))ge[zt-k].push(Ht);const it=m.row<c.row,Mt=m.column<c.column;return it&&ge.reverse(),Mt&&ge.forEach(zt=>zt.reverse()),{cells:ge.flat(),backward:it||Mt}}}var Te=K(331);class Ne extends d.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[Te.ClipboardMarkersUtils,Te.ClipboardPipeline,Y,kt]}init(){const o=this.editor,i=o.editing.view.document;this.listenTo(i,"copy",(r,c)=>this._onCopyCut(r,c)),this.listenTo(i,"cut",(r,c)=>this._onCopyCut(r,c)),this.listenTo(o.model,"insertContent",(r,[c,m])=>this._onInsertContent(r,c,m),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(o,i){const r=this.editor.editing.view,c=this.editor.plugins.get(Y),m=this.editor.plugins.get(Te.ClipboardMarkersUtils);c.getSelectedTableCells()&&(o.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),o.stop(),this.editor.model.enqueueChange({isUndoable:o.name==="cut"},()=>{const k=m._copySelectedFragmentWithMarkers(o.name,this.editor.model.document.selection,()=>c.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(k),method:o.name})}))}_onInsertContent(o,i,r){if(r&&!r.is("documentSelection"))return;const c=this.editor.model,m=this.editor.plugins.get(kt),k=this.editor.plugins.get(Te.ClipboardMarkersUtils),A=this.getTableIfOnlyTableInContent(i,c);if(!A)return;const E=m.getSelectionAffectedTableCells(c.document.selection);E.length?(o.stop(),i.is("documentFragment")?k._pasteMarkersIntoTransformedElement(i.markers,R=>this._replaceSelectedCells(A,E,R)):this.editor.model.change(R=>{this._replaceSelectedCells(A,E,R)})):J(A,m)}_replaceSelectedCells(o,i,r){const c=this.editor.plugins.get(kt),m={width:c.getColumns(o),height:c.getRows(o)},k=function(Fe,it,Mt,zt){const Ht=Fe[0].findAncestor("table"),ti=zt.getColumnIndexes(Fe),hi=zt.getRowIndexes(Fe),pi={firstColumn:ti.first,lastColumn:ti.last,firstRow:hi.first,lastRow:hi.last},Wi=Fe.length===1;return Wi&&(pi.lastRow+=it.height-1,pi.lastColumn+=it.width-1,function(an,Bn,Zn,Yn){const l=Yn.getColumns(an),e=Yn.getRows(an);Zn>l&&Yn.insertColumns(an,{at:l,columns:Zn-l}),Bn>e&&Yn.insertRows(an,{at:e,rows:Bn-e})}(Ht,pi.lastRow+1,pi.lastColumn+1,zt)),Wi||!zt.isSelectionRectangular(Fe)?function(an,Bn,Zn){const{firstRow:Yn,lastRow:l,firstColumn:e,lastColumn:t}=Bn,n={first:Yn,last:l},a={first:e,last:t};Pe(an,e,n,Zn),Pe(an,t+1,n,Zn),ee(an,Yn,a,Zn),ee(an,l+1,a,Zn,Yn)}(Ht,pi,Mt):(pi.lastRow=Z(Ht,pi),pi.lastColumn=Ce(Ht,pi)),pi}(i,m,r,c),A=k.lastRow-k.firstRow+1,E=k.lastColumn-k.firstColumn+1;o=te(o,{startRow:0,startColumn:0,endRow:Math.min(A,m.height)-1,endColumn:Math.min(E,m.width)-1},r);const R=i[0].findAncestor("table"),ge=this._replaceSelectedCellsWithPasted(o,m,R,k,r);if(this.editor.plugins.get("TableSelection").isEnabled){const Fe=c.sortRanges(ge.map(it=>r.createRangeOn(it)));r.setSelection(Fe)}else r.setSelection(ge[0],0);return R}_replaceSelectedCellsWithPasted(o,i,r,c,m){const{width:k,height:A}=i,E=function(ti,hi,pi){const Wi=new Array(pi).fill(null).map(()=>new Array(hi).fill(null));for(const{column:an,row:Bn,cell:Zn}of new we(ti))Wi[Bn][an]=Zn;return Wi}(o,k,A),R=[...new we(r,{startRow:c.firstRow,endRow:c.lastRow,startColumn:c.firstColumn,endColumn:c.lastColumn,includeAllSlots:!0})],ge=[];let Fe;for(const ti of R){const{row:hi,column:pi}=ti;pi===c.firstColumn&&(Fe=ti.getPositionBefore());const Wi=hi-c.firstRow,an=pi-c.firstColumn,Bn=E[Wi%A][an%k],Zn=Bn?m.cloneElement(Bn):null,Yn=this._replaceTableSlotCell(ti,Zn,Fe,m);Yn&&(Ae(Yn,hi,pi,c.lastRow,c.lastColumn,m),ge.push(Yn),Fe=m.createPositionAfter(Yn))}const it=parseInt(r.getAttribute("headingRows")||"0"),Mt=parseInt(r.getAttribute("headingColumns")||"0"),zt=c.firstRow<it&&it<=c.lastRow,Ht=c.firstColumn<Mt&&Mt<=c.lastColumn;if(zt){const ti=ee(r,it,{first:c.firstColumn,last:c.lastColumn},m,c.firstRow);ge.push(...ti)}if(Ht){const ti=Pe(r,Mt,{first:c.firstRow,last:c.lastRow},m);ge.push(...ti)}return ge}_replaceTableSlotCell(o,i,r,c){const{cell:m,isAnchor:k}=o;return k&&c.remove(m),i?(c.insert(i,r),i):null}getTableIfOnlyTableInContent(o,i){if(!o.is("documentFragment")&&!o.is("element"))return null;if(o.is("element","table"))return o;if(o.childCount==1&&o.getChild(0).is("element","table"))return o.getChild(0);const r=i.createRangeIn(o);for(const c of r.getItems())if(c.is("element","table")){const m=i.createRange(r.start,i.createPositionBefore(c));if(i.hasContent(m,{ignoreWhitespaces:!0}))return null;const k=i.createRange(i.createPositionAfter(c),r.end);return i.hasContent(k,{ignoreWhitespaces:!0})?null:c}return null}}function ee(M,o,i,r,c=0){if(!(o<1))return S(M,o,c).filter(({column:m,cellWidth:k})=>ze(m,k,i)).map(({cell:m})=>X(m,o,r))}function Pe(M,o,i,r){if(!(o<1))return de(M,o).filter(({row:c,cellHeight:m})=>ze(c,m,i)).map(({cell:c,column:m})=>_e(c,m,o,r))}function ze(M,o,i){const r=M+o-1,{first:c,last:m}=i;return M>=c&&M<=m||M<c&&r>=c}class Qe extends d.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[Y,kt]}init(){const o=this.editor,i=o.editing.view.document,r=o.t;this.listenTo(i,"arrowKey",(...c)=>this._onArrowKey(...c),{context:"table"}),this.listenTo(i,"tab",(...c)=>this._handleTabOnSelectedTable(...c),{context:"figure"}),this.listenTo(i,"tab",(...c)=>this._handleTab(...c),{context:["th","td"]}),o.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(o,i){const r=this.editor,c=r.model.document.selection.getSelectedElement();c&&c.is("element","table")&&(i.preventDefault(),i.stopPropagation(),o.stop(),r.model.change(m=>{m.setSelection(m.createRangeIn(c.getChild(0).getChild(0)))}))}_handleTab(o,i){const r=this.editor,c=this.editor.plugins.get(kt),m=this.editor.plugins.get("TableSelection"),k=r.model.document.selection,A=!i.shiftKey;let E=c.getTableCellsContainingSelection(k)[0];if(E||(E=m.getFocusCell()),!E)return;i.preventDefault(),i.stopPropagation(),o.stop();const R=E.parent,ge=R.parent,Fe=ge.getChildIndex(R),it=R.getChildIndex(E),Mt=it===0;if(!A&&Mt&&Fe===0)return void r.model.change(hi=>{hi.setSelection(hi.createRangeOn(ge))});const zt=it===R.childCount-1,Ht=Fe===c.getRows(ge)-1;if(A&&Ht&&zt&&(r.execute("insertTableRowBelow"),Fe===c.getRows(ge)-1))return void r.model.change(hi=>{hi.setSelection(hi.createRangeOn(ge))});let ti;if(A&&zt)ti=ge.getChild(Fe+1).getChild(0);else if(!A&&Mt){const hi=ge.getChild(Fe-1);ti=hi.getChild(hi.childCount-1)}else ti=R.getChild(it+(A?1:-1));r.model.change(hi=>{hi.setSelection(hi.createRangeIn(ti))})}_onArrowKey(o,i){const r=this.editor,c=i.keyCode,m=(0,ne.getLocalizedArrowKeyCodeDirection)(c,r.locale.contentLanguageDirection);this._handleArrowKeys(m,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),o.stop())}_handleArrowKeys(o,i){const r=this.editor.plugins.get(kt),c=this.editor.plugins.get("TableSelection"),m=this.editor.model,k=m.document.selection,A=["right","down"].includes(o),E=r.getSelectedTableCells(k);if(E.length){let ge;return ge=i?c.getFocusCell():A?E[E.length-1]:E[0],this._navigateFromCellInDirection(ge,o,i),!0}const R=k.focus.findAncestor("tableCell");if(!R)return!1;if(!k.isCollapsed)if(i){if(k.isBackward==A&&!k.containsEntireContent(R))return!1}else{const ge=k.getSelectedElement();if(!ge||!m.schema.isObject(ge))return!1}return!!this._isSelectionAtCellEdge(k,R,A)&&(this._navigateFromCellInDirection(R,o,i),!0)}_isSelectionAtCellEdge(o,i,r){const c=this.editor.model,m=this.editor.model.schema,k=r?o.getLastPosition():o.getFirstPosition();if(!m.getLimitElement(k).is("element","tableCell"))return c.createPositionAt(i,r?"end":0).isTouching(k);const A=c.createSelection(k);return c.modifySelection(A,{direction:r?"forward":"backward"}),k.isEqual(A.focus)}_navigateFromCellInDirection(o,i,r=!1){const c=this.editor.model,m=o.findAncestor("table"),k=[...new we(m,{includeAllSlots:!0})],{row:A,column:E}=k[k.length-1],R=k.find(({cell:Ht})=>Ht==o);let{row:ge,column:Fe}=R;switch(i){case"left":Fe--;break;case"up":ge--;break;case"right":Fe+=R.cellWidth;break;case"down":ge+=R.cellHeight}if(ge<0||ge>A||Fe<0&&ge<=0||Fe>E&&ge>=A)return void c.change(Ht=>{Ht.setSelection(Ht.createRangeOn(m))});Fe<0?(Fe=r?0:E,ge--):Fe>E&&(Fe=r?E:0,ge++);const it=k.find(Ht=>Ht.row==ge&&Ht.column==Fe).cell,Mt=["right","down"].includes(i),zt=this.editor.plugins.get("TableSelection");if(r&&zt.isEnabled){const Ht=zt.getAnchorCell()||o;zt.setCellSelection(Ht,it)}else{const Ht=c.createPositionAt(it,Mt?0:"end");c.change(ti=>{ti.setSelection(Ht)})}}}var dt=K(783);class Kt extends dt.DomEventObserver{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(o){this.fire(o.type,o)}}class Et extends d.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[Y,kt]}init(){this.editor.editing.view.addObserver(Kt),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const o=this.editor,i=o.plugins.get(kt);let r=!1;const c=o.plugins.get(Y);this.listenTo(o.editing.view.document,"mousedown",(m,k)=>{const A=o.model.document.selection;if(!this.isEnabled||!c.isEnabled||!k.domEvent.shiftKey)return;const E=c.getAnchorCell()||i.getTableCellsContainingSelection(A)[0];if(!E)return;const R=this._getModelTableCellFromDomEvent(k);R&&ni(E,R)&&(r=!0,c.setCellSelection(E,R),k.preventDefault())}),this.listenTo(o.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(o.editing.view.document,"selectionChange",m=>{r&&m.stop()},{priority:"highest"})}_enableMouseDragSelection(){const o=this.editor;let i,r,c=!1,m=!1;const k=o.plugins.get(Y);this.listenTo(o.editing.view.document,"mousedown",(A,E)=>{this.isEnabled&&k.isEnabled&&(E.domEvent.shiftKey||E.domEvent.ctrlKey||E.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(E)))}),this.listenTo(o.editing.view.document,"mousemove",(A,E)=>{if(!E.domEvent.buttons||!i)return;const R=this._getModelTableCellFromDomEvent(E);R&&ni(i,R)&&(r=R,c||r==i||(c=!0)),c&&(m=!0,k.setCellSelection(i,r),E.preventDefault())}),this.listenTo(o.editing.view.document,"mouseup",()=>{c=!1,m=!1,i=null,r=null}),this.listenTo(o.editing.view.document,"selectionChange",A=>{m&&A.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(o){const i=o.target,r=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function ni(M,o){return M.parent.parent==o.parent.parent}var yi=K(25),gi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(yi.A,gi),yi.A.locals;class xi extends d.Plugin{static get requires(){return[qe,Rt,Y,Et,Qe,Ne,f.Widget]}static get pluginName(){return"Table"}}class Li extends d.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[xi]}init(){const o=this.editor;o.conversion.for("dataDowncast").elementToStructure({model:"table",view:mn,converterPriority:"high"}),o.plugins.has("TableCaption")&&o.conversion.for("dataDowncast").elementToElement({model:"caption",view:(i,{writer:r})=>{if(i.parent.name==="table")return r.createContainerElement("caption")},converterPriority:"high"}),o.plugins.has("TableProperties")&&function(i){const r={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[c,m]of Object.entries(r))i.conversion.for("dataDowncast").add(k=>k.on(`attribute:${m}:table`,(A,E,R)=>{const{item:ge,attributeNewValue:Fe}=E,{mapper:it,writer:Mt}=R;if(!R.consumable.consume(ge,A.name))return;const zt=it.toViewElement(ge);Fe?Mt.setStyle(c,Fe,zt):Mt.removeStyle(c,zt)},{priority:"high"}))}(o)}}function mn(M,{writer:o}){const i=M.getAttribute("headingRows")||0,r=o.createSlot(R=>R.is("element","tableRow")&&R.index<i),c=o.createSlot(R=>R.is("element","tableRow")&&R.index>=i),m=o.createSlot(R=>!R.is("element","tableRow")),k=o.createContainerElement("thead",null,r),A=o.createContainerElement("tbody",null,c),E=[];return i&&E.push(k),i<M.childCount&&E.push(A),o.createContainerElement("table",null,[m,...E])}function jn(M){return vn(M)||Ln(M)}function vn(M){const o=M.getSelectedElement();return o&&In(o)?o:null}function Ln(M){const o=M.getFirstPosition();if(!o)return null;let i=o.parent;for(;i;){if(i.is("element")&&In(i))return i;i=i.parent}return null}function In(M){return!!M.getCustomProperty("table")&&(0,f.isWidget)(M)}class Jn extends d.Plugin{static get requires(){return[f.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const o=this.editor,i=o.t,r=o.plugins.get(f.WidgetToolbarRepository),c=o.config.get("table.contentToolbar"),m=o.config.get("table.tableToolbar");c&&r.register("tableContent",{ariaLabel:i("Table toolbar"),items:c,getRelatedElement:Ln}),m&&r.register("table",{ariaLabel:i("Table toolbar"),items:m,getRelatedElement:vn})}}var cn=K(770),fo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(cn.A,fo),cn.A.locals;class go extends Be.View{constructor(o,i){super(o),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=i,this.focusTracker=new ne.FocusTracker,this._focusables=new Be.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new ne.KeystrokeHandler,this._stillTyping=!1,this.focusCycler=new Be.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(r,c,m)=>this._setInputValue(m))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(o=>{this.focusTracker.add(o.element),this._focusables.add(o)}),this.keystrokes.listenTo(this.element)}focus(o){o===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const o=this.locale,i=o.t,r=this.bindTemplate,c=this._createColorSelector(o),m=(0,Be.createDropdown)(o),k=new Be.View;return k.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:r.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",r.if("value","ck-hidden",A=>A!="")]}}]}),m.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),m.buttonView.children.add(k),m.buttonView.label=i("Color picker"),m.buttonView.tooltip=!0,m.panelPosition=o.uiLanguageDirection==="rtl"?"se":"sw",m.panelView.children.add(c),m.bind("isEnabled").to(this,"isReadOnly",A=>!A),m.on("change:isOpen",(A,E,R)=>{R&&(c.updateSelectedColors(),c.showColorGridsFragment())}),m}_createInputTextView(){const o=this.locale,i=new Be.InputTextView(o);return i.extendTemplate({on:{blur:i.bindTemplate.to("blur")}}),i.value=this.value,i.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(i),i.on("input",()=>{const r=i.element.value,c=this.options.colorDefinitions.find(m=>r===m.label);this._stillTyping=!0,this.value=c&&c.color||r}),i.on("blur",()=>{this._stillTyping=!1,this._setInputValue(i.element.value)}),i.delegate("input").to(this),i}_createColorSelector(o){const i=o.t,r=this.options.defaultColorValue||"",c=i(r?"Restore default":"Remove color"),m=new Be.ColorSelectorView(o,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:c,colorPickerLabel:i("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&{...this.options.colorPickerConfig,hideInput:!0}});m.appendUI(),m.on("execute",(A,E)=>{E.source!=="colorPickerSaveButton"?(this.value=E.value||r,this.fire("input"),E.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1});let k=this.value;return m.on("colorPicker:cancel",()=>{this.value=k,this.fire("input"),this.dropdownView.isOpen=!1}),m.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{k=this.value}),m.bind("selectedColor").to(this,"value"),m}_setInputValue(o){if(!this._stillTyping){const i=_o(o),r=this.options.colorDefinitions.find(c=>i===_o(c.color));this.inputView.value=r?r.label:o||""}}}function _o(M){return M.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const To=M=>M==="";function io(M){return{none:M("None"),solid:M("Solid"),dotted:M("Dotted"),dashed:M("Dashed"),double:M("Double"),groove:M("Groove"),ridge:M("Ridge"),inset:M("Inset"),outset:M("Outset")}}function po(M){return M('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function No(M){return M('The value is invalid. Try "10px" or "2em" or simply "2".')}function ao(M){return M=M.trim().toLowerCase(),To(M)||(0,dt.isColor)(M)}function Dt(M){return M=M.trim(),To(M)||ct(M)||(0,dt.isLength)(M)||(0,dt.isPercentage)(M)}function z(M){return M=M.trim(),To(M)||ct(M)||(0,dt.isLength)(M)}function Ee(M,o){const i=new ne.Collection,r=io(M.t);for(const c in r){const m={type:"button",model:new Be.ViewModel({_borderStyleValue:c,label:r[c],role:"menuitemradio",withText:!0})};c==="none"?m.model.bind("isOn").to(M,"borderStyle",k=>o==="none"?!k:k===c):m.model.bind("isOn").to(M,"borderStyle",k=>k===c),i.add(m)}return i}function $e(M){const{view:o,icons:i,toolbar:r,labels:c,propertyName:m,nameToValue:k,defaultValue:A}=M;for(const E in c){const R=new Be.ButtonView(o.locale);R.set({label:c[E],icon:i[E],tooltip:c[E]});const ge=k?k(E):E;R.bind("isOn").to(o,m,Fe=>{let it=Fe;return Fe===""&&A&&(it=A),ge===it}),R.on("execute",()=>{o[m]=ge}),r.items.add(R)}}const Ge=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function at(M){return(o,i,r)=>{const c=new go(o.locale,{colorDefinitions:(m=M.colorConfig,m.map(k=>({color:k.model,label:k.label,options:{hasBorder:k.hasBorder}}))),columns:M.columns,defaultColorValue:M.defaultColorValue,colorPickerConfig:M.colorPickerConfig});var m;return c.inputView.set({id:i,ariaDescribedById:r}),c.bind("isReadOnly").to(o,"isEnabled",k=>!k),c.bind("hasError").to(o,"errorText",k=>!!k),c.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused").to(c),c}}function ct(M){const o=parseFloat(M);return!Number.isNaN(o)&&M===String(o)}var It=K(839),yt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(It.A,yt),It.A.locals;class Ct extends Be.View{constructor(o,i={}){super(o);const r=this.bindTemplate;this.set("class",i.class||null),this.children=this.createCollection(),i.children&&i.children.forEach(c=>this.children.add(c)),this.set("_role",null),this.set("_ariaLabelledBy",null),i.labelView&&this.set({_role:"group",_ariaLabelledBy:i.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",r.to("class")],role:r.to("_role"),"aria-labelledby":r.to("_ariaLabelledBy")},children:this.children})}}var $t=K(67),ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()($t.A,ii),$t.A.locals;var wi=K(911),li={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(wi.A,li),wi.A.locals;var ki=K(266),Vi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(ki.A,Vi),ki.A.locals;const wn={left:d.icons.alignLeft,center:d.icons.alignCenter,right:d.icons.alignRight,justify:d.icons.alignJustify,top:d.icons.alignTop,middle:d.icons.alignMiddle,bottom:d.icons.alignBottom};class Vn extends Be.View{constructor(o,i){super(o),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=i;const{borderStyleDropdown:r,borderWidthInput:c,borderColorInput:m,borderRowLabel:k}=this._createBorderFields(),{backgroundRowLabel:A,backgroundInput:E}=this._createBackgroundFields(),{widthInput:R,operatorLabel:ge,heightInput:Fe,dimensionsLabel:it}=this._createDimensionFields(),{horizontalAlignmentToolbar:Mt,verticalAlignmentToolbar:zt,alignmentLabel:Ht}=this._createAlignmentFields();this.focusTracker=new ne.FocusTracker,this.keystrokes=new ne.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=c,this.borderColorInput=m,this.backgroundInput=E,this.paddingInput=this._createPaddingField(),this.widthInput=R,this.heightInput=Fe,this.horizontalAlignmentToolbar=Mt,this.verticalAlignmentToolbar=zt;const{saveButtonView:ti,cancelButtonView:hi}=this._createActionButtons();this.saveButtonView=ti,this.cancelButtonView=hi,this._focusables=new Be.ViewCollection,this._focusCycler=new Be.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Be.FormHeaderView(o,{label:this.t("Cell properties")})),this.children.add(new Ct(o,{labelView:k,children:[k,r,m,c],class:"ck-table-form__border-row"})),this.children.add(new Ct(o,{labelView:A,children:[A,E],class:"ck-table-form__background-row"})),this.children.add(new Ct(o,{children:[new Ct(o,{labelView:it,children:[it,R,ge,Fe],class:"ck-table-form__dimensions-row"}),new Ct(o,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Ct(o,{labelView:Ht,children:[Ht,Mt,zt],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Ct(o,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Be.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(o=>{o.fieldView.focusCycler.on("forwardCycle",i=>{this._focusCycler.focusNext(),i.stop()}),o.fieldView.focusCycler.on("backwardCycle",i=>{this._focusCycler.focusPrevious(),i.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const o=this.options.defaultTableCellProperties,i={style:o.borderStyle,width:o.borderWidth,color:o.borderColor},r=at({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),c=this.locale,m=this.t,k=m("Style"),A=new Be.LabelView(c);A.text=m("Border");const E=io(m),R=new Be.LabeledFieldView(c,Be.createLabeledDropdown);R.set({label:k,class:"ck-table-form__border-style"}),R.fieldView.buttonView.set({ariaLabel:k,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:k}),R.fieldView.buttonView.bind("label").to(this,"borderStyle",it=>E[it||"none"]),R.fieldView.on("execute",it=>{this.borderStyle=it.source._borderStyleValue}),R.bind("isEmpty").to(this,"borderStyle",it=>!it),(0,Be.addListToDropdown)(R.fieldView,Ee(this,i.style),{role:"menu",ariaLabel:k});const ge=new Be.LabeledFieldView(c,Be.createLabeledInputText);ge.set({label:m("Width"),class:"ck-table-form__border-width"}),ge.fieldView.bind("value").to(this,"borderWidth"),ge.bind("isEnabled").to(this,"borderStyle",Cn),ge.fieldView.on("input",()=>{this.borderWidth=ge.fieldView.element.value});const Fe=new Be.LabeledFieldView(c,r);return Fe.set({label:m("Color"),class:"ck-table-form__border-color"}),Fe.fieldView.bind("value").to(this,"borderColor"),Fe.bind("isEnabled").to(this,"borderStyle",Cn),Fe.fieldView.on("input",()=>{this.borderColor=Fe.fieldView.value}),this.on("change:borderStyle",(it,Mt,zt,Ht)=>{Cn(zt)||(this.borderColor="",this.borderWidth=""),Cn(Ht)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:A,borderStyleDropdown:R,borderColorInput:Fe,borderWidthInput:ge}}_createBackgroundFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Background");const c=at({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),m=new Be.LabeledFieldView(o,c);return m.set({label:i("Color"),class:"ck-table-cell-properties-form__background"}),m.fieldView.bind("value").to(this,"backgroundColor"),m.fieldView.on("input",()=>{this.backgroundColor=m.fieldView.value}),{backgroundRowLabel:r,backgroundInput:m}}_createDimensionFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Dimensions");const c=new Be.LabeledFieldView(o,Be.createLabeledInputText);c.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),c.fieldView.bind("value").to(this,"width"),c.fieldView.on("input",()=>{this.width=c.fieldView.element.value});const m=new Be.View(o);m.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const k=new Be.LabeledFieldView(o,Be.createLabeledInputText);return k.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),k.fieldView.bind("value").to(this,"height"),k.fieldView.on("input",()=>{this.height=k.fieldView.element.value}),{dimensionsLabel:r,widthInput:c,operatorLabel:m,heightInput:k}}_createPaddingField(){const o=this.locale,i=this.t,r=new Be.LabeledFieldView(o,Be.createLabeledInputText);return r.set({label:i("Padding"),class:"ck-table-cell-properties-form__padding"}),r.fieldView.bind("value").to(this,"padding"),r.fieldView.on("input",()=>{this.padding=r.fieldView.element.value}),r}_createAlignmentFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Table cell text alignment");const c=new Be.ToolbarView(o),m=o.contentLanguageDirection==="rtl";c.set({isCompact:!0,ariaLabel:i("Horizontal text alignment toolbar")}),$e({view:this,icons:wn,toolbar:c,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:A=>{if(m){if(A==="left")return"right";if(A==="right")return"left"}return A},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const k=new Be.ToolbarView(o);return k.set({isCompact:!0,ariaLabel:i("Vertical text alignment toolbar")}),$e({view:this,icons:wn,toolbar:k,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:c,verticalAlignmentToolbar:k,alignmentLabel:r}}_createActionButtons(){const o=this.locale,i=this.t,r=new Be.ButtonView(o),c=new Be.ButtonView(o),m=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return r.set({label:i("Save"),icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(m,"errorText",(...k)=>k.every(A=>!A)),c.set({label:i("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),c.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:c}}get _horizontalAlignmentLabels(){const o=this.locale,i=this.t,r=i("Align cell text to the left"),c=i("Align cell text to the center"),m=i("Align cell text to the right"),k=i("Justify cell text");return o.uiLanguageDirection==="rtl"?{right:m,center:c,left:r,justify:k}:{left:r,center:c,right:m,justify:k}}get _verticalAlignmentLabels(){const o=this.t;return{top:o("Align cell text to the top"),middle:o("Align cell text to the middle"),bottom:o("Align cell text to the bottom")}}}function Cn(M){return M!=="none"}const Rn=function(M){var o=typeof M;return M!=null&&(o=="object"||o=="function")},en=typeof global=="object"&&global&&global.Object===Object&&global;var Pn=typeof self=="object"&&self&&self.Object===Object&&self;const Qi=en||Pn||Function("return this")(),no=function(){return Qi.Date.now()};var vo=/\s/;const Xt=function(M){for(var o=M.length;o--&&vo.test(M.charAt(o)););return o};var ue=/^\s+/;const N=function(M){return M&&M.slice(0,Xt(M)+1).replace(ue,"")},ie=Qi.Symbol;var We=Object.prototype,lt=We.hasOwnProperty,Se=We.toString,Nt=ie?ie.toStringTag:void 0;const ui=function(M){var o=lt.call(M,Nt),i=M[Nt];try{M[Nt]=void 0;var r=!0}catch{}var c=Se.call(M);return r&&(o?M[Nt]=i:delete M[Nt]),c};var ri=Object.prototype.toString;const me=function(M){return ri.call(M)};var C=ie?ie.toStringTag:void 0;const F=function(M){return M==null?M===void 0?"[object Undefined]":"[object Null]":C&&C in Object(M)?ui(M):me(M)},Q=function(M){return M!=null&&typeof M=="object"},ke=function(M){return typeof M=="symbol"||Q(M)&&F(M)=="[object Symbol]"};var Ve=/^[-+]0x[0-9a-f]+$/i,je=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,De=parseInt;const Ue=function(M){if(typeof M=="number")return M;if(ke(M))return NaN;if(Rn(M)){var o=typeof M.valueOf=="function"?M.valueOf():M;M=Rn(o)?o+"":o}if(typeof M!="string")return M===0?M:+M;M=N(M);var i=je.test(M);return i||Me.test(M)?De(M.slice(2),i?2:8):Ve.test(M)?NaN:+M};var st=Math.max,mt=Math.min;const _t=function(M,o,i){var r,c,m,k,A,E,R=0,ge=!1,Fe=!1,it=!0;if(typeof M!="function")throw new TypeError("Expected a function");function Mt(pi){var Wi=r,an=c;return r=c=void 0,R=pi,k=M.apply(an,Wi)}function zt(pi){var Wi=pi-E;return E===void 0||Wi>=o||Wi<0||Fe&&pi-R>=m}function Ht(){var pi=no();if(zt(pi))return ti(pi);A=setTimeout(Ht,function(Wi){var an=o-(Wi-E);return Fe?mt(an,m-(Wi-R)):an}(pi))}function ti(pi){return A=void 0,it&&r?Mt(pi):(r=c=void 0,k)}function hi(){var pi=no(),Wi=zt(pi);if(r=arguments,c=this,E=pi,Wi){if(A===void 0)return function(an){return R=an,A=setTimeout(Ht,o),ge?Mt(an):k}(E);if(Fe)return clearTimeout(A),A=setTimeout(Ht,o),Mt(E)}return A===void 0&&(A=setTimeout(Ht,o)),k}return o=Ue(o)||0,Rn(i)&&(ge=!!i.leading,m=(Fe="maxWait"in i)?st(Ue(i.maxWait)||0,o):m,it="trailing"in i?!!i.trailing:it),hi.cancel=function(){A!==void 0&&clearTimeout(A),R=0,r=E=c=A=void 0},hi.flush=function(){return A===void 0?k:ti(no())},hi},Pt=Be.BalloonPanelView.defaultPositions,qt=[Pt.northArrowSouth,Pt.northArrowSouthWest,Pt.northArrowSouthEast,Pt.southArrowNorth,Pt.southArrowNorthWest,Pt.southArrowNorthEast,Pt.viewportStickyNorth];function jt(M,o){const i=M.plugins.get("ContextualBalloon"),r=M.editing.view.document.selection;let c;o==="cell"?Ln(r)&&(c=ci(M)):jn(r)&&(c=Jt(M)),c&&i.updatePosition(c)}function Jt(M){const o=ye(M.model.document.selection),i=M.editing.mapper.toViewElement(o);return{target:M.editing.view.domConverter.mapViewToDom(i),positions:qt}}function ci(M){const o=M.editing.mapper,i=M.editing.view.domConverter,r=M.model.document.selection;if(r.rangeCount>1)return{target:()=>function(k,A){const E=A.editing.mapper,R=A.editing.view.domConverter,ge=Array.from(k).map(Fe=>{const it=Oi(Fe.start),Mt=E.toViewElement(it);return new ne.Rect(R.mapViewToDom(Mt))});return ne.Rect.getBoundingRect(ge)}(r.getRanges(),M),positions:qt};const c=Oi(r.getFirstPosition()),m=o.toViewElement(c);return{target:i.mapViewToDom(m),positions:qt}}function Oi(M){return M.nodeAfter&&M.nodeAfter.is("element","tableCell")?M.nodeAfter:M.findAncestor("tableCell")}function Ai(M){if(!M||!Rn(M))return M;const{top:o,right:i,bottom:r,left:c}=M;return o==i&&i==r&&r==c?o:void 0}function ji(M,o){const i=parseFloat(M);return Number.isNaN(i)||String(i)!==String(M)?M:`${i}${o}`}function qi(M,o={}){const i={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...M};return o.includeAlignmentProperty&&!i.alignment&&(i.alignment="center"),o.includePaddingProperty&&!i.padding&&(i.padding=""),o.includeVerticalAlignmentProperty&&!i.verticalAlignment&&(i.verticalAlignment="middle"),o.includeHorizontalAlignmentProperty&&!i.horizontalAlignment&&(i.horizontalAlignment=o.isRightToLeftContent?"right":"left"),i}const Ri={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class kn extends d.Plugin{static get requires(){return[Be.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(o){super(o),o.config.define("table.tableCellProperties",{borderColors:Ge,backgroundColors:Ge})}init(){const o=this.editor,i=o.t;this._defaultTableCellProperties=qi(o.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:o.locale.contentLanguageDirection==="rtl"}),this._balloon=o.plugins.get(Be.ContextualBalloon),this.view=null,this._isReady=!1,o.ui.componentFactory.add("tableCellProperties",r=>{const c=new Be.ButtonView(r);c.set({label:i("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(c,"execute",()=>this._showView());const m=Object.values(Ri).map(k=>o.commands.get(k));return c.bind("isEnabled").toMany(m,"isEnabled",(...k)=>k.some(A=>A)),c})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const o=this.editor,i=o.config.get("table.tableCellProperties"),r=(0,Be.normalizeColorOptions)(i.borderColors),c=(0,Be.getLocalizedColorOptions)(o.locale,r),m=(0,Be.normalizeColorOptions)(i.backgroundColors),k=(0,Be.getLocalizedColorOptions)(o.locale,m),A=i.colorPicker!==!1,E=new Vn(o.locale,{borderColors:c,backgroundColors:k,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!A&&(i.colorPicker||{})}),R=o.t;E.render(),this.listenTo(E,"submit",()=>{this._hideView()}),this.listenTo(E,"cancel",()=>{this._undoStepBatch.operations.length&&o.execute("undo",this._undoStepBatch),this._hideView()}),E.keystrokes.set("Esc",(it,Mt)=>{this._hideView(),Mt()}),(0,Be.clickOutsideHandler)({emitter:E,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const ge=po(R),Fe=No(R);return E.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),E.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:E.borderColorInput,commandName:"tableCellBorderColor",errorText:ge,validator:ao})),E.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:E.borderWidthInput,commandName:"tableCellBorderWidth",errorText:Fe,validator:z})),E.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:E.paddingInput,commandName:"tableCellPadding",errorText:Fe,validator:Dt})),E.on("change:width",this._getValidatedPropertyChangeCallback({viewField:E.widthInput,commandName:"tableCellWidth",errorText:Fe,validator:Dt})),E.on("change:height",this._getValidatedPropertyChangeCallback({viewField:E.heightInput,commandName:"tableCellHeight",errorText:Fe,validator:Dt})),E.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:E.backgroundInput,commandName:"tableCellBackgroundColor",errorText:ge,validator:ao})),E.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),E.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),E}_fillViewFormFromCommandValues(){const o=this.editor.commands,i=o.get("tableCellBorderStyle");Object.entries(Ri).map(([r,c])=>{const m=this._defaultTableCellProperties[r]||"";return[r,o.get(c).value||m]}).forEach(([r,c])=>{(r!=="borderColor"&&r!=="borderWidth"||i.value!=="none")&&this.view.set(r,c)}),this._isReady=!0}_showView(){const o=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(o.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:ci(o)}),this._undoStepBatch=o.model.createBatch(),this.view.focus()}_hideView(){const o=this.editor;this.stopListening(o.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const o=this.editor;Ln(o.editing.view.document.selection)?this._isViewVisible&&jt(o,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(o){return(i,r,c)=>{this._isReady&&this.editor.execute(o,{value:c,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(o){const{commandName:i,viewField:r,validator:c,errorText:m}=o,k=_t(()=>{r.errorText=m},500);return(A,E,R)=>{k.cancel(),this._isReady&&(c(R)?(this.editor.execute(i,{value:R,batch:this._undoStepBatch}),r.errorText=null):k())}}}class oo extends d.Command{constructor(o,i,r){super(o),this.attributeName=i,this._defaultValue=r}refresh(){const o=this.editor,i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(o.model.document.selection);this.isEnabled=!!i.length,this.value=this._getSingleValue(i)}execute(o={}){const{value:i,batch:r}=o,c=this.editor.model,m=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(c.document.selection),k=this._getValueToSet(i);c.enqueueChange(r,A=>{k?m.forEach(E=>A.setAttribute(this.attributeName,k,E)):m.forEach(E=>A.removeAttribute(this.attributeName,E))})}_getAttribute(o){if(!o)return;const i=o.getAttribute(this.attributeName);return i!==this._defaultValue?i:void 0}_getValueToSet(o){if(o!==this._defaultValue)return o}_getSingleValue(o){const i=this._getAttribute(o[0]);return o.every(r=>this._getAttribute(r)===i)?i:void 0}}class bo extends oo{constructor(o,i){super(o,"tableCellWidth",i)}_getValueToSet(o){if((o=ji(o,"px"))!==this._defaultValue)return o}}class cr extends d.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[qe]}init(){const o=this.editor,i=qi(o.config.get("table.tableCellProperties.defaultProperties"));V(o.model.schema,o.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:i.width}),o.commands.add("tableCellWidth",new bo(o,i.width))}}class ir extends oo{constructor(o,i){super(o,"tableCellPadding",i)}_getAttribute(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}_getValueToSet(o){const i=ji(o,"px");if(i!==this._defaultValue)return i}}class dr extends oo{constructor(o,i){super(o,"tableCellHeight",i)}_getValueToSet(o){const i=ji(o,"px");if(i!==this._defaultValue)return i}}class Sr extends oo{constructor(o,i){super(o,"tableCellBackgroundColor",i)}}class fr extends oo{constructor(o,i){super(o,"tableCellVerticalAlignment",i)}}class Uo extends oo{constructor(o,i){super(o,"tableCellHorizontalAlignment",i)}}class ur extends oo{constructor(o,i){super(o,"tableCellBorderStyle",i)}_getAttribute(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}}class hr extends oo{constructor(o,i){super(o,"tableCellBorderColor",i)}_getAttribute(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}}class Bo extends oo{constructor(o,i){super(o,"tableCellBorderWidth",i)}_getAttribute(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}_getValueToSet(o){const i=ji(o,"px");if(i!==this._defaultValue)return i}}const mr=/^(top|middle|bottom)$/,Zo=/^(left|center|right|justify)$/;class br extends d.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[qe,cr]}init(){const o=this.editor,i=o.model.schema,r=o.conversion;o.config.define("table.tableCellProperties.defaultProperties",{});const c=qi(o.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:o.locale.contentLanguageDirection==="rtl"});o.data.addStyleProcessorRules(dt.addBorderRules),function(m,k,A){const E={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};m.extend("tableCell",{allowAttributes:Object.values(E)}),u(k,"td",E,A),u(k,"th",E,A),y(k,{modelElement:"tableCell",modelAttribute:E.style,styleName:"border-style"}),y(k,{modelElement:"tableCell",modelAttribute:E.color,styleName:"border-color"}),y(k,{modelElement:"tableCell",modelAttribute:E.width,styleName:"border-width"})}(i,r,{color:c.borderColor,style:c.borderStyle,width:c.borderWidth}),o.commands.add("tableCellBorderStyle",new ur(o,c.borderStyle)),o.commands.add("tableCellBorderColor",new hr(o,c.borderColor)),o.commands.add("tableCellBorderWidth",new Bo(o,c.borderWidth)),V(i,r,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:c.height}),o.commands.add("tableCellHeight",new dr(o,c.height)),o.data.addStyleProcessorRules(dt.addPaddingRules),V(i,r,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:c.padding}),o.commands.add("tableCellPadding",new ir(o,c.padding)),o.data.addStyleProcessorRules(dt.addBackgroundRules),V(i,r,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:c.backgroundColor}),o.commands.add("tableCellBackgroundColor",new Sr(o,c.backgroundColor)),function(m,k,A){m.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),k.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:E=>({key:"style",value:{"text-align":E}})}),k.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":Zo}},model:{key:"tableCellHorizontalAlignment",value:E=>{const R=E.getStyle("text-align");return R===A?null:R}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:Zo}},model:{key:"tableCellHorizontalAlignment",value:E=>{const R=E.getAttribute("align");return R===A?null:R}}})}(i,r,c.horizontalAlignment),o.commands.add("tableCellHorizontalAlignment",new Uo(o,c.horizontalAlignment)),function(m,k,A){m.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),k.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:E=>({key:"style",value:{"vertical-align":E}})}),k.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":mr}},model:{key:"tableCellVerticalAlignment",value:E=>{const R=E.getStyle("vertical-align");return R===A?null:R}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:mr}},model:{key:"tableCellVerticalAlignment",value:E=>{const R=E.getAttribute("valign");return R===A?null:R}}})}(i,r,c.verticalAlignment),o.commands.add("tableCellVerticalAlignment",new fr(o,c.verticalAlignment))}}class se extends d.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[br,kn]}}class re extends d.Command{constructor(o,i,r){super(o),this.attributeName=i,this._defaultValue=r}refresh(){const o=ye(this.editor.model.document.selection);this.isEnabled=!!o,this.value=this._getValue(o)}execute(o={}){const i=this.editor.model,r=i.document.selection,{value:c,batch:m}=o,k=ye(r),A=this._getValueToSet(c);i.enqueueChange(m,E=>{A?E.setAttribute(this.attributeName,A,k):E.removeAttribute(this.attributeName,k)})}_getValue(o){if(!o)return;const i=o.getAttribute(this.attributeName);return i!==this._defaultValue?i:void 0}_getValueToSet(o){if(o!==this._defaultValue)return o}}class Je extends re{constructor(o,i){super(o,"tableBackgroundColor",i)}}class At extends re{constructor(o,i){super(o,"tableBorderColor",i)}_getValue(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}}class si extends re{constructor(o,i){super(o,"tableBorderStyle",i)}_getValue(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}}class Ei extends re{constructor(o,i){super(o,"tableBorderWidth",i)}_getValue(o){if(!o)return;const i=Ai(o.getAttribute(this.attributeName));return i!==this._defaultValue?i:void 0}_getValueToSet(o){const i=ji(o,"px");if(i!==this._defaultValue)return i}}class Si extends re{constructor(o,i){super(o,"tableWidth",i)}_getValueToSet(o){if((o=ji(o,"px"))!==this._defaultValue)return o}}class Ti extends re{constructor(o,i){super(o,"tableHeight",i)}_getValueToSet(o){if((o=ji(o,"px"))!==this._defaultValue)return o}}class gn extends re{constructor(o,i){super(o,"tableAlignment",i)}}const dn=/^(left|center|right)$/,yo=/^(left|none|right)$/;class ho extends d.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[qe]}init(){const o=this.editor,i=o.model.schema,r=o.conversion;o.config.define("table.tableProperties.defaultProperties",{});const c=qi(o.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});o.data.addStyleProcessorRules(dt.addBorderRules),function(m,k,A){const E={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};m.extend("table",{allowAttributes:Object.values(E)}),u(k,"table",E,A),P(k,{modelAttribute:E.color,styleName:"border-color"}),P(k,{modelAttribute:E.style,styleName:"border-style"}),P(k,{modelAttribute:E.width,styleName:"border-width"})}(i,r,{color:c.borderColor,style:c.borderStyle,width:c.borderWidth}),o.commands.add("tableBorderColor",new At(o,c.borderColor)),o.commands.add("tableBorderStyle",new si(o,c.borderStyle)),o.commands.add("tableBorderWidth",new Ei(o,c.borderWidth)),function(m,k,A){m.extend("table",{allowAttributes:["tableAlignment"]}),k.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:E=>({key:"style",value:{float:E==="center"?"none":E}}),converterPriority:"high"}),k.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:yo}},model:{key:"tableAlignment",value:E=>{let R=E.getStyle("float");return R==="none"&&(R="center"),R===A?null:R}}}).attributeToAttribute({view:{attributes:{align:dn}},model:{name:"table",key:"tableAlignment",value:E=>{const R=E.getAttribute("align");return R===A?null:R}}})}(i,r,c.alignment),o.commands.add("tableAlignment",new gn(o,c.alignment)),Tn(i,r,{modelAttribute:"tableWidth",styleName:"width",defaultValue:c.width}),o.commands.add("tableWidth",new Si(o,c.width)),Tn(i,r,{modelAttribute:"tableHeight",styleName:"height",defaultValue:c.height}),o.commands.add("tableHeight",new Ti(o,c.height)),o.data.addStyleProcessorRules(dt.addBackgroundRules),function(m,k,A){const{modelAttribute:E}=A;m.extend("table",{allowAttributes:[E]}),s(k,{viewElement:"table",...A}),P(k,A)}(i,r,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:c.backgroundColor}),o.commands.add("tableBackgroundColor",new Je(o,c.backgroundColor))}}function Tn(M,o,i){const{modelAttribute:r}=i;M.extend("table",{allowAttributes:[r]}),s(o,{viewElement:/^(table|figure)$/,shouldUpcast:c=>!(c.name=="table"&&c.parent.name=="figure"),...i}),y(o,{modelElement:"table",...i})}var Eo=K(218),Lo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(Eo.A,Lo),Eo.A.locals;const wo={left:d.icons.objectLeft,center:d.icons.objectCenter,right:d.icons.objectRight};class Dn extends Be.View{constructor(o,i){super(o),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=i;const{borderStyleDropdown:r,borderWidthInput:c,borderColorInput:m,borderRowLabel:k}=this._createBorderFields(),{backgroundRowLabel:A,backgroundInput:E}=this._createBackgroundFields(),{widthInput:R,operatorLabel:ge,heightInput:Fe,dimensionsLabel:it}=this._createDimensionFields(),{alignmentToolbar:Mt,alignmentLabel:zt}=this._createAlignmentFields();this.focusTracker=new ne.FocusTracker,this.keystrokes=new ne.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=r,this.borderWidthInput=c,this.borderColorInput=m,this.backgroundInput=E,this.widthInput=R,this.heightInput=Fe,this.alignmentToolbar=Mt;const{saveButtonView:Ht,cancelButtonView:ti}=this._createActionButtons();this.saveButtonView=Ht,this.cancelButtonView=ti,this._focusables=new Be.ViewCollection,this._focusCycler=new Be.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Be.FormHeaderView(o,{label:this.t("Table properties")})),this.children.add(new Ct(o,{labelView:k,children:[k,r,m,c],class:"ck-table-form__border-row"})),this.children.add(new Ct(o,{labelView:A,children:[A,E],class:"ck-table-form__background-row"})),this.children.add(new Ct(o,{children:[new Ct(o,{labelView:it,children:[it,R,ge,Fe],class:"ck-table-form__dimensions-row"}),new Ct(o,{labelView:zt,children:[zt,Mt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Ct(o,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Be.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(o=>{o.fieldView.focusCycler.on("forwardCycle",i=>{this._focusCycler.focusNext(),i.stop()}),o.fieldView.focusCycler.on("backwardCycle",i=>{this._focusCycler.focusPrevious(),i.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const o=this.options.defaultTableProperties,i={style:o.borderStyle,width:o.borderWidth,color:o.borderColor},r=at({colorConfig:this.options.borderColors,columns:5,defaultColorValue:i.color,colorPickerConfig:this.options.colorPickerConfig}),c=this.locale,m=this.t,k=m("Style"),A=new Be.LabelView(c);A.text=m("Border");const E=io(m),R=new Be.LabeledFieldView(c,Be.createLabeledDropdown);R.set({label:k,class:"ck-table-form__border-style"}),R.fieldView.buttonView.set({ariaLabel:k,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:k}),R.fieldView.buttonView.bind("label").to(this,"borderStyle",it=>E[it||"none"]),R.fieldView.on("execute",it=>{this.borderStyle=it.source._borderStyleValue}),R.bind("isEmpty").to(this,"borderStyle",it=>!it),(0,Be.addListToDropdown)(R.fieldView,Ee(this,i.style),{role:"menu",ariaLabel:k});const ge=new Be.LabeledFieldView(c,Be.createLabeledInputText);ge.set({label:m("Width"),class:"ck-table-form__border-width"}),ge.fieldView.bind("value").to(this,"borderWidth"),ge.bind("isEnabled").to(this,"borderStyle",Qn),ge.fieldView.on("input",()=>{this.borderWidth=ge.fieldView.element.value});const Fe=new Be.LabeledFieldView(c,r);return Fe.set({label:m("Color"),class:"ck-table-form__border-color"}),Fe.fieldView.bind("value").to(this,"borderColor"),Fe.bind("isEnabled").to(this,"borderStyle",Qn),Fe.fieldView.on("input",()=>{this.borderColor=Fe.fieldView.value}),this.on("change:borderStyle",(it,Mt,zt,Ht)=>{Qn(zt)||(this.borderColor="",this.borderWidth=""),Qn(Ht)||(this.borderColor=i.color,this.borderWidth=i.width)}),{borderRowLabel:A,borderStyleDropdown:R,borderColorInput:Fe,borderWidthInput:ge}}_createBackgroundFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Background");const c=at({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),m=new Be.LabeledFieldView(o,c);return m.set({label:i("Color"),class:"ck-table-properties-form__background"}),m.fieldView.bind("value").to(this,"backgroundColor"),m.fieldView.on("input",()=>{this.backgroundColor=m.fieldView.value}),{backgroundRowLabel:r,backgroundInput:m}}_createDimensionFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Dimensions");const c=new Be.LabeledFieldView(o,Be.createLabeledInputText);c.set({label:i("Width"),class:"ck-table-form__dimensions-row__width"}),c.fieldView.bind("value").to(this,"width"),c.fieldView.on("input",()=>{this.width=c.fieldView.element.value});const m=new Be.View(o);m.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const k=new Be.LabeledFieldView(o,Be.createLabeledInputText);return k.set({label:i("Height"),class:"ck-table-form__dimensions-row__height"}),k.fieldView.bind("value").to(this,"height"),k.fieldView.on("input",()=>{this.height=k.fieldView.element.value}),{dimensionsLabel:r,widthInput:c,operatorLabel:m,heightInput:k}}_createAlignmentFields(){const o=this.locale,i=this.t,r=new Be.LabelView(o);r.text=i("Alignment");const c=new Be.ToolbarView(o);return c.set({isCompact:!0,ariaLabel:i("Table alignment toolbar")}),$e({view:this,icons:wo,toolbar:c,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:r,alignmentToolbar:c}}_createActionButtons(){const o=this.locale,i=this.t,r=new Be.ButtonView(o),c=new Be.ButtonView(o),m=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return r.set({label:i("Save"),icon:d.icons.check,class:"ck-button-save",type:"submit",withText:!0}),r.bind("isEnabled").toMany(m,"errorText",(...k)=>k.every(A=>!A)),c.set({label:i("Cancel"),icon:d.icons.cancel,class:"ck-button-cancel",withText:!0}),c.delegate("execute").to(this,"cancel"),{saveButtonView:r,cancelButtonView:c}}get _alignmentLabels(){const o=this.locale,i=this.t,r=i("Align table to the left"),c=i("Center table"),m=i("Align table to the right");return o.uiLanguageDirection==="rtl"?{right:m,center:c,left:r}:{left:r,center:c,right:m}}}function Qn(M){return M!=="none"}const ro={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class So extends d.Plugin{static get requires(){return[Be.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(o){super(o),this.view=null,o.config.define("table.tableProperties",{borderColors:Ge,backgroundColors:Ge})}init(){const o=this.editor,i=o.t;this._defaultTableProperties=qi(o.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=o.plugins.get(Be.ContextualBalloon),o.ui.componentFactory.add("tableProperties",r=>{const c=new Be.ButtonView(r);c.set({label:i("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(c,"execute",()=>this._showView());const m=Object.values(ro).map(k=>o.commands.get(k));return c.bind("isEnabled").toMany(m,"isEnabled",(...k)=>k.some(A=>A)),c})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const o=this.editor,i=o.config.get("table.tableProperties"),r=(0,Be.normalizeColorOptions)(i.borderColors),c=(0,Be.getLocalizedColorOptions)(o.locale,r),m=(0,Be.normalizeColorOptions)(i.backgroundColors),k=(0,Be.getLocalizedColorOptions)(o.locale,m),A=i.colorPicker!==!1,E=new Dn(o.locale,{borderColors:c,backgroundColors:k,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!A&&(i.colorPicker||{})}),R=o.t;E.render(),this.listenTo(E,"submit",()=>{this._hideView()}),this.listenTo(E,"cancel",()=>{this._undoStepBatch.operations.length&&o.execute("undo",this._undoStepBatch),this._hideView()}),E.keystrokes.set("Esc",(it,Mt)=>{this._hideView(),Mt()}),(0,Be.clickOutsideHandler)({emitter:E,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const ge=po(R),Fe=No(R);return E.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),E.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:E.borderColorInput,commandName:"tableBorderColor",errorText:ge,validator:ao})),E.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:E.borderWidthInput,commandName:"tableBorderWidth",errorText:Fe,validator:z})),E.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:E.backgroundInput,commandName:"tableBackgroundColor",errorText:ge,validator:ao})),E.on("change:width",this._getValidatedPropertyChangeCallback({viewField:E.widthInput,commandName:"tableWidth",errorText:Fe,validator:Dt})),E.on("change:height",this._getValidatedPropertyChangeCallback({viewField:E.heightInput,commandName:"tableHeight",errorText:Fe,validator:Dt})),E.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),E}_fillViewFormFromCommandValues(){const o=this.editor.commands,i=o.get("tableBorderStyle");Object.entries(ro).map(([r,c])=>{const m=r,k=this._defaultTableProperties[m]||"";return[m,o.get(c).value||k]}).forEach(([r,c])=>{(r!=="borderColor"&&r!=="borderWidth"||i.value!=="none")&&this.view.set(r,c)}),this._isReady=!0}_showView(){const o=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(o.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:Jt(o)}),this._undoStepBatch=o.model.createBatch(),this.view.focus()}_hideView(){const o=this.editor;this.stopListening(o.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const o=this.editor;jn(o.editing.view.document.selection)?this._isViewVisible&&jt(o,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(o){return(i,r,c)=>{this._isReady&&this.editor.execute(o,{value:c,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(o){const{commandName:i,viewField:r,validator:c,errorText:m}=o,k=_t(()=>{r.errorText=m},500);return(A,E,R)=>{k.cancel(),this._isReady&&(c(R)?(this.editor.execute(i,{value:R,batch:this._undoStepBatch}),r.errorText=null):k())}}}class Oo extends d.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[ho,So]}}function wr(M){M.document.registerPostFixer(o=>function(i,r){const c=r.document.differ.getChanges();let m=!1;for(const k of c){if(k.type!="insert")continue;const A=k.position.parent;if(A.is("element","table")||k.name=="table"){const E=k.name=="table"?k.position.nodeAfter:A,R=Array.from(E.getChildren()).filter(Fe=>Fe.is("element","caption")),ge=R.shift();if(!ge)continue;for(const Fe of R)i.move(i.createRangeIn(Fe),ge,"end"),i.remove(Fe);ge.nextSibling&&(i.move(i.createRangeOn(ge),E,"end"),m=!0),m=!!R.length||m}}return m}(o,M))}function kr(M){return!!M&&M.is("element","table")}function _r(M){for(const o of M.getChildren())if(o.is("element","caption"))return o;return null}function Jo(M){const o=M.parent;return M.name=="figcaption"&&o&&o.is("element","figure")&&o.hasClass("table")||M.name=="caption"&&o&&o.is("element","table")?{name:!0}:null}class fn extends d.Command{refresh(){const o=ye(this.editor.model.document.selection);this.isEnabled=!!o,this.isEnabled?this.value=!!_r(o):this.value=!1}execute({focusCaptionOnShow:o=!1}={}){this.editor.model.change(i=>{this.value?this._hideTableCaption(i):this._showTableCaption(i,o)})}_showTableCaption(o,i){const r=this.editor.model,c=ye(r.document.selection),m=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(c)||o.createElement("caption");r.insertContent(m,c,"end"),i&&o.setSelection(m,"in")}_hideTableCaption(o){const i=this.editor.model,r=ye(i.document.selection),c=this.editor.plugins.get("TableCaptionEditing"),m=_r(r);c._saveCaption(r,m),i.deleteContent(o.createSelection(m,"on"))}}class vr extends d.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(o){super(o),this._savedCaptionsMap=new WeakMap}init(){const o=this.editor,i=o.model.schema,r=o.editing.view,c=o.t;i.isRegistered("caption")?i.extend("caption",{allowIn:"table"}):i.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),o.commands.add("toggleTableCaption",new fn(this.editor)),o.conversion.for("upcast").elementToElement({view:Jo,model:"caption"}),o.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:k})=>kr(m.parent)?k.createContainerElement("figcaption"):null}),o.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:k})=>{if(!kr(m.parent))return null;const A=k.createEditableElement("figcaption");return k.setCustomProperty("tableCaption",!0,A),A.placeholder=c("Enter table caption"),(0,dt.enablePlaceholder)({view:r,element:A,keepOnFocus:!0}),(0,f.toWidgetEditable)(A,k)}}),wr(o.model)}_getSavedCaption(o){const i=this._savedCaptionsMap.get(o);return i?dt.Element.fromJSON(i):null}_saveCaption(o,i){this._savedCaptionsMap.set(o,i.toJSON())}}class tn extends d.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const o=this.editor,i=o.editing.view,r=o.t;o.ui.componentFactory.add("toggleTableCaption",c=>{const m=o.commands.get("toggleTableCaption"),k=new Be.ButtonView(c);return k.set({icon:d.icons.caption,tooltip:!0,isToggleable:!0}),k.bind("isOn","isEnabled").to(m,"value","isEnabled"),k.bind("label").to(m,"value",A=>r(A?"Toggle caption off":"Toggle caption on")),this.listenTo(k,"execute",()=>{if(o.execute("toggleTableCaption",{focusCaptionOnShow:!0}),m.value){const A=function(R){const ge=ye(R);return ge?_r(ge):null}(o.model.document.selection),E=o.editing.mapper.toViewElement(A);if(!E)return;i.scrollToTheSelection(),i.change(R=>{R.addClass("table__caption_highlighted",E)})}o.editing.view.focus()}),k})}}var xn=K(175),_n={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(xn.A,_n),xn.A.locals;class zn extends d.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[vr,tn]}}const jo=function(){this.__data__=[],this.size=0},Io=function(M,o){return M===o||M!=M&&o!=o},ko=function(M,o){for(var i=M.length;i--;)if(Io(M[i][0],o))return i;return-1};var Vo=Array.prototype.splice;const mo=function(M){var o=this.__data__,i=ko(o,M);return!(i<0)&&(i==o.length-1?o.pop():Vo.call(o,i,1),--this.size,!0)},Un=function(M){var o=this.__data__,i=ko(o,M);return i<0?void 0:o[i][1]},lo=function(M){return ko(this.__data__,M)>-1},En=function(M,o){var i=this.__data__,r=ko(i,M);return r<0?(++this.size,i.push([M,o])):i[r][1]=o,this};function qn(M){var o=-1,i=M==null?0:M.length;for(this.clear();++o<i;){var r=M[o];this.set(r[0],r[1])}}qn.prototype.clear=jo,qn.prototype.delete=mo,qn.prototype.get=Un,qn.prototype.has=lo,qn.prototype.set=En;const Do=qn,bs=function(){this.__data__=new Do,this.size=0},ws=function(M){var o=this.__data__,i=o.delete(M);return this.size=o.size,i},Gs=function(M){return this.__data__.get(M)},Zs=function(M){return this.__data__.has(M)},Ir=function(M){if(!Rn(M))return!1;var o=F(M);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"},Yr=Qi["__core-js_shared__"];var ks,Gr=(ks=/[^.]+$/.exec(Yr&&Yr.keys&&Yr.keys.IE_PROTO||""))?"Symbol(src)_1."+ks:"";const Js=function(M){return!!Gr&&Gr in M};var Qs=Function.prototype.toString;const Qo=function(M){if(M!=null){try{return Qs.call(M)}catch{}try{return M+""}catch{}}return""};var _s=/^\[object .+?Constructor\]$/,vs=Function.prototype,Pr=Object.prototype,ys=vs.toString,Po=Pr.hasOwnProperty,Zr=RegExp("^"+ys.call(Po).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const xs=function(M){return!(!Rn(M)||Js(M))&&(Ir(M)?Zr:_s).test(Qo(M))},yr=function(M,o){return M?.[o]},nr=function(M,o){var i=yr(M,o);return xs(i)?i:void 0},Wo=nr(Qi,"Map"),Go=nr(Object,"create"),As=function(){this.__data__=Go?Go(null):{},this.size=0},yn=function(M){var o=this.has(M)&&delete this.__data__[M];return this.size-=o?1:0,o};var co=Object.prototype.hasOwnProperty;const Mn=function(M){var o=this.__data__;if(Go){var i=o[M];return i==="__lodash_hash_undefined__"?void 0:i}return co.call(o,M)?o[M]:void 0};var Kn=Object.prototype.hasOwnProperty;const xo=function(M){var o=this.__data__;return Go?o[M]!==void 0:Kn.call(o,M)},Jr=function(M,o){var i=this.__data__;return this.size+=this.has(M)?0:1,i[M]=Go&&o===void 0?"__lodash_hash_undefined__":o,this};function Nn(M){var o=-1,i=M==null?0:M.length;for(this.clear();++o<i;){var r=M[o];this.set(r[0],r[1])}}Nn.prototype.clear=As,Nn.prototype.delete=yn,Nn.prototype.get=Mn,Nn.prototype.has=xo,Nn.prototype.set=Jr;const Xn=Nn,Ao=function(){this.size=0,this.__data__={hash:new Xn,map:new(Wo||Do),string:new Xn}},$o=function(M){var o=typeof M;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?M!=="__proto__":M===null},Mo=function(M,o){var i=M.__data__;return $o(o)?i[typeof o=="string"?"string":"hash"]:i.map},Ro=function(M){var o=Mo(this,M).delete(M);return this.size-=o?1:0,o},Cs=function(M){return Mo(this,M).get(M)},Mr=function(M){return Mo(this,M).has(M)},An=function(M,o){var i=Mo(this,M),r=i.size;return i.set(M,o),this.size+=i.size==r?0:1,this};function or(M){var o=-1,i=M==null?0:M.length;for(this.clear();++o<i;){var r=M[o];this.set(r[0],r[1])}}or.prototype.clear=Ao,or.prototype.delete=Ro,or.prototype.get=Cs,or.prototype.has=Mr,or.prototype.set=An;const Qr=or,Lr=function(M,o){var i=this.__data__;if(i instanceof Do){var r=i.__data__;if(!Wo||r.length<199)return r.push([M,o]),this.size=++i.size,this;i=this.__data__=new Qr(r)}return i.set(M,o),this.size=i.size,this};function Xo(M){var o=this.__data__=new Do(M);this.size=o.size}Xo.prototype.clear=bs,Xo.prototype.delete=ws,Xo.prototype.get=Gs,Xo.prototype.has=Zs,Xo.prototype.set=Lr;const Or=Xo,Ts=function(M){return this.__data__.set(M,"__lodash_hash_undefined__"),this},Xr=function(M){return this.__data__.has(M)};function xr(M){var o=-1,i=M==null?0:M.length;for(this.__data__=new Qr;++o<i;)this.add(M[o])}xr.prototype.add=xr.prototype.push=Ts,xr.prototype.has=Xr;const zo=xr,Co=function(M,o){for(var i=-1,r=M==null?0:M.length;++i<r;)if(o(M[i],i,M))return!0;return!1},Xs=function(M,o){return M.has(o)},es=function(M,o,i,r,c,m){var k=1&i,A=M.length,E=o.length;if(A!=E&&!(k&&E>A))return!1;var R=m.get(M),ge=m.get(o);if(R&&ge)return R==o&&ge==M;var Fe=-1,it=!0,Mt=2&i?new zo:void 0;for(m.set(M,o),m.set(o,M);++Fe<A;){var zt=M[Fe],Ht=o[Fe];if(r)var ti=k?r(Ht,zt,Fe,o,M,m):r(zt,Ht,Fe,M,o,m);if(ti!==void 0){if(ti)continue;it=!1;break}if(Mt){if(!Co(o,function(hi,pi){if(!Xs(Mt,pi)&&(zt===hi||c(zt,hi,i,r,m)))return Mt.push(pi)})){it=!1;break}}else if(zt!==Ht&&!c(zt,Ht,i,r,m)){it=!1;break}}return m.delete(M),m.delete(o),it},rr=Qi.Uint8Array,ea=function(M){var o=-1,i=Array(M.size);return M.forEach(function(r,c){i[++o]=[c,r]}),i},Es=function(M){var o=-1,i=Array(M.size);return M.forEach(function(r){i[++o]=r}),i};var Ss=ie?ie.prototype:void 0,jr=Ss?Ss.valueOf:void 0;const Is=function(M,o,i,r,c,m,k){switch(i){case"[object DataView]":if(M.byteLength!=o.byteLength||M.byteOffset!=o.byteOffset)return!1;M=M.buffer,o=o.buffer;case"[object ArrayBuffer]":return!(M.byteLength!=o.byteLength||!m(new rr(M),new rr(o)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Io(+M,+o);case"[object Error]":return M.name==o.name&&M.message==o.message;case"[object RegExp]":case"[object String]":return M==o+"";case"[object Map]":var A=ea;case"[object Set]":var E=1&r;if(A||(A=Es),M.size!=o.size&&!E)return!1;var R=k.get(M);if(R)return R==o;r|=2,k.set(M,o);var ge=es(A(M),A(o),r,c,m,k);return k.delete(M),ge;case"[object Symbol]":if(jr)return jr.call(M)==jr.call(o)}return!1},ta=function(M,o){for(var i=-1,r=o.length,c=M.length;++i<r;)M[c+i]=o[i];return M},Ar=Array.isArray,ts=function(M,o,i){var r=o(M);return Ar(M)?r:ta(r,i(M))},Ps=function(M,o){for(var i=-1,r=M==null?0:M.length,c=0,m=[];++i<r;){var k=M[i];o(k,i,M)&&(m[c++]=k)}return m},is=function(){return[]};var ia=Object.prototype.propertyIsEnumerable,Vr=Object.getOwnPropertySymbols;const Rr=Vr?function(M){return M==null?[]:(M=Object(M),Ps(Vr(M),function(o){return ia.call(M,o)}))}:is,Nr=function(M,o){for(var i=-1,r=Array(M);++i<M;)r[i]=o(i);return r},Ms=function(M){return Q(M)&&F(M)=="[object Arguments]"};var Ls=Object.prototype,na=Ls.hasOwnProperty,ns=Ls.propertyIsEnumerable;const oa=Ms(function(){return arguments}())?Ms:function(M){return Q(M)&&na.call(M,"callee")&&!ns.call(M,"callee")},Os=function(){return!1};var Br=typeof exports=="object"&&exports&&!exports.nodeType&&exports,os=Br&&typeof module=="object"&&module&&!module.nodeType&&module,rs=os&&os.exports===Br?Qi.Buffer:void 0;const Cr=(rs?rs.isBuffer:void 0)||Os;var ra=/^(?:0|[1-9]\d*)$/;const js=function(M,o){var i=typeof M;return!!(o=o??9007199254740991)&&(i=="number"||i!="symbol"&&ra.test(M))&&M>-1&&M%1==0&&M<o},Vs=function(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=9007199254740991};var Wn={};Wn["[object Float32Array]"]=Wn["[object Float64Array]"]=Wn["[object Int8Array]"]=Wn["[object Int16Array]"]=Wn["[object Int32Array]"]=Wn["[object Uint8Array]"]=Wn["[object Uint8ClampedArray]"]=Wn["[object Uint16Array]"]=Wn["[object Uint32Array]"]=!0,Wn["[object Arguments]"]=Wn["[object Array]"]=Wn["[object ArrayBuffer]"]=Wn["[object Boolean]"]=Wn["[object DataView]"]=Wn["[object Date]"]=Wn["[object Error]"]=Wn["[object Function]"]=Wn["[object Map]"]=Wn["[object Number]"]=Wn["[object Object]"]=Wn["[object RegExp]"]=Wn["[object Set]"]=Wn["[object String]"]=Wn["[object WeakMap]"]=!1;const Rs=function(M){return Q(M)&&Vs(M.length)&&!!Wn[F(M)]},Ns=function(M){return function(o){return M(o)}};var ss=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tr=ss&&typeof module=="object"&&module&&!module.nodeType&&module,Dr=Tr&&Tr.exports===ss&&en.process,Bs=function(){try{var M=Tr&&Tr.require&&Tr.require("util").types;return M||Dr&&Dr.binding&&Dr.binding("util")}catch{}}(),er=Bs&&Bs.isTypedArray;const Ds=er?Ns(er):Rs;var qo=Object.prototype.hasOwnProperty;const zs=function(M,o){var i=Ar(M),r=!i&&oa(M),c=!i&&!r&&Cr(M),m=!i&&!r&&!c&&Ds(M),k=i||r||c||m,A=k?Nr(M.length,String):[],E=A.length;for(var R in M)!o&&!qo.call(M,R)||k&&(R=="length"||c&&(R=="offset"||R=="parent")||m&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||js(R,E))||A.push(R);return A};var Fs=Object.prototype;const zr=function(M){var o=M&&M.constructor;return M===(typeof o=="function"&&o.prototype||Fs)},sr=function(M,o){return function(i){return M(o(i))}}(Object.keys,Object);var sa=Object.prototype.hasOwnProperty;const as=function(M){if(!zr(M))return sr(M);var o=[];for(var i in Object(M))sa.call(M,i)&&i!="constructor"&&o.push(i);return o},aa=function(M){return M!=null&&Vs(M.length)&&!Ir(M)},Hs=function(M){return aa(M)?zs(M):as(M)},Fr=function(M){return ts(M,Hs,Rr)};var Hr=Object.prototype.hasOwnProperty;const gr=function(M,o,i,r,c,m){var k=1&i,A=Fr(M),E=A.length;if(E!=Fr(o).length&&!k)return!1;for(var R=E;R--;){var ge=A[R];if(!(k?ge in o:Hr.call(o,ge)))return!1}var Fe=m.get(M),it=m.get(o);if(Fe&&it)return Fe==o&&it==M;var Mt=!0;m.set(M,o),m.set(o,M);for(var zt=k;++R<E;){var Ht=M[ge=A[R]],ti=o[ge];if(r)var hi=k?r(ti,Ht,ge,o,M,m):r(Ht,ti,ge,M,o,m);if(!(hi===void 0?Ht===ti||c(Ht,ti,i,r,m):hi)){Mt=!1;break}zt||(zt=ge=="constructor")}if(Mt&&!zt){var pi=M.constructor,Wi=o.constructor;pi==Wi||!("constructor"in M)||!("constructor"in o)||typeof pi=="function"&&pi instanceof pi&&typeof Wi=="function"&&Wi instanceof Wi||(Mt=!1)}return m.delete(M),m.delete(o),Mt},Ko=nr(Qi,"DataView"),Ur=nr(Qi,"Promise"),Wr=nr(Qi,"Set"),ls=nr(Qi,"WeakMap");var Us="[object Map]",cs="[object Promise]",ds="[object Set]",$r="[object WeakMap]",ar="[object DataView]",la=Qo(Ko),us=Qo(Wo),ca=Qo(Ur),da=Qo(Wr),Ws=Qo(ls),tr=F;(Ko&&tr(new Ko(new ArrayBuffer(1)))!=ar||Wo&&tr(new Wo)!=Us||Ur&&tr(Ur.resolve())!=cs||Wr&&tr(new Wr)!=ds||ls&&tr(new ls)!=$r)&&(tr=function(M){var o=F(M),i=o=="[object Object]"?M.constructor:void 0,r=i?Qo(i):"";if(r)switch(r){case la:return ar;case us:return Us;case ca:return cs;case da:return ds;case Ws:return $r}return o});const hs=tr;var $s="[object Arguments]",qs="[object Array]",Er="[object Object]",Ks=Object.prototype.hasOwnProperty;const Ys=function(M,o,i,r,c,m){var k=Ar(M),A=Ar(o),E=k?qs:hs(M),R=A?qs:hs(o),ge=(E=E==$s?Er:E)==Er,Fe=(R=R==$s?Er:R)==Er,it=E==R;if(it&&Cr(M)){if(!Cr(o))return!1;k=!0,ge=!1}if(it&&!ge)return m||(m=new Or),k||Ds(M)?es(M,o,i,r,c,m):Is(M,o,E,i,r,c,m);if(!(1&i)){var Mt=ge&&Ks.call(M,"__wrapped__"),zt=Fe&&Ks.call(o,"__wrapped__");if(Mt||zt){var Ht=Mt?M.value():M,ti=zt?o.value():o;return m||(m=new Or),c(Ht,ti,i,r,m)}}return!!it&&(m||(m=new Or),gr(M,o,i,r,c,m))},pr=function M(o,i,r,c,m){return o===i||(o==null||i==null||!Q(o)&&!Q(i)?o!=o&&i!=i:Ys(o,i,r,c,M,m))},qr=function(M,o){return pr(M,o)},ms=function(M,o,i){var r=!0,c=!0;if(typeof M!="function")throw new TypeError("Expected a function");return Rn(i)&&(r="leading"in i?!!i.leading:r,c="trailing"in i?!!i.trailing:c),_t(M,o,{leading:r,maxWait:o,trailing:c})};class ua extends d.Command{refresh(){this.isEnabled=!0}execute(o={}){const{model:i,plugins:r}=this.editor;let{table:c=i.document.selection.getSelectedElement(),columnWidths:m,tableWidth:k}=o;m&&(m=Array.isArray(m)?m:m.split(",")),i.change(A=>{k?A.setAttribute("tableWidth",k,c):A.removeAttribute("tableWidth",c);const E=r.get("TableColumnResizeEditing").getColumnGroupElement(c);if(!m&&!E)return;if(!m)return A.remove(E);const R=Wt(m);if(E)Array.from(E.getChildren()).forEach((ge,Fe)=>A.setAttribute("columnWidth",R[Fe],ge));else{const ge=A.createElement("tableColumnGroup");R.forEach(Fe=>A.appendElement("tableColumn",{columnWidth:Fe},ge)),A.append(ge,c)}})}}function Kr(M){return o=>o.on("element:colgroup",(i,r,c)=>{const m=r.modelCursor.findAncestor("table"),k=bt(m);if(!k)return;const A=Xe(k),E=M.getColumns(m);let R=(ge=k,Fe=c.writer,Xe(ge).reduce((it,Mt)=>{const zt=Mt.getAttribute("columnWidth"),Ht=Mt.getAttribute("colSpan");if(!Ht)return it.push(zt),it;for(let ti=0;ti<Ht;ti++)it.push(zt);return Fe.removeAttribute("colSpan",Mt),it},[]));var ge,Fe;R=Array.from({length:E},(it,Mt)=>R[Mt]||"auto"),(R.length!=A.length||R.includes("auto"))&&Yt(A,k,Wt(R),c.writer)},{priority:"low"})}class gs extends d.Plugin{static get requires(){return[qe,kt]}static get pluginName(){return"TableColumnResizeEditing"}constructor(o){super(o),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new((0,ne.DomEmitterMixin)()),this._tableUtilsPlugin=o.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(i,r,c)=>{const m=c?"removeClass":"addClass";o.editing.view.change(k=>{for(const A of o.editing.view.document.roots)k[m]("ck-column-resize_disabled",o.editing.view.document.getRoot(A.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const o=this.editor,i=o.plugins.get("TableColumnResize");o.plugins.get("TableEditing").registerAdditionalSlot({filter:c=>c.is("element","tableColumnGroup"),positionOffset:0});const r=new ua(o);o.commands.add("resizeTableWidth",r),o.commands.add("resizeColumnWidths",r),this.bind("_isResizingAllowed").to(o,"isReadOnly",i,"isEnabled",r,"isEnabled",(c,m,k)=>!c&&m&&k)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(o){return bt(o)}getTableColumnElements(o){return Xe(o)}getTableColumnsWidths(o){return function(i){return Xe(i).map(r=>r.getAttribute("columnWidth"))}(o)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const o=this.editor.model;function i(r,c,m){const k=m._tableUtilsPlugin.getColumns(c);if(k-r.length===0)return r;const A=r.map(ge=>Number(ge.replace("%",""))),E=function(ge,Fe){const it=new Set;for(const Mt of ge.getChanges())if(Mt.type=="insert"&&Mt.position.nodeAfter&&Mt.position.nodeAfter.name=="tableCell"&&Mt.position.nodeAfter.getAncestors().includes(Fe))it.add(Mt.position.nodeAfter);else if(Mt.type=="remove"){const zt=Mt.position.nodeBefore||Mt.position.nodeAfter;zt.name=="tableCell"&&zt.getAncestors().includes(Fe)&&it.add(zt)}return it}(m.editor.model.document.differ,c);for(const ge of E){const Fe=k-A.length;if(Fe===0)continue;const it=Fe>0,Mt=m._tableUtilsPlugin.getCellLocation(ge).column;if(it){const zt=pe(c,m.editor),Ht=(R=zt,Array(Fe).fill(R));A.splice(Mt,0,...Ht)}else{const zt=A.splice(Mt,Math.abs(Fe));A[Mt]+=Ft(zt)}}var R;return A.map(ge=>ge+"%")}o.document.registerPostFixer(r=>{let c=!1;for(const m of function(k){const A=new Set;for(const E of k.document.differ.getChanges()){let R=null;switch(E.type){case"insert":R=["table","tableRow","tableCell"].includes(E.name)?E.position:null;break;case"remove":R=["tableRow","tableCell"].includes(E.name)?E.position:null;break;case"attribute":E.range.start.nodeAfter&&(R=["table","tableRow","tableCell"].includes(E.range.start.nodeAfter.name)?E.range.start:null)}if(!R)continue;const ge=R.nodeAfter&&R.nodeAfter.is("element","table")?R.nodeAfter:R.findAncestor("table");for(const Fe of k.createRangeOn(ge).getItems())Fe.is("element","table")&&bt(Fe)&&A.add(Fe)}return A}(o)){const k=this.getColumnGroupElement(m),A=this.getTableColumnElements(k),E=this.getTableColumnsWidths(k);let R=Wt(E);R=i(R,m,this),qr(E,R)||(Yt(A,k,R,r),c=!0)}return c})}_registerConverters(){const o=this.editor.conversion;o.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:i=>i.getStyle("width")}}),o.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:i=>({name:"figure",key:"style",value:{width:i}})}),o.elementToElement({model:"tableColumnGroup",view:"colgroup"}),o.elementToElement({model:"tableColumn",view:"col"}),o.for("downcast").add(i=>i.on("insert:table",(r,c,m)=>{const k=m.writer,A=c.item,E=m.mapper.toViewElement(A),R=E.is("element","table")?E:Array.from(E.getChildren()).find(ge=>ge.is("element","table"));bt(A)?k.addClass("ck-table-resized",R):k.removeClass("ck-table-resized",R)},{priority:"low"})),o.for("upcast").add(Kr(this._tableUtilsPlugin)),o.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:i=>{const r=i.getStyle("width");return r&&(r.endsWith("%")||r.endsWith("pt"))?r:"auto"}}}),o.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),o.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:i=>({key:"style",value:{width:i}})})}_registerResizingListeners(){const o=this.editor.editing.view;o.addObserver(Kt),o.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(ne.global.window.document,"mousemove",ms(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(ne.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(o,i){const r=i.target;if(!r.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const c=this.editor,m=c.editing.mapper.toModelElement(r.findAncestor("figure"));if(!c.model.canEditAt(m))return;i.preventDefault(),o.stop();const k=function(R,ge,Fe){const it=Array(ge.getColumns(R)),Mt=new we(R);for(const zt of Mt){const Ht=Fe.editing.mapper.toViewElement(zt.cell),ti=Lt(Fe.editing.view.domConverter.mapViewToDom(Ht));(!it[zt.column]||ti<it[zt.column])&&(it[zt.column]=wt(ti))}return it}(m,this._tableUtilsPlugin,c),A=r.findAncestor("table"),E=c.editing.view;Array.from(A.getChildren()).find(R=>R.is("element","colgroup"))||E.change(R=>{(function(ge,Fe,it){const Mt=ge.createContainerElement("colgroup");for(let zt=0;zt<Fe.length;zt++){const Ht=ge.createEmptyElement("col"),ti=`${wt(Fe[zt]/Ft(Fe)*100)}%`;ge.setStyle("width",ti,Ht),ge.insert(ge.createPositionAt(Mt,"end"),Ht)}ge.insert(ge.createPositionAt(it,0),Mt)})(R,k,A)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(i,k),E.change(R=>function(ge,Fe,it){const Mt=it.widths.viewFigureWidth/it.widths.viewFigureParentWidth;ge.addClass("ck-table-resized",Fe),ge.addClass("ck-table-column-resizer__active",it.elements.viewResizer),ge.setStyle("width",`${wt(100*Mt)}%`,Fe.findAncestor("figure"))}(R,A,this._resizingData))}_onMouseMoveHandler(o,i){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:r,flags:{isRightEdge:c,isTableCentered:m,isLtrContent:k},elements:{viewFigure:A,viewLeftColumn:E,viewRightColumn:R},widths:{viewFigureParentWidth:ge,tableWidth:Fe,leftColumnWidth:it,rightColumnWidth:Mt}}=this._resizingData,zt=40-it,Ht=c?ge-Fe:Mt-40,ti=(k?1:-1)*(c&&m?2:1),hi=(pi=(i.clientX-r)*ti,Wi=Math.min(zt,0),an=Math.max(Ht,0),wt(pi<=Wi?Wi:pi>=an?an:pi));var pi,Wi,an;hi!==0&&this.editor.editing.view.change(Bn=>{const Zn=wt(100*(it+hi)/Fe);if(Bn.setStyle("width",`${Zn}%`,E),c){const Yn=wt(100*(Fe+hi)/ge);Bn.setStyle("width",`${Yn}%`,A)}else{const Yn=wt(100*(Mt-hi)/Fe);Bn.setStyle("width",`${Yn}%`,R)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:o,modelTable:i,viewFigure:r,viewColgroup:c}=this._resizingData.elements,m=this.editor,k=m.editing.view,A=this.getColumnGroupElement(i),E=Array.from(c.getChildren()).filter(Ht=>Ht.is("view:element")),R=A?this.getTableColumnsWidths(A):null,ge=E.map(Ht=>Ht.getStyle("width")),Fe=!qr(R,ge),it=i.getAttribute("tableWidth"),Mt=r.getStyle("width"),zt=it!==Mt;(Fe||zt)&&(this._isResizingAllowed?m.execute("resizeTableWidth",{table:i,tableWidth:`${wt(Mt)}%`,columnWidths:ge}):k.change(Ht=>{if(R)for(const ti of E)Ht.setStyle("width",R.shift(),ti);else Ht.remove(c);zt&&(it?Ht.setStyle("width",it,r):Ht.removeStyle("width",r)),R||it||Ht.removeClass("ck-table-resized",[...r.getChildren()].find(ti=>ti.name==="table"))})),k.change(Ht=>{Ht.removeClass("ck-table-column-resizer__active",o)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(o,i){const r=this.editor,c=o.domEvent.clientX,m=o.target,k=m.findAncestor("td")||m.findAncestor("th"),A=r.editing.mapper.toModelElement(k),E=A.findAncestor("table"),R=function(pi,Wi){const an=Wi.getCellLocation(pi).column;return{leftEdge:an,rightEdge:an+(pi.getAttribute("colspan")||1)-1}}(A,this._tableUtilsPlugin).rightEdge,ge=R===this._tableUtilsPlugin.getColumns(E)-1,Fe=!E.hasAttribute("tableAlignment"),it=r.locale.contentLanguageDirection!=="rtl",Mt=k.findAncestor("table"),zt=Mt.findAncestor("figure"),Ht=[...Mt.getChildren()].find(pi=>pi.is("element","colgroup")),ti=Ht.getChild(R),hi=ge?void 0:Ht.getChild(R+1);return{columnPosition:c,flags:{isRightEdge:ge,isTableCentered:Fe,isLtrContent:it},elements:{viewResizer:m,modelTable:E,viewFigure:zt,viewColgroup:Ht,viewLeftColumn:ti,viewRightColumn:hi},widths:{viewFigureParentWidth:ut(r.editing.view.domConverter.mapViewToDom(zt.parent)),viewFigureWidth:ut(r.editing.view.domConverter.mapViewToDom(zt)),tableWidth:Ke(E,r),leftColumnWidth:i[R],rightColumnWidth:ge?void 0:i[R+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(o=>{o.on("insert:tableCell",(i,r,c)=>{const m=r.item,k=c.mapper.toViewElement(m),A=c.writer;A.insert(A.createPositionAt(k,"end"),A.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var ps=K(363),ha={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};mi()(ps.A,ha),ps.A.locals;class fs extends d.Plugin{static get requires(){return[gs,cr]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=ai})(),function(Gt){const St=Gt.en=Gt.en||{};St.dictionary=Object.assign(St.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Gt={782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={exports:{}};return Gt[d](s,s.exports,K),s.exports}K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{WordCount:()=>ot});var d=K(782),f=K(311),s=K(584);function u(fe){if(fe.is("$text")||fe.is("$textProxy"))return fe.data;const le=fe;let pe="",Ke=null;for(const nt of le.getChildren()){const ut=u(nt);Ke&&Ke.is("element")&&(pe+=`
`),pe+=ut,Ke=nt}return pe}const y=function(fe){var le=typeof fe;return fe!=null&&(le=="object"||le=="function")},P=typeof global=="object"&&global&&global.Object===Object&&global;var b=typeof self=="object"&&self&&self.Object===Object&&self;const _=P||b||Function("return this")(),D=function(){return _.Date.now()};var I=/\s/;const V=function(fe){for(var le=fe.length;le--&&I.test(fe.charAt(le)););return le};var ye=/^\s+/;const ne=function(fe){return fe&&fe.slice(0,V(fe)+1).replace(ye,"")},U=_.Symbol;var $=Object.prototype,he=$.hasOwnProperty,we=$.toString,g=U?U.toStringTag:void 0;const w=function(fe){var le=he.call(fe,g),pe=fe[g];try{fe[g]=void 0;var Ke=!0}catch{}var nt=we.call(fe);return Ke&&(le?fe[g]=pe:delete fe[g]),nt};var p=Object.prototype.toString;const v=function(fe){return p.call(fe)};var T=U?U.toStringTag:void 0;const L=function(fe){return fe==null?fe===void 0?"[object Undefined]":"[object Null]":T&&T in Object(fe)?w(fe):v(fe)},O=function(fe){return fe!=null&&typeof fe=="object"},oe=function(fe){return typeof fe=="symbol"||O(fe)&&L(fe)=="[object Symbol]"};var W=/^[-+]0x[0-9a-f]+$/i,te=/^0b[01]+$/i,S=/^0o[0-7]+$/i,X=parseInt;const de=function(fe){if(typeof fe=="number")return fe;if(oe(fe))return NaN;if(y(fe)){var le=typeof fe.valueOf=="function"?fe.valueOf():fe;fe=y(le)?le+"":le}if(typeof fe!="string")return fe===0?fe:+fe;fe=ne(fe);var pe=te.test(fe);return pe||S.test(fe)?X(fe.slice(2),pe?2:8):W.test(fe)?NaN:+fe};var _e=Math.max,Ae=Math.min;const rt=function(fe,le,pe){var Ke,nt,ut,wt,Ft,Wt,Lt=0,Yt=!1,bt=!1,Xe=!0;if(typeof fe!="function")throw new TypeError("Expected a function");function kt(Ii){var $i=Ke,ht=nt;return Ke=nt=void 0,Lt=Ii,wt=fe.apply(ht,$i)}function bi(Ii){var $i=Ii-Wt;return Wt===void 0||$i>=le||$i<0||bt&&Ii-Lt>=ut}function fi(){var Ii=D();if(bi(Ii))return Di(Ii);Ft=setTimeout(fi,function($i){var ht=le-($i-Wt);return bt?Ae(ht,ut-($i-Lt)):ht}(Ii))}function Di(Ii){return Ft=void 0,Xe&&Ke?kt(Ii):(Ke=nt=void 0,wt)}function Yi(){var Ii=D(),$i=bi(Ii);if(Ke=arguments,nt=this,Wt=Ii,$i){if(Ft===void 0)return function(ht){return Lt=ht,Ft=setTimeout(fi,le),Yt?kt(ht):wt}(Wt);if(bt)return clearTimeout(Ft),Ft=setTimeout(fi,le),kt(Wt)}return Ft===void 0&&(Ft=setTimeout(fi,le)),wt}return le=de(le)||0,y(pe)&&(Yt=!!pe.leading,ut=(bt="maxWait"in pe)?_e(de(pe.maxWait)||0,le):ut,Xe="trailing"in pe?!!pe.trailing:Xe),Yi.cancel=function(){Ft!==void 0&&clearTimeout(Ft),Lt=0,Ke=Wt=nt=Ft=void 0},Yi.flush=function(){return Ft===void 0?wt:Di(D())},Yi},et=function(fe,le,pe){var Ke=!0,nt=!0;if(typeof fe!="function")throw new TypeError("Expected a function");return y(pe)&&(Ke="leading"in pe?!!pe.leading:Ke,nt="trailing"in pe?!!pe.trailing:nt),rt(fe,le,{leading:Ke,maxWait:le,trailing:nt})},J=function(fe,le){return function(pe){return fe(le(pe))}}(Object.getPrototypeOf,Object);var Z=Function.prototype,Ce=Object.prototype,Oe=Z.toString,xe=Ce.hasOwnProperty,q=Oe.call(Object);const Le=function(fe){if(!O(fe)||L(fe)!="[object Object]")return!1;var le=J(fe);if(le===null)return!0;var pe=xe.call(le,"constructor")&&le.constructor;return typeof pe=="function"&&pe instanceof pe&&Oe.call(pe)==q},He=function(fe){return O(fe)&&fe.nodeType===1&&!Le(fe)};class ot extends d.Plugin{constructor(le){super(le),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=le.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=s.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",et(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(le,pe)=>{this._config.onUpdate(pe)}),He(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const le=this.editor,pe=le.t,Ke=le.config.get("wordCount.displayWords"),nt=le.config.get("wordCount.displayCharacters"),ut=f.Template.bind(this,this),wt=[];return this._outputView||(this._outputView=new f.View,(Ke||Ke===void 0)&&(this.bind("_wordsLabel").to(this,"words",Ft=>pe("Words: %0",Ft)),wt.push({tag:"div",children:[{text:[ut.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(nt||nt===void 0)&&(this.bind("_charactersLabel").to(this,"characters",Ft=>pe("Characters: %0",Ft)),wt.push({tag:"div",children:[{text:[ut.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:wt}),this._outputView.render()),this._outputView.element}_getText(){let le="";for(const pe of this.editor.model.document.getRoots())le!==""&&(le+=`
`),le+=u(pe);return le}_getCharacters(le){return le.replace(/\n/g,"").length}_getWords(le){return(le.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const le=this._getText(),pe=this.words=this._getWords(le),Ke=this.characters=this._getCharacters(le);this.fire("update",{words:pe,characters:Ke})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=ai})();var Fn=_i(53046);const Ui=window.CKEditor5.core.Plugin,ln=window.CKEditor5.ui.ButtonView,so='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.3.6a.9.9 0 100 1.8h15.311a.9.9 0 100-1.8H4.301zm17.1 3.7A1.6 1.6 0 0123 5.9v15.5a1.6 1.6 0 01-1.6 1.6H2.6A1.601 1.601 0 011 21.4V8 5.915C1 5.03 1.716 4.3 2.6 4.3h18.8zM5.032 19.18h14.336l-3.136-3.205-1.792 1.831-4.032-4.12-5.376 5.494zm13.44-8.697c0 1.282-.985 2.289-2.24 2.289-1.254 0-2.24-1.007-2.24-2.29 0-1.281.986-2.288 2.24-2.288 1.255 0 2.24 1.007 2.24 2.289z"></path></svg>';class Fo extends Ui{strapiToggle=null;static get pluginName(){return"strapiMediaLib"}init(){this.editor.ui.componentFactory.add("strapiMediaLib",()=>{const K=new ln;return K.set({label:"Media Library",icon:so,tooltip:!0}),K.on("execute",this.toggle.bind(this)),K})}connect(St){if(typeof St!="function")throw new Error("Input parameter for toogle should be a function");this.strapiToggle=St}toggle(){if(typeof this.strapiToggle!="function")throw new Error("Strapi media library toggle function not connected. Use connect function first");this.strapiToggle()}}const uo={light:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.list.List,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,Fo],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","insertTable","|","bulletedList","numberedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},standard:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,Fo],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","mediaEmbed","blockQuote","insertTable","codeBlock","|","bulletedList","numberedList","outdent","indent"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},rich:{plugins:[window.CKEditor5.alignment.Alignment,window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.basicStyles.Underline,window.CKEditor5.basicStyles.Strikethrough,window.CKEditor5.basicStyles.Code,window.CKEditor5.basicStyles.Subscript,window.CKEditor5.basicStyles.Superscript,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.font.FontSize,window.CKEditor5.font.FontFamily,window.CKEditor5.font.FontColor,window.CKEditor5.font.FontBackgroundColor,window.CKEditor5.findAndReplace.FindAndReplace,window.CKEditor5.heading.Heading,window.CKEditor5.horizontalLine.HorizontalLine,window.CKEditor5.htmlEmbed.HtmlEmbed,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.image.ImageResize,window.CKEditor5.indent.Indent,window.CKEditor5.indent.IndentBlock,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.list.ListProperties,window.CKEditor5.list.TodoList,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.removeFormat.RemoveFormat,window.CKEditor5.specialCharacters.SpecialCharacters,window.CKEditor5.specialCharacters.SpecialCharactersEssentials,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableProperties,window.CKEditor5.table.TableCellProperties,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,window.CKEditor5.highlight.Highlight,Fo],toolbar:{items:["undo","redo","|","findAndReplace","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","superscript","subscript","code","removeFormat","-","link","strapiMediaLib","mediaEmbed","insertTable","horizontalLine","blockQuote","codeBlock","htmlEmbed","specialCharacters","highlight","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage","|","resizeImage:25","resizeImage:50","resizeImage:75","resizeImage:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","tableCellProperties","tableProperties","|","toggleTableCaption"]},fontSize:{options:[9,11,13,"default",17,19,21,27,35],supportAllValues:!1},fontFamily:{options:["default","Arial, Helvetica Neue, Helvetica, Source Sans Pro, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Roboto, Roboto Black, Roboto Medium, Roboto Light, sans-serif"],supportAllValues:!0},fontColor:{columns:5,documentColors:10},fontBackgroundColor:{columns:5,documentColors:10}}};class Ji{constructor(St){this.fieldConfig=St}getEditorConfig(){const St=this._getBaseConfig(),K=this.fieldConfig.maxLength;return this.fieldConfig.options.output==="Markdown"&&St.plugins.push(window.CKEditor5.markdownGfm.Markdown),K&&(St.plugins.push(window.CKEditor5.maximumLength.MaximumLength),St.maximumLength={characters:K}),St}_getBaseConfig(){const St=this.fieldConfig.options.preset;switch(St){case"light":return uo.light;case"standard":return uo.standard;case"rich":return uo.rich;default:throw new Error("Invalid preset name "+St)}}}var on=_i(8769);const Gi=({isOpen:Gt,onChange:St,onToggle:K})=>{const{components:ai}=(0,on.tF)(),d=ai["media-library"],f=s=>{const u=s.map(y=>({alt:y.alternativeText||y.name,url:(0,on.vX)(y.url),mime:y.mime}));St(u)};return Gt?(0,un.jsx)(d,{onClose:K,onSelectAssets:f}):null};Gi.defaultProps={isOpen:!1,onChange:()=>{},onToggle:()=>{}},Gi.propTypes={isOpen:Hi().bool,onChange:Hi().func,onToggle:Hi().func};const Sn=Gi;var Gn=_i(91120);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Gt={662:(d,f,s)=>{"use strict";s.d(f,{A:()=>P});var u=s(935),y=s.n(u)()(function(b){return b[1]});y.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const P=y},935:d=>{"use strict";d.exports=function(f){var s=[];return s.toString=function(){return this.map(function(u){var y=f(u);return u[2]?"@media ".concat(u[2]," {").concat(y,"}"):y}).join("")},s.i=function(u,y,P){typeof u=="string"&&(u=[[null,u,""]]);var b={};if(P)for(var _=0;_<this.length;_++){var D=this[_][0];D!=null&&(b[D]=!0)}for(var I=0;I<u.length;I++){var V=[].concat(u[I]);P&&b[V[0]]||(y&&(V[2]?V[2]="".concat(y," and ").concat(V[2]):V[2]=y),s.push(V))}},s}},591:(d,f,s)=>{"use strict";var u,y=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},P=function(){var g={};return function(w){if(g[w]===void 0){var p=document.querySelector(w);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}g[w]=p}return g[w]}}(),b=[];function _(g){for(var w=-1,p=0;p<b.length;p++)if(b[p].identifier===g){w=p;break}return w}function D(g,w){for(var p={},v=[],T=0;T<g.length;T++){var L=g[T],O=w.base?L[0]+w.base:L[0],oe=p[O]||0,W="".concat(O," ").concat(oe);p[O]=oe+1;var te=_(W),S={css:L[1],media:L[2],sourceMap:L[3]};te!==-1?(b[te].references++,b[te].updater(S)):b.push({identifier:W,updater:we(S,w),references:1}),v.push(W)}return v}function I(g){var w=document.createElement("style"),p=g.attributes||{};if(p.nonce===void 0){var v=s.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(L){w.setAttribute(L,p[L])}),typeof g.insert=="function")g.insert(w);else{var T=P(g.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(w)}return w}var V,ye=(V=[],function(g,w){return V[g]=w,V.filter(Boolean).join(`
`)});function ne(g,w,p,v){var T=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(g.styleSheet)g.styleSheet.cssText=ye(w,T);else{var L=document.createTextNode(T),O=g.childNodes;O[w]&&g.removeChild(O[w]),O.length?g.insertBefore(L,O[w]):g.appendChild(L)}}function U(g,w,p){var v=p.css,T=p.media,L=p.sourceMap;if(T?g.setAttribute("media",T):g.removeAttribute("media"),L&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),g.styleSheet)g.styleSheet.cssText=v;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(v))}}var $=null,he=0;function we(g,w){var p,v,T;if(w.singleton){var L=he++;p=$||($=I(w)),v=ne.bind(null,p,L,!1),T=ne.bind(null,p,L,!0)}else p=I(w),v=U.bind(null,p,w),T=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(p)};return v(g),function(O){if(O){if(O.css===g.css&&O.media===g.media&&O.sourceMap===g.sourceMap)return;v(g=O)}else T()}}d.exports=function(g,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=y());var p=D(g=g||[],w);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var T=0;T<p.length;T++){var L=_(p[T]);b[L].references--}for(var O=D(v,w),oe=0;oe<p.length;oe++){var W=_(p[oe]);b[W].references===0&&(b[W].updater(),b.splice(W,1))}p=O}}}},782:(d,f,s)=>{d.exports=s(237)("./src/core.js")},783:(d,f,s)=>{d.exports=s(237)("./src/engine.js")},311:(d,f,s)=>{d.exports=s(237)("./src/ui.js")},584:(d,f,s)=>{d.exports=s(237)("./src/utils.js")},602:(d,f,s)=>{d.exports=s(237)("./src/watchdog.js")},237:d=>{"use strict";d.exports=CKEditor5.dll}},St={};function K(d){var f=St[d];if(f!==void 0)return f.exports;var s=St[d]={id:d,exports:{}};return Gt[d](s,s.exports,K),s.exports}K.n=d=>{var f=d&&d.__esModule?()=>d.default:()=>d;return K.d(f,{a:f}),f},K.d=(d,f)=>{for(var s in f)K.o(f,s)&&!K.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:f[s]})},K.o=(d,f)=>Object.prototype.hasOwnProperty.call(d,f),K.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},K.nc=void 0;var ai={};(()=>{"use strict";K.r(ai),K.d(ai,{ClassicEditor:()=>et});var d=K(311),f=K(783),s=K(584);class u extends d.EditorUI{constructor(Ce,Oe){super(Ce),this.view=Oe,this._toolbarConfig=(0,d.normalizeToolbarConfig)(Ce.config.get("toolbar")),this._menuBarConfig=(0,d.normalizeMenuBarConfig)(Ce.config.get("menuBar")||{}),this._elementReplacer=new s.ElementReplacer,this.listenTo(Ce.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(Ce){const Oe=this.editor,xe=this.view,q=Oe.editing.view,Le=xe.editable,He=q.document.getRoot();Le.name=He.rootName,xe.render();const ot=Le.element;this.setEditableElement(Le.name,ot),xe.editable.bind("isFocused").to(this.focusTracker),q.attachDomRoot(ot),Ce&&this._elementReplacer.replace(Ce,this.element),this._initPlaceholder(),this._initToolbar(),this._initMenuBar(),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const Ce=this.view,Oe=this.editor.editing.view;this._elementReplacer.restore(),Oe.detachDomRoot(Ce.editable.name),Ce.destroy()}_initToolbar(){const Ce=this.view;Ce.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),Ce.stickyPanel.limiterElement=Ce.element,Ce.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:Oe})=>Oe||0),Ce.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(Ce.toolbar)}_initMenuBar(){const Ce=this.view;Ce.menuBarView&&(this._setupMenuBarBehaviors(Ce.menuBarView.element),Ce.menuBarView.fillFromConfig(this._menuBarConfig,this.componentFactory))}_initPlaceholder(){const Ce=this.editor,Oe=Ce.editing.view,xe=Oe.document.getRoot(),q=Ce.sourceElement;let Le;const He=Ce.config.get("placeholder");He&&(Le=typeof He=="string"?He:He[this.view.editable.name]),!Le&&q&&q.tagName.toLowerCase()==="textarea"&&(Le=q.getAttribute("placeholder")),Le&&(xe.placeholder=Le),(0,f.enablePlaceholder)({view:Oe,element:xe,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(Ce,Oe,xe){const q=this.view.stickyPanel;if(q.isSticky){const Le=new s.Rect(q.element).height;Oe.viewportOffset.top+=Le}else{const Le=()=>{this.editor.editing.view.scrollToTheSelection(xe)};this.listenTo(q,"change:isSticky",Le),setTimeout(()=>{this.stopListening(q,"change:isSticky",Le)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const Ce=this.view.stickyPanel,Oe=this.editor.plugins.get("Dialog");Oe.on("show",()=>{const xe=Oe.view;xe.on("moveTo",(q,Le)=>{if(!Ce.isSticky||xe.wasMoved)return;const He=new s.Rect(Ce.contentPanelElement);Le[1]<He.bottom+d.DialogView.defaultOffset&&(Le[1]=He.bottom+d.DialogView.defaultOffset)},{priority:"high"})},{priority:"low"})}_setupMenuBarBehaviors(Ce){const Oe=this.editor;this.focusTracker.add(Ce),Oe.keystrokes.listenTo(Ce),Oe.keystrokes.set("Esc",(xe,q)=>{Ce.contains(this.focusTracker.focusedElement)&&(Oe.editing.view.focus(),q())}),Oe.keystrokes.set("Alt+F9",(xe,q)=>{Ce.contains(this.focusTracker.focusedElement)||(this.view.menuBarView.focus(),q())})}}var y=K(591),P=K.n(y),b=K(662),_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};P()(b.A,_),b.A.locals;class D extends d.BoxedEditorUIView{constructor(Ce,Oe,xe={}){super(Ce),this.stickyPanel=new d.StickyPanelView(Ce),this.toolbar=new d.ToolbarView(Ce,{shouldGroupWhenFull:xe.shouldToolbarGroupWhenFull}),xe.useMenuBar&&(this.menuBarView=new d.MenuBarView(Ce)),this.editable=new d.InlineEditableUIView(Ce,Oe)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var I=K(782),V=K(602);const ye=function(Z){return Z!=null&&typeof Z=="object"},ne=typeof global=="object"&&global&&global.Object===Object&&global;var U=typeof self=="object"&&self&&self.Object===Object&&self;const $=(ne||U||Function("return this")()).Symbol;var he=Object.prototype,we=he.hasOwnProperty,g=he.toString,w=$?$.toStringTag:void 0;const p=function(Z){var Ce=we.call(Z,w),Oe=Z[w];try{Z[w]=void 0;var xe=!0}catch{}var q=g.call(Z);return xe&&(Ce?Z[w]=Oe:delete Z[w]),q};var v=Object.prototype.toString;const T=function(Z){return v.call(Z)};var L=$?$.toStringTag:void 0;const O=function(Z){return Z==null?Z===void 0?"[object Undefined]":"[object Null]":L&&L in Object(Z)?p(Z):T(Z)},oe=function(Z,Ce){return function(Oe){return Z(Ce(Oe))}}(Object.getPrototypeOf,Object);var W=Function.prototype,te=Object.prototype,S=W.toString,X=te.hasOwnProperty,de=S.call(Object);const _e=function(Z){if(!ye(Z)||O(Z)!="[object Object]")return!1;var Ce=oe(Z);if(Ce===null)return!0;var Oe=X.call(Ce,"constructor")&&Ce.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&S.call(Oe)==de},Ae=function(Z){return ye(Z)&&Z.nodeType===1&&!_e(Z)};class rt extends(0,I.ElementApiMixin)(I.Editor){constructor(Ce,Oe={}){if(!J(Ce)&&Oe.initialData!==void 0)throw new s.CKEditorError("editor-create-initial-data",null);super(Oe),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(He){return J(He)?(0,s.getDataFromElement)(He):He}(Ce)),J(Ce)&&(this.sourceElement=Ce),this.model.document.createRoot();const xe=!this.config.get("toolbar.shouldNotGroupWhenFull"),q=this.config.get("menuBar"),Le=new D(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:xe,useMenuBar:q.isVisible});this.ui=new u(this,Le),(0,I.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(Ce,Oe={}){return new Promise(xe=>{const q=new this(Ce,Oe);xe(q.initPlugins().then(()=>q.ui.init(J(Ce)?Ce:null)).then(()=>q.data.init(q.config.get("initialData"))).then(()=>q.fire("ready")).then(()=>q))})}}rt.Context=I.Context,rt.EditorWatchdog=V.EditorWatchdog,rt.ContextWatchdog=V.ContextWatchdog;const et=rt;function J(Z){return Ae(Z)}})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=ai})();function On(Gt){const St={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};for(const K in St){const ai=St[K];Gt=Gt.replaceAll(K,ai)}return Gt}const Hn=({attribute:Gt,onChange:St,name:K,value:ai,disabled:d,labelAction:f,intlLabel:s,required:u,description:y,error:P})=>{const[b,_]=(0,Bi.useState)(!1),{formatMessage:D}=(0,sn.A)(),{maxLengthCharacters:I,...V}=Gt.options,ne=new Ji({options:V,maxLength:I}).getEditorConfig(),U=(0,Bi.useRef)(null),$=localStorage.getItem("STRAPI_THEME"),he=Xi($),[we,g]=(0,Bi.useState)(!1),w=()=>g(v=>!v),p=v=>{let T="";v.map(oe=>{if(oe.mime.includes("image")){const W=On(oe.url),te=On(oe.alt);T+=`<img src="${W}" alt="${te}" />`}});const L=b.data.processor.toView(T),O=b.data.toModel(L);b.model.insertContent(O),w()};return(0,un.jsxs)(hn.Field,{name:K,id:K,error:P,hint:y&&D(y),children:[(0,un.jsxs)(Fi.Stack,{spacing:1,children:[(0,un.jsx)(hn.FieldLabel,{action:f,required:u,children:D(s)}),(0,un.jsx)(he,{}),(0,un.jsx)(Gn.CKEditor,{editor:window.CKEditor5.editorClassic.ClassicEditor,disabled:d,data:ai,onReady:v=>{const T=v.plugins.get("WordCount");U.current.appendChild(T.wordCountContainer),v.plugins.get("strapiMediaLib").connect(w),_(v)},onChange:(v,T)=>{const L=T.getData();St({target:{name:K,value:L}}),T.plugins.get("WordCount").characters>I&&console.log("Too long")},config:ne}),(0,un.jsx)("div",{ref:U}),(0,un.jsx)(hn.FieldHint,{}),(0,un.jsx)(hn.FieldError,{})]}),(0,un.jsx)(Sn,{isOpen:we,onChange:p,onToggle:w})]})};Hn.defaultProps={description:null,disabled:!1,error:null,labelAction:null,required:!1,value:""},Hn.propTypes={intlLabel:Hi().object.isRequired,onChange:Hi().func.isRequired,attribute:Hi().object.isRequired,name:Hi().string.isRequired,description:Hi().object,disabled:Hi().bool,error:Hi().string,labelAction:Hi().object,required:Hi().bool,value:Hi().string};const Ho=Hn},53046:()=>{(()=>{var to={98:(Bi,sn,Fi)=>{"use strict";Fi.d(sn,{Z:()=>Hi});var hn=Fi(645),Ci=Fi.n(hn)()(function(pn){return pn[1]});Ci.push([Bi.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const Hi=Ci},645:Bi=>{"use strict";Bi.exports=function(sn){var Fi=[];return Fi.toString=function(){return this.map(function(hn){var Ci=sn(hn);return hn[2]?"@media ".concat(hn[2]," {").concat(Ci,"}"):Ci}).join("")},Fi.i=function(hn,Ci,Hi){typeof hn=="string"&&(hn=[[null,hn,""]]);var pn={};if(Hi)for(var Zi=0;Zi<this.length;Zi++){var nn=this[Zi][0];nn!=null&&(pn[nn]=!0)}for(var $n=0;$n<hn.length;$n++){var Xi=[].concat(hn[$n]);Hi&&pn[Xi[0]]||(Ci&&(Xi[2]?Xi[2]="".concat(Ci," and ").concat(Xi[2]):Xi[2]=Ci),Fi.push(Xi))}},Fi}},379:(Bi,sn,Fi)=>{"use strict";var hn,Ci=function(){return hn===void 0&&(hn=Boolean(window&&document&&document.all&&!window.atob)),hn},Hi=function(){var Ji={};return function(on){if(Ji[on]===void 0){var Gi=document.querySelector(on);if(window.HTMLIFrameElement&&Gi instanceof window.HTMLIFrameElement)try{Gi=Gi.contentDocument.head}catch{Gi=null}Ji[on]=Gi}return Ji[on]}}(),pn=[];function Zi(Ji){for(var on=-1,Gi=0;Gi<pn.length;Gi++)if(pn[Gi].identifier===Ji){on=Gi;break}return on}function nn(Ji,on){for(var Gi={},Sn=[],Gn=0;Gn<Ji.length;Gn++){var On=Ji[Gn],Hn=on.base?On[0]+on.base:On[0],Ho=Gi[Hn]||0,Gt="".concat(Hn," ").concat(Ho);Gi[Hn]=Ho+1;var St=Zi(Gt),K={css:On[1],media:On[2],sourceMap:On[3]};St!==-1?(pn[St].references++,pn[St].updater(K)):pn.push({identifier:Gt,updater:uo(K,on),references:1}),Sn.push(Gt)}return Sn}function $n(Ji){var on=document.createElement("style"),Gi=Ji.attributes||{};if(Gi.nonce===void 0){var Sn=Fi.nc;Sn&&(Gi.nonce=Sn)}if(Object.keys(Gi).forEach(function(On){on.setAttribute(On,Gi[On])}),typeof Ji.insert=="function")Ji.insert(on);else{var Gn=Hi(Ji.insert||"head");if(!Gn)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Gn.appendChild(on)}return on}var Xi,Fn=(Xi=[],function(Ji,on){return Xi[Ji]=on,Xi.filter(Boolean).join(`
`)});function Ui(Ji,on,Gi,Sn){var Gn=Gi?"":Sn.media?"@media ".concat(Sn.media," {").concat(Sn.css,"}"):Sn.css;if(Ji.styleSheet)Ji.styleSheet.cssText=Fn(on,Gn);else{var On=document.createTextNode(Gn),Hn=Ji.childNodes;Hn[on]&&Ji.removeChild(Hn[on]),Hn.length?Ji.insertBefore(On,Hn[on]):Ji.appendChild(On)}}function ln(Ji,on,Gi){var Sn=Gi.css,Gn=Gi.media,On=Gi.sourceMap;if(Gn?Ji.setAttribute("media",Gn):Ji.removeAttribute("media"),On&&typeof btoa<"u"&&(Sn+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(On))))," */")),Ji.styleSheet)Ji.styleSheet.cssText=Sn;else{for(;Ji.firstChild;)Ji.removeChild(Ji.firstChild);Ji.appendChild(document.createTextNode(Sn))}}var so=null,Fo=0;function uo(Ji,on){var Gi,Sn,Gn;if(on.singleton){var On=Fo++;Gi=so||(so=$n(on)),Sn=Ui.bind(null,Gi,On,!1),Gn=Ui.bind(null,Gi,On,!0)}else Gi=$n(on),Sn=ln.bind(null,Gi,on),Gn=function(){(function(Hn){if(Hn.parentNode===null)return!1;Hn.parentNode.removeChild(Hn)})(Gi)};return Sn(Ji),function(Hn){if(Hn){if(Hn.css===Ji.css&&Hn.media===Ji.media&&Hn.sourceMap===Ji.sourceMap)return;Sn(Ji=Hn)}else Gn()}}Bi.exports=function(Ji,on){(on=on||{}).singleton||typeof on.singleton=="boolean"||(on.singleton=Ci());var Gi=nn(Ji=Ji||[],on);return function(Sn){if(Sn=Sn||[],Object.prototype.toString.call(Sn)==="[object Array]"){for(var Gn=0;Gn<Gi.length;Gn++){var On=Zi(Gi[Gn]);pn[On].references--}for(var Hn=nn(Sn,on),Ho=0;Ho<Gi.length;Ho++){var Gt=Zi(Gi[Ho]);pn[Gt].references===0&&(pn[Gt].updater(),pn.splice(Gt,1))}Gi=Hn}}}},704:(Bi,sn,Fi)=>{Bi.exports=Fi(79)("./src/core.js")},79:Bi=>{"use strict";Bi.exports=CKEditor5.dll}},Ki={};function _i(Bi){var sn=Ki[Bi];if(sn!==void 0)return sn.exports;var Fi=Ki[Bi]={id:Bi,exports:{}};return to[Bi](Fi,Fi.exports,_i),Fi.exports}_i.n=Bi=>{var sn=Bi&&Bi.__esModule?()=>Bi.default:()=>Bi;return _i.d(sn,{a:sn}),sn},_i.d=(Bi,sn)=>{for(var Fi in sn)_i.o(sn,Fi)&&!_i.o(Bi,Fi)&&Object.defineProperty(Bi,Fi,{enumerable:!0,get:sn[Fi]})},_i.o=(Bi,sn)=>Object.prototype.hasOwnProperty.call(Bi,sn),_i.r=Bi=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Bi,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Bi,"__esModule",{value:!0})},_i.nc=void 0;var un={};(()=>{"use strict";_i.r(un),_i.d(un,{MaximumLength:()=>Hi});var Bi=_i(704),sn=_i(379),Fi=_i.n(sn),hn=_i(98),Ci={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Fi()(hn.Z,Ci),hn.Z.locals;class Hi extends Bi.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const Zi=this.editor,nn=Zi.plugins.get("WordCount"),$n=Zi.config.get("maximumLength.characters");let Xi=!1;Zi.model.document.registerPostFixer(Fn=>{const Ui=nn.characters,ln=this._calculateExcessRange($n,Ui);ln?Xi?Fn.updateMarker("maximumLengthExcess",{range:ln,usingOperation:!1}):(Fn.addMarker("maximumLengthExcess",{range:ln,usingOperation:!1}),Xi=!0):Xi&&(Fn.removeMarker("maximumLengthExcess"),Xi=!1)}),Zi.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(Zi,nn){if(Zi>nn)return null;const $n=this.editor,Xi=$n.model.createRangeIn($n.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let Fn,Ui,ln=nn;for(const so of Xi)if(so.type=="text"&&(Fn||(Fn=so.previousPosition),ln--,ln<Zi))return Ui=so.previousPosition,$n.model.createRange(Ui,Fn)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=un})()},91753:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(21272),sn=_i(69106),Fi=_i(41999),hn=_i(73725),Ci=Bi.forwardRef(({children:Hi,name:pn,error:Zi,hint:nn,id:$n,required:Xi=!1,...Fn},Ui)=>{const ln=Fi.useId($n),so=Bi.useMemo(()=>({name:pn,id:ln,error:Zi,hint:nn,required:Xi}),[Zi,ln,nn,pn,Xi]);return un.jsx(hn.Box,{ref:Ui,...Fn,children:un.jsx(sn.FieldContext.Provider,{value:so,children:Hi})})});Ki.Field=Ci},39859:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(21272),sn=_i(63891),Fi=_i(69909),hn=_i(19717),pn=(nn=>nn&&nn.__esModule?nn:{default:nn})(sn).default(Fi.Flex)`
  font-size: 1.6rem;
  padding: 0;
`,Zi=Bi.forwardRef(({label:nn,children:$n,...Xi},Fn)=>un.jsxs(pn,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...Xi,as:"button",ref:Fn,children:[un.jsx(hn.VisuallyHidden,{as:"span",children:nn}),Bi.cloneElement($n,{"aria-hidden":!0,focusable:!1})]}));Ki.FieldAction=Zi},69106:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(21272),Bi=un.createContext({id:"",required:!1}),sn=()=>un.useContext(Bi);Ki.FieldContext=Bi,Ki.useField=sn},83215:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(69106),sn=_i(48941),Fi=()=>{const{id:hn,error:Ci}=Bi.useField();return!Ci||typeof Ci!="string"?null:un.jsx(sn.Typography,{variant:"pi",as:"p",id:`${hn}-error`,textColor:"danger600","data-strapi-field-error":!0,children:Ci})};Ki.FieldError=Fi},67296:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(69106),sn=_i(48941),Fi=()=>{const{id:hn,hint:Ci,error:Hi}=Bi.useField();return!Ci||Hi?null:un.jsx(sn.Typography,{variant:"pi",as:"p",id:`${hn}-hint`,textColor:"neutral600",children:Ci})};Ki.FieldHint=Fi},80421:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(21272),sn=_i(63891),Fi=_i(69106),hn=_i(93788),Ci=_i(73725),Hi=_i(69909),Zi=(Ui=>Ui&&Ui.__esModule?Ui:{default:Ui})(sn),nn={S:6.5,M:10.5},$n=Bi.forwardRef(({endAction:Ui,startAction:ln,disabled:so=!1,onChange:Fo,size:uo="M",...Ji},on)=>{const{id:Gi,error:Sn,hint:Gn,name:On,required:Hn}=Fi.useField();let Ho;Sn?Ho=`${Gi}-error`:Gn&&(Ho=`${Gi}-hint`);const Gt=Boolean(Sn),St=K=>{!so&&Fo&&Fo(K)};return un.jsxs(Fn,{justifyContent:"space-between",hasError:Gt,disabled:so,children:[ln?un.jsx(Ci.Box,{paddingLeft:3,paddingRight:2,children:ln}):null,un.jsx(Xi,{id:Gi,name:On,ref:on,"aria-describedby":Ho,"aria-invalid":Gt,"aria-disabled":so,disabled:so,"data-disabled":so?"":void 0,hasLeftAction:Boolean(ln),hasRightAction:Boolean(Ui),onChange:St,"aria-required":Hn,$size:uo,...Ji}),Ui?un.jsx(Ci.Box,{paddingLeft:2,paddingRight:3,children:Ui}):null]})}),Xi=Zi.default.input`
  border: none;
  border-radius: ${({theme:Ui})=>Ui.borderRadius};
  padding-bottom: ${({$size:Ui})=>`${nn[Ui]/16}rem`};
  padding-left: ${({theme:Ui,hasLeftAction:ln})=>ln?0:Ui.spaces[4]};
  padding-right: ${({theme:Ui,hasRightAction:ln})=>ln?0:Ui.spaces[4]};
  padding-top: ${({$size:Ui})=>`${nn[Ui]/16}rem`};
  cursor: ${Ui=>Ui["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:Ui})=>Ui.colors.neutral800};
  font-weight: 400;
  font-size: ${Ui=>Ui.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:Ui})=>Ui.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,Fn=Zi.default(Hi.Flex)`
  border: 1px solid ${({theme:Ui,hasError:ln})=>ln?Ui.colors.danger600:Ui.colors.neutral200};
  border-radius: ${({theme:Ui})=>Ui.borderRadius};
  background: ${({theme:Ui})=>Ui.colors.neutral0};
  ${hn.inputFocusStyle()}

  ${({theme:Ui,disabled:ln})=>ln?sn.css`
          color: ${Ui.colors.neutral600};
          background: ${Ui.colors.neutral150};
        `:void 0}
`;Ki.FieldInput=$n,Ki.InputWrapper=Fn},76987:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(92132),Bi=_i(21272),sn=_i(63891),Fi=_i(69106),hn=_i(14053),Ci=_i(48941),Hi=_i(69909),Zi=(ln=>ln&&ln.__esModule?ln:{default:ln})(sn),nn=hn.once(console.warn),$n=Bi.forwardRef(({children:ln,action:so,required:Fo,...uo},Ji)=>{const{id:on,required:Gi}=Fi.useField(),Sn=Gi||Fo;return Fo!==void 0&&nn('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),un.jsxs(Xi,{ref:Ji,variant:"pi",textColor:"neutral800",htmlFor:on,fontWeight:"bold",as:"label",...uo,children:[ln,Sn&&un.jsx(Fn,{textColor:"danger600",children:"*"}),so&&un.jsx(Ui,{marginLeft:1,children:so})]})}),Xi=Zi.default(Ci.Typography)`
  display: flex;
  align-items: center;
`,Fn=Zi.default(Ci.Typography)`
  line-height: 0;
`,Ui=Zi.default(Hi.Flex)`
  line-height: 0;

  svg path {
    fill: ${({theme:ln})=>ln.colors.neutral500};
  }
`;Ki.FieldLabel=$n},79521:(to,Ki,_i)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const un=_i(91753),Bi=_i(76987),sn=_i(80421),Fi=_i(67296),hn=_i(83215),Ci=_i(69106),Hi=_i(39859);Ki.Field=un.Field,Ki.FieldLabel=Bi.FieldLabel,Ki.FieldInput=sn.FieldInput,Ki.InputWrapper=sn.InputWrapper,Ki.FieldHint=Fi.FieldHint,Ki.FieldError=hn.FieldError,Ki.FieldContext=Ci.FieldContext,Ki.useField=Ci.useField,Ki.FieldAction=Hi.FieldAction},14053:(to,Ki)=>{"use strict";Object.defineProperty(Ki,Symbol.toStringTag,{value:"Module"});const _i="[@strapi/design-system]:",un=Bi=>{const sn=Bi;let Fi=!1;if(typeof sn!="function")throw new TypeError(`${_i} once requires a function parameter`);return(...hn)=>{Fi||(sn(...hn),Fi=!0)}};Ki.PREFIX=_i,Ki.once=un}}]);
